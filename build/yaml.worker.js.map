{"version":3,"file":"yaml.worker.js","mappings":";gDA0BA,SAASA,EAAWC,GAClB,GAAoB,kBAATA,EACT,MAAM,IAAIC,UAAU,mCAAqCC,KAAKC,UAAUH,GAE3E,CAGD,SAASI,EAAqBJ,EAAMK,GAMlC,IALA,IAIIC,EAJAC,EAAM,GACNC,EAAoB,EACpBC,GAAa,EACbC,EAAO,EAEFC,EAAI,EAAGA,GAAKX,EAAKY,SAAUD,EAAG,CACrC,GAAIA,EAAIX,EAAKY,OACXN,EAAON,EAAKa,WAAWF,OACpB,IAAa,KAATL,EACP,MAEAA,EAAO,EAAP,CACF,GAAa,KAATA,EAAmB,CACrB,GAAIG,IAAcE,EAAI,GAAc,IAATD,QAEpB,GAAID,IAAcE,EAAI,GAAc,IAATD,EAAY,CAC5C,GAAIH,EAAIK,OAAS,GAA2B,IAAtBJ,GAA8D,KAAnCD,EAAIM,WAAWN,EAAIK,OAAS,IAAsD,KAAnCL,EAAIM,WAAWN,EAAIK,OAAS,GAC1H,GAAIL,EAAIK,OAAS,EAAG,CAClB,IAAIE,EAAiBP,EAAIQ,YAAY,KACrC,GAAID,IAAmBP,EAAIK,OAAS,EAAG,EACb,IAApBE,GACFP,EAAM,GACNC,EAAoB,GAGpBA,GADAD,EAAMA,EAAIS,MAAM,EAAGF,IACKF,OAAS,EAAIL,EAAIQ,YAAY,KAEvDN,EAAYE,EACZD,EAAO,EACP,QACD,CACF,MAAM,GAAmB,IAAfH,EAAIK,QAA+B,IAAfL,EAAIK,OAAc,CAC/CL,EAAM,GACNC,EAAoB,EACpBC,EAAYE,EACZD,EAAO,EACP,QACD,CAECL,IACEE,EAAIK,OAAS,EACfL,GAAO,MAEPA,EAAM,KACRC,EAAoB,EAEvB,MACKD,EAAIK,OAAS,EACfL,GAAO,IAAMP,EAAKgB,MAAMP,EAAY,EAAGE,GAEvCJ,EAAMP,EAAKgB,MAAMP,EAAY,EAAGE,GAClCH,EAAoBG,EAAIF,EAAY,EAEtCA,EAAYE,EACZD,EAAO,CACR,MAAmB,KAATJ,IAA+B,IAAVI,IAC5BA,EAEFA,GAAQ,CAEX,CACD,OAAOH,CACR,CAcD,IAAIU,EAAQ,CAEVC,QAAS,WAKP,IAJA,IAEIC,EAFAC,EAAe,GACfC,GAAmB,EAGdV,EAAIW,UAAUV,OAAS,EAAGD,IAAM,IAAMU,EAAkBV,IAAK,CACpE,IAAIX,EACAW,GAAK,EACPX,EAAOsB,UAAUX,SAELY,IAARJ,IACFA,EAAMK,QAAQL,OAChBnB,EAAOmB,GAGTpB,EAAWC,GAGS,IAAhBA,EAAKY,SAITQ,EAAepB,EAAO,IAAMoB,EAC5BC,EAA0C,KAAvBrB,EAAKa,WAAW,GACpC,CAQD,OAFAO,EAAehB,EAAqBgB,GAAeC,GAE/CA,EACED,EAAaR,OAAS,EACjB,IAAMQ,EAEN,IACAA,EAAaR,OAAS,EACxBQ,EAEA,GAEV,EAEDK,UAAW,SAAmBzB,GAG5B,GAFAD,EAAWC,GAES,IAAhBA,EAAKY,OAAc,MAAO,IAE9B,IAAIc,EAAoC,KAAvB1B,EAAKa,WAAW,GAC7Bc,EAAyD,KAArC3B,EAAKa,WAAWb,EAAKY,OAAS,GAQtD,OAHoB,KAFpBZ,EAAOI,EAAqBJ,GAAO0B,IAE1Bd,QAAiBc,IAAY1B,EAAO,KACzCA,EAAKY,OAAS,GAAKe,IAAmB3B,GAAQ,KAE9C0B,EAAmB,IAAM1B,EACtBA,CACR,EAED0B,WAAY,SAAoB1B,GAE9B,OADAD,EAAWC,GACJA,EAAKY,OAAS,GAA4B,KAAvBZ,EAAKa,WAAW,EAC3C,EAEDe,KAAM,WACJ,GAAyB,IAArBN,UAAUV,OACZ,MAAO,IAET,IADA,IAAIiB,EACKlB,EAAI,EAAGA,EAAIW,UAAUV,SAAUD,EAAG,CACzC,IAAImB,EAAMR,UAAUX,GACpBZ,EAAW+B,GACPA,EAAIlB,OAAS,SACAW,IAAXM,EACFA,EAASC,EAETD,GAAU,IAAMC,EAErB,CACD,YAAeP,IAAXM,EACK,IACFZ,EAAMQ,UAAUI,EACxB,EAEDE,SAAU,SAAkBC,EAAMC,GAIhC,GAHAlC,EAAWiC,GACXjC,EAAWkC,GAEPD,IAASC,EAAI,MAAO,GAKxB,IAHAD,EAAOf,EAAMC,QAAQc,OACrBC,EAAKhB,EAAMC,QAAQe,IAEF,MAAO,GAIxB,IADA,IAAIC,EAAY,EACTA,EAAYF,EAAKpB,QACa,KAA/BoB,EAAKnB,WAAWqB,KADYA,GASlC,IALA,IAAIC,EAAUH,EAAKpB,OACfwB,EAAUD,EAAUD,EAGpBG,EAAU,EACPA,EAAUJ,EAAGrB,QACa,KAA3BqB,EAAGpB,WAAWwB,KADUA,GAW9B,IAPA,IACIC,EADQL,EAAGrB,OACKyB,EAGhBzB,EAASwB,EAAUE,EAAQF,EAAUE,EACrCC,GAAiB,EACjB5B,EAAI,EACDA,GAAKC,IAAUD,EAAG,CACvB,GAAIA,IAAMC,EAAQ,CAChB,GAAI0B,EAAQ1B,EAAQ,CAClB,GAAmC,KAA/BqB,EAAGpB,WAAWwB,EAAU1B,GAG1B,OAAOsB,EAAGjB,MAAMqB,EAAU1B,EAAI,GACzB,GAAU,IAANA,EAGT,OAAOsB,EAAGjB,MAAMqB,EAAU1B,EAE7B,MAAUyB,EAAUxB,IACoB,KAAnCoB,EAAKnB,WAAWqB,EAAYvB,GAG9B4B,EAAgB5B,EACD,IAANA,IAGT4B,EAAgB,IAGpB,KACD,CACD,IAAIC,EAAWR,EAAKnB,WAAWqB,EAAYvB,GAE3C,GAAI6B,IADSP,EAAGpB,WAAWwB,EAAU1B,GAEnC,MACoB,KAAb6B,IACPD,EAAgB5B,EACnB,CAED,IAAI8B,EAAM,GAGV,IAAK9B,EAAIuB,EAAYK,EAAgB,EAAG5B,GAAKwB,IAAWxB,EAClDA,IAAMwB,GAAkC,KAAvBH,EAAKnB,WAAWF,KAChB,IAAf8B,EAAI7B,OACN6B,GAAO,KAEPA,GAAO,OAMb,OAAIA,EAAI7B,OAAS,EACR6B,EAAMR,EAAGjB,MAAMqB,EAAUE,IAEhCF,GAAWE,EACoB,KAA3BN,EAAGpB,WAAWwB,MACdA,EACGJ,EAAGjB,MAAMqB,GAEnB,EAEDK,UAAW,SAAmB1C,GAC5B,OAAOA,CACR,EAED2C,QAAS,SAAiB3C,GAExB,GADAD,EAAWC,GACS,IAAhBA,EAAKY,OAAc,MAAO,IAK9B,IAJA,IAAIN,EAAON,EAAKa,WAAW,GACvB+B,EAAmB,KAATtC,EACVuC,GAAO,EACPC,GAAe,EACVnC,EAAIX,EAAKY,OAAS,EAAGD,GAAK,IAAKA,EAEtC,GAAa,MADbL,EAAON,EAAKa,WAAWF,KAEnB,IAAKmC,EAAc,CACjBD,EAAMlC,EACN,KACD,OAGHmC,GAAe,EAInB,OAAa,IAATD,EAAmBD,EAAU,IAAM,IACnCA,GAAmB,IAARC,EAAkB,KAC1B7C,EAAKgB,MAAM,EAAG6B,EACtB,EAEDE,SAAU,SAAkB/C,EAAMgD,GAChC,QAAYzB,IAARyB,GAAoC,kBAARA,EAAkB,MAAM,IAAI/C,UAAU,mCACtEF,EAAWC,GAEX,IAGIW,EAHAsC,EAAQ,EACRJ,GAAO,EACPC,GAAe,EAGnB,QAAYvB,IAARyB,GAAqBA,EAAIpC,OAAS,GAAKoC,EAAIpC,QAAUZ,EAAKY,OAAQ,CACpE,GAAIoC,EAAIpC,SAAWZ,EAAKY,QAAUoC,IAAQhD,EAAM,MAAO,GACvD,IAAIkD,EAASF,EAAIpC,OAAS,EACtBuC,GAAoB,EACxB,IAAKxC,EAAIX,EAAKY,OAAS,EAAGD,GAAK,IAAKA,EAAG,CACrC,IAAIL,EAAON,EAAKa,WAAWF,GAC3B,GAAa,KAATL,GAGA,IAAKwC,EAAc,CACjBG,EAAQtC,EAAI,EACZ,KACD,OAEuB,IAAtBwC,IAGFL,GAAe,EACfK,EAAmBxC,EAAI,GAErBuC,GAAU,IAER5C,IAAS0C,EAAInC,WAAWqC,IACR,MAAZA,IAGJL,EAAMlC,IAKRuC,GAAU,EACVL,EAAMM,GAIb,CAGD,OADIF,IAAUJ,EAAKA,EAAMM,GAAmC,IAATN,IAAYA,EAAM7C,EAAKY,QACnEZ,EAAKgB,MAAMiC,EAAOJ,EAC1B,CACC,IAAKlC,EAAIX,EAAKY,OAAS,EAAGD,GAAK,IAAKA,EAClC,GAA2B,KAAvBX,EAAKa,WAAWF,IAGhB,IAAKmC,EAAc,CACjBG,EAAQtC,EAAI,EACZ,KACD,OACiB,IAATkC,IAGXC,GAAe,EACfD,EAAMlC,EAAI,GAId,OAAa,IAATkC,EAAmB,GAChB7C,EAAKgB,MAAMiC,EAAOJ,EAE5B,EAEDO,QAAS,SAAiBpD,GACxBD,EAAWC,GAQX,IAPA,IAAIqD,GAAY,EACZC,EAAY,EACZT,GAAO,EACPC,GAAe,EAGfS,EAAc,EACT5C,EAAIX,EAAKY,OAAS,EAAGD,GAAK,IAAKA,EAAG,CACzC,IAAIL,EAAON,EAAKa,WAAWF,GAC3B,GAAa,KAATL,GASS,IAATuC,IAGFC,GAAe,EACfD,EAAMlC,EAAI,GAEC,KAATL,GAEkB,IAAd+C,EACFA,EAAW1C,EACY,IAAhB4C,IACPA,EAAc,IACK,IAAdF,IAGTE,GAAe,QArBb,IAAKT,EAAc,CACjBQ,EAAY3C,EAAI,EAChB,KACD,CAoBN,CAED,OAAkB,IAAd0C,IAA4B,IAATR,GAEH,IAAhBU,GAEgB,IAAhBA,GAAqBF,IAAaR,EAAM,GAAKQ,IAAaC,EAAY,EACjE,GAEFtD,EAAKgB,MAAMqC,EAAUR,EAC7B,EAEDW,OAAQ,SAAgBC,GACtB,GAAmB,OAAfA,GAA6C,kBAAfA,EAChC,MAAM,IAAIxD,UAAU,0EAA4EwD,GAElG,OAvVJ,SAAiBC,EAAKD,GACpB,IAAIE,EAAMF,EAAWE,KAAOF,EAAWG,KACnCC,EAAOJ,EAAWI,OAASJ,EAAWK,MAAQ,KAAOL,EAAWT,KAAO,IAC3E,OAAKW,EAGDA,IAAQF,EAAWG,KACdD,EAAME,EAERF,EAAMD,EAAMG,EALVA,CAMV,CA6UUE,CAAQ,IAAKN,EACrB,EAEDO,MAAO,SAAehE,GACpBD,EAAWC,GAEX,IAAIiE,EAAM,CAAEL,KAAM,GAAID,IAAK,GAAIE,KAAM,GAAIb,IAAK,GAAIc,KAAM,IACxD,GAAoB,IAAhB9D,EAAKY,OAAc,OAAOqD,EAC9B,IAEIhB,EAFA3C,EAAON,EAAKa,WAAW,GACvBa,EAAsB,KAATpB,EAEboB,GACFuC,EAAIL,KAAO,IACXX,EAAQ,GAERA,EAAQ,EAaV,IAXA,IAAII,GAAY,EACZC,EAAY,EACZT,GAAO,EACPC,GAAe,EACfnC,EAAIX,EAAKY,OAAS,EAIlB2C,EAAc,EAGX5C,GAAKsC,IAAStC,EAEnB,GAAa,MADbL,EAAON,EAAKa,WAAWF,KAUV,IAATkC,IAGFC,GAAe,EACfD,EAAMlC,EAAI,GAEC,KAATL,GAEkB,IAAd+C,EAAiBA,EAAW1C,EAA2B,IAAhB4C,IAAmBA,EAAc,IACrD,IAAdF,IAGXE,GAAe,QAlBb,IAAKT,EAAc,CACjBQ,EAAY3C,EAAI,EAChB,KACD,CAwCP,OArBkB,IAAd0C,IAA4B,IAATR,GAEP,IAAhBU,GAEgB,IAAhBA,GAAqBF,IAAaR,EAAM,GAAKQ,IAAaC,EAAY,GACvD,IAATT,IACiCoB,EAAIJ,KAAOI,EAAIH,KAAhC,IAAdR,GAAmB5B,EAAkC1B,EAAKgB,MAAM,EAAG6B,GAAgC7C,EAAKgB,MAAMsC,EAAWT,KAG7G,IAAdS,GAAmB5B,GACrBuC,EAAIH,KAAO9D,EAAKgB,MAAM,EAAGqC,GACzBY,EAAIJ,KAAO7D,EAAKgB,MAAM,EAAG6B,KAEzBoB,EAAIH,KAAO9D,EAAKgB,MAAMsC,EAAWD,GACjCY,EAAIJ,KAAO7D,EAAKgB,MAAMsC,EAAWT,IAEnCoB,EAAIjB,IAAMhD,EAAKgB,MAAMqC,EAAUR,IAG7BS,EAAY,EAAGW,EAAIN,IAAM3D,EAAKgB,MAAM,EAAGsC,EAAY,GAAY5B,IAAYuC,EAAIN,IAAM,KAElFM,CACR,EAEDP,IAAK,IACLQ,UAAW,IACXC,MAAO,KACPlD,MAAO,MAGTA,EAAMA,MAAQA,EAEdmD,EAAOC,QAAUpD,IC/gBbqD,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBjD,IAAjBkD,EACH,OAAOA,EAAaJ,QAGrB,IAAID,EAASE,EAAyBE,GAAY,CAGjDH,QAAS,CAAC,GAOX,OAHAK,EAAoBF,GAAUJ,EAAQA,EAAOC,QAASE,GAG/CH,EAAOC,OACf,CCrBAE,EAAoBI,EAAI,SAASN,EAASO,GACzC,IAAI,IAAIC,KAAOD,EACXL,EAAoBO,EAAEF,EAAYC,KAASN,EAAoBO,EAAET,EAASQ,IAC5EE,OAAOC,eAAeX,EAASQ,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAG3E,ECPAN,EAAoBY,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOC,MAAQ,IAAIC,SAAS,cAAb,EAChB,CAAE,MAAOC,GACR,GAAsB,kBAAXC,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxBjB,EAAoBO,EAAI,SAASW,EAAKC,GAAQ,OAAOX,OAAOY,UAAUC,eAAeC,KAAKJ,EAAKC,EAAO,ECCtGnB,EAAoBuB,EAAI,SAASzB,GACX,qBAAX0B,QAA0BA,OAAOC,aAC1CjB,OAAOC,eAAeX,EAAS0B,OAAOC,YAAa,CAAEC,MAAO,WAE7DlB,OAAOC,eAAeX,EAAS,aAAc,CAAE4B,OAAO,GACvD,sBCNe,SAASC,EAAQT,GAG9B,OAAOS,EAAU,mBAAqBH,QAAU,iBAAmBA,OAAOI,SAAW,SAAUV,GAC7F,cAAcA,CAChB,EAAI,SAAUA,GACZ,OAAOA,GAAO,mBAAqBM,QAAUN,EAAIW,cAAgBL,QAAUN,IAAQM,OAAOJ,UAAY,gBAAkBF,CAC1H,EAAGS,EAAQT,EACb,CCPe,SAAS,IAEtB,EAAsB,WACpB,OAAOpB,CACT,EACA,IAAIA,EAAU,CAAC,EACbgC,EAAKtB,OAAOY,UACZW,EAASD,EAAGT,eACZZ,EAAiBD,OAAOC,gBAAkB,SAAUS,EAAKZ,EAAK0B,GAC5Dd,EAAIZ,GAAO0B,EAAKN,KAClB,EACAO,EAAU,mBAAqBT,OAASA,OAAS,CAAC,EAClDU,EAAiBD,EAAQL,UAAY,aACrCO,EAAsBF,EAAQG,eAAiB,kBAC/CC,EAAoBJ,EAAQR,aAAe,gBAC7C,SAASa,EAAOpB,EAAKZ,EAAKoB,GACxB,OAAOlB,OAAOC,eAAeS,EAAKZ,EAAK,CACrCoB,MAAOA,EACPhB,YAAY,EACZ6B,cAAc,EACdC,UAAU,IACRtB,EAAIZ,EACV,CACA,IACEgC,EAAO,CAAC,EAAG,GACb,CAAE,MAAOG,GACPH,EAAS,SAAgBpB,EAAKZ,EAAKoB,GACjC,OAAOR,EAAIZ,GAAOoB,CACpB,CACF,CACA,SAASgB,EAAKC,EAASC,EAASC,EAAMC,GACpC,IAAIC,EAAiBH,GAAWA,EAAQxB,qBAAqB4B,EAAYJ,EAAUI,EACjFC,EAAYzC,OAAO0C,OAAOH,EAAe3B,WACzC+B,EAAU,IAAIC,EAAQN,GAAe,IACvC,OAAOrC,EAAewC,EAAW,UAAW,CAC1CvB,MAAO2B,EAAiBV,EAASE,EAAMM,KACrCF,CACN,CACA,SAASK,EAASC,EAAIrC,EAAK3D,GACzB,IACE,MAAO,CACLiG,KAAM,SACNjG,IAAKgG,EAAGjC,KAAKJ,EAAK3D,GAEtB,CAAE,MAAOkF,GACP,MAAO,CACLe,KAAM,QACNjG,IAAKkF,EAET,CACF,CACA3C,EAAQ4C,KAAOA,EACf,IAAIe,EAAmB,CAAC,EACxB,SAAST,IAAa,CACtB,SAASU,IAAqB,CAC9B,SAASC,IAA8B,CACvC,IAAIC,EAAoB,CAAC,EACzBtB,EAAOsB,EAAmB1B,GAAgB,WACxC,OAAOpB,IACT,IACA,IAAI+C,EAAWrD,OAAOsD,eACpBC,EAA0BF,GAAYA,EAASA,EAASG,EAAO,MACjED,GAA2BA,IAA4BjC,GAAMC,EAAOT,KAAKyC,EAAyB7B,KAAoB0B,EAAoBG,GAC1I,IAAIE,EAAKN,EAA2BvC,UAAY4B,EAAU5B,UAAYZ,OAAO0C,OAAOU,GACpF,SAASM,EAAsB9C,GAC7B,CAAC,OAAQ,QAAS,UAAU+C,SAAQ,SAAUC,GAC5C9B,EAAOlB,EAAWgD,GAAQ,SAAU7G,GAClC,OAAOuD,KAAKuD,QAAQD,EAAQ7G,EAC9B,GACF,GACF,CACA,SAAS+G,EAAcrB,EAAWsB,GAChC,SAASC,EAAOJ,EAAQ7G,EAAKZ,EAAS8H,GACpC,IAAIC,EAASpB,EAASL,EAAUmB,GAASnB,EAAW1F,GACpD,GAAI,UAAYmH,EAAOlB,KAAM,CAC3B,IAAImB,EAASD,EAAOnH,IAClBmE,EAAQiD,EAAOjD,MACjB,OAAOA,GAAS,UAAYC,EAAQD,IAAUK,EAAOT,KAAKI,EAAO,WAAa6C,EAAY5H,QAAQ+E,EAAMkD,SAASC,MAAK,SAAUnD,GAC9H8C,EAAO,OAAQ9C,EAAO/E,EAAS8H,EACjC,IAAG,SAAUhC,GACX+B,EAAO,QAAS/B,EAAK9F,EAAS8H,EAChC,IAAKF,EAAY5H,QAAQ+E,GAAOmD,MAAK,SAAUC,GAC7CH,EAAOjD,MAAQoD,EAAWnI,EAAQgI,EACpC,IAAG,SAAUI,GACX,OAAOP,EAAO,QAASO,EAAOpI,EAAS8H,EACzC,GACF,CACAA,EAAOC,EAAOnH,IAChB,CACA,IAAIyH,EACJvE,EAAeK,KAAM,UAAW,CAC9BY,MAAO,SAAe0C,EAAQ7G,GAC5B,SAAS0H,IACP,OAAO,IAAIV,GAAY,SAAU5H,EAAS8H,GACxCD,EAAOJ,EAAQ7G,EAAKZ,EAAS8H,EAC/B,GACF,CACA,OAAOO,EAAkBA,EAAkBA,EAAgBH,KAAKI,EAA4BA,GAA8BA,GAC5H,GAEJ,CACA,SAAS5B,EAAiBV,EAASE,EAAMM,GACvC,IAAI+B,EAAQ,iBACZ,OAAO,SAAUd,EAAQ7G,GACvB,GAAI,cAAgB2H,EAAO,MAAM,IAAIC,MAAM,gCAC3C,GAAI,cAAgBD,EAAO,CACzB,GAAI,UAAYd,EAAQ,MAAM7G,EAC9B,OAAO6H,GACT,CACA,IAAKjC,EAAQiB,OAASA,EAAQjB,EAAQ5F,IAAMA,IAAO,CACjD,IAAI8H,EAAWlC,EAAQkC,SACvB,GAAIA,EAAU,CACZ,IAAIC,EAAiBC,EAAoBF,EAAUlC,GACnD,GAAImC,EAAgB,CAClB,GAAIA,IAAmB7B,EAAkB,SACzC,OAAO6B,CACT,CACF,CACA,GAAI,SAAWnC,EAAQiB,OAAQjB,EAAQqC,KAAOrC,EAAQsC,MAAQtC,EAAQ5F,SAAS,GAAI,UAAY4F,EAAQiB,OAAQ,CAC7G,GAAI,mBAAqBc,EAAO,MAAMA,EAAQ,YAAa/B,EAAQ5F,IACnE4F,EAAQuC,kBAAkBvC,EAAQ5F,IACpC,KAAO,WAAa4F,EAAQiB,QAAUjB,EAAQwC,OAAO,SAAUxC,EAAQ5F,KACvE2H,EAAQ,YACR,IAAIR,EAASpB,EAASX,EAASE,EAAMM,GACrC,GAAI,WAAauB,EAAOlB,KAAM,CAC5B,GAAI0B,EAAQ/B,EAAQyC,KAAO,YAAc,iBAAkBlB,EAAOnH,MAAQkG,EAAkB,SAC5F,MAAO,CACL/B,MAAOgD,EAAOnH,IACdqI,KAAMzC,EAAQyC,KAElB,CACA,UAAYlB,EAAOlB,OAAS0B,EAAQ,YAAa/B,EAAQiB,OAAS,QAASjB,EAAQ5F,IAAMmH,EAAOnH,IAClG,CACF,CACF,CACA,SAASgI,EAAoBF,EAAUlC,GACrC,IAAI0C,EAAa1C,EAAQiB,OACvBA,EAASiB,EAASzD,SAASiE,GAC7B,QAAI7I,IAAcoH,EAAQ,OAAOjB,EAAQkC,SAAW,KAAM,UAAYQ,GAAcR,EAASzD,SAAiB,SAAMuB,EAAQiB,OAAS,SAAUjB,EAAQ5F,SAAMP,EAAWuI,EAAoBF,EAAUlC,GAAU,UAAYA,EAAQiB,SAAW,WAAayB,IAAe1C,EAAQiB,OAAS,QAASjB,EAAQ5F,IAAM,IAAI7B,UAAU,oCAAsCmK,EAAa,aAAcpC,EAClY,IAAIiB,EAASpB,EAASc,EAAQiB,EAASzD,SAAUuB,EAAQ5F,KACzD,GAAI,UAAYmH,EAAOlB,KAAM,OAAOL,EAAQiB,OAAS,QAASjB,EAAQ5F,IAAMmH,EAAOnH,IAAK4F,EAAQkC,SAAW,KAAM5B,EACjH,IAAIqC,EAAOpB,EAAOnH,IAClB,OAAOuI,EAAOA,EAAKF,MAAQzC,EAAQkC,EAASU,YAAcD,EAAKpE,MAAOyB,EAAQ6C,KAAOX,EAASY,QAAS,WAAa9C,EAAQiB,SAAWjB,EAAQiB,OAAS,OAAQjB,EAAQ5F,SAAMP,GAAYmG,EAAQkC,SAAW,KAAM5B,GAAoBqC,GAAQ3C,EAAQiB,OAAS,QAASjB,EAAQ5F,IAAM,IAAI7B,UAAU,oCAAqCyH,EAAQkC,SAAW,KAAM5B,EACrW,CACA,SAASyC,EAAaC,GACpB,IAAIC,EAAQ,CACVC,OAAQF,EAAK,IAEf,KAAKA,IAASC,EAAME,SAAWH,EAAK,IAAK,KAAKA,IAASC,EAAMG,WAAaJ,EAAK,GAAIC,EAAMI,SAAWL,EAAK,IAAKrF,KAAK2F,WAAWC,KAAKN,EACrI,CACA,SAASO,EAAcP,GACrB,IAAI1B,EAAS0B,EAAMQ,YAAc,CAAC,EAClClC,EAAOlB,KAAO,gBAAiBkB,EAAOnH,IAAK6I,EAAMQ,WAAalC,CAChE,CACA,SAAStB,EAAQN,GACfhC,KAAK2F,WAAa,CAAC,CACjBJ,OAAQ,SACNvD,EAAYqB,QAAQ+B,EAAcpF,MAAOA,KAAK+F,OAAM,EAC1D,CACA,SAAS7C,EAAO8C,GACd,GAAIA,EAAU,CACZ,IAAIC,EAAiBD,EAAS5E,GAC9B,GAAI6E,EAAgB,OAAOA,EAAezF,KAAKwF,GAC/C,GAAI,mBAAqBA,EAASd,KAAM,OAAOc,EAC/C,IAAKE,MAAMF,EAASzK,QAAS,CAC3B,IAAID,GAAK,EACP4J,EAAO,SAASA,IACd,OAAS5J,EAAI0K,EAASzK,QAAS,GAAI0F,EAAOT,KAAKwF,EAAU1K,GAAI,OAAO4J,EAAKtE,MAAQoF,EAAS1K,GAAI4J,EAAKJ,MAAO,EAAII,EAC9G,OAAOA,EAAKtE,WAAQ1E,EAAWgJ,EAAKJ,MAAO,EAAII,CACjD,EACF,OAAOA,EAAKA,KAAOA,CACrB,CACF,CACA,MAAO,CACLA,KAAMZ,EAEV,CACA,SAASA,IACP,MAAO,CACL1D,WAAO1E,EACP4I,MAAM,EAEV,CACA,OAAOlC,EAAkBtC,UAAYuC,EAA4BlD,EAAewD,EAAI,cAAe,CACjGvC,MAAOiC,EACPpB,cAAc,IACZ9B,EAAekD,EAA4B,cAAe,CAC5DjC,MAAOgC,EACPnB,cAAc,IACZmB,EAAkBuD,YAAc3E,EAAOqB,EAA4BtB,EAAmB,qBAAsBvC,EAAQoH,oBAAsB,SAAUC,GACtJ,IAAIC,EAAO,mBAAqBD,GAAUA,EAAOtF,YACjD,QAASuF,IAASA,IAAS1D,GAAqB,uBAAyB0D,EAAKH,aAAeG,EAAK7H,MACpG,EAAGO,EAAQuH,KAAO,SAAUF,GAC1B,OAAO3G,OAAO8G,eAAiB9G,OAAO8G,eAAeH,EAAQxD,IAA+BwD,EAAOI,UAAY5D,EAA4BrB,EAAO6E,EAAQ9E,EAAmB,sBAAuB8E,EAAO/F,UAAYZ,OAAO0C,OAAOe,GAAKkD,CAC5O,EAAGrH,EAAQ0H,MAAQ,SAAUjK,GAC3B,MAAO,CACLqH,QAASrH,EAEb,EAAG2G,EAAsBI,EAAclD,WAAYkB,EAAOgC,EAAclD,UAAWe,GAAqB,WACtG,OAAOrB,IACT,IAAIhB,EAAQwE,cAAgBA,EAAexE,EAAQ2H,MAAQ,SAAU9E,EAASC,EAASC,EAAMC,EAAayB,QACxG,IAAWA,IAAgBA,EAAcmD,SACzC,IAAIC,EAAO,IAAIrD,EAAc5B,EAAKC,EAASC,EAASC,EAAMC,GAAcyB,GACxE,OAAOzE,EAAQoH,oBAAoBtE,GAAW+E,EAAOA,EAAK3B,OAAOnB,MAAK,SAAUF,GAC9E,OAAOA,EAAOiB,KAAOjB,EAAOjD,MAAQiG,EAAK3B,MAC3C,GACF,EAAG9B,EAAsBD,GAAK3B,EAAO2B,EAAI5B,EAAmB,aAAcC,EAAO2B,EAAI/B,GAAgB,WACnG,OAAOpB,IACT,IAAIwB,EAAO2B,EAAI,YAAY,WACzB,MAAO,oBACT,IAAInE,EAAQ8H,KAAO,SAAUC,GAC3B,IAAIC,EAAStH,OAAOqH,GAClBD,EAAO,GACT,IAAK,IAAItH,KAAOwH,EAAQF,EAAKlB,KAAKpG,GAClC,OAAOsH,EAAKG,UAAW,SAAS/B,IAC9B,KAAO4B,EAAKvL,QAAS,CACnB,IAAIiE,EAAMsH,EAAKI,MACf,GAAI1H,KAAOwH,EAAQ,OAAO9B,EAAKtE,MAAQpB,EAAK0F,EAAKJ,MAAO,EAAII,CAC9D,CACA,OAAOA,EAAKJ,MAAO,EAAII,CACzB,CACF,EAAGlG,EAAQkE,OAASA,EAAQZ,EAAQhC,UAAY,CAC9CS,YAAauB,EACbyD,MAAO,SAAeoB,GACpB,GAAInH,KAAKoH,KAAO,EAAGpH,KAAKkF,KAAO,EAAGlF,KAAK0E,KAAO1E,KAAK2E,WAAQzI,EAAW8D,KAAK8E,MAAO,EAAI9E,KAAKuE,SAAW,KAAMvE,KAAKsD,OAAS,OAAQtD,KAAKvD,SAAMP,EAAW8D,KAAK2F,WAAWtC,QAAQwC,IAAiBsB,EAAe,IAAK,IAAI1I,KAAQuB,KAAM,MAAQvB,EAAK4I,OAAO,IAAMpG,EAAOT,KAAKR,KAAMvB,KAAUyH,OAAOzH,EAAK9C,MAAM,MAAQqE,KAAKvB,QAAQvC,EACtU,EACAoL,KAAM,WACJtH,KAAK8E,MAAO,EACZ,IAAIyC,EAAavH,KAAK2F,WAAW,GAAGG,WACpC,GAAI,UAAYyB,EAAW7E,KAAM,MAAM6E,EAAW9K,IAClD,OAAOuD,KAAKwH,IACd,EACA5C,kBAAmB,SAA2B6C,GAC5C,GAAIzH,KAAK8E,KAAM,MAAM2C,EACrB,IAAIpF,EAAUrC,KACd,SAAS0H,EAAOC,EAAKC,GACnB,OAAOhE,EAAOlB,KAAO,QAASkB,EAAOnH,IAAMgL,EAAWpF,EAAQ6C,KAAOyC,EAAKC,IAAWvF,EAAQiB,OAAS,OAAQjB,EAAQ5F,SAAMP,KAAc0L,CAC5I,CACA,IAAK,IAAItM,EAAI0E,KAAK2F,WAAWpK,OAAS,EAAGD,GAAK,IAAKA,EAAG,CACpD,IAAIgK,EAAQtF,KAAK2F,WAAWrK,GAC1BsI,EAAS0B,EAAMQ,WACjB,GAAI,SAAWR,EAAMC,OAAQ,OAAOmC,EAAO,OAC3C,GAAIpC,EAAMC,QAAUvF,KAAKoH,KAAM,CAC7B,IAAIS,EAAW5G,EAAOT,KAAK8E,EAAO,YAChCwC,EAAa7G,EAAOT,KAAK8E,EAAO,cAClC,GAAIuC,GAAYC,EAAY,CAC1B,GAAI9H,KAAKoH,KAAO9B,EAAME,SAAU,OAAOkC,EAAOpC,EAAME,UAAU,GAC9D,GAAIxF,KAAKoH,KAAO9B,EAAMG,WAAY,OAAOiC,EAAOpC,EAAMG,WACxD,MAAO,GAAIoC,GACT,GAAI7H,KAAKoH,KAAO9B,EAAME,SAAU,OAAOkC,EAAOpC,EAAME,UAAU,OACzD,CACL,IAAKsC,EAAY,MAAM,IAAIzD,MAAM,0CACjC,GAAIrE,KAAKoH,KAAO9B,EAAMG,WAAY,OAAOiC,EAAOpC,EAAMG,WACxD,CACF,CACF,CACF,EACAZ,OAAQ,SAAgBnC,EAAMjG,GAC5B,IAAK,IAAInB,EAAI0E,KAAK2F,WAAWpK,OAAS,EAAGD,GAAK,IAAKA,EAAG,CACpD,IAAIgK,EAAQtF,KAAK2F,WAAWrK,GAC5B,GAAIgK,EAAMC,QAAUvF,KAAKoH,MAAQnG,EAAOT,KAAK8E,EAAO,eAAiBtF,KAAKoH,KAAO9B,EAAMG,WAAY,CACjG,IAAIsC,EAAezC,EACnB,KACF,CACF,CACAyC,IAAiB,UAAYrF,GAAQ,aAAeA,IAASqF,EAAaxC,QAAU9I,GAAOA,GAAOsL,EAAatC,aAAesC,EAAe,MAC7I,IAAInE,EAASmE,EAAeA,EAAajC,WAAa,CAAC,EACvD,OAAOlC,EAAOlB,KAAOA,EAAMkB,EAAOnH,IAAMA,EAAKsL,GAAgB/H,KAAKsD,OAAS,OAAQtD,KAAKkF,KAAO6C,EAAatC,WAAY9C,GAAoB3C,KAAKgI,SAASpE,EAC5J,EACAoE,SAAU,SAAkBpE,EAAQ8B,GAClC,GAAI,UAAY9B,EAAOlB,KAAM,MAAMkB,EAAOnH,IAC1C,MAAO,UAAYmH,EAAOlB,MAAQ,aAAekB,EAAOlB,KAAO1C,KAAKkF,KAAOtB,EAAOnH,IAAM,WAAamH,EAAOlB,MAAQ1C,KAAKwH,KAAOxH,KAAKvD,IAAMmH,EAAOnH,IAAKuD,KAAKsD,OAAS,SAAUtD,KAAKkF,KAAO,OAAS,WAAatB,EAAOlB,MAAQgD,IAAa1F,KAAKkF,KAAOQ,GAAW/C,CACtQ,EACAsF,OAAQ,SAAgBxC,GACtB,IAAK,IAAInK,EAAI0E,KAAK2F,WAAWpK,OAAS,EAAGD,GAAK,IAAKA,EAAG,CACpD,IAAIgK,EAAQtF,KAAK2F,WAAWrK,GAC5B,GAAIgK,EAAMG,aAAeA,EAAY,OAAOzF,KAAKgI,SAAS1C,EAAMQ,WAAYR,EAAMI,UAAWG,EAAcP,GAAQ3C,CACrH,CACF,EACA,MAAS,SAAgB4C,GACvB,IAAK,IAAIjK,EAAI0E,KAAK2F,WAAWpK,OAAS,EAAGD,GAAK,IAAKA,EAAG,CACpD,IAAIgK,EAAQtF,KAAK2F,WAAWrK,GAC5B,GAAIgK,EAAMC,SAAWA,EAAQ,CAC3B,IAAI3B,EAAS0B,EAAMQ,WACnB,GAAI,UAAYlC,EAAOlB,KAAM,CAC3B,IAAIwF,EAAStE,EAAOnH,IACpBoJ,EAAcP,EAChB,CACA,OAAO4C,CACT,CACF,CACA,MAAM,IAAI7D,MAAM,wBAClB,EACA8D,cAAe,SAAuBnC,EAAUf,EAAYE,GAC1D,OAAOnF,KAAKuE,SAAW,CACrBzD,SAAUoC,EAAO8C,GACjBf,WAAYA,EACZE,QAASA,GACR,SAAWnF,KAAKsD,SAAWtD,KAAKvD,SAAMP,GAAYyG,CACvD,GACC3D,CACL,CC9SA,SAASoJ,EAAmBC,EAAKxM,EAAS8H,EAAQ2E,EAAOC,EAAQ/I,EAAK/C,GACpE,IACE,IAAIuI,EAAOqD,EAAI7I,GAAK/C,GAChBmE,EAAQoE,EAAKpE,KACnB,CAAE,MAAOqD,GAEP,YADAN,EAAOM,EAET,CACIe,EAAKF,KACPjJ,EAAQ+E,GAERgG,QAAQ/K,QAAQ+E,GAAOmD,KAAKuE,EAAOC,EAEvC,CACe,SAASC,EAAkB/F,GACxC,OAAO,WACL,IAAIV,EAAO/B,KACTyI,EAAOxM,UACT,OAAO,IAAI2K,SAAQ,SAAU/K,EAAS8H,GACpC,IAAI0E,EAAM5F,EAAGiG,MAAM3G,EAAM0G,GACzB,SAASH,EAAM1H,GACbwH,EAAmBC,EAAKxM,EAAS8H,EAAQ2E,EAAOC,EAAQ,OAAQ3H,EAClE,CACA,SAAS2H,EAAO5G,GACdyG,EAAmBC,EAAKxM,EAAS8H,EAAQ2E,EAAOC,EAAQ,QAAS5G,EACnE,CACA2G,OAAMpM,EACR,GACF,CACF,CC7Be,SAAS,EAAgBuD,GAItC,OAHA,EAAkBC,OAAO8G,eAAiB9G,OAAOsD,eAAe2F,OAAS,SAAyBlJ,GAChG,OAAOA,EAAEgH,WAAa/G,OAAOsD,eAAevD,EAC9C,EACO,EAAgBA,EACzB,CCJe,SAAS,IActB,OAZE,EADqB,qBAAZmJ,SAA2BA,QAAQ/I,IACrC+I,QAAQ/I,IAAI8I,OAEZ,SAAcE,EAAQC,EAAUC,GACrC,IAAIvK,ECLK,SAAwBwI,EAAQ8B,GAC7C,MAAQpJ,OAAOY,UAAUC,eAAeC,KAAKwG,EAAQ8B,IAEpC,QADf9B,EAAS,EAAeA,MAG1B,OAAOA,CACT,CDDiB,CAAc6B,EAAQC,GACjC,GAAKtK,EAAL,CACA,IAAI0C,EAAOxB,OAAOsJ,yBAAyBxK,EAAMsK,GACjD,OAAI5H,EAAKrB,IACAqB,EAAKrB,IAAIW,KAAKvE,UAAUV,OAAS,EAAIsN,EAASE,GAEhD7H,EAAKN,KALK,CAMnB,EAEK,EAAK8H,MAAM1I,KAAM/D,UAC1B,CEhBe,SAASgN,EAAgBxJ,EAAGyJ,GAKzC,OAJAD,EAAkBvJ,OAAO8G,eAAiB9G,OAAO8G,eAAemC,OAAS,SAAyBlJ,EAAGyJ,GAEnG,OADAzJ,EAAEgH,UAAYyC,EACPzJ,CACT,EACOwJ,EAAgBxJ,EAAGyJ,EAC5B,CCNe,SAASC,IACtB,GAAuB,qBAAZP,UAA4BA,QAAQQ,UAAW,OAAO,EACjE,GAAIR,QAAQQ,UAAUC,KAAM,OAAO,EACnC,GAAqB,oBAAVC,MAAsB,OAAO,EACxC,IAEE,OADAC,QAAQjJ,UAAUkJ,QAAQhJ,KAAKoI,QAAQQ,UAAUG,QAAS,IAAI,WAAa,MACpE,CACT,CAAE,MAAOrJ,GACP,OAAO,CACT,CACF,CCRe,SAASuJ,EAAWC,EAAQjB,EAAMkB,GAa/C,OAXEF,EADE,IACWb,QAAQQ,UAAUT,OAElB,SAAoBe,EAAQjB,EAAMkB,GAC7C,IAAIC,EAAI,CAAC,MACTA,EAAEhE,KAAK8C,MAAMkB,EAAGnB,GAChB,IACIoB,EAAW,IADG5J,SAAS0I,KAAKD,MAAMgB,EAAQE,IAG9C,OADID,GAAO,EAAeE,EAAUF,EAAMrJ,WACnCuJ,CACT,EAEKJ,EAAWf,MAAM,KAAMzM,UAChC,CCde,SAAS6N,EAAerN,GACrC,IAAI+C,ECFS,SAAsBuK,EAAOC,GAC1C,GAAuB,WAAnBnJ,EAAQkJ,IAAiC,OAAVA,EAAgB,OAAOA,EAC1D,IAAIE,EAAOF,EAAMrJ,OAAOwJ,aACxB,QAAahO,IAAT+N,EAAoB,CACtB,IAAI/O,EAAM+O,EAAKzJ,KAAKuJ,EAAOC,GAAQ,WACnC,GAAqB,WAAjBnJ,EAAQ3F,GAAmB,OAAOA,EACtC,MAAM,IAAIN,UAAU,+CACtB,CACA,OAAiB,WAAToP,EAAoBG,OAASC,QAAQL,EAC/C,CDPY,CAAYtN,EAAK,UAC3B,MAAwB,WAAjBoE,EAAQrB,GAAoBA,EAAM2K,OAAO3K,EAClD,CEJe,SAAS,EAAgBY,EAAKZ,EAAKoB,GAYhD,OAXApB,EAAM,EAAcA,MACTY,EACTV,OAAOC,eAAeS,EAAKZ,EAAK,CAC9BoB,MAAOA,EACPhB,YAAY,EACZ6B,cAAc,EACdC,UAAU,IAGZtB,EAAIZ,GAAOoB,EAENR,CACT,CCbA,SAASiK,EAAQrD,EAAQsD,GACvB,IAAIxD,EAAOpH,OAAOoH,KAAKE,GACvB,GAAItH,OAAO6K,sBAAuB,CAChC,IAAIC,EAAU9K,OAAO6K,sBAAsBvD,GAC3CsD,IAAmBE,EAAUA,EAAQC,QAAO,SAAUC,GACpD,OAAOhL,OAAOsJ,yBAAyBhC,EAAQ0D,GAAK9K,UACtD,KAAKkH,EAAKlB,KAAK8C,MAAM5B,EAAM0D,EAC7B,CACA,OAAO1D,CACT,CACe,SAAS6D,EAAe9B,GACrC,IAAK,IAAIvN,EAAI,EAAGA,EAAIW,UAAUV,OAAQD,IAAK,CACzC,IAAIsP,EAAS,MAAQ3O,UAAUX,GAAKW,UAAUX,GAAK,CAAC,EACpDA,EAAI,EAAI+O,EAAQ3K,OAAOkL,IAAS,GAAIvH,SAAQ,SAAU7D,GACpD,EAAeqJ,EAAQrJ,EAAKoL,EAAOpL,GACrC,IAAKE,OAAOmL,0BAA4BnL,OAAOoL,iBAAiBjC,EAAQnJ,OAAOmL,0BAA0BD,IAAWP,EAAQ3K,OAAOkL,IAASvH,SAAQ,SAAU7D,GAC5JE,OAAOC,eAAekJ,EAAQrJ,EAAKE,OAAOsJ,yBAAyB4B,EAAQpL,GAC7E,GACF,CACA,OAAOqJ,CACT,CCrBe,SAASkC,EAAkBC,EAAKC,IAClC,MAAPA,GAAeA,EAAMD,EAAIzP,UAAQ0P,EAAMD,EAAIzP,QAC/C,IAAK,IAAID,EAAI,EAAG4P,EAAO,IAAIC,MAAMF,GAAM3P,EAAI2P,EAAK3P,IAAK4P,EAAK5P,GAAK0P,EAAI1P,GACnE,OAAO4P,CACT,CCJe,SAASE,EAAiBvE,GACvC,GAAsB,qBAAXnG,QAAmD,MAAzBmG,EAAKnG,OAAOI,WAA2C,MAAtB+F,EAAK,cAAuB,OAAOsE,MAAMxO,KAAKkK,EACtH,CCDe,SAASwE,EAA4B5L,EAAG6L,GACrD,GAAK7L,EAAL,CACA,GAAiB,kBAANA,EAAgB,OAAO,EAAiBA,EAAG6L,GACtD,IAAIC,EAAI7L,OAAOY,UAAUkL,SAAShL,KAAKf,GAAG9D,MAAM,GAAI,GAEpD,MADU,WAAN4P,GAAkB9L,EAAEsB,cAAawK,EAAI9L,EAAEsB,YAAYtC,MAC7C,QAAN8M,GAAqB,QAANA,EAAoBJ,MAAMxO,KAAK8C,GACxC,cAAN8L,GAAqB,2CAA2CE,KAAKF,GAAW,EAAiB9L,EAAG6L,QAAxG,CALc,CAMhB,CCJe,SAASI,EAAmBV,GACzC,OCJa,SAA4BA,GACzC,GAAIG,MAAMQ,QAAQX,GAAM,OAAO,EAAiBA,EAClD,CDES,CAAkBA,IAAQ,EAAgBA,IAAQ,EAA2BA,IELvE,WACb,MAAM,IAAIpQ,UAAU,uIACtB,CFG8F,EAC9F,CGLe,SAAS,EAAUgR,EAAUC,GAC1C,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIjR,UAAU,sDAEtBgR,EAAStL,UAAYZ,OAAO0C,OAAOyJ,GAAcA,EAAWvL,UAAW,CACrES,YAAa,CACXH,MAAOgL,EACPlK,UAAU,EACVD,cAAc,KAGlB/B,OAAOC,eAAeiM,EAAU,YAAa,CAC3ClK,UAAU,IAERmK,GAAY,EAAeD,EAAUC,EAC3C,CChBe,SAASC,EAAuB/J,GAC7C,QAAa,IAATA,EACF,MAAM,IAAIgK,eAAe,6DAE3B,OAAOhK,CACT,CCFe,SAAS,EAAaiK,GACnC,IAAIC,EAA4B,IAChC,OAAO,WACL,IACEpI,EADEqI,EAAQ,EAAeF,GAE3B,GAAIC,EAA2B,CAC7B,IAAIE,EAAY,EAAenM,MAAMe,YACrC8C,EAAS+E,QAAQQ,UAAU8C,EAAOjQ,UAAWkQ,EAC/C,MACEtI,EAASqI,EAAMxD,MAAM1I,KAAM/D,WAE7B,OCZW,SAAoC8F,EAAMvB,GACvD,GAAIA,IAA2B,WAAlBK,EAAQL,IAAsC,oBAATA,GAChD,OAAOA,EACF,QAAa,IAATA,EACT,MAAM,IAAI5F,UAAU,4DAEtB,OAAO,EAAsBmH,EAC/B,CDKW,CAA0B/B,KAAM6D,EACzC,CACF,CEhBe,SAAS,EAAgBgG,EAAUuC,GAChD,KAAMvC,aAAoBuC,GACxB,MAAM,IAAIxR,UAAU,oCAExB,CCHA,SAASyR,EAAkBxD,EAAQyD,GACjC,IAAK,IAAIhR,EAAI,EAAGA,EAAIgR,EAAM/Q,OAAQD,IAAK,CACrC,IAAIiR,EAAaD,EAAMhR,GACvBiR,EAAW3M,WAAa2M,EAAW3M,aAAc,EACjD2M,EAAW9K,cAAe,EACtB,UAAW8K,IAAYA,EAAW7K,UAAW,GACjDhC,OAAOC,eAAekJ,EAAQ,EAAc0D,EAAW/M,KAAM+M,EAC/D,CACF,CACe,SAAS,EAAaH,EAAaI,EAAYC,GAM5D,OALID,GAAYH,EAAkBD,EAAY9L,UAAWkM,GACrDC,GAAaJ,EAAkBD,EAAaK,GAChD/M,OAAOC,eAAeyM,EAAa,YAAa,CAC9C1K,UAAU,IAEL0K,CACT,CChBe,SAAS,EAA2B3M,EAAGiN,GACpD,IAAIC,EAAuB,qBAAXjM,QAA0BjB,EAAEiB,OAAOI,WAAarB,EAAE,cAClE,IAAKkN,EAAI,CACP,GAAIxB,MAAMQ,QAAQlM,KAAOkN,EAAK,EAA2BlN,KAAOiN,GAAkBjN,GAAyB,kBAAbA,EAAElE,OAAqB,CAC/GoR,IAAIlN,EAAIkN,GACZ,IAAIrR,EAAI,EACJsR,EAAI,WAAc,EACtB,MAAO,CACLC,EAAGD,EACHrB,EAAG,WACD,OAAIjQ,GAAKmE,EAAElE,OAAe,CACxBuJ,MAAM,GAED,CACLA,MAAM,EACNlE,MAAOnB,EAAEnE,KAEb,EACA4E,EAAG,SAAW4M,GACZ,MAAMA,CACR,EACAC,EAAGH,EAEP,CACA,MAAM,IAAIhS,UAAU,wIACtB,CACA,IAEE+G,EAFEqL,GAAmB,EACrBC,GAAS,EAEX,MAAO,CACLJ,EAAG,WACDF,EAAKA,EAAGnM,KAAKf,EACf,EACA8L,EAAG,WACD,IAAI2B,EAAOP,EAAGzH,OAEd,OADA8H,EAAmBE,EAAKpI,KACjBoI,CACT,EACAhN,EAAG,SAAWiN,GACZF,GAAS,EACTtL,EAAMwL,CACR,EACAJ,EAAG,WACD,IACOC,GAAoC,MAAhBL,EAAW,QAAWA,EAAW,QAC5D,CAAE,QACA,GAAIM,EAAQ,MAAMtL,CACpB,CACF,EAEJ,CCnDe,SAASyL,EAAgBpC,GACtC,GAAIG,MAAMQ,QAAQX,GAAM,OAAOA,CACjC,CCFe,SAASqC,IACtB,MAAM,IAAIzS,UAAU,4IACtB,CCEe,SAAS,EAAeoQ,EAAK1P,GAC1C,OAAO,EAAe0P,ICLT,SAA+BA,EAAK1P,GACjD,IAAIgS,EAAK,MAAQtC,EAAM,KAAO,oBAAsBtK,QAAUsK,EAAItK,OAAOI,WAAakK,EAAI,cAC1F,GAAI,MAAQsC,EAAI,CACd,IAAIC,EACFT,EACAU,EACAC,EACAC,EAAO,GACPC,GAAK,EACLC,GAAK,EACP,IACE,GAAIJ,GAAMF,EAAKA,EAAG9M,KAAKwK,IAAM9F,KAAM,IAAM5J,EAAG,CAC1C,GAAIoE,OAAO4N,KAAQA,EAAI,OACvBK,GAAK,CACP,MAAO,OAASA,GAAMJ,EAAKC,EAAGhN,KAAK8M,IAAKxI,QAAU4I,EAAK9H,KAAK2H,EAAG3M,OAAQ8M,EAAKnS,SAAWD,GAAIqS,GAAK,GAClG,CAAE,MAAOhM,GACPiM,GAAK,EAAId,EAAKnL,CAChB,CAAE,QACA,IACE,IAAKgM,GAAM,MAAQL,EAAW,SAAMG,EAAKH,EAAW,SAAK5N,OAAO+N,KAAQA,GAAK,MAC/E,CAAE,QACA,GAAIG,EAAI,MAAMd,CAChB,CACF,CACA,OAAOY,CACT,CACF,CDrBgC,CAAqB1C,EAAK1P,IAAM,EAA2B0P,EAAK1P,IAAM,GACtG,CEFe,SAASuS,EAAiBlE,GACvC,IAAImE,EAAwB,oBAARC,IAAqB,IAAIA,SAAQ7R,EAuBrD,OAtBA2R,EAAmB,SAA0BlE,GAC3C,GAAc,OAAVA,ICPkClH,EDOEkH,GCNsB,IAAzD1J,SAASuL,SAAShL,KAAKiC,GAAIuL,QAAQ,kBDMQ,OAAOrE,ECP5C,IAA2BlH,EDQtC,GAAqB,oBAAVkH,EACT,MAAM,IAAI/O,UAAU,sDAEtB,GAAsB,qBAAXkT,EAAwB,CACjC,GAAIA,EAAOG,IAAItE,GAAQ,OAAOmE,EAAOjO,IAAI8J,GACzCmE,EAAOI,IAAIvE,EAAOwE,EACpB,CACA,SAASA,IACP,OAAO,EAAUxE,EAAO1N,UAAW,EAAe+D,MAAMe,YAC1D,CASA,OARAoN,EAAQ7N,UAAYZ,OAAO0C,OAAOuH,EAAMrJ,UAAW,CACjDS,YAAa,CACXH,MAAOuN,EACPvO,YAAY,EACZ8B,UAAU,EACVD,cAAc,KAGX,EAAe0M,EAASxE,EACjC,EACOkE,EAAiBlE,EAC1B,8CExBO,IA6BMyE,EAAe,IA7B5B,WACI,aAAc,UACVpO,KAAKqO,UAAY,GACjBrO,KAAKsO,uBAAyB,SAAUpO,GACpCqO,YAAW,WACP,GAAIrO,EAAEsO,MAAO,CACT,GAAIC,EAAiBC,mBAAmBxO,GACpC,MAAM,IAAIuO,EAAiBvO,EAAEyO,QAAU,OAASzO,EAAEsO,OAEtD,MAAM,IAAInK,MAAMnE,EAAEyO,QAAU,OAASzO,EAAEsO,MAC1C,CACD,MAAMtO,CACT,GAAE,EACN,CACJ,CAdL,8BAeI,SAAKA,GACDF,KAAKqO,UAAUhL,SAAQ,SAACuL,GACpBA,EAAS1O,EACZ,GACJ,GAnBL,+BAoBI,SAAkBA,GACdF,KAAKsO,uBAAuBpO,GAC5BF,KAAK6O,KAAK3O,EACb,GAvBL,uCAyBI,SAA0BA,GACtBF,KAAKsO,uBAAuBpO,EAC/B,KA3BL,MA8BO,SAAS4O,EAAkB5O,GAEzB6O,EAAoB7O,IACrBkO,EAAaU,kBAAkB5O,EAGtC,CAQM,SAAS8O,EAA+B/K,GAC3C,OAAIA,aAAiBI,MAGV,CACH4K,UAAU,EACVxQ,KAJsBwF,EAAlBxF,KAKJkQ,QALsB1K,EAAZ0K,QAMVH,MALUvK,EAAMiL,YAAcjL,EAAMuK,MAMpCW,YAAaV,EAAiBC,mBAAmBzK,IAIlDA,CACV,CACD,IAAMmL,EAAe,WAId,SAASL,EAAoB9K,GAChC,OAAIA,aAAiBoL,GAGdpL,aAAiBI,OAASJ,EAAMxF,OAAS2Q,GAAgBnL,EAAM0K,UAAYS,CACrF,CAGM,IAAMC,EAAb,8BACI,aAAc,wBACV,cAAMD,IACD3Q,KAAO,EAAKkQ,QAFP,CAGb,CAJL,eAAuCtK,QA8BAA,MAAhC,ICtGIiL,EDiHEb,EAAb,8BACI,WAAYc,GAAK,wBACb,cAAMA,IACD9Q,KAAO,oBAFC,CAGhB,CAJL,wCAKI,SAAiBkD,GACb,GAAIA,aAAe8M,EACf,OAAO9M,EAEX,IAAMkC,EAAS,IAAI4K,EAGnB,OAFA5K,EAAO8K,QAAUhN,EAAIgN,QACrB9K,EAAO2K,MAAQ7M,EAAI6M,MACZ3K,CACV,GAbL,gCAcI,SAA0BlC,GACtB,MAAoB,sBAAbA,EAAIlD,IACd,KAhBL,KAAsC4F,QAuBzBmL,EAAb,8BACI,WAAYb,GAAS,uBACjB,cAAMA,GAAW,+BACjBjP,OAAO8G,eAAP,KAA4BgJ,EAAmBlP,WAF9B,CAOpB,CARL,eAAwC+D,QExIjC,SAASoL,EAAKhN,GACjB,IAEIoB,EAFE6L,EAAQ1P,KACV2P,GAAU,EAEd,OAAO,WACH,OAAIA,EACO9L,GAEX8L,GAAU,EACV9L,EAASpB,EAAGiG,MAAMgH,EAAOzT,WAE5B,CACJ,EDXD,SAAWqT,GAAU,eAUPM,GAVO,WAqDPnF,GArDO,WA6DPoF,GA7DO,WAoEPC,GAnEV,SAASC,EAAGC,GACR,OAAOA,GAA0B,kBAAVA,GAAwD,oBAA3BA,EAAMtP,OAAOI,SACpE,CACDwO,EAASS,GAAKA,EACd,IAAME,EAASvQ,OAAOwQ,OAAO,IAK7B,SAAUN,EAAOO,GAAjB,iEACI,OADJ,SACUA,EADV,uCA2CA,SAAU1F,EAAOzE,EAAUoK,GAA3B,+EAC0BpK,GAD1B,4DACemK,EADf,SAEYC,EAAUD,GAFtB,gBAGY,OAHZ,SAGkBA,EAHlB,qHAAApD,IAAA,yEAQA,SAAU8C,EAAI7J,EAAUvD,GAAxB,6EACQ4N,EAAQ,EADhB,IAE0BrK,GAF1B,yDAGQ,OADOmK,EAFf,iBAGc1N,EAAG0N,EAASE,KAH1B,qHAAAtD,IAAA,yEAOA,SAAU+C,IAAV,kHAAoBQ,EAApB,yBAAoBA,EAApB,cAC2BA,EAD3B,yCACetK,EADf,SAE8BA,GAF9B,yDAGY,OADOmK,EAFnB,kBAGkBA,EAHlB,sHAAApD,IAAA,oGA3DAuC,EAASiB,MAHT,WACI,OAAON,CACV,EAKDX,EAASM,OAASA,EASlBN,EAAS1N,KART,SAAc4O,GACV,OAAIT,EAAGS,GACIA,EAGAZ,EAAOY,EAErB,EAKDlB,EAAS3S,KAHT,SAAcqJ,GACV,OAAOA,GAAYiK,CACtB,EAKDX,EAASmB,QAHT,SAAiBzK,GACb,OAAQA,IAAwD,IAA5CA,EAAStF,OAAOI,YAAYoE,OAAOJ,IAC1D,EAKDwK,EAASoB,MAHT,SAAe1K,GACX,OAAOA,EAAStF,OAAOI,YAAYoE,OAAOtE,KAC7C,EAUD0O,EAASqB,KART,SAAc3K,EAAUoK,GAAW,UACTpK,GADS,IAC/B,2BAAgC,CAC5B,GAAIoK,EADwB,SAExB,OAAO,CAEd,CAL8B,+BAM/B,OAAO,CACV,EAUDd,EAASsB,KART,SAAc5K,EAAUoK,GAAW,UACTpK,GADS,IAC/B,2BAAgC,KAArBmK,EAAqB,QAC5B,GAAIC,EAAUD,GACV,OAAOA,CAEd,CAL8B,+BAOlC,EASDb,EAAS7E,OAASA,EAOlB6E,EAASO,IAAMA,EAQfP,EAASQ,OAASA,EAQlBR,EAASuB,OAPT,SAAgB7K,EAAU8K,EAASC,GAC/B,IAD6C,EACzCnQ,EAAQmQ,EADiC,IAEvB/K,GAFuB,IAE7C,2BAAgC,CAC5BpF,EAAQkQ,EAAQlQ,EADY,QAE/B,CAJ4C,+BAK7C,OAAOA,CACV,EAmBD0O,EAAS3T,MAdT,SAAgBqP,EAAKrO,GAArB,IAA2BC,EAA3B,uDAAgCoO,EAAIzP,OAApC,+FACQoB,EAAO,IACPA,GAAQqO,EAAIzP,QAEZqB,EAAK,EACLA,GAAMoO,EAAIzP,OAELqB,EAAKoO,EAAIzP,SACdqB,EAAKoO,EAAIzP,QARjB,YAUWoB,EAAOC,GAVlB,gBAWQ,OAXR,SAWcoO,EAAIrO,GAXlB,OAUsBA,IAVtB,4DAkCA2S,EAAS0B,QAfT,SAAiBhL,GAA6C,IAAnCiL,EAAmC,uDAA1B7G,OAAO8G,kBACjCC,EAAW,GACjB,GAAe,IAAXF,EACA,MAAO,CAACE,EAAUnL,GAGtB,IADA,IAAMlF,EAAWkF,EAAStF,OAAOI,YACxBxF,EAAI,EAAGA,EAAI2V,EAAQ3V,IAAK,CAC7B,IAAM4J,EAAOpE,EAASoE,OACtB,GAAIA,EAAKJ,KACL,MAAO,CAACqM,EAAU7B,EAASiB,SAE/BY,EAASvL,KAAKV,EAAKtE,MACtB,CACD,MAAO,CAACuQ,EAAD,KAAczQ,OAAOI,UAArB,WAAmC,OAAOA,CAAW,IAC/D,CAxHL,EA0HGwO,IAAaA,EAAW,CAAC,IEjH5B,IACI8B,EAAoB,KAsCxB,SAASC,EAAgBC,GAErB,OADsB,OAAtBF,QAAoD,IAAtBA,GAAwCA,EAAkBC,gBAAgBC,GACjGA,CACV,CACD,SAASC,EAAeC,GACE,OAAtBJ,QAAoD,IAAtBA,GAAwCA,EAAkBG,eAAeC,EAC1G,CACD,SAASC,EAAsBC,EAAOC,GACZ,OAAtBP,QAAoD,IAAtBA,GAAwCA,EAAkBQ,UAAUF,EAAOC,EAC5G,CAsBM,SAASE,EAAQpV,GACpB,GAAI6S,EAASS,GAAGtT,GAAM,CAClB,IADkB,EACZqV,EAAS,GADG,IAEFrV,GAFE,IAElB,2BAAqB,KAAV6C,EAAU,QACjB,GAAIA,EACA,IACIA,EAAEuS,SACL,CACD,MAAO3R,GACH4R,EAAOlM,KAAK1F,EACf,CAER,CAXiB,+BAYlB,GAAsB,IAAlB4R,EAAOvW,OACP,MAAMuW,EAAO,GAEZ,GAAIA,EAAOvW,OAAS,EACrB,MAAM,IAAIwW,eAAeD,EAAQ,+CAErC,OAAO3G,MAAMQ,QAAQlP,GAAO,GAAKA,CACpC,CACI,GAAIA,EAEL,OADAA,EAAIoV,UACGpV,CAEd,CAIM,SAASuV,IAAmC,2BAAbC,EAAa,yBAAbA,EAAa,gBAC/C,IAAMN,EAASO,GAAa,kBAAML,EAAQI,EAAd,IAE5B,OArDJ,SAAgCE,EAAUR,GACtC,GAAKP,EAAL,CAD8C,UAI1Be,GAJ0B,IAI9C,2BAA8B,KAAnBT,EAAmB,QAC1BN,EAAkBQ,UAAUF,EAAOC,EACtC,CAN6C,+BAG7C,CAIJ,CA6CGS,CAAuBH,EAAaN,GAC7BA,CACV,CAMM,SAASO,EAAazP,GACzB,IAAMV,EAAOsP,EAAgB,CACzBQ,QAASpC,GAAK,WACV8B,EAAexP,GACfU,GACH,MAEL,OAAOV,CACV,CAQM,IAAMsQ,EAAb,WACI,aAAc,UACVrS,KAAKsS,WAAa,IAAIC,IACtBvS,KAAKwS,aAAc,EACnBnB,EAAgBrR,KACnB,CALL,iCAWI,WACQA,KAAKwS,cAGTjB,EAAevR,MACfA,KAAKwS,aAAc,EACnBxS,KAAKyS,QACR,GAlBL,sBAsBI,WACI,OAAOzS,KAAKwS,WACf,GAxBL,mBA4BI,WACI,GAA6B,IAAzBxS,KAAKsS,WAAWI,KAGpB,IACIb,EAAQ7R,KAAKsS,WAChB,CAFD,QAIItS,KAAKsS,WAAWG,OACnB,CACJ,GAtCL,iBA0CI,SAAIhT,GACA,IAAKA,EACD,OAAOA,EAEX,GAAIA,IAAMO,KACN,MAAM,IAAIqE,MAAM,2CAWpB,OATAoN,EAAsBhS,EAAGO,MACrBA,KAAKwS,YACAH,EAAgBM,0BACjBC,QAAQC,KAAK,IAAIxO,MAAM,uHAAuHmK,OAIlJxO,KAAKsS,WAAWQ,IAAIrT,GAEjBA,CACV,KA3DL,KA6DA4S,EAAgBM,0BAA2B,EAMpC,IAAMI,EAAb,WACI,aAAc,UACV/S,KAAKgT,OAAS,IAAIX,EAClBhB,EAAgBrR,MAChByR,EAAsBzR,KAAKgT,OAAQhT,KACtC,CALL,iCAMI,WACIuR,EAAevR,MACfA,KAAKgT,OAAOnB,SACf,GATL,uBAaI,SAAUpS,GACN,GAAIA,IAAMO,KACN,MAAM,IAAIqE,MAAM,2CAEpB,OAAOrE,KAAKgT,OAAOF,IAAIrT,EAC1B,KAlBL,KAyBAsT,EAAWE,KAAOvT,OAAOwQ,OAAO,CAAE2B,QAAF,WAAe,IAOxC,IC1ODqB,EAAAA,GACF,WAAY/C,GAAS,UACjBnQ,KAAKmQ,QAAUA,EACfnQ,KAAKkF,KAAOgO,EAAKC,UACjBnT,KAAKoH,KAAO8L,EAAKC,SACpB,IAELD,EAAKC,UAAY,IAAID,OAAKhX,GACnB,ICGIkX,EDHEC,EAAb,YACI,aAAc,UACVrT,KAAKsT,OAASJ,EAAKC,UACnBnT,KAAKuT,MAAQL,EAAKC,UAClBnT,KAAKwT,MAAQ,CAChB,CALL,4BAMI,WACI,OAAOxT,KAAKwT,KACf,GARL,qBASI,WACI,OAAOxT,KAAKsT,SAAWJ,EAAKC,SAC/B,GAXL,mBAYI,WAEI,IADA,IAAIM,EAAOzT,KAAKsT,OACTG,IAASP,EAAKC,WAAW,CAC5B,IAAMjO,EAAOuO,EAAKvO,KAClBuO,EAAKrM,KAAO8L,EAAKC,UACjBM,EAAKvO,KAAOgO,EAAKC,UACjBM,EAAOvO,CACV,CACDlF,KAAKsT,OAASJ,EAAKC,UACnBnT,KAAKuT,MAAQL,EAAKC,UAClBnT,KAAKwT,MAAQ,CAChB,GAvBL,qBAwBI,SAAQrD,GACJ,OAAOnQ,KAAK0T,QAAQvD,GAAS,EAChC,GA1BL,kBA2BI,SAAKA,GACD,OAAOnQ,KAAK0T,QAAQvD,GAAS,EAChC,GA7BL,qBA8BI,SAAQA,EAASwD,GAAU,WACjBC,EAAU,IAAIV,EAAK/C,GACzB,GAAInQ,KAAKsT,SAAWJ,EAAKC,UACrBnT,KAAKsT,OAASM,EACd5T,KAAKuT,MAAQK,OAEZ,GAAID,EAAU,CAEf,IAAME,EAAU7T,KAAKuT,MACrBvT,KAAKuT,MAAQK,EACbA,EAAQxM,KAAOyM,EACfA,EAAQ3O,KAAO0O,CAClB,KACI,CAED,IAAME,EAAW9T,KAAKsT,OACtBtT,KAAKsT,OAASM,EACdA,EAAQ1O,KAAO4O,EACfA,EAAS1M,KAAOwM,CACnB,CACD5T,KAAKwT,OAAS,EACd,IAAIO,GAAY,EAChB,OAAO,WACEA,IACDA,GAAY,EACZ,EAAKC,QAAQJ,GAEpB,CACJ,GA1DL,mBA2DI,WACI,GAAI5T,KAAKsT,SAAWJ,EAAKC,UAAzB,CAII,IAAMjY,EAAM8E,KAAKsT,OAAOnD,QAExB,OADAnQ,KAAKgU,QAAQhU,KAAKsT,QACXpY,CACV,CACJ,GApEL,iBAqEI,WACI,GAAI8E,KAAKuT,QAAUL,EAAKC,UAAxB,CAII,IAAMjY,EAAM8E,KAAKuT,MAAMpD,QAEvB,OADAnQ,KAAKgU,QAAQhU,KAAKuT,OACXrY,CACV,CACJ,GA9EL,qBA+EI,SAAQuY,GACJ,GAAIA,EAAKrM,OAAS8L,EAAKC,WAAaM,EAAKvO,OAASgO,EAAKC,UAAW,CAE9D,IAAMc,EAASR,EAAKrM,KACpB6M,EAAO/O,KAAOuO,EAAKvO,KACnBuO,EAAKvO,KAAKkC,KAAO6M,CACpB,MACQR,EAAKrM,OAAS8L,EAAKC,WAAaM,EAAKvO,OAASgO,EAAKC,WAExDnT,KAAKsT,OAASJ,EAAKC,UACnBnT,KAAKuT,MAAQL,EAAKC,WAEbM,EAAKvO,OAASgO,EAAKC,WAExBnT,KAAKuT,MAAQvT,KAAKuT,MAAMnM,KACxBpH,KAAKuT,MAAMrO,KAAOgO,EAAKC,WAElBM,EAAKrM,OAAS8L,EAAKC,YAExBnT,KAAKsT,OAAStT,KAAKsT,OAAOpO,KAC1BlF,KAAKsT,OAAOlM,KAAO8L,EAAKC,WAG5BnT,KAAKwT,OAAS,CACjB,GAvGL,KAwGM9S,OAAOI,SAxGb,gBAwGI,oFACQ2S,EAAOzT,KAAKsT,OADpB,UAEWG,IAASP,EAAKC,UAFzB,gBAGQ,OAHR,SAGcM,EAAKtD,QAHnB,OAIQsD,EAAOA,EAAKvO,KAJpB,iEAxGJ,KERMgP,EAAqBnU,WAAWoU,aAAqD,oBAA/BpU,WAAWoU,YAAYC,IACtEC,EAAb,WAII,WAAYC,GAAgB,UACxBtU,KAAKuU,KAAOL,IAAwC,IAAnBI,EAA2BE,KAAKJ,IAAMrU,WAAWoU,YAAYC,IAAIzL,KAAK5I,WAAWoU,aAClHnU,KAAKyU,WAAazU,KAAKuU,OACvBvU,KAAK0U,WAAa,CACrB,CARL,8BASI,WACI1U,KAAK0U,UAAY1U,KAAKuU,MACzB,GAXL,qBAYI,WACI,OAAwB,IAApBvU,KAAK0U,UACE1U,KAAK0U,UAAY1U,KAAKyU,WAE1BzU,KAAKuU,OAASvU,KAAKyU,UAC7B,IAjBL,qBACI,SAAcH,GACV,OAAO,IAAID,EAAUC,EACxB,KAHL,MDWA,SAAWlB,GAyCP,SAAS3D,EAAKkF,GACV,OAAO,SAAC/F,GAA2C,IAAjCgG,EAAiC,uDAAtB,KAErBC,GAAU,EACVhR,OAAS3H,EAgBb,OAfA2H,EAAS8Q,GAAM,SAAAzU,GACX,IAAI2U,EASJ,OANShR,EACLA,EAAOgO,UAGPgD,GAAU,EAEPjG,EAASpO,KAAKoU,EAAU1U,EAClC,GAAE,KAf4C,wCAgB3C2U,GACAhR,EAAOgO,UAEJhO,CACV,CACJ,CAcD,SAASgM,EAAI8E,EAAO9E,EAAK2B,GACrB,OAAOsD,GAAS,SAAClG,GAAD,IAAWgG,EAAX,uDAAsB,KAAtB,OAA4CD,GAAM,SAAArZ,GAAC,OAAIsT,EAASpO,KAAKoU,EAAU/E,EAAIvU,GAAhC,GAAqC,KAAxF,0CAA4GkW,EAC/H,CAaD,SAASnO,EAAQsR,EAAOI,EAAMvD,GAC1B,OAAOsD,GAAS,SAAClG,GAAD,IAAWgG,EAAX,uDAAsB,KAAtB,OAA4CD,GAAM,SAAArZ,GAAOyZ,EAAKzZ,GAAIsT,EAASpO,KAAKoU,EAAUtZ,EAAK,GAAE,KAAjG,0CAAqHkW,EACxI,CAED,SAAS/G,EAAOkK,EAAOlK,EAAQ+G,GAC3B,OAAOsD,GAAS,SAAClG,GAAD,IAAWgG,EAAX,uDAAsB,KAAtB,OAA4CD,GAAM,SAAAzU,GAAC,OAAIuK,EAAOvK,IAAM0O,EAASpO,KAAKoU,EAAU1U,EAAzC,GAA6C,KAAhG,0CAAoHsR,EACvI,CAkBD,SAASX,EAAO8D,EAAOK,EAAOC,EAASzD,GACnC,IAAI0D,EAASD,EACb,OAAOpF,EAAI8E,GAAO,SAAAzU,GAEd,OADAgV,EAASF,EAAME,EAAQhV,EAE1B,GAAEsR,EACN,CAED,SAASsD,EAASH,EAAOnD,GACrB,IAAI5C,EACEuG,EAAU,CACZC,uBADY,WAERxG,EAAW+F,EAAMU,EAAQC,KAAMD,EAClC,EACDE,wBAJY,WAKK,OAAb3G,QAAkC,IAAbA,GAA+BA,EAASiD,SAChE,GAKCwD,EAAU,IAAIG,GAAQL,GAE5B,OADe,OAAf3D,QAAsC,IAAfA,GAAiCA,EAAWsB,IAAIuC,GAChEA,EAAQV,KAClB,CACD,SAASc,EAASd,EAAOK,GAAsG,IACvHU,EAIAC,EALwBC,EAA+F,uDAAvF,IAAKC,EAAkF,wDAAjEC,EAAiE,wDAAZtE,EAAY,uCAEvH0D,OAAShZ,EACTwL,OAASxL,EACT6Z,EAAoB,EAElBZ,EAAU,CACZa,qBAPuH,uCAQvHZ,uBAFY,WAGRM,EAAef,GAAM,SAAAsB,GACjBF,IACAb,EAASF,EAAME,EAAQe,GACnBJ,IAAYnO,IACZ2N,EAAQC,KAAKJ,GACbA,OAAShZ,GAEbyZ,EAAS,WACL,IAAMO,EAAUhB,EAChBA,OAAShZ,EACTwL,OAASxL,IACJ2Z,GAAWE,EAAoB,IAChCV,EAAQC,KAAKY,GAEjBH,EAAoB,CACvB,EACoB,kBAAVH,GACPO,aAAazO,GACbA,EAAS6G,WAAWoH,EAAQC,SAGb1Z,IAAXwL,IACAA,EAAS,EACT0O,eAAeT,GAG1B,GACJ,EACDU,qBA/BY,WAgCJP,GAAyBC,EAAoB,IAClC,OAAXJ,QAA8B,IAAXA,GAA6BA,IAEvD,EACDJ,wBApCY,WAqCRI,OAASzZ,EACTwZ,EAAa7D,SAChB,GAKCwD,EAAU,IAAIG,GAAQL,GAE5B,OADe,OAAf3D,QAAsC,IAAfA,GAAiCA,EAAWsB,IAAIuC,GAChEA,EAAQV,KAClB,CAqCD,SAAS2B,EAAM3B,GAA+C,IAEtD4B,EAFcC,EAAwC,uDAA/B,SAAC5M,EAAG6M,GAAJ,OAAU7M,IAAM6M,CAAhB,EACvBC,GAAY,EAEhB,OAAOjM,EAAOkK,GAAO,SAAA/T,GACjB,IAAM+V,EAAaD,IAAcF,EAAO5V,EAAO2V,GAG/C,OAFAG,GAAY,EACZH,EAAQ3V,EACD+V,CACV,GARyD,uCAS7D,CA/ODvD,EAAMH,KAAO,kBAAMF,EAAAA,IAAN,EAkCbK,EAAMwD,MAHN,SAAejC,EAAOnD,GAClB,OAAOiE,EAASd,GAAO,cAAc,OAAGzY,GAAW,OAAMA,EAAWsV,EACvE,EA8BD4B,EAAM3D,KAAOA,EAgBb2D,EAAMvD,IAAMA,EAeZuD,EAAM/P,QAAUA,EAIhB+P,EAAM3I,OAASA,EAOf2I,EAAMyD,OAHN,SAAgBlC,GACZ,OAAOA,CACV,EAKDvB,EAAM0D,IAHN,WAAwB,2BAARC,EAAQ,yBAARA,EAAQ,gBACpB,OAAO,SAACnI,GAAD,IAAWgG,EAAX,uDAAsB,KAAM3C,EAA5B,8CAA4CD,EAAAA,WAAA,IAAsB+E,EAAOlH,KAAI,SAAA8E,GAAK,OAAIA,GAAM,SAAAzU,GAAC,OAAI0O,EAASpO,KAAKoU,EAAU1U,EAA5B,GAAgC,KAAM+R,EAAjD,KAAlF,CACV,EAcDmB,EAAMvC,OAASA,EAwEfuC,EAAMqC,SAAWA,EAiBjBrC,EAAM4D,WATN,SAAoBrC,GAA8B,IAAvBiB,EAAuB,uDAAf,EAAGpE,EAAY,uCAC9C,OAAO4B,EAAMqC,SAASd,GAAO,SAACsC,EAAM/W,GAChC,OAAK+W,GAGLA,EAAKrR,KAAK1F,GACH+W,GAHI,CAAC/W,EAIf,GAAE0V,OAAO1Z,GAAW,OAAMA,EAAWsV,EACzC,EA8BD4B,EAAMkD,MAAQA,EAwBdlD,EAAM8D,MANN,SAAevC,EAAOwC,EAAK3F,GACvB,MAAO,CACH4B,EAAM3I,OAAOkK,EAAOwC,EAAK3F,GACzB4B,EAAM3I,OAAOkK,GAAO,SAAAzU,GAAC,OAAKiX,EAAIjX,EAAT,GAAasR,GAEzC,EA6DD4B,EAAMgE,OAvCN,SAAgBzC,GAAgD,IAAzC0C,EAAyC,wDACxDD,GADwD,uDAAJ,IACnCzb,QACjBiT,EAAW+F,GAAM,SAAAzU,GACbkX,EACAA,EAAOxR,KAAK1F,GAGZmV,EAAQC,KAAKpV,EAEpB,IACKoX,EAAQ,WACC,OAAXF,QAA8B,IAAXA,GAA6BA,EAAO/T,SAAQ,SAAAnD,GAAC,OAAImV,EAAQC,KAAKpV,EAAjB,IAChEkX,EAAS,IACZ,EACK/B,EAAU,IAAIG,GAAQ,CACxBJ,uBADwB,WAEfxG,IACDA,EAAW+F,GAAM,SAAAzU,GAAC,OAAImV,EAAQC,KAAKpV,EAAjB,IAEzB,EACDqX,sBANwB,WAOhBH,IACIC,EACA9I,WAAW+I,GAGXA,IAGX,EACD/B,wBAhBwB,WAiBhB3G,GACAA,EAASiD,UAEbjD,EAAW,IACd,IAEL,OAAOyG,EAAQV,KAClB,EApUa,IAsUR6C,EAtUQ,WAuUV,WAAY7C,GAAO,UACf3U,KAAK2U,MAAQA,EACb3U,KAAKiS,YAAc,IAAII,CAC1B,CA1US,6BA4UV,SAAI5P,GACA,OAAO,IAAI+U,EAAe3H,EAAI7P,KAAK2U,MAAOlS,EAAIzC,KAAKiS,aACtD,GA9US,qBAgVV,SAAQxP,GACJ,OAAO,IAAI+U,EAAenU,EAAQrD,KAAK2U,MAAOlS,EAAIzC,KAAKiS,aAC1D,GAlVS,oBAmVV,SAAOxP,GACH,OAAO,IAAI+U,EAAe/M,EAAOzK,KAAK2U,MAAOlS,EAAIzC,KAAKiS,aACzD,GArVS,oBAuVV,SAAO+C,EAAOC,GACV,OAAO,IAAIuC,EAAe3G,EAAO7Q,KAAK2U,MAAOK,EAAOC,EAASjV,KAAKiS,aACrE,GAzVS,mBA2VV,WACI,OAAO,IAAIuF,EAAelB,EAAMtW,KAAK2U,WAAOzY,EAAW8D,KAAKiS,aAC/D,GA7VS,sBA8VV,SAAS+C,GAA0F,IAAnFY,EAAmF,uDAA3E,IAAKC,EAAsE,wDAArDC,EAAqD,wDAAtBE,EAAsB,uCAC/F,OAAO,IAAIwB,EAAe/B,EAASzV,KAAK2U,MAAOK,EAAOY,EAAOC,EAASC,EAAuBE,EAAsBhW,KAAKiS,aAC3H,GAhWS,gBAoWV,SAAGrD,EAAUgG,EAAU3C,GACnB,OAAOjS,KAAK2U,MAAM/F,EAAUgG,EAAU3C,EACzC,GAtWS,kBAwWV,SAAKrD,EAAUgG,EAAU3C,GACrB,OAAOxC,EAAKzP,KAAK2U,MAAVlF,CAAiBb,EAAUgG,EAAU3C,EAC/C,GA1WS,qBA2WV,WACIjS,KAAKiS,YAAYJ,SACpB,KA7WS,KAoYduB,EAAMqE,MAHN,SAAe9C,GACX,OAAO,IAAI6C,EAAe7C,EAC7B,EAYDvB,EAAMsE,qBAPN,SAA8BrC,EAASsC,GAA2B,IAAhB9H,EAAgB,uDAAV,SAAA+H,GAAE,OAAIA,CAAJ,EAChDnV,EAAK,kBAAaoB,EAAOyR,KAAKzF,EAAG,WAAH,aAAzB,EAGLhM,EAAS,IAAI2R,GAAQ,CAAEJ,uBAFF,kBAAMC,EAAQwC,GAAGF,EAAWlV,EAA5B,EAE8C8S,wBAD5C,kBAAMF,EAAQyC,eAAeH,EAAWlV,EAAxC,IAE7B,OAAOoB,EAAO8Q,KACjB,EAYDvB,EAAM2E,oBAPN,SAA6B1C,EAASsC,GAA2B,IAAhB9H,EAAgB,uDAAV,SAAA+H,GAAE,OAAIA,CAAJ,EAC/CnV,EAAK,kBAAaoB,EAAOyR,KAAKzF,EAAG,WAAH,aAAzB,EAGLhM,EAAS,IAAI2R,GAAQ,CAAEJ,uBAFF,kBAAMC,EAAQ2C,iBAAiBL,EAAWlV,EAA1C,EAE8C8S,wBAD5C,kBAAMF,EAAQ4C,oBAAoBN,EAAWlV,EAA7C,IAE7B,OAAOoB,EAAO8Q,KACjB,EAQDvB,EAAM8E,UAHN,SAAmBvD,GACf,OAAO,IAAI/N,SAAQ,SAAA/K,GAAO,OAAI4T,EAAKkF,EAALlF,CAAY5T,EAAhB,GAC7B,EAeDuX,EAAM+E,gBAJN,SAAyBxD,EAAOyD,GAE5B,OADAA,OAAQlc,GACDyY,GAAM,SAAAzU,GAAC,OAAIkY,EAAQlY,EAAZ,GACjB,EAoBDkT,EAAMiF,yBAdN,SAAkC1D,EAAOyD,GACrC,IAAIE,EAAQ,KACZ,SAASC,EAAIrY,GACC,OAAVoY,QAA4B,IAAVA,GAA4BA,EAAMzG,UACpDyG,EAAQ,IAAIjG,EACZ+F,EAAQlY,EAAGoY,EACd,CACDC,OAAIrc,GACJ,IAAMsV,EAAamD,GAAM,SAAAzU,GAAC,OAAIqY,EAAIrY,EAAR,IAC1B,OAAOgS,GAAa,WAChBV,EAAWK,UACD,OAAVyG,QAA4B,IAAVA,GAA4BA,EAAMzG,SACvD,GACJ,EAjca,IAmcR2G,EAncQ,WAocV,WAAYC,EAAaH,GAAO,qBAC5BtY,KAAKyY,YAAcA,EACnBzY,KAAK0Y,SAAW,EAChB1Y,KAAK2Y,aAAc,EACnB,IAAMxD,EAAU,CACZC,uBAAwB,WACpBqD,EAAYG,YAAY,EAC3B,EACDrD,wBAAyB,WACrBkD,EAAYI,eAAe,EAC9B,GAKL7Y,KAAKqV,QAAU,IAAIG,GAAQL,GACvBmD,GACAA,EAAMxF,IAAI9S,KAAKqV,QAEtB,CAvdS,qCAwdV,SAAYoD,GAERzY,KAAK0Y,UACR,GA3dS,kCA4dV,SAAqBD,GAEpB,GA9dS,0BA+dV,SAAaA,EAAaK,GAEtB9Y,KAAK2Y,aAAc,CACtB,GAleS,uBAmeV,SAAUF,GAENzY,KAAK0Y,WACiB,IAAlB1Y,KAAK0Y,WACL1Y,KAAKyY,YAAYM,gBACb/Y,KAAK2Y,cACL3Y,KAAK2Y,aAAc,EACnB3Y,KAAKqV,QAAQC,KAAKtV,KAAKyY,YAAY5Y,QAG9C,KA7eS,KAufduT,EAAM4F,eAJN,SAAwBC,EAAKX,GAEzB,OADiB,IAAIE,EAAgBS,EAAKX,GAC1BjD,QAAQV,KAC3B,EAsCDvB,EAAM8F,oBAjCN,SAA6BC,GACzB,OAAO,SAACvK,GACJ,IAAIwK,EAAQ,EACRC,GAAY,EACVC,EAAW,CACbC,YADa,WAETH,GACH,EACDI,UAJa,WAMK,MADdJ,IAEID,EAAWJ,gBACPM,IACAA,GAAY,EACZzK,KAGX,EACD6K,qBAda,WAgBZ,EACDC,aAjBa,WAkBTL,GAAY,CACf,GAGL,OADAF,EAAWP,YAAYU,GAChB,CACHzH,QADG,WAECsH,EAAWN,eAAeS,EAC7B,EAER,CACJ,CA3hBL,EA6hBGlG,IAAUA,EAAQ,CAAC,IACf,IAAMuG,GAAb,WACI,WAAYlb,GAAM,UACduB,KAAK4Z,cAAgB,EACrB5Z,KAAK6Z,gBAAkB,EACvB7Z,KAAK8Z,eAAiB,EACtB9Z,KAAK+Z,UAAY,GACjB/Z,KAAKvB,KAAL,UAAeA,EAAf,YAAuBkb,EAAeK,WACtCL,EAAeM,IAAInH,IAAI9S,KAC1B,CARL,+BASI,SAAM4Z,GACF5Z,KAAKka,WAAa,IAAI7F,EACtBrU,KAAK4Z,cAAgBA,CACxB,GAZL,kBAaI,WACI,GAAI5Z,KAAKka,WAAY,CACjB,IAAMC,EAAUna,KAAKka,WAAWC,UAChCna,KAAK+Z,UAAUnU,KAAKuU,GACpBna,KAAK8Z,gBAAkBK,EACvBna,KAAK6Z,iBAAmB,EACxB7Z,KAAKka,gBAAahe,CACrB,CACJ,KArBL,KAuBAyd,GAAeM,IAAM,IAAI1H,IACzBoH,GAAeK,QAAU,EACzB,IACMI,GAAAA,WACF,WAAYC,GAA0D,IAA/C5b,EAA+C,uDAAxC6b,KAAKC,SAAS/O,SAAS,IAAI7P,MAAM,EAAG,GAAI,UAClEqE,KAAKqa,UAAYA,EACjBra,KAAKvB,KAAOA,EACZuB,KAAKwa,eAAiB,CACzB,kCACD,WACI,IAAIC,EACoB,QAAvBA,EAAKza,KAAK0a,eAA4B,IAAPD,GAAyBA,EAAGhI,OAC/D,sBACD,SAAMjE,EAAOoL,GAAe,WAClBS,EAAYra,KAAKqa,UACvB,KAAIA,GAAa,GAAKT,EAAgBS,GAAtC,CAGKra,KAAK0a,UACN1a,KAAK0a,QAAU,IAAI3M,KAEvB,IAAMqL,EAASpZ,KAAK0a,QAAQ7a,IAAI2O,EAAM5N,QAAU,EAGhD,GAFAZ,KAAK0a,QAAQxM,IAAIM,EAAM5N,MAAOwY,EAAQ,GACtCpZ,KAAKwa,gBAAkB,EACnBxa,KAAKwa,gBAAkB,EAAG,CAK1B,IAAIG,EAFJ3a,KAAKwa,eAA6B,GAAZH,EAGtB,IAN0B,EAMtBO,EAAW,EANW,IAOG5a,KAAK0a,SAPR,IAO1B,2BAA2C,oBAA/BlM,EAA+B,KAAxB4K,EAAwB,OAClCuB,GAAYC,EAAWxB,KACxBuB,EAAWnM,EACXoM,EAAWxB,EAElB,CAZyB,+BAa1BxG,QAAQC,KAAR,WAAiB7S,KAAKvB,KAAtB,sDAAwEmb,EAAxE,uDAAoIgB,EAApI,OACAhI,QAAQC,KAAK8H,EAChB,CACD,OAAO,WACH,IAAMvB,EAAS,EAAKsB,QAAQ7a,IAAI2O,EAAM5N,QAAU,EAChD,EAAK8Z,QAAQxM,IAAIM,EAAM5N,MAAOwY,EAAQ,EACzC,CA1BA,CA2BJ,OAzCCgB,GA2CAS,GAAAA,WAKF,WAAYja,GAAO,UACfZ,KAAKY,MAAQA,CAChB,gCACD,WACIgS,QAAQC,KAAK7S,KAAKY,MAAMsW,MAAM,MAAMvb,MAAM,GAAGY,KAAK,MACrD,yBATD,WACI,IAAIke,EACJ,OAAO,IAAII,EAAwC,QAA5BJ,GAAK,IAAIpW,OAAQmK,aAA0B,IAAPiM,EAAgBA,EAAK,GACnF,OAJCI,GAYAC,GAAAA,GACF,WAAYla,GAAO,UACfZ,KAAKY,MAAQA,CAChB,IAqCQ4U,GAAb,WACI,WAAYL,GACR,IAAIsF,EAAIM,EAAIC,EAAIpN,EAAId,EADH,UAEjB9M,KAAKwT,MAAQ,EACbxT,KAAKib,SAAW9F,EAChBnV,KAAKkb,aAA2E,QAAxBT,EAAKza,KAAKib,gBAA6B,IAAPR,OAAgB,EAASA,EAAGzE,sBAAwB,IAAIoE,GAA4G,QAA5FY,EAA8B,QAAxBD,EAAK/a,KAAKib,gBAA6B,IAAPF,OAAgB,EAASA,EAAG/E,4BAAyC,IAAPgF,EAAgBA,GArG1P,QAqG8R9e,EACxT8D,KAAKmb,UAAqC,QAAxBvN,EAAK5N,KAAKib,gBAA6B,IAAPrN,OAAgB,EAASA,EAAGwN,WAAa,IAAIzB,GAAe3Z,KAAKib,SAASG,gBAAalf,EACzI8D,KAAKqb,eAA0C,QAAxBvO,EAAK9M,KAAKib,gBAA6B,IAAPnO,OAAgB,EAASA,EAAGwO,aACtF,CARL,iCASI,WACI,IAAIb,EAAIM,EAAIC,EAAIpN,EAChB,IAAK5N,KAAKub,UAAW,CAcjB,GAbAvb,KAAKub,WAAY,GAUmB,QAA9Bd,EAAKza,KAAKqb,sBAAmC,IAAPZ,OAAgB,EAASA,EAAGe,WAAaxb,MACjFA,KAAKqb,eAAetV,QAEpB/F,KAAKyb,WAOLzb,KAAKyb,gBAAavf,EAClB8D,KAAKwT,MAAQ,EAE+E,QAA/FwH,EAA8B,QAAxBD,EAAK/a,KAAKib,gBAA6B,IAAPF,OAAgB,EAASA,EAAGxF,+BAA4C,IAAPyF,GAAyBA,EAAGxa,KAAKua,GAC7G,QAA3BnN,EAAK5N,KAAKkb,mBAAgC,IAAPtN,GAAyBA,EAAGiE,SACnE,CACJ,GAtCL,iBA2CI,WAAY,IACJ4I,EADI,OAgDR,OA9CuB,QAAtBA,EAAKza,KAAK0b,cAA2B,IAAPjB,IAAsBza,KAAK0b,OAAS,SAACC,EAAU/G,EAAU3C,GACpF,IAAIwI,EAAIM,EAAIC,EAAIpN,EAAId,EACpB,GAAI,EAAKoO,aAAe,EAAK1H,MAAqC,EAA7B,EAAK0H,YAAYb,UAElD,OADAzH,QAAQC,KAAR,WAAiB,EAAKqI,YAAYzc,KAAlC,+EACOsU,EAAAA,KAEX,GAAI,EAAKwI,UAEL,OAAOxI,EAAAA,KAEP6B,IACA+G,EAAWA,EAAShT,KAAKiM,IAE7B,IACIgH,EADEC,EAAY,IAAIf,GAAgBa,GAGlC,EAAKT,aAAe,EAAK1H,OAAS8G,KAAKwB,KAAkC,GAA7B,EAAKZ,YAAYb,aAE7DwB,EAAUrN,MAAQqM,GAAWzY,SAC7BwZ,EAAgB,EAAKV,YAAYa,MAAMF,EAAUrN,MAAO,EAAKgF,MAAQ,IAKpE,EAAKiI,WAKD,EAAKA,sBAAsBX,IACD,QAA9BhO,EAAK,EAAKuO,sBAAmC,IAAPvO,IAAsB,EAAKuO,eAAiB,IAAIW,IACvF,EAAKP,WAAa,CAAC,EAAKA,WAAYI,IAGpC,EAAKJ,WAAW7V,KAAKiW,IAT0E,QAA9Fd,EAA8B,QAAxBN,EAAK,EAAKQ,gBAA6B,IAAPR,OAAgB,EAASA,EAAGrF,8BAA2C,IAAP2F,GAAyBA,EAAGva,KAAKia,EAAI,GAC5I,EAAKgB,WAAaI,EAC4E,QAA7FjO,EAA8B,QAAxBoN,EAAK,EAAKC,gBAA6B,IAAPD,OAAgB,EAASA,EAAGzD,6BAA0C,IAAP3J,GAAyBA,EAAGpN,KAAKwa,EAAI,IAS/I,EAAKxH,QACL,IAAM3P,EAASqO,GAAa,WAA0B,OAAlB0J,QAA4C,IAAlBA,GAAoCA,IAAiB,EAAKK,gBAAgBJ,EAAa,IAOrJ,OANI5J,aAAuBI,EACvBJ,EAAYa,IAAIjP,GAEXsH,MAAMQ,QAAQsG,IACnBA,EAAYrM,KAAK/B,GAEdA,CACV,GACM7D,KAAK0b,MACf,GA5FL,6BA6FI,SAAgB9M,GACZ,IAAI6L,EAAIM,EAAIC,EAAIpN,EAEhB,GAD6F,QAA5FmN,EAA8B,QAAxBN,EAAKza,KAAKib,gBAA6B,IAAPR,OAAgB,EAASA,EAAGpE,4BAAyC,IAAP0E,GAAyBA,EAAGva,KAAKia,EAAIza,MACrIA,KAAKyb,WAAV,CAGA,GAAmB,IAAfzb,KAAKwT,MAIL,OAHAxT,KAAKyb,gBAAavf,EAC8E,QAA/F0R,EAA8B,QAAxBoN,EAAKhb,KAAKib,gBAA6B,IAAPD,OAAgB,EAASA,EAAGzF,+BAA4C,IAAP3H,GAAyBA,EAAGpN,KAAKwa,EAAIhb,WAC7IA,KAAKwT,MAAQ,GAIjB,IAAMnF,EAAYrO,KAAKyb,WACjBpL,EAAQhC,EAAUL,QAAQY,GAChC,IAAe,IAAXyB,EAIA,MAHAuC,QAAQsJ,IAAI,YAAalc,KAAKub,WAC9B3I,QAAQsJ,IAAI,QAASlc,KAAKwT,OAC1BZ,QAAQsJ,IAAI,OAAQrhB,KAAKC,UAAUkF,KAAKyb,aAClC,IAAIpX,MAAM,yCAEpBrE,KAAKwT,QACLnF,EAAUgC,QAASnU,EACnB,IAAMigB,EAAsBnc,KAAKqb,eAAeG,UAAYxb,KAC5D,GAxJoB,EAwJhBA,KAAKwT,OAA+BnF,EAAU9S,OAAQ,CAEtD,IADA,IAAIgQ,EAAI,EACCjQ,EAAI,EAAGA,EAAI+S,EAAU9S,OAAQD,IAC9B+S,EAAU/S,GACV+S,EAAU9C,KAAO8C,EAAU/S,GAEtB6gB,IACLnc,KAAKqb,eAAe7d,MAChB+N,EAAIvL,KAAKqb,eAAe/f,GACxB0E,KAAKqb,eAAe/f,KAIhC+S,EAAU9S,OAASgQ,CACtB,CAjCA,CAkCJ,GApIL,sBAqII,SAASqD,EAAUhO,GACf,IAAI6Z,EACJ,GAAK7L,EAAL,CAGA,IAAMR,GAAyC,QAAxBqM,EAAKza,KAAKib,gBAA6B,IAAPR,OAAgB,EAASA,EAAG2B,kBAAoBtN,EACvG,GAAKV,EAIL,IACIQ,EAAShO,MAAMA,EAClB,CACD,MAAOV,GACHkO,EAAalO,EAChB,MARG0O,EAAShO,MAAMA,EAHlB,CAYJ,GArJL,2BAuJI,SAAcyb,GAEV,IADA,IAAMhO,EAAYgO,EAAGb,QAAQC,WACtBY,EAAG/gB,EAAI+gB,EAAG7e,KAEbwC,KAAKsc,SAASjO,EAAUgO,EAAG/gB,KAAM+gB,EAAGzb,OAExCyb,EAAGtW,OACN,GA9JL,kBAmKI,SAAK4O,GACD,IAAI8F,EAAIM,EAAIC,EAAIpN,EAMhB,IALmC,QAA9B6M,EAAKza,KAAKqb,sBAAmC,IAAPZ,OAAgB,EAASA,EAAGe,WACnExb,KAAKuc,cAAcvc,KAAKqb,gBACC,QAAxBN,EAAK/a,KAAKmb,gBAA6B,IAAPJ,GAAyBA,EAAGzT,QAExC,QAAxB0T,EAAKhb,KAAKmb,gBAA6B,IAAPH,GAAyBA,EAAGpd,MAAMoC,KAAKwT,OACnExT,KAAKyb,WAGL,GAAIzb,KAAKyb,sBAAsBX,GAChC9a,KAAKsc,SAAStc,KAAKyb,WAAY9G,OAE9B,CACD,IAAM0H,EAAKrc,KAAKqb,eAChBgB,EAAGG,QAAQxc,KAAM2U,EAAO3U,KAAKyb,WAAWlgB,QACxCyE,KAAKuc,cAAcF,EACtB,MACwB,QAAxBzO,EAAK5N,KAAKmb,gBAA6B,IAAPvN,GAAyBA,EAAGtG,MAChE,GAtLL,0BAuLI,WACI,OAAOtH,KAAKwT,MAAQ,CACvB,KAzLL,KA4LMwI,GAAAA,WACF,aAAc,UAIVhc,KAAK1E,GAAK,EAIV0E,KAAKxC,IAAM,CACd,kCACD,SAAQ6X,EAASzU,EAAOpD,GACpBwC,KAAK1E,EAAI,EACT0E,KAAKxC,IAAMA,EACXwC,KAAKwb,QAAUnG,EACfrV,KAAKY,MAAQA,CAChB,sBACD,WACIZ,KAAK1E,EAAI0E,KAAKxC,IACdwC,KAAKwb,aAAUtf,EACf8D,KAAKY,WAAQ1E,CAChB,OArBC8f,GE9zBkBtc,OAAOY,UAAUC,eAyHlC,SAASkc,GAAkBrc,GAC9B,IADmC,EAC7Bsc,EAAU,GADmB,IAThC,SAA6Btc,GAGhC,IAFA,IAAIlF,EAAM,GACNyhB,EAAQjd,OAAOsD,eAAe5C,GAC3BV,OAAOY,YAAcqc,GACxBzhB,EAAMA,EAAI4U,OAAOpQ,OAAOkd,oBAAoBD,IAC5CA,EAAQjd,OAAOsD,eAAe2Z,GAElC,OAAOzhB,CACV,CAGsB2hB,CAAoBzc,IAFJ,IAEnC,2BAA6C,KAAlCC,EAAkC,QAChB,oBAAdD,EAAIC,IACXqc,EAAQ9W,KAAKvF,EAEpB,CANkC,+BAOnC,OAAOqc,CACV,CClKD,ICJIjC,GDaAqC,GAAgC,qBAAbC,UAA4BA,SAASC,UAAYD,SAASC,SAASC,KAAKjP,QAAQ,gBAAkB,EAEzH,SAAStP,GAAQiQ,EAASlG,GACtB,IAAI5E,EAsBJ,OApBIA,EADgB,IAAhB4E,EAAKlN,OACIoT,EAGAA,EAAQuO,QAAQ,cAAc,SAACC,EAAOC,GAC3C,IAAM/M,EAAQ+M,EAAK,GACb3gB,EAAMgM,EAAK4H,GACbxM,EAASsZ,EAOb,MANmB,kBAAR1gB,EACPoH,EAASpH,EAEW,kBAARA,GAAmC,mBAARA,QAA6B,IAARA,GAA0B,OAARA,IAC9EoH,EAASsG,OAAO1N,IAEboH,CACV,IAEDiZ,KAEAjZ,EAAS,SAAWA,EAAOqZ,QAAQ,WAAY,QAAU,UAEtDrZ,CACV,CAsCM,SAASwZ,GAASC,EAAM3O,GAAkB,2BAANlG,EAAM,iCAANA,EAAM,kBAC7C,OAAO/J,GAAQiQ,EAASlG,EAC3B,CCzEM,IAAM8U,GAAmB,KAC5BC,IAAa,EACbC,IAAe,EACfC,IAAW,EAGXC,IAAS,EASTC,QAAa1hB,EAIJ2hB,GAA2B,kBAAT9b,KAAoBA,KAAyB,kBAAX+b,EAAAA,EAAsBA,EAAAA,EAAS,CAAC,EAC7FC,QAAc7hB,EACY,qBAAnB2hB,GAAQG,QAA4D,qBAA3BH,GAAQG,OAAO7hB,QAE/D4hB,GAAcF,GAAQG,OAAO7hB,QAEL,qBAAZA,UAEZ4hB,GAAc5hB,SAElB,IAAM8hB,GAAwK,kBAAlD,QAAzFxD,GAAqB,OAAhBsD,SAAwC,IAAhBA,QAAyB,EAASA,GAAYG,gBAA6B,IAAPzD,QAAgB,EAASA,GAAG0D,UAC1JC,GAAqBH,IAAsG,cAAhE,OAAhBF,SAAwC,IAAhBA,QAAyB,EAASA,GAAYrb,MAEvH,GAAyB,kBAAd2b,WAA2BD,GAmBjC,GAA2B,kBAAhBL,GAA0B,CACtCP,GAAuC,UAAzBO,GAAYO,SAC1Bb,GAAyC,WAAzBM,GAAYO,UAC5BZ,GAAqC,UAAzBK,GAAYO,aACKP,GAAYQ,IAAZ,QAA6BR,GAAYQ,IAAZ,cAC5CN,KACJF,GAAYQ,IAAZ,MAA2BR,GAAYQ,IAAZ,+BAC3BhB,GACEA,GACZ,IAAMiB,GAAeT,GAAYQ,IAAZ,kBACrB,GAAIC,GACA,IACI,IAAMC,GAAY5jB,KAAK8D,MAAM6f,IACvBE,GAAWD,GAAUE,mBAAmB,KACpCF,GAAUG,OACFH,GAAUI,SAEhBH,IAAsBnB,GACRkB,GAAUK,uBACvC,CACD,MAAO5e,IACN,EAEO,CACf,MAGG0S,QAAQ3O,MAAM,oCA5CduZ,IADAI,GAAaS,UAAUU,WACC/Q,QAAQ,YAAc,EAC9CyP,GAAeG,GAAW5P,QAAQ,cAAgB,GACxC4P,GAAW5P,QAAQ,cAAgB,GAAK4P,GAAW5P,QAAQ,SAAW,GAAK4P,GAAW5P,QAAQ,WAAa,MAAQqQ,UAAUW,gBAAkBX,UAAUW,eACnKtB,GAAWE,GAAW5P,QAAQ,UAAY,EACd,OAAf4P,SAAsC,IAAfA,IAAiCA,GAAW5P,QAAQ,QACxF2P,IAAS,EAMTsB,GAAa,CAAEzf,IAAK,6BAA8B0f,QAAS,CAAC,aAAe,KAGzDb,UAAUc,SA0CzB,IAAMC,GAAY5B,GACZ6B,GAAc5B,GAOdsB,IAHepB,IAAiBE,GAAQyB,cAG5B1B,IAOZ2B,GAAsD,oBAAxB1B,GAAQ2B,cAA+B3B,GAAQyB,eAO9D,WACxB,GAAIC,GAAqB,CACrB,IAAME,EAAU,GAChB5B,GAAQ7F,iBAAiB,WAAW,SAAC9X,GACjC,GAAIA,EAAEod,MAAQpd,EAAEod,KAAKoC,wBACjB,IAAK,IAAIpkB,EAAI,EAAG2P,EAAMwU,EAAQlkB,OAAQD,EAAI2P,EAAK3P,IAAK,CAChD,IAAMqkB,EAAYF,EAAQnkB,GAC1B,GAAIqkB,EAAU/H,KAAO1X,EAAEod,KAAKoC,wBAGxB,OAFAD,EAAQG,OAAOtkB,EAAG,QAClBqkB,EAAUhE,UAGjB,CAER,IACD,IAAIkE,EAAS,EACb,OAAO,SAAClE,GACJ,IAAMmE,IAASD,EACfJ,EAAQ7Z,KAAK,CACTgS,GAAIkI,EACJnE,SAAUA,IAEdkC,GAAQ2B,YAAY,CAAEE,wBAAyBI,GAAQ,IAC1D,CACJ,CAEJ,CA1B2B,GAyCrB,IC3JHrF,GD2JSsF,MAAchB,IAAaA,GAAU/Q,QAAQ,WAAa,GE1J1DgS,IF2JejB,IAAaA,GAAU/Q,QAAQ,YAC/B+R,IAAahB,IAAaA,GAAU/Q,QAAQ,UAC/C+Q,IAAaA,GAAU/Q,QAAQ,QAC5B+Q,IAAaA,GAAU/Q,QAAQ,WE9J3D,WACI,WAAYvL,GAAI,UACZzC,KAAKyC,GAAKA,EACVzC,KAAKigB,eAAY/jB,EACjB8D,KAAKkgB,gBAAahkB,CACrB,CALL,6BAMI,SAAIO,GACA,IAAM+C,EAAM3E,KAAKC,UAAU2B,GAK3B,OAJIuD,KAAKkgB,aAAe1gB,IACpBQ,KAAKkgB,WAAa1gB,EAClBQ,KAAKigB,UAAYjgB,KAAKyC,GAAGhG,IAEtBuD,KAAKigB,SACf,KAbL,MCDaE,GAAb,WACI,WAAYC,GAAU,UAClBpgB,KAAKogB,SAAWA,EAChBpgB,KAAKqgB,SAAU,CAClB,CAJL,6BAWI,WACI,IAAKrgB,KAAKqgB,QACN,IACIrgB,KAAKsgB,OAAStgB,KAAKogB,UACtB,CACD,MAAOze,GACH3B,KAAKugB,OAAS5e,CACjB,CALD,QAOI3B,KAAKqgB,SAAU,CAClB,CAEL,GAAIrgB,KAAKugB,OACL,MAAMvgB,KAAKugB,OAEf,OAAOvgB,KAAKsgB,MACf,GA3BL,oBA+BI,WAAiB,OAAOtgB,KAAKsgB,MAAS,KA/B1C,KF4CO,SAASE,GAAuB5f,GACnC,OAAOA,EAAMsc,QAAQ,kCAAmC,OAC3D,CAoOM,SAASuD,GAAmBxlB,GAC/B,OAAOA,GAAQ,IAAuBA,GAAQ,EACjD,CA0CM,SAASylB,GAAgBC,GAC5B,OAAQ,OAAUA,GAAYA,GAAY,KAC7C,CAIM,SAASC,GAAeD,GAC3B,OAAQ,OAAUA,GAAYA,GAAY,KAC7C,CAIM,SAASE,GAAiBC,EAAeC,GAC5C,OAA2CA,EAAe,OAAjDD,EAAgB,OAAW,IAAgC,KACvE,CAIM,SAASE,GAAiBC,EAAKhW,EAAKiW,GACvC,IAAMP,EAAWM,EAAIzlB,WAAW0lB,GAChC,GAAIR,GAAgBC,IAAaO,EAAS,EAAIjW,EAAK,CAC/C,IAAMkW,EAAeF,EAAIzlB,WAAW0lB,EAAS,GAC7C,GAAIN,GAAeO,GACf,OAAON,GAAiBF,EAAUQ,EAEzC,CACD,OAAOR,CACV,CAmHD,IAAMS,GAAiB,uBAqEWjX,OAAOkX,aAAa,WA+FhDC,GAAAA,WAOF,aAAc,UACVthB,KAAKuhB,MAwCF1mB,KAAK8D,MAAM,031BAvCjB,+CACD,SAAqB6iB,GAEjB,GAAIA,EAAY,GACZ,OAAkB,KAAdA,EACO,EAEO,KAAdA,EACO,EAEJ,EAGX,GAAIA,EAAY,IACZ,OAAO,EAKX,IAHA,IAAMlE,EAAOtd,KAAKuhB,MACZE,EAAYnE,EAAK/hB,OAAS,EAC5BmmB,EAAY,EACTA,GAAaD,GAChB,GAAID,EAAYlE,EAAK,EAAIoE,GAErBA,GAAY,MAEX,MAAIF,EAAYlE,EAAK,EAAIoE,EAAY,IAMtC,OAAOpE,EAAK,EAAIoE,EAAY,GAJ5BA,EAAY,EAAIA,EAAY,CAK/B,CAEL,OAAO,CACV,8BA1CD,WAII,OAHKJ,EAAkBK,YACnBL,EAAkBK,UAAY,IAAIL,GAE/BA,EAAkBK,SAC5B,OANCL,GA6CNA,GAAkBK,UAAY,KAyDvB,IACMC,GAAb,WAOI,WAAYC,GAAsB,UAC9B7hB,KAAK6hB,qBAAuBA,CAC/B,CATL,qCAUI,SAAYL,GACR,OAAOxhB,KAAK6hB,qBAAqB5T,IAAIuT,EACxC,GAZL,kCAiBI,SAAqBA,GACjB,OAAOxhB,KAAK6hB,qBAAqBhiB,IAAI2hB,EACxC,GAnBL,qCAoBI,WACI,OAAO,IAAIjP,IAAIvS,KAAK6hB,qBAAqB/a,OAC5C,IAtBL,0BACI,SAAmBgb,GACf,OAAOF,EAAoBrL,MAAM1W,IAAIsL,MAAMxO,KAAKmlB,GACnD,GAHL,wBAII,WACI,OAAOF,EAAoBG,SAASnhB,KACvC,KANL,KAwBA6Z,GAAKmH,GACLA,GAAoBI,uBAAyB,IAAI7B,IAAK,WAGlD,OAAOtlB,KAAK8D,MAAM,yvmBACrB,IACDijB,GAAoBrL,MAAQ,IAAIyJ,IAAkB,SAAC8B,GAC/C,SAASG,EAAWjX,GAEhB,IADA,IAAMnH,EAAS,IAAIkK,IACVzS,EAAI,EAAGA,EAAI0P,EAAIzP,OAAQD,GAAK,EACjCuI,EAAOqK,IAAIlD,EAAI1P,GAAI0P,EAAI1P,EAAI,IAE/B,OAAOuI,CACV,CAQD,SAASqe,EAAcC,EAAMC,GACzB,IAAKD,EACD,OAAOC,EAEX,IAJ+B,EAIzBve,EAAS,IAAIkK,IAJY,IAKJoU,GALI,IAK/B,2BAAiC,oBAArB3iB,EAAqB,KAAhBoB,EAAgB,KACzBwhB,EAAKnU,IAAIzO,IACTqE,EAAOqK,IAAI1O,EAAKoB,EAEvB,CAT8B,+BAU/B,OAAOiD,CACV,CACD,IAAMyZ,EAAO7C,GAAGuH,uBAAuBphB,MACnCyhB,EAAkBP,EAAQrX,QAAO,SAAC6X,GAAD,OAAQA,EAAEC,WAAW,MAAQD,KAAKhF,CAAlC,IACN,IAA3B+E,EAAgB9mB,SAChB8mB,EAAkB,CAAC,aAEvB,IAhC2D,EAgCvDG,OAAsBtmB,EAhCiC,IAiCtCmmB,GAjCsC,IAiC3D,2BAAsC,KAA3BzD,EAA2B,QAElC4D,EAAsBN,EAAcM,EADxBP,EAAW3E,EAAKsB,IAE/B,CApC0D,+BAqC3D,IACM/O,EA9BN,SAAmBsS,EAAMC,GACrB,IAD2B,EACrBve,EAAS,IAAIkK,IAAIoU,GADI,IAEAC,GAFA,IAE3B,2BAAiC,oBAArB5iB,EAAqB,KAAhBoB,EAAgB,KAC7BiD,EAAOqK,IAAI1O,EAAKoB,EACnB,CAJ0B,+BAK3B,OAAOiD,CACV,CAwBW4e,CADMR,EAAW3E,EAAI,SACAkF,GACjC,OAAO,IAAIZ,GAAoB/R,EAClC,IACD+R,GAAoBG,SAAW,IAAI5B,IAAK,kBAAMzgB,OAAOoH,KAAK8a,GAAoBI,uBAAuBphB,OAAO6J,QAAO,SAACiY,GAAD,OAAQA,EAAEH,WAAW,IAArB,GAA3E,IACjC,IAAMI,GAAb,2EACI,WAEI,OAAO9nB,KAAK8D,MAAM,uiGACrB,GAJL,qBAKI,WAII,OAHKqB,KAAKuhB,QACNvhB,KAAKuhB,MAAQ,IAAIhP,IAAIoQ,EAAoBC,eAEtC5iB,KAAKuhB,KACf,GAVL,kCAWI,SAA4BC,GACxB,OAAOmB,EAAoBE,UAAU5U,IAAIuT,EAC5C,GAbL,sBAcI,WACI,OAAOmB,EAAoBE,SAC9B,KAhBL,KAkBAF,GAAoBpB,WAAQrlB,EG3yB5B,IAAM4mB,GAAa,kBAabC,GAAAA,GACF,WAAYC,EAAUC,EAAK3f,EAAQmF,GAAM,UACrCzI,KAAKgjB,SAAWA,EAChBhjB,KAAKijB,IAAMA,EACXjjB,KAAKsD,OAASA,EACdtD,KAAKyI,KAAOA,EACZzI,KAAK0C,KAAO,CACf,IAECwgB,GAAAA,GACF,WAAYF,EAAUG,EAAKjoB,EAAKyG,GAAK,UACjC3B,KAAKgjB,SAAWA,EAChBhjB,KAAKmjB,IAAMA,EACXnjB,KAAK9E,IAAMA,EACX8E,KAAK2B,IAAMA,EACX3B,KAAK0C,KAAO,CACf,IAEC0gB,GAAAA,GACF,WAAYJ,EAAUC,EAAKtL,EAAWlb,GAAK,UACvCuD,KAAKgjB,SAAWA,EAChBhjB,KAAKijB,IAAMA,EACXjjB,KAAK2X,UAAYA,EACjB3X,KAAKvD,IAAMA,EACXuD,KAAK0C,KAAO,CACf,IAEC2gB,GAAAA,GACF,WAAYL,EAAUC,EAAKtO,GAAO,UAC9B3U,KAAKgjB,SAAWA,EAChBhjB,KAAKijB,IAAMA,EACXjjB,KAAK2U,MAAQA,EACb3U,KAAK0C,KAAO,CACf,IAEC4gB,GAAAA,GACF,WAAYN,EAAUC,GAAK,UACvBjjB,KAAKgjB,SAAWA,EAChBhjB,KAAKijB,IAAMA,EACXjjB,KAAK0C,KAAO,CACf,IAEC6gB,GAAAA,WACF,WAAYnL,GAAS,UACjBpY,KAAKwjB,WAAa,EAClBxjB,KAAKyjB,SAAWrL,EAChBpY,KAAK0jB,aAAe,EACpB1jB,KAAK2jB,gBAAkBjkB,OAAO0C,OAAO,MACrCpC,KAAK4jB,iBAAmB,IAAI7V,IAC5B/N,KAAK6jB,eAAiB,IAAI9V,GAC7B,sCACD,SAAY+V,GACR9jB,KAAKwjB,UAAYM,CACpB,4BACD,SAAYxgB,EAAQmF,GAAM,WAChBwa,EAAM9Y,SAASnK,KAAK0jB,cAC1B,OAAO,IAAI9c,SAAQ,SAAC/K,EAAS8H,GACzB,EAAKggB,gBAAgBV,GAAO,CACxBpnB,QAASA,EACT8H,OAAQA,GAEZ,EAAKogB,MAAM,IAAIhB,GAAe,EAAKS,UAAWP,EAAK3f,EAAQmF,GAC9D,GACJ,uBACD,SAAOkP,EAAWlb,GAAK,WACfwmB,EAAM,KACJ5N,EAAU,IAAIG,GAAQ,CACxBJ,uBAAwB,WACpB6N,EAAM9Y,SAAS,EAAKuZ,cACpB,EAAKE,iBAAiB1V,IAAI+U,EAAK5N,GAC/B,EAAK0O,MAAM,IAAIX,GAAsB,EAAKI,UAAWP,EAAKtL,EAAWlb,GACxE,EACD8Y,wBAAyB,WACrB,EAAKqO,iBAAiBI,OAAOf,GAC7B,EAAKc,MAAM,IAAIT,GAAwB,EAAKE,UAAWP,IACvDA,EAAM,IACT,IAEL,OAAO5N,EAAQV,KAClB,8BACD,SAAchG,GACLA,GAAYA,EAAQqU,YAGD,IAApBhjB,KAAKwjB,WAAoB7U,EAAQqU,WAAahjB,KAAKwjB,WAGvDxjB,KAAKikB,eAAetV,GACvB,+BACD,SAAeY,GACX,OAAQA,EAAI7M,MACR,KAAK,EACD,OAAO1C,KAAKkkB,oBAAoB3U,GACpC,KAAK,EACD,OAAOvP,KAAKmkB,sBAAsB5U,GACtC,KAAK,EACD,OAAOvP,KAAKokB,6BAA6B7U,GAC7C,KAAK,EACD,OAAOvP,KAAKqkB,oBAAoB9U,GACpC,KAAK,EACD,OAAOvP,KAAKskB,+BAA+B/U,GAEtD,oCACD,SAAoBgV,GAChB,GAAKvkB,KAAK2jB,gBAAgBY,EAAapB,KAAvC,CAIA,IAAMqB,EAAQxkB,KAAK2jB,gBAAgBY,EAAapB,KAEhD,UADOnjB,KAAK2jB,gBAAgBY,EAAapB,KACrCoB,EAAa5iB,IAAK,CAClB,IAAIA,EAAM4iB,EAAa5iB,IAQvB,OAPI4iB,EAAa5iB,IAAIsN,YACjBtN,EAAM,IAAI0C,OACN5F,KAAO8lB,EAAa5iB,IAAIlD,KAC5BkD,EAAIgN,QAAU4V,EAAa5iB,IAAIgN,QAC/BhN,EAAI6M,MAAQ+V,EAAa5iB,IAAI6M,YAEjCgW,EAAM7gB,OAAOhC,EAEhB,CACD6iB,EAAM3oB,QAAQ0oB,EAAarpB,IAd1B,MAFG0X,QAAQC,KAAK,2BAiBpB,sCACD,SAAsB4R,GAAgB,WAC5BxB,EAAMwB,EAAexB,IACZjjB,KAAKyjB,SAASiB,cAAcD,EAAenhB,OAAQmhB,EAAehc,MAC1E1E,MAAK,SAACtD,GACT,EAAKsjB,MAAM,IAAIb,GAAa,EAAKM,UAAWP,EAAKxiB,OAAGvE,GACvD,IAAE,SAACgE,GACIA,EAAEykB,kBAAkBtgB,QAEpBnE,EAAEykB,OAAS3V,EAA+B9O,EAAEykB,SAEhD,EAAKZ,MAAM,IAAIb,GAAa,EAAKM,UAAWP,OAAK/mB,EAAW8S,EAA+B9O,IAC9F,GACJ,6CACD,SAA6BqP,GAAK,WACxB0T,EAAM1T,EAAI0T,IACVzR,EAAaxR,KAAKyjB,SAASmB,YAAYrV,EAAIoI,UAAWpI,EAAI9S,IAA7CuD,EAAkD,SAAC2U,GAClE,EAAKoP,MAAM,IAAIV,GAAa,EAAKG,UAAWP,EAAKtO,GACpD,IACD3U,KAAK6jB,eAAe3V,IAAI+U,EAAKzR,EAChC,oCACD,SAAoBjC,GACXvP,KAAK4jB,iBAAiB3V,IAAIsB,EAAI0T,KAInCjjB,KAAK4jB,iBAAiB/jB,IAAI0P,EAAI0T,KAAK3N,KAAK/F,EAAIoF,OAHxC/B,QAAQC,KAAK,4BAIpB,+CACD,SAA+BtD,GACtBvP,KAAK6jB,eAAe5V,IAAIsB,EAAI0T,MAIjCjjB,KAAK6jB,eAAehkB,IAAI0P,EAAI0T,KAAKpR,UACjC7R,KAAK6jB,eAAeG,OAAOzU,EAAI0T,MAJ3BrQ,QAAQC,KAAK,kCAKpB,sBACD,SAAMtD,GACF,IAAMsV,EAAW,GACjB,GAAiB,IAAbtV,EAAI7M,KACJ,IAAK,IAAIpH,EAAI,EAAGA,EAAIiU,EAAI9G,KAAKlN,OAAQD,IAC7BiU,EAAI9G,KAAKnN,aAAcwpB,aACvBD,EAASjf,KAAK2J,EAAI9G,KAAKnN,SAIb,IAAbiU,EAAI7M,MACL6M,EAAIrU,eAAe4pB,aACnBD,EAASjf,KAAK2J,EAAIrU,KAG1B8E,KAAKyjB,SAASsB,YAAYxV,EAAKsV,EAClC,OAnICtB,GAwON,SAASyB,GAAgBvmB,GAErB,MAAmB,MAAZA,EAAK,IAA0B,MAAZA,EAAK,IAAcwmB,GAA2BxmB,EAAKjD,WAAW,GAC3F,CACD,SAAS0pB,GAAuBzmB,GAE5B,MAAO,aAAagN,KAAKhN,IAASwmB,GAA2BxmB,EAAKjD,WAAW,GAChF,CACD,SAAS2pB,GAAkBC,EAAa1hB,EAAQ2hB,GAC5C,IADyD,EACnDC,EAAoB,SAAChiB,GACvB,OAAO,WACH,IAAMmF,EAAO0C,MAAM7K,UAAU3E,MAAM6E,KAAKvE,UAAW,GACnD,OAAOyH,EAAOJ,EAAQmF,EACzB,CACJ,EACK8c,EAA0B,SAAC5N,GAC7B,OAAO,SAAUlb,GACb,OAAO4oB,EAAY1N,EAAWlb,EACjC,CACJ,EACKoH,EAAS,CAAC,EAZyC,IAahCuhB,GAbgC,IAazD,2BAAsC,KAA3BrgB,EAA2B,QAC9BmgB,GAAuBngB,GACvBlB,EAAOkB,GAAcwgB,EAAwBxgB,GAG7CigB,GAAgBjgB,GAChBlB,EAAOkB,GAAcsgB,EAAYtgB,OAAY7I,GAGjD2H,EAAOkB,GAAcugB,EAAkBvgB,EAC1C,CAvBwD,+BAwBzD,OAAOlB,CACV,CAIM,IAAM2hB,GAAb,WACI,WAAYhG,EAAaiG,GAAuB,qBAC5CzlB,KAAK0lB,uBAAyBD,EAC9BzlB,KAAK2lB,gBAAkB,KACvB3lB,KAAK4lB,UAAY,IAAIrC,GAAqB,CACtCwB,YAAa,SAACxV,EAAKsV,GACfrF,EAAYjQ,EAAKsV,EACpB,EACDH,cAAe,SAACphB,EAAQmF,GAAT,OAAkB,EAAKwb,eAAe3gB,EAAQmF,EAA9C,EACfmc,YAAa,SAACjN,EAAWlb,GAAZ,OAAoB,EAAKopB,aAAalO,EAAWlb,EAAjD,GAEpB,CAXL,mCAYI,SAAU8S,GACNvP,KAAK4lB,UAAUlB,cAAcnV,EAChC,GAdL,4BAeI,SAAejM,EAAQmF,GACnB,GAAInF,IAAWwf,GACX,OAAO9iB,KAAK8lB,WAAWrd,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAE3D,IAAKzI,KAAK2lB,iBAA2D,oBAAjC3lB,KAAK2lB,gBAAgBriB,GACrD,OAAOsD,QAAQjD,OAAO,IAAIU,MAAM,qCAAuCf,IAE3E,IACI,OAAOsD,QAAQ/K,QAAQmE,KAAK2lB,gBAAgBriB,GAAQoF,MAAM1I,KAAK2lB,gBAAiBld,GACnF,CACD,MAAOvI,IACH,OAAO0G,QAAQjD,OAAOzD,GACzB,CACJ,GA5BL,0BA6BI,SAAayX,EAAWlb,GACpB,IAAKuD,KAAK2lB,gBACN,MAAM,IAAIthB,MAAJ,0BAEV,GAAI6gB,GAAuBvN,GAAY,CACnC,IAAMhD,EAAQ3U,KAAK2lB,gBAAgBhO,GAAWnX,KAAKR,KAAK2lB,gBAAiBlpB,GACzE,GAAqB,oBAAVkY,EACP,MAAM,IAAItQ,MAAJ,gCAAmCsT,EAAnC,yBAEV,OAAOhD,CACV,CACD,GAAIqQ,GAAgBrN,GAAY,CAC5B,IAAMhD,EAAQ3U,KAAK2lB,gBAAgBhO,GACnC,GAAqB,oBAAVhD,EACP,MAAM,IAAItQ,MAAJ,wBAA2BsT,EAA3B,yBAEV,OAAOhD,CACV,CACD,MAAM,IAAItQ,MAAJ,+BAAkCsT,GAC3C,GAhDL,wBAiDI,SAAWmM,EAAUiC,EAAc5mB,EAAU6mB,GAAa,WACtDhmB,KAAK4lB,UAAUK,YAAYnC,GAC3B,IAMMoC,EAAYf,GAAkBa,GANT,SAAC1iB,EAAQmF,GAChC,OAAO,EAAKmd,UAAUb,YAAYzhB,EAAQmF,EAC7C,IACmB,SAACkP,EAAWlb,GAC5B,OAAO,EAAKmpB,UAAUO,OAAOxO,EAAWlb,EAC3C,IAED,OAAIuD,KAAK0lB,wBAEL1lB,KAAK2lB,gBAAkB3lB,KAAK0lB,uBAAuBQ,GAC5Ctf,QAAQ/K,QAAQ4gB,GAAkBzc,KAAK2lB,oBAE9CI,IAEoC,qBAAzBA,EAAaK,gBACbL,EAAY,QAEW,qBAAvBA,EAAaM,OACiB,qBAA1BN,EAAaM,MAAMC,WACnBP,EAAaM,MAAb,QAGgCnqB,WAApC6pB,EAAaQ,2BAEbR,EAAY,mBAGvBA,EAAaS,YAAa,EAC1BzmB,WAAW0mB,QAAQC,OAAOX,IAEvB,IAAInf,SAAQ,SAAC/K,EAAS8H,IAQzBsf,EAFYljB,WAAW0mB,SAEnB,CAACtnB,IAAW,SAACJ,GACb,EAAK4mB,gBAAkB5mB,EAAOqD,OAAO8jB,GAChC,EAAKP,gBAIV9pB,EAAQ4gB,GAAkB,EAAKkJ,kBAH3BhiB,EAAO,IAAIU,MAAJ,sBAId,GAAEV,EACN,IACJ,KAlGL,KCvUO,IAAMgjB,GAAb,WAKI,WAAYC,EAAeC,EAAgBC,EAAeC,GAAgB,UAEtE/mB,KAAK4mB,cAAgBA,EACrB5mB,KAAK6mB,eAAiBA,EACtB7mB,KAAK8mB,cAAgBA,EACrB9mB,KAAK+mB,eAAiBA,CACzB,CAXL,wCAeI,WACI,OAAO/mB,KAAK4mB,cAAgB5mB,KAAK6mB,cACpC,GAjBL,4BAqBI,WACI,OAAO7mB,KAAK8mB,cAAgB9mB,KAAK+mB,cACpC,KAvBL,KC0BO,SAASC,GAAWjgB,EAAKkgB,GAC5B,OAAUA,GAAkB,GAAKA,EAAkBlgB,EAAO,CAC7D,CAIM,SAASmgB,GAAWra,EAAGsa,GAC1BA,EAAUH,GAAW,OAAQG,GAC7B,IAAK,IAAI7rB,EAAI,EAAGC,EAASsR,EAAEtR,OAAQD,EAAIC,EAAQD,IAC3C6rB,EAAUH,GAAWna,EAAErR,WAAWF,GAAI6rB,GAE1C,OAAOA,CACV,CAYD,SAASC,GAAWxmB,EAAOymB,GAAsB,IAEvCC,GAFuC,uDAAJ,IAEfD,EAI1B,OAASzmB,GAASymB,MAFF,GAAKC,GAAS,GAEK1mB,KAAW0mB,KAAY,CAC7D,CACD,SAASC,GAAKC,GACV,IAD+D,IAA/CnX,EAA+C,uDAAvC,EAAG+I,EAAoC,uDAA5BoO,EAAKC,WAAY7mB,EAAW,uDAAH,EACnDtF,EAAI,EAAGA,EAAI8d,EAAO9d,IACvBksB,EAAKnX,EAAQ/U,GAAKsF,CAEzB,CAOM,SAAS8mB,GAAYC,GAA6B,IAAdC,EAAc,uDAAJ,GACjD,OAAID,aAAyB7C,YAClB3Z,MAAMxO,KAAK,IAAIkrB,WAAWF,IAAgB9X,KAAI,SAAA4G,GAAC,OAAIA,EAAEjL,SAAS,IAAIsc,SAAS,EAAG,IAA/B,IAAqCvrB,KAAK,IARxG,SAAiBqE,EAAOrF,GACpB,IADwC,IAAZwsB,EAAY,uDAAL,IAC5BnnB,EAAMrF,OAASA,GAClBqF,EAAQmnB,EAAOnnB,EAEnB,OAAOA,CACV,CAKUonB,EAASL,IAAkB,GAAGnc,SAAS,IAAKoc,EAAU,EAChE,CAIM,IAAMK,GAAb,WACI,aAAc,UACVjoB,KAAKkoB,IAAM,WACXloB,KAAKmoB,IAAM,WACXnoB,KAAKooB,IAAM,WACXpoB,KAAKqoB,IAAM,UACXroB,KAAKsoB,IAAM,WACXtoB,KAAKuoB,MAAQ,IAAIV,WAAW,IAC5B7nB,KAAKwoB,QAAU,IAAIC,SAASzoB,KAAKuoB,MAAMnR,QACvCpX,KAAK0oB,SAAW,EAChB1oB,KAAK2oB,UAAY,EACjB3oB,KAAK4oB,uBAAyB,EAC9B5oB,KAAK6oB,WAAY,CACpB,CAbL,gCAcI,SAAO5H,GACH,IAAM6H,EAAS7H,EAAI1lB,OACnB,GAAe,IAAXutB,EAAJ,CAGA,IAGInI,EACAO,EAJE6H,EAAO/oB,KAAKuoB,MACdS,EAAUhpB,KAAK0oB,SACfO,EAAwBjpB,KAAK4oB,uBAYjC,IAT8B,IAA1BK,GACAtI,EAAWsI,EACX/H,GAAU,EACV+H,EAAwB,IAGxBtI,EAAWM,EAAIzlB,WAAW,GAC1B0lB,EAAS,KAEA,CACT,IAAIM,EAAYb,EAChB,GAAIsE,GAAwBtE,GAAW,CACnC,KAAIO,EAAS,EAAI4H,GAWZ,CAEDG,EAAwBtI,EACxB,KACH,CAdG,IAAMQ,EAAeF,EAAIzlB,WAAW0lB,EAAS,GACzC+D,GAAuB9D,IACvBD,IACAM,EAAYyD,GAAyBtE,EAAUQ,IAI/CK,EAAY,KAQvB,MACQyD,GAAuBtE,KAE5Ba,EAAY,OAIhB,GAFAwH,EAAUhpB,KAAKkpB,MAAMH,EAAMC,EAASxH,OACpCN,EACa4H,GAIT,MAHAnI,EAAWM,EAAIzlB,WAAW0lB,EAKjC,CACDlhB,KAAK0oB,SAAWM,EAChBhpB,KAAK4oB,uBAAyBK,CAjD7B,CAkDJ,GApEL,mBAqEI,SAAMF,EAAMC,EAASxH,GA4BjB,OA3BIA,EAAY,IACZuH,EAAKC,KAAaxH,EAEbA,EAAY,MACjBuH,EAAKC,KAAa,KAA2B,KAAZxH,KAAoD,EACrFuH,EAAKC,KAAa,KAA2B,GAAZxH,KAAoD,GAEhFA,EAAY,OACjBuH,EAAKC,KAAa,KAA2B,MAAZxH,KAAoD,GACrFuH,EAAKC,KAAa,KAA2B,KAAZxH,KAAoD,EACrFuH,EAAKC,KAAa,KAA2B,GAAZxH,KAAoD,IAGrFuH,EAAKC,KAAa,KAA2B,QAAZxH,KAAoD,GACrFuH,EAAKC,KAAa,KAA2B,OAAZxH,KAAoD,GACrFuH,EAAKC,KAAa,KAA2B,KAAZxH,KAAoD,EACrFuH,EAAKC,KAAa,KAA2B,GAAZxH,KAAoD,GAErFwH,GAAW,KACXhpB,KAAKmpB,QACLH,GAAW,GACXhpB,KAAK2oB,WAAa,GAElBI,EAAK,GAAKA,EAAK,IACfA,EAAK,GAAKA,EAAK,IACfA,EAAK,GAAKA,EAAK,KAEZC,CACV,GAlGL,oBAmGI,WAWI,OAVKhpB,KAAK6oB,YACN7oB,KAAK6oB,WAAY,EACb7oB,KAAK4oB,yBAEL5oB,KAAK4oB,uBAAyB,EAC9B5oB,KAAK0oB,SAAW1oB,KAAKkpB,MAAMlpB,KAAKuoB,MAAOvoB,KAAK0oB,SAAU,QAE1D1oB,KAAK2oB,WAAa3oB,KAAK0oB,SACvB1oB,KAAKopB,WAEF1B,GAAY1nB,KAAKkoB,KAAOR,GAAY1nB,KAAKmoB,KAAOT,GAAY1nB,KAAKooB,KAAOV,GAAY1nB,KAAKqoB,KAAOX,GAAY1nB,KAAKsoB,IAC3H,GA/GL,qBAgHI,WACItoB,KAAKuoB,MAAMvoB,KAAK0oB,YAAc,IAC9BnB,GAAKvnB,KAAKuoB,MAAOvoB,KAAK0oB,UAClB1oB,KAAK0oB,SAAW,KAChB1oB,KAAKmpB,QACL5B,GAAKvnB,KAAKuoB,QAGd,IAAMc,EAAK,EAAIrpB,KAAK2oB,UACpB3oB,KAAKwoB,QAAQc,UAAU,GAAIhP,KAAKiP,MAAMF,EAAK,aAAa,GACxDrpB,KAAKwoB,QAAQc,UAAU,GAAID,EAAK,YAAY,GAC5CrpB,KAAKmpB,OACR,GA5HL,mBA6HI,WAGI,IAFA,IAAMK,EAAavB,EAAWwB,YACxBnM,EAAOtd,KAAKwoB,QACTkB,EAAI,EAAGA,EAAI,GAAeA,GAAK,EACpCF,EAAWF,UAAUI,EAAGpM,EAAKqM,UAAUD,GAAG,IAAQ,GAEtD,IAAK,IAAIA,EAAI,GAAIA,EAAI,IAAgBA,GAAK,EACtCF,EAAWF,UAAUI,EAAGtC,GAAYoC,EAAWG,UAAUD,EAAI,IAAI,GAASF,EAAWG,UAAUD,EAAI,IAAI,GAASF,EAAWG,UAAUD,EAAI,IAAI,GAASF,EAAWG,UAAUD,EAAI,IAAI,GAAS,IAAI,GASpM,IAPA,IAKI3c,EAAG2V,EACHkH,EANAhgB,EAAI5J,KAAKkoB,IACTzR,EAAIzW,KAAKmoB,IACT0B,EAAI7pB,KAAKooB,IACT9oB,EAAIU,KAAKqoB,IACTnoB,EAAIF,KAAKsoB,IAGJoB,EAAI,EAAGA,EAAI,GAAIA,IAChBA,EAAI,IACJ3c,EAAK0J,EAAIoT,GAAQpT,EAAKnX,EACtBojB,EAAI,YAECgH,EAAI,IACT3c,EAAI0J,EAAIoT,EAAIvqB,EACZojB,EAAI,YAECgH,EAAI,IACT3c,EAAK0J,EAAIoT,EAAMpT,EAAInX,EAAMuqB,EAAIvqB,EAC7BojB,EAAI,aAGJ3V,EAAI0J,EAAIoT,EAAIvqB,EACZojB,EAAI,YAERkH,EAAQxC,GAAWxd,EAAG,GAAKmD,EAAI7M,EAAIwiB,EAAI8G,EAAWG,UAAc,EAAJD,GAAO,GAAU,WAC7ExpB,EAAIZ,EACJA,EAAIuqB,EACJA,EAAIzC,GAAW3Q,EAAG,IAClBA,EAAI7M,EACJA,EAAIggB,EAER5pB,KAAKkoB,IAAOloB,KAAKkoB,IAAMte,EAAK,WAC5B5J,KAAKmoB,IAAOnoB,KAAKmoB,IAAM1R,EAAK,WAC5BzW,KAAKooB,IAAOpoB,KAAKooB,IAAMyB,EAAK,WAC5B7pB,KAAKqoB,IAAOroB,KAAKqoB,IAAM/oB,EAAK,WAC5BU,KAAKsoB,IAAOtoB,KAAKsoB,IAAMpoB,EAAK,UAC/B,KA1KL,KA4KA+nB,GAAWwB,YAAc,IAAIhB,SAAS,IAAI3D,YAAY,MC3P/C,IAAMgF,GAAb,WACI,WAAYlf,GAAQ,UAChB5K,KAAK4K,OAASA,CACjB,CAHL,qCAII,WAGI,IAFA,IAAMA,EAAS5K,KAAK4K,OACdmf,EAAa,IAAIC,WAAWpf,EAAOrP,QAChCD,EAAI,EAAG2P,EAAML,EAAOrP,OAAQD,EAAI2P,EAAK3P,IAC1CyuB,EAAWzuB,GAAKsP,EAAOpP,WAAWF,GAEtC,OAAOyuB,CACV,KAXL,KAaO,SAASE,GAAWC,EAAUC,EAAUC,GAC3C,OAAO,IAAIC,GAAQ,IAAIP,GAAmBI,GAAW,IAAIJ,GAAmBK,IAAWG,YAAYF,GAAQG,OAC9G,KChBGC,GDoBEC,GAAAA,uEACF,SAAcC,EAAW/b,GACrB,IAAK+b,EACD,MAAM,IAAIrmB,MAAMsK,EAEvB,OALC8b,GAOAE,GAAAA,qEAgBF,SAAYC,EAAaC,EAAaC,EAAkBC,EAAkBxvB,GACtE,IAAK,IAAID,EAAI,EAAGA,EAAIC,EAAQD,IACxBwvB,EAAiBC,EAAmBzvB,GAAKsvB,EAAYC,EAAcvvB,EAE1E,sBACD,SAAasvB,EAAaC,EAAaC,EAAkBC,EAAkBxvB,GACvE,IAAK,IAAID,EAAI,EAAGA,EAAIC,EAAQD,IACxBwvB,EAAiBC,EAAmBzvB,GAAKsvB,EAAYC,EAAcvvB,EAE1E,OAzBCqvB,GAmCAK,GAAAA,WAIF,aAAc,UACVhrB,KAAKirB,UAAY,GACjBjrB,KAAKkrB,gBAAkB,WACvBlrB,KAAKmrB,gBAAkB,WACvBnrB,KAAKorB,gBAAkB,EACvBprB,KAAKqrB,gBAAkB,CAC1B,yCAID,YAEQrrB,KAAKorB,gBAAkB,GAAKprB,KAAKqrB,gBAAkB,IAEnDrrB,KAAKirB,UAAUrlB,KAAK,IAAI+gB,GAAW3mB,KAAKkrB,gBAAiBlrB,KAAKorB,gBAAiBprB,KAAKmrB,gBAAiBnrB,KAAKqrB,kBAG9GrrB,KAAKorB,gBAAkB,EACvBprB,KAAKqrB,gBAAkB,EACvBrrB,KAAKkrB,gBAAkB,WACvBlrB,KAAKmrB,gBAAkB,UAC1B,mCAQD,SAAmBG,EAAeC,GAE9BvrB,KAAKkrB,gBAAkB5Q,KAAKkR,IAAIxrB,KAAKkrB,gBAAiBI,GACtDtrB,KAAKmrB,gBAAkB7Q,KAAKkR,IAAIxrB,KAAKmrB,gBAAiBI,GACtDvrB,KAAKorB,iBACR,mCAQD,SAAmBE,EAAeC,GAE9BvrB,KAAKkrB,gBAAkB5Q,KAAKkR,IAAIxrB,KAAKkrB,gBAAiBI,GACtDtrB,KAAKmrB,gBAAkB7Q,KAAKkR,IAAIxrB,KAAKmrB,gBAAiBI,GACtDvrB,KAAKqrB,iBACR,2BAID,WAKI,OAJIrrB,KAAKorB,gBAAkB,GAAKprB,KAAKqrB,gBAAkB,IAEnDrrB,KAAKyrB,iBAEFzrB,KAAKirB,SACf,kCAID,WAMI,OALIjrB,KAAKorB,gBAAkB,GAAKprB,KAAKqrB,gBAAkB,IAEnDrrB,KAAKyrB,iBAETzrB,KAAKirB,UAAUhkB,UACRjH,KAAKirB,SACf,OAxECD,GA8EOX,GAAb,WAII,WAAYqB,EAAkBC,GAAsD,IAApCC,EAAoC,uDAAN,KAAM,UAChF5rB,KAAK6rB,4BAA8BD,EACnC5rB,KAAK8rB,kBAAoBJ,EACzB1rB,KAAK+rB,kBAAoBJ,EACzB,QAA6EtB,EAAQ2B,aAAaN,GAAlG,GAAOO,EAAP,KAA+BC,EAA/B,KAAuDC,EAAvD,KACA,IAA6E9B,EAAQ2B,aAAaL,GAAlG,GAAOS,EAAP,KAA+BC,EAA/B,KAAuDC,EAAvD,KACAtsB,KAAKusB,YAAeJ,GAAsBG,EAC1CtsB,KAAKwsB,wBAA0BP,EAC/BjsB,KAAKysB,wBAA0BP,EAC/BlsB,KAAK0sB,wBAA0BN,EAC/BpsB,KAAK2sB,wBAA0BN,EAC/BrsB,KAAK4sB,iBAAmB,GACxB5sB,KAAK6sB,iBAAmB,EAC3B,CAjBL,0CAmCI,SAAiBvB,EAAewB,GAC5B,OAAI9sB,KAAKysB,wBAAwBnB,KAAmBtrB,KAAK2sB,wBAAwBG,MAGzE9sB,KAAKusB,aAAcvsB,KAAKwsB,wBAAwBlB,KAAmBtrB,KAAK0sB,wBAAwBI,GAC3G,GAxCL,oCAyCI,SAAuBxB,EAAewB,GAClC,QAAK9sB,KAAK+sB,iBAAiBzB,EAAewB,IAGlBzC,EAAQ2C,kBAAkBhtB,KAAK8rB,kBAAmBR,KAClDjB,EAAQ2C,kBAAkBhtB,KAAK+rB,kBAAmBe,EAE7E,GAhDL,sCAuDI,SAAyBG,EAAQC,GAC7B,OAAIltB,KAAKysB,wBAAwBQ,KAAYjtB,KAAKysB,wBAAwBS,MAGlEltB,KAAKusB,aAAcvsB,KAAKwsB,wBAAwBS,KAAYjtB,KAAKwsB,wBAAwBU,GACpG,GA5DL,sCA6DI,SAAyBD,EAAQC,GAC7B,OAAIltB,KAAK2sB,wBAAwBM,KAAYjtB,KAAK2sB,wBAAwBO,MAGlEltB,KAAKusB,aAAcvsB,KAAK0sB,wBAAwBO,KAAYjtB,KAAK0sB,wBAAwBQ,GACpG,GAlEL,yBAmEI,SAAY9C,GACR,OAAOpqB,KAAKmtB,aAAa,EAAGntB,KAAKysB,wBAAwBlxB,OAAS,EAAG,EAAGyE,KAAK2sB,wBAAwBpxB,OAAS,EAAG6uB,EACpH,GArEL,0BA2EI,SAAaxD,EAAewG,EAAatG,EAAeuG,EAAajD,GACjE,IAAMkD,EAAe,EAAC,GAClB/C,EAAUvqB,KAAKutB,qBAAqB3G,EAAewG,EAAatG,EAAeuG,EAAaC,GAOhG,OANIlD,IAIAG,EAAUvqB,KAAKwtB,gBAAgBjD,IAE5B,CACHkD,UAAWH,EAAa,GACxB/C,QAASA,EAEhB,GAxFL,kCA8FI,SAAqB3D,EAAewG,EAAatG,EAAeuG,EAAaC,GAGzE,IAFAA,EAAa,IAAK,EAEX1G,GAAiBwG,GAAetG,GAAiBuG,GAAertB,KAAK+sB,iBAAiBnG,EAAeE,IACxGF,IACAE,IAGJ,KAAOsG,GAAexG,GAAiByG,GAAevG,GAAiB9mB,KAAK+sB,iBAAiBK,EAAaC,IACtGD,IACAC,IAIA,IAAI9C,EADR,GAAI3D,EAAgBwG,GAAetG,EAAgBuG,EAsB/C,OApBIvG,GAAiBuG,GACjB5C,GAAMiD,OAAO9G,IAAkBwG,EAAc,EAAG,0DAEhD7C,EAAU,CACN,IAAI5D,GAAWC,EAAe,EAAGE,EAAeuG,EAAcvG,EAAgB,KAG7EF,GAAiBwG,GACtB3C,GAAMiD,OAAO5G,IAAkBuG,EAAc,EAAG,0DAEhD9C,EAAU,CACN,IAAI5D,GAAWC,EAAewG,EAAcxG,EAAgB,EAAGE,EAAe,MAIlF2D,GAAMiD,OAAO9G,IAAkBwG,EAAc,EAAG,0DAChD3C,GAAMiD,OAAO5G,IAAkBuG,EAAc,EAAG,0DAEhD9C,EAAU,IAEPA,EAGX,IAAMoD,EAAiB,CAAC,GAClBC,EAAiB,CAAC,GAClB/pB,EAAS7D,KAAK6tB,sBAAsBjH,EAAewG,EAAatG,EAAeuG,EAAaM,EAAgBC,EAAgBN,GAC5HQ,EAAcH,EAAe,GAC7BI,EAAcH,EAAe,GACnC,GAAe,OAAX/pB,EAGA,OAAOA,EAEN,IAAKypB,EAAa,GAAI,CAKvB,IAAMU,EAAchuB,KAAKutB,qBAAqB3G,EAAekH,EAAahH,EAAeiH,EAAaT,GAClGW,EAAe,GAWnB,OAJIA,EANCX,EAAa,GAMC,CACX,IAAI3G,GAAWmH,EAAc,EAAGV,GAAeU,EAAc,GAAK,EAAGC,EAAc,EAAGV,GAAeU,EAAc,GAAK,IAN7G/tB,KAAKutB,qBAAqBO,EAAc,EAAGV,EAAaW,EAAc,EAAGV,EAAaC,GASlGttB,KAAKkuB,mBAAmBF,EAAaC,EAC/C,CAED,MAAO,CACH,IAAItH,GAAWC,EAAewG,EAAcxG,EAAgB,EAAGE,EAAeuG,EAAcvG,EAAgB,GAEnH,GArKL,uBAsKI,SAAUqH,EAAqBC,EAAsBC,EAAoBC,EAAuBC,EAAqBC,EAAsBC,EAAoBC,EAAuBC,EAAeC,EAAetD,EAAe8B,EAAaO,EAAgBpC,EAAe8B,EAAaO,EAAgBiB,EAAavB,GACrT,IAAIwB,EACAC,EAAiB,KAEjBC,EAAe,IAAIhE,GACnBiE,EAAcb,EACdc,EAAcb,EACdc,EAAoBxB,EAAe,GAAKC,EAAe,GAAMU,EAC7Dc,GAAqB,WACrBC,EAAervB,KAAK4sB,iBAAiBrxB,OAAS,EAClD,EAAG,CAEC,IAAM+zB,EAAWH,EAAmBhB,EAEhCmB,IAAaL,GAAgBK,EAAWJ,GAAeP,EAAcW,EAAW,GAAKX,EAAcW,EAAW,IAG9G/D,GADAD,EAAgBqD,EAAcW,EAAW,IACTH,EAAmBb,EAC/ChD,EAAgB8D,GAChBJ,EAAavD,iBAEjB2D,EAAoB9D,EACpB0D,EAAaO,mBAAmBjE,EAAgB,EAAGC,GACnD4D,EAAoBG,EAAW,EAAKnB,IAKpC5C,GADAD,EAAgBqD,EAAcW,EAAW,GAAK,GACdH,EAAmBb,EAC/ChD,EAAgB8D,GAChBJ,EAAavD,iBAEjB2D,EAAoB9D,EAAgB,EACpC0D,EAAaQ,mBAAmBlE,EAAeC,EAAgB,GAC/D4D,EAAoBG,EAAW,EAAKnB,GAEpCkB,GAAgB,IAEhBlB,GADAQ,EAAgB3uB,KAAK4sB,iBAAiByC,IACF,GACpCJ,EAAc,EACdC,EAAcP,EAAcpzB,OAAS,EAE5C,SAAU8zB,IAAiB,GAI5B,GADAP,EAAiBE,EAAaS,oBAC1BnC,EAAa,GAAI,CAGjB,IAAIoC,EAAqB/B,EAAe,GAAK,EACzCgC,EAAqB/B,EAAe,GAAK,EAC7C,GAAuB,OAAnBkB,GAA2BA,EAAevzB,OAAS,EAAG,CACtD,IAAMq0B,EAAoBd,EAAeA,EAAevzB,OAAS,GACjEm0B,EAAqBpV,KAAKuV,IAAIH,EAAoBE,EAAkBE,kBACpEH,EAAqBrV,KAAKuV,IAAIF,EAAoBC,EAAkBG,iBACvE,CACDhB,EAAiB,CACb,IAAIpI,GAAW+I,EAAoBtC,EAAcsC,EAAqB,EAAGC,EAAoBtC,EAAcsC,EAAqB,GAEvI,KACI,CAEDX,EAAe,IAAIhE,GACnBiE,EAAcT,EACdU,EAAcT,EACdU,EAAoBxB,EAAe,GAAKC,EAAe,GAAMc,EAC7DU,EAAoB,WACpBC,EAAgBR,EAAe7uB,KAAK6sB,iBAAiBtxB,OAAS,EAAIyE,KAAK6sB,iBAAiBtxB,OAAS,EACjG,EAAG,CAEC,IAAM+zB,EAAWH,EAAmBZ,EAEhCe,IAAaL,GAAgBK,EAAWJ,GAAeN,EAAcU,EAAW,IAAMV,EAAcU,EAAW,IAG/G/D,GADAD,EAAgBsD,EAAcU,EAAW,GAAK,GACdH,EAAmBT,EAC/CpD,EAAgB8D,GAChBJ,EAAavD,iBAEjB2D,EAAoB9D,EAAgB,EACpC0D,EAAaQ,mBAAmBlE,EAAgB,EAAGC,EAAgB,GACnE4D,EAAoBG,EAAW,EAAKf,IAKpChD,GADAD,EAAgBsD,EAAcU,EAAW,IACTH,EAAmBT,EAC/CpD,EAAgB8D,GAChBJ,EAAavD,iBAEjB2D,EAAoB9D,EACpB0D,EAAaO,mBAAmBjE,EAAgB,EAAGC,EAAgB,GACnE4D,EAAoBG,EAAW,EAAKf,GAEpCc,GAAgB,IAEhBd,GADAK,EAAgB5uB,KAAK6sB,iBAAiBwC,IACF,GACpCJ,EAAc,EACdC,EAAcN,EAAcrzB,OAAS,EAE5C,SAAU8zB,IAAiB,GAG5BN,EAAiBC,EAAagB,YACjC,CACD,OAAOhwB,KAAKkuB,mBAAmBY,EAAgBC,EAClD,GAhRL,mCAiSI,SAAsBnI,EAAewG,EAAatG,EAAeuG,EAAaM,EAAgBC,EAAgBN,GAC1G,IAAIhC,EAAgB,EAAGC,EAAgB,EACnC6C,EAAuB,EAAGC,EAAqB,EAC/CG,EAAuB,EAAGC,EAAqB,EAGnD7H,IACAE,IAGA6G,EAAe,GAAK,EACpBC,EAAe,GAAK,EAEpB5tB,KAAK4sB,iBAAmB,GACxB5sB,KAAK6sB,iBAAmB,GAKxB,IAAMoD,EAAkB7C,EAAcxG,GAAkByG,EAAcvG,GAChEoJ,EAAeD,EAAiB,EAChCtB,EAAgB,IAAI3E,WAAWkG,GAC/BtB,EAAgB,IAAI5E,WAAWkG,GAG/B/B,EAAuBd,EAAcvG,EACrCyH,EAAuBnB,EAAcxG,EAKrC0H,EAAyB1H,EAAgBE,EACzC4H,EAAyBtB,EAAcC,EAKvCwB,GADQN,EAAsBJ,GACP,IAAM,EAGnCQ,EAAcR,GAAuBvH,EACrCgI,EAAcL,GAAuBnB,EAErCE,EAAa,IAAK,EAQlB,IAAK,IAAI6C,EAAiB,EAAGA,GAAmBF,EAAiB,EAAK,EAAGE,IAAkB,CACvF,IAAIC,EAAwB,EACxBC,EAAwB,EAE5BjC,EAAuBpuB,KAAKswB,kBAAkBnC,EAAsBgC,EAAgBA,EAAgBhC,EAAqB+B,GACzH7B,EAAqBruB,KAAKswB,kBAAkBnC,EAAsBgC,EAAgBA,EAAgBhC,EAAqB+B,GACvH,IAAK,IAAIZ,EAAWlB,EAAsBkB,GAAYjB,EAAoBiB,GAAY,EAAG,CAUrF/D,GALID,EADAgE,IAAalB,GAAyBkB,EAAWjB,GAAsBM,EAAcW,EAAW,GAAKX,EAAcW,EAAW,GAC9GX,EAAcW,EAAW,GAGzBX,EAAcW,EAAW,GAAK,IAEjBA,EAAWnB,GAAuBG,EAKnE,IAHA,IAAMiC,EAAoBjF,EAGnBA,EAAgB8B,GAAe7B,EAAgB8B,GAAertB,KAAK+sB,iBAAiBzB,EAAgB,EAAGC,EAAgB,IAC1HD,IACAC,IAWJ,GATAoD,EAAcW,GAAYhE,EACtBA,EAAgBC,EAAgB6E,EAAwBC,IACxDD,EAAwB9E,EACxB+E,EAAwB9E,IAMvBsD,GAAevU,KAAKkW,IAAIlB,EAAWf,IAAyB4B,EAAiB,GAC1E7E,GAAiBsD,EAAcU,GAG/B,OAFA3B,EAAe,GAAKrC,EACpBsC,EAAe,GAAKrC,EAChBgF,GAAqB3B,EAAcU,IAAoEa,GAAmB,KAEnHnwB,KAAKywB,UAAUtC,EAAqBC,EAAsBC,EAAoBC,EAAuBC,EAAqBC,EAAsBC,EAAoBC,EAAuBC,EAAeC,EAAetD,EAAe8B,EAAaO,EAAgBpC,EAAe8B,EAAaO,EAAgBiB,EAAavB,GAK9T,IAItB,CAED,IAAMoD,GAAyBN,EAAwBxJ,GAAkByJ,EAAwBvJ,GAAiBqJ,GAAkB,EACpI,GAAyC,OAArCnwB,KAAK6rB,8BAAyC7rB,KAAK6rB,4BAA4BuE,EAAuBM,GAMtG,OAJApD,EAAa,IAAK,EAElBK,EAAe,GAAKyC,EACpBxC,EAAe,GAAKyC,EAChBK,EAAuB,GAA4DP,GAAmB,KAE/FnwB,KAAKywB,UAAUtC,EAAqBC,EAAsBC,EAAoBC,EAAuBC,EAAqBC,EAAsBC,EAAoBC,EAAuBC,EAAeC,EAAetD,EAAe8B,EAAaO,EAAgBpC,EAAe8B,EAAaO,EAAgBiB,EAAavB,IAMrU1G,IACAE,IACO,CACH,IAAIH,GAAWC,EAAewG,EAAcxG,EAAgB,EAAGE,EAAeuG,EAAcvG,EAAgB,KAKxH0H,EAAuBxuB,KAAKswB,kBAAkB/B,EAAsB4B,EAAgBA,EAAgB5B,EAAqB2B,GACzHzB,EAAqBzuB,KAAKswB,kBAAkB/B,EAAsB4B,EAAgBA,EAAgB5B,EAAqB2B,GACvH,IAAK,IAAIZ,EAAWd,EAAsBc,GAAYb,EAAoBa,GAAY,EAAG,CAUrF/D,GALID,EADAgE,IAAad,GAAyBc,EAAWb,GAAsBG,EAAcU,EAAW,IAAMV,EAAcU,EAAW,GAC/GV,EAAcU,EAAW,GAAK,EAG9BV,EAAcU,EAAW,KAEZA,EAAWf,GAAuBG,EAKnE,IAHA,IAAM6B,EAAoBjF,EAGnBA,EAAgB1E,GAAiB2E,EAAgBzE,GAAiB9mB,KAAK+sB,iBAAiBzB,EAAeC,IAC1GD,IACAC,IAMJ,GAJAqD,EAAcU,GAAYhE,EAItBuD,GAAevU,KAAKkW,IAAIlB,EAAWnB,IAAwBgC,GACvD7E,GAAiBqD,EAAcW,GAG/B,OAFA3B,EAAe,GAAKrC,EACpBsC,EAAe,GAAKrC,EAChBgF,GAAqB5B,EAAcW,IAAoEa,GAAmB,KAEnHnwB,KAAKywB,UAAUtC,EAAqBC,EAAsBC,EAAoBC,EAAuBC,EAAqBC,EAAsBC,EAAoBC,EAAuBC,EAAeC,EAAetD,EAAe8B,EAAaO,EAAgBpC,EAAe8B,EAAaO,EAAgBiB,EAAavB,GAK9T,IAItB,CAED,GAAI6C,GAAkB,KAAiD,CAGnE,IAAIvG,EAAO,IAAII,WAAWqE,EAAqBD,EAAuB,GACtExE,EAAK,GAAKuE,EAAsBC,EAAuB,EACvDzD,GAAQgG,MAAMhC,EAAeP,EAAsBxE,EAAM,EAAGyE,EAAqBD,EAAuB,GACxGpuB,KAAK4sB,iBAAiBhnB,KAAKgkB,IAC3BA,EAAO,IAAII,WAAWyE,EAAqBD,EAAuB,IAC7D,GAAKD,EAAsBC,EAAuB,EACvD7D,GAAQgG,MAAM/B,EAAeJ,EAAsB5E,EAAM,EAAG6E,EAAqBD,EAAuB,GACxGxuB,KAAK6sB,iBAAiBjnB,KAAKgkB,EAC9B,CACJ,CAGD,OAAO5pB,KAAKywB,UAAUtC,EAAqBC,EAAsBC,EAAoBC,EAAuBC,EAAqBC,EAAsBC,EAAoBC,EAAuBC,EAAeC,EAAetD,EAAe8B,EAAaO,EAAgBpC,EAAe8B,EAAaO,EAAgBiB,EAAavB,EACxU,GAxdL,6BAieI,SAAgB/C,GAEZ,IAAK,IAAIjvB,EAAI,EAAGA,EAAIivB,EAAQhvB,OAAQD,IAAK,CAMrC,IALA,IAAMs1B,EAASrG,EAAQjvB,GACjBu1B,EAAgBv1B,EAAIivB,EAAQhvB,OAAS,EAAKgvB,EAAQjvB,EAAI,GAAGsrB,cAAgB5mB,KAAKysB,wBAAwBlxB,OACtGu1B,EAAgBx1B,EAAIivB,EAAQhvB,OAAS,EAAKgvB,EAAQjvB,EAAI,GAAGwrB,cAAgB9mB,KAAK2sB,wBAAwBpxB,OACtGw1B,EAAgBH,EAAO/J,eAAiB,EACxCmK,EAAgBJ,EAAO7J,eAAiB,EACvC6J,EAAOhK,cAAgBgK,EAAO/J,eAAiBgK,GAC/CD,EAAO9J,cAAgB8J,EAAO7J,eAAiB+J,KAC7CC,GAAiB/wB,KAAKixB,yBAAyBL,EAAOhK,cAAegK,EAAOhK,cAAgBgK,EAAO/J,oBACnGmK,GAAiBhxB,KAAKkxB,yBAAyBN,EAAO9J,cAAe8J,EAAO9J,cAAgB8J,EAAO7J,kBAAkB,CAC1H,IAAMoK,EAAmBnxB,KAAKoxB,uBAAuBR,EAAOhK,cAAegK,EAAO9J,eAElF,GADuB9mB,KAAKoxB,uBAAuBR,EAAOhK,cAAgBgK,EAAO/J,eAAgB+J,EAAO9J,cAAgB8J,EAAO7J,kBACxGoK,EAEnB,MAEJP,EAAOhK,gBACPgK,EAAO9J,eACV,CACD,IAAMuK,EAAkB,CAAC,MACrB/1B,EAAIivB,EAAQhvB,OAAS,GAAKyE,KAAKsxB,eAAe/G,EAAQjvB,GAAIivB,EAAQjvB,EAAI,GAAI+1B,KAC1E9G,EAAQjvB,GAAK+1B,EAAgB,GAC7B9G,EAAQ3K,OAAOtkB,EAAI,EAAG,GACtBA,IAGP,CAED,IAAK,IAAIA,EAAIivB,EAAQhvB,OAAS,EAAGD,GAAK,EAAGA,IAAK,CAC1C,IAAMs1B,EAASrG,EAAQjvB,GACnBu1B,EAAe,EACfC,EAAe,EACnB,GAAIx1B,EAAI,EAAG,CACP,IAAMi2B,EAAahH,EAAQjvB,EAAI,GAC/Bu1B,EAAeU,EAAW3K,cAAgB2K,EAAW1K,eACrDiK,EAAeS,EAAWzK,cAAgByK,EAAWxK,cACxD,CAKD,IAJA,IAAMgK,EAAgBH,EAAO/J,eAAiB,EACxCmK,EAAgBJ,EAAO7J,eAAiB,EAC1CyK,EAAY,EACZC,EAAYzxB,KAAK0xB,eAAed,EAAOhK,cAAegK,EAAO/J,eAAgB+J,EAAO9J,cAAe8J,EAAO7J,gBACrGO,EAAQ,GAAIA,IAAS,CAC1B,IAAMV,EAAgBgK,EAAOhK,cAAgBU,EACvCR,EAAgB8J,EAAO9J,cAAgBQ,EAC7C,GAAIV,EAAgBiK,GAAgB/J,EAAgBgK,EAChD,MAEJ,GAAIC,IAAkB/wB,KAAKixB,yBAAyBrK,EAAeA,EAAgBgK,EAAO/J,gBACtF,MAEJ,GAAImK,IAAkBhxB,KAAKkxB,yBAAyBpK,EAAeA,EAAgB8J,EAAO7J,gBACtF,MAEJ,IACM4K,GAD0B/K,IAAkBiK,GAAgB/J,IAAkBgK,EAC3C,EAAI,GACvC9wB,KAAK0xB,eAAe9K,EAAegK,EAAO/J,eAAgBC,EAAe8J,EAAO7J,gBAClF4K,EAAQF,IACRA,EAAYE,EACZH,EAAYlK,EAEnB,CACDsJ,EAAOhK,eAAiB4K,EACxBZ,EAAO9J,eAAiB0K,EACxB,IAAMH,EAAkB,CAAC,MACrB/1B,EAAI,GAAK0E,KAAKsxB,eAAe/G,EAAQjvB,EAAI,GAAIivB,EAAQjvB,GAAI+1B,KACzD9G,EAAQjvB,EAAI,GAAK+1B,EAAgB,GACjC9G,EAAQ3K,OAAOtkB,EAAG,GAClBA,IAGP,CAGD,GAAI0E,KAAKusB,YACL,IAAK,IAAIjxB,EAAI,EAAG2P,EAAMsf,EAAQhvB,OAAQD,EAAI2P,EAAK3P,IAAK,CAChD,IAAMs2B,EAAUrH,EAAQjvB,EAAI,GACtBu2B,EAAUtH,EAAQjvB,GAClBw2B,EAAgBD,EAAQjL,cAAgBgL,EAAQhL,cAAgBgL,EAAQ/K,eACxEkL,EAAiBH,EAAQhL,cACzBoL,EAAeH,EAAQjL,cAAgBiL,EAAQhL,eAC/CoL,EAAmBD,EAAeD,EAClCG,EAAiBN,EAAQ9K,cACzBqL,EAAeN,EAAQ/K,cAAgB+K,EAAQ9K,eAC/CqL,EAAmBD,EAAeD,EAExC,GAAIJ,EAAgB,GAAKG,EAAmB,IAAMG,EAAmB,GAAI,CACrE,IAAMC,EAAIryB,KAAKsyB,8BAA8BP,EAAgBE,EAAkBC,EAAgBE,EAAkBN,GACjH,GAAIO,EAAG,CACH,QAAiDA,EAAjD,GAAOE,EAAP,KAA2BC,EAA3B,KACID,IAAuBX,EAAQhL,cAAgBgL,EAAQ/K,gBAAkB2L,IAAuBZ,EAAQ9K,cAAgB8K,EAAQ7K,iBAEhI6K,EAAQ/K,eAAiB0L,EAAqBX,EAAQhL,cACtDgL,EAAQ7K,eAAiByL,EAAqBZ,EAAQ9K,cACtD+K,EAAQjL,cAAgB2L,EAAqBT,EAC7CD,EAAQ/K,cAAgB0L,EAAqBV,EAC7CD,EAAQhL,eAAiBmL,EAAeH,EAAQjL,cAChDiL,EAAQ9K,eAAiBoL,EAAeN,EAAQ/K,cAEvD,CACJ,CACJ,CAEL,OAAOyD,CACV,GA1kBL,2CA2kBI,SAA8B3D,EAAeC,EAAgBC,EAAeC,EAAgB0L,GACxF,GAAI5L,EAAiB4L,GAAiB1L,EAAiB0L,EACnD,OAAO,KAOX,IALA,IAAMC,EAAc9L,EAAgBC,EAAiB4L,EAAgB,EAC/DE,EAAc7L,EAAgBC,EAAiB0L,EAAgB,EACjEhB,EAAY,EACZmB,EAAoB,EACpBC,EAAoB,EACfv3B,EAAIsrB,EAAetrB,EAAIo3B,EAAap3B,IACzC,IAAK,IAAIouB,EAAI5C,EAAe4C,EAAIiJ,EAAajJ,IAAK,CAC9C,IAAMiI,EAAQ3xB,KAAK8yB,yBAAyBx3B,EAAGouB,EAAG+I,GAC9Cd,EAAQ,GAAKA,EAAQF,IACrBA,EAAYE,EACZiB,EAAoBt3B,EACpBu3B,EAAoBnJ,EAE3B,CAEL,OAAI+H,EAAY,EACL,CAACmB,EAAmBC,GAExB,IACV,GAlmBL,sCAmmBI,SAAyBjM,EAAeE,EAAevrB,GAEnD,IADA,IAAIo2B,EAAQ,EACHrP,EAAI,EAAGA,EAAI/mB,EAAQ+mB,IAAK,CAC7B,IAAKtiB,KAAK+sB,iBAAiBnG,EAAgBtE,EAAGwE,EAAgBxE,GAC1D,OAAO,EAEXqP,GAAS3xB,KAAKwsB,wBAAwB5F,EAAgBtE,GAAG/mB,MAC5D,CACD,OAAOo2B,CACV,GA5mBL,iCA6mBI,SAAoBthB,GAChB,OAAIA,GAAS,GAAKA,GAASrQ,KAAKysB,wBAAwBlxB,OAAS,GAGzDyE,KAAKusB,aAAe,QAAQ9gB,KAAKzL,KAAKwsB,wBAAwBnc,GACzE,GAlnBL,uCAmnBI,SAA0BuW,EAAeC,GACrC,GAAI7mB,KAAK+yB,oBAAoBnM,IAAkB5mB,KAAK+yB,oBAAoBnM,EAAgB,GACpF,OAAO,EAEX,GAAIC,EAAiB,EAAG,CACpB,IAAMuG,EAAcxG,EAAgBC,EACpC,GAAI7mB,KAAK+yB,oBAAoB3F,EAAc,IAAMptB,KAAK+yB,oBAAoB3F,GACtE,OAAO,CAEd,CACD,OAAO,CACV,GA9nBL,iCA+nBI,SAAoB/c,GAChB,OAAIA,GAAS,GAAKA,GAASrQ,KAAK2sB,wBAAwBpxB,OAAS,GAGzDyE,KAAKusB,aAAe,QAAQ9gB,KAAKzL,KAAK0sB,wBAAwBrc,GACzE,GApoBL,uCAqoBI,SAA0ByW,EAAeC,GACrC,GAAI/mB,KAAKgzB,oBAAoBlM,IAAkB9mB,KAAKgzB,oBAAoBlM,EAAgB,GACpF,OAAO,EAEX,GAAIC,EAAiB,EAAG,CACpB,IAAMsG,EAAcvG,EAAgBC,EACpC,GAAI/mB,KAAKgzB,oBAAoB3F,EAAc,IAAMrtB,KAAKgzB,oBAAoB3F,GACtE,OAAO,CAEd,CACD,OAAO,CACV,GAhpBL,4BAipBI,SAAezG,EAAeC,EAAgBC,EAAeC,GAGzD,OAFuB/mB,KAAKizB,0BAA0BrM,EAAeC,GAAkB,EAAI,IACpE7mB,KAAKkzB,0BAA0BpM,EAAeC,GAAkB,EAAI,EAE9F,GArpBL,gCA6pBI,SAAmBoM,EAAMC,GACrB,IAAM/B,EAAkB,GACxB,GAAoB,IAAhB8B,EAAK53B,QAAiC,IAAjB63B,EAAM73B,OAC3B,OAAQ63B,EAAM73B,OAAS,EAAK63B,EAAQD,EAEnC,GAAInzB,KAAKsxB,eAAe6B,EAAKA,EAAK53B,OAAS,GAAI63B,EAAM,GAAI/B,GAAkB,CAK5E,IAAMxtB,EAAS,IAAIsH,MAAMgoB,EAAK53B,OAAS63B,EAAM73B,OAAS,GAItD,OAHAovB,GAAQ0I,KAAKF,EAAM,EAAGtvB,EAAQ,EAAGsvB,EAAK53B,OAAS,GAC/CsI,EAAOsvB,EAAK53B,OAAS,GAAK81B,EAAgB,GAC1C1G,GAAQ0I,KAAKD,EAAO,EAAGvvB,EAAQsvB,EAAK53B,OAAQ63B,EAAM73B,OAAS,GACpDsI,CACV,CAEG,IAAMA,EAAS,IAAIsH,MAAMgoB,EAAK53B,OAAS63B,EAAM73B,QAG7C,OAFAovB,GAAQ0I,KAAKF,EAAM,EAAGtvB,EAAQ,EAAGsvB,EAAK53B,QACtCovB,GAAQ0I,KAAKD,EAAO,EAAGvvB,EAAQsvB,EAAK53B,OAAQ63B,EAAM73B,QAC3CsI,CAEd,GAnrBL,4BA4rBI,SAAesvB,EAAMC,EAAO/B,GAGxB,GAFA5G,GAAMiD,OAAOyF,EAAKvM,eAAiBwM,EAAMxM,cAAe,yDACxD6D,GAAMiD,OAAOyF,EAAKrM,eAAiBsM,EAAMtM,cAAe,yDACpDqM,EAAKvM,cAAgBuM,EAAKtM,gBAAkBuM,EAAMxM,eAAiBuM,EAAKrM,cAAgBqM,EAAKpM,gBAAkBqM,EAAMtM,cAAe,CACpI,IAAMF,EAAgBuM,EAAKvM,cACvBC,EAAiBsM,EAAKtM,eACpBC,EAAgBqM,EAAKrM,cACvBC,EAAiBoM,EAAKpM,eAQ1B,OAPIoM,EAAKvM,cAAgBuM,EAAKtM,gBAAkBuM,EAAMxM,gBAClDC,EAAiBuM,EAAMxM,cAAgBwM,EAAMvM,eAAiBsM,EAAKvM,eAEnEuM,EAAKrM,cAAgBqM,EAAKpM,gBAAkBqM,EAAMtM,gBAClDC,EAAiBqM,EAAMtM,cAAgBsM,EAAMrM,eAAiBoM,EAAKrM,eAEvEuK,EAAgB,GAAK,IAAI1K,GAAWC,EAAeC,EAAgBC,EAAeC,IAC3E,CACV,CAGG,OADAsK,EAAgB,GAAK,MACd,CAEd,GAjtBL,+BA8tBI,SAAkB/B,EAAUa,EAAgBmD,EAAmBpD,GAC3D,GAAIZ,GAAY,GAAKA,EAAWY,EAE5B,OAAOZ,EAIX,IAEMiE,EAAYpD,EAAiB,IAAM,EACzC,OAAIb,EAAW,EAEHiE,KALWD,EAIsB,IAAM,GACR,EAAI,EAInCC,MARWrD,EAAeoD,EAAoB,GAOb,IAAM,GACRpD,EAAe,EAAIA,EAAe,CAEhF,IAhvBL,6BAkBI,SAAsBllB,GAClB,OAAQA,EAAIzP,OAAS,GAAuB,kBAAXyP,EAAI,EACxC,GApBL,0BAqBI,SAAoBwoB,GAChB,IAAMC,EAAWD,EAASE,cAC1B,GAAIrJ,EAAQsJ,eAAeF,GAAW,CAElC,IADA,IAAMG,EAAS,IAAI5J,WAAWyJ,EAASl4B,QAC9BD,EAAI,EAAG2P,EAAMwoB,EAASl4B,OAAQD,EAAI2P,EAAK3P,IAC5Cs4B,EAAOt4B,GAAK4rB,GAAWuM,EAASn4B,GAAI,GAExC,MAAO,CAACm4B,EAAUG,GAAQ,EAC7B,CACD,OAAIH,aAAoBzJ,WACb,CAAC,GAAIyJ,GAAU,GAEnB,CAAC,GAAI,IAAIzJ,WAAWyJ,IAAW,EACzC,GAlCL,+BAiDI,SAAyBD,EAAUnjB,GAC/B,MAAyC,oBAA9BmjB,EAASK,iBACTL,EAASK,iBAAiBxjB,GAE9B,IACV,KAtDL,KC1IA,GAA8B,qBAAnBwN,GAAQG,QAA4D,qBAA3BH,GAAQG,OAAO7hB,QAAyB,CACxF,IAAM23B,GAAiBjW,GAAQG,OAAO7hB,QACtCquB,GAAc,CACNlM,eAAa,OAAOwV,GAAexV,QAAW,EAC9CyV,WAAS,OAAOD,GAAeC,IAAO,EACtCxV,UAAQ,OAAOuV,GAAevV,GAAM,EACxCziB,IAJU,WAIF,OAAOg4B,GAAeh4B,KAAQ,EAE7C,MAGG0uB,GADwB,qBAAZruB,QACE,CACNmiB,eAAa,OAAOniB,QAAQmiB,QAAW,EACvCyV,WAAS,OAAO53B,QAAQ43B,IAAO,EAC/BxV,UAAQ,MAAOpiB,CAAAA,SAAAA,aAAAA,WAAAA,IAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,EAAc,EACjCL,IAJU,WAIF,MAAOK,CAAAA,SAAAA,aAAAA,WAAAA,IAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAA,YAA6BA,QAAQL,KAAQ,GAKlD,CAENwiB,eAAa,OAAOc,GAAY,QAAUC,GAAc,SAAW,OAAU,EAC7E0U,WAA2D,EAE3DxV,UAAQ,MAAO,CAAC,CAAI,EACxBziB,IANU,WAMF,MAAO,GAAM,GAWtB,IAAMA,GAAM0uB,GAAY1uB,IAYlBwiB,IALMkM,GAAYjM,IAKPiM,GAAYlM,UCvB9B0V,GAAW,GACXC,GAAqB,GACrBC,GAAsB,GACtBC,GAAa,GAEbC,GAAAA,SAAAA,qBACF,WAAY31B,EAAM41B,EAAUC,GAAQ,MAE5BC,EAF4B,UAGR,kBAAbF,GAAsD,IAA7BA,EAASrmB,QAAQ,SACjDumB,EAAa,cACbF,EAAWA,EAASnX,QAAQ,QAAS,KAGrCqX,EAAa,UAEjB,IAAM7xB,GAA8B,IAAvBjE,EAAKuP,QAAQ,KAAc,WAAa,WACjDuB,EAAM,QAAH,OAAW9Q,EAAX,aAAoBiE,EAApB,YAA4B6xB,EAA5B,oBAAkDF,GAXzB,OAYhC9kB,GAAO,mBAAJ,cAA8B+kB,IACjC,cAAM/kB,IACDtU,KAAO,uBAdoB,CAenC,aAhBCm5B,GAA4B/vB,QAuBlC,SAASmwB,GAAe5zB,EAAOnC,GAC3B,GAAqB,kBAAVmC,EACP,MAAM,IAAIwzB,GAAoB31B,EAAM,SAAUmC,EAErD,CACD,IAAM6zB,GAAwC,UAArBt4B,GACzB,SAASu4B,GAAgBz5B,GACrB,OAAOA,IAASg5B,IAAsBh5B,IAASi5B,EAClD,CACD,SAASS,GAAqB15B,GAC1B,OAAOA,IAASg5B,EACnB,CACD,SAASW,GAAoB35B,GACzB,OAAQA,GA7Ca,IA6CeA,GA3Cf,IA4ChBA,GA7CgB,IA6CYA,GA3CZ,GA4CxB,CAED,SAAS45B,GAAgBl6B,EAAMK,EAAgB85B,EAAWJ,GAMtD,IALA,IAAIx5B,EAAM,GACNC,EAAoB,EACpBC,GAAa,EACbC,EAAO,EACPJ,EAAO,EACFK,EAAI,EAAGA,GAAKX,EAAKY,SAAUD,EAAG,CACnC,GAAIA,EAAIX,EAAKY,OACTN,EAAON,EAAKa,WAAWF,OAEtB,IAAIo5B,EAAgBz5B,GACrB,MAGAA,EAAOg5B,EACV,CACD,GAAIS,EAAgBz5B,GAAO,CACvB,GAAIG,IAAcE,EAAI,GAAc,IAATD,QAGtB,GAAa,IAATA,EAAY,CACjB,GAAIH,EAAIK,OAAS,GAA2B,IAAtBJ,GAClBD,EAAIM,WAAWN,EAAIK,OAAS,KAAOy4B,IACnC94B,EAAIM,WAAWN,EAAIK,OAAS,KAAOy4B,GAAU,CAC7C,GAAI94B,EAAIK,OAAS,EAAG,CAChB,IAAME,EAAiBP,EAAIQ,YAAYo5B,IACf,IAApBr5B,GACAP,EAAM,GACNC,EAAoB,GAIpBA,GADAD,EAAMA,EAAIS,MAAM,EAAGF,IACKF,OAAS,EAAIL,EAAIQ,YAAYo5B,GAEzD15B,EAAYE,EACZD,EAAO,EACP,QACH,CACI,GAAmB,IAAfH,EAAIK,OAAc,CACvBL,EAAM,GACNC,EAAoB,EACpBC,EAAYE,EACZD,EAAO,EACP,QACH,CACJ,CACGL,IACAE,GAAOA,EAAIK,OAAS,EAAb,UAAoBu5B,EAApB,MAAoC,KAC3C35B,EAAoB,EAE3B,MAEOD,EAAIK,OAAS,EACbL,GAAO,GAAJ,OAAO45B,GAAP,OAAmBn6B,EAAKgB,MAAMP,EAAY,EAAGE,IAGhDJ,EAAMP,EAAKgB,MAAMP,EAAY,EAAGE,GAEpCH,EAAoBG,EAAIF,EAAY,EAExCA,EAAYE,EACZD,EAAO,CACV,MACQJ,IAAS+4B,KAAsB,IAAV34B,IACxBA,EAGFA,GAAQ,CAEf,CACD,OAAOH,CACV,CACD,SAASwD,GAAQL,EAAKD,IA9FtB,SAAwBA,EAAYK,GAChC,GAAmB,OAAfL,GAA6C,kBAAfA,EAC9B,MAAM,IAAIg2B,GAAoB31B,EAAM,SAAUL,EAErD,CA2FG22B,CAAe32B,EAAY,cAC3B,IAAME,EAAMF,EAAWE,KAAOF,EAAWG,KACnCC,EAAOJ,EAAWI,MAAX,UACNJ,EAAWK,MAAQ,IADb,OACkBL,EAAWT,KAAO,IACjD,OAAKW,EAGEA,IAAQF,EAAWG,KAAnB,UAA6BD,GAA7B,OAAmCE,GAAnC,UAA+CF,GAA/C,OAAqDD,GAArD,OAA2DG,GAFvDA,CAGd,CACM,IAAMM,GAAQ,CAEjBjD,QAFiB,WAMb,IAHA,IAAIm5B,EAAiB,GACjBC,EAAe,GACfj5B,GAAmB,EACdV,EAAI,UAAaC,OAAS,EAAGD,IAAM,EAAGA,IAAK,CAChD,IAAIX,OAAI,EACR,GAAIW,GAAK,GAIL,GAFAk5B,GADA75B,EAAoBW,EAAhB,qBAAgBA,OAAhB,YAAgBA,GACC,QAED,IAAhBX,EAAKY,OACL,cAG2B,IAA1By5B,EAAez5B,OACpBZ,EAAOwB,WAWMD,KAHbvB,EAAOwB,CAAAA,SAAAA,aAAAA,WAAAA,IAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAA,WAAgB64B,KAAqB74B,OAIvCxB,EAAKgB,MAAM,EAAG,GAAGu5B,gBAAkBF,EAAeE,eAC/Cv6B,EAAKa,WAAW,KAAO04B,MAC3Bv5B,EAAO,GAAH,OAAMq6B,EAAN,OAGZ,IAAM/pB,EAAMtQ,EAAKY,OACb45B,EAAU,EACVC,EAAS,GACT/4B,GAAa,EACXpB,EAAON,EAAKa,WAAW,GAE7B,GAAY,IAARyP,EACIypB,GAAgBz5B,KAEhBk6B,EAAU,EACV94B,GAAa,QAGhB,GAAIq4B,GAAgBz5B,GAKrB,GADAoB,GAAa,EACTq4B,GAAgB/5B,EAAKa,WAAW,IAAK,CAKrC,IAHA,IAAIkuB,EAAI,EACJzS,EAAOyS,EAEJA,EAAIze,IAAQypB,GAAgB/5B,EAAKa,WAAWkuB,KAC/CA,IAEJ,GAAIA,EAAIze,GAAOye,IAAMzS,EAAM,CACvB,IAAMoe,EAAY16B,EAAKgB,MAAMsb,EAAMyS,GAInC,IAFAzS,EAAOyS,EAEAA,EAAIze,GAAOypB,GAAgB/5B,EAAKa,WAAWkuB,KAC9CA,IAEJ,GAAIA,EAAIze,GAAOye,IAAMzS,EAAM,CAIvB,IAFAA,EAAOyS,EAEAA,EAAIze,IAAQypB,GAAgB/5B,EAAKa,WAAWkuB,KAC/CA,IAEAA,IAAMze,GAAOye,IAAMzS,IAEnBme,EAAS,OAAH,OAAUC,EAAV,aAAwB16B,EAAKgB,MAAMsb,EAAMyS,IAC/CyL,EAAUzL,EAEjB,CACJ,CACJ,MAEGyL,EAAU,OAGTP,GAAoB35B,IACzBN,EAAKa,WAAW,KAAO24B,KAEvBiB,EAASz6B,EAAKgB,MAAM,EAAG,GACvBw5B,EAAU,EACNlqB,EAAM,GAAKypB,GAAgB/5B,EAAKa,WAAW,MAG3Ca,GAAa,EACb84B,EAAU,IAGlB,GAAIC,EAAO75B,OAAS,EAChB,GAAIy5B,EAAez5B,OAAS,GACxB,GAAI65B,EAAOF,gBAAkBF,EAAeE,cAExC,cAIJF,EAAiBI,EAGzB,GAAIp5B,GACA,GAAIg5B,EAAez5B,OAAS,EACxB,WAMJ,GAFA05B,EAAe,GAAH,OAAMt6B,EAAKgB,MAAMw5B,GAAjB,aAA8BF,GAC1Cj5B,EAAmBK,EACfA,GAAc24B,EAAez5B,OAAS,EACtC,KAGX,CAMD,OADA05B,EAAeJ,GAAgBI,GAAej5B,EAAkB,KAAM04B,IAC/D14B,EAAgB,UAChBg5B,EADgB,aACGC,GACtB,UAAGD,GAAH,OAAoBC,IAAkB,GAC7C,EACD74B,UApIiB,SAoIPzB,GACN65B,GAAe75B,EAAM,QACrB,IAAMsQ,EAAMtQ,EAAKY,OACjB,GAAY,IAAR0P,EACA,MAAO,IAEX,IACImqB,EADAD,EAAU,EAEV94B,GAAa,EACXpB,EAAON,EAAKa,WAAW,GAE7B,GAAY,IAARyP,EAGA,OAAO0pB,GAAqB15B,GAAQ,KAAON,EAE/C,GAAI+5B,GAAgBz5B,GAKhB,GADAoB,GAAa,EACTq4B,GAAgB/5B,EAAKa,WAAW,IAAK,CAKrC,IAHA,IAAIkuB,EAAI,EACJzS,EAAOyS,EAEJA,EAAIze,IAAQypB,GAAgB/5B,EAAKa,WAAWkuB,KAC/CA,IAEJ,GAAIA,EAAIze,GAAOye,IAAMzS,EAAM,CACvB,IAAMoe,EAAY16B,EAAKgB,MAAMsb,EAAMyS,GAInC,IAFAzS,EAAOyS,EAEAA,EAAIze,GAAOypB,GAAgB/5B,EAAKa,WAAWkuB,KAC9CA,IAEJ,GAAIA,EAAIze,GAAOye,IAAMzS,EAAM,CAIvB,IAFAA,EAAOyS,EAEAA,EAAIze,IAAQypB,GAAgB/5B,EAAKa,WAAWkuB,KAC/CA,IAEJ,GAAIA,IAAMze,EAIN,oBAAcoqB,EAAd,aAA4B16B,EAAKgB,MAAMsb,GAAvC,MAEAyS,IAAMzS,IAENme,EAAS,OAAH,OAAUC,EAAV,aAAwB16B,EAAKgB,MAAMsb,EAAMyS,IAC/CyL,EAAUzL,EAEjB,CACJ,CACJ,MAEGyL,EAAU,OAGTP,GAAoB35B,IAASN,EAAKa,WAAW,KAAO24B,KAEzDiB,EAASz6B,EAAKgB,MAAM,EAAG,GACvBw5B,EAAU,EACNlqB,EAAM,GAAKypB,GAAgB/5B,EAAKa,WAAW,MAG3Ca,GAAa,EACb84B,EAAU,IAGlB,IAAIG,EAAOH,EAAUlqB,EACjB4pB,GAAgBl6B,EAAKgB,MAAMw5B,IAAW94B,EAAY,KAAMq4B,IACxD,GAOJ,OANoB,IAAhBY,EAAK/5B,QAAiBc,IACtBi5B,EAAO,KAEPA,EAAK/5B,OAAS,GAAKm5B,GAAgB/5B,EAAKa,WAAWyP,EAAM,MACzDqqB,GAAQ,WAEGp5B,IAAXk5B,EACO/4B,EAAa,KAAH,OAAQi5B,GAASA,EAE/Bj5B,EAAa,GAAH,OAAM+4B,EAAN,aAAiBE,GAAjB,UAA6BF,GAA7B,OAAsCE,EAC1D,EACDj5B,WA3NiB,SA2NN1B,GACP65B,GAAe75B,EAAM,QACrB,IAAMsQ,EAAMtQ,EAAKY,OACjB,GAAY,IAAR0P,EACA,OAAO,EAEX,IAAMhQ,EAAON,EAAKa,WAAW,GAC7B,OAAOk5B,GAAgBz5B,IAElBgQ,EAAM,GACH2pB,GAAoB35B,IACpBN,EAAKa,WAAW,KAAO24B,IACvBO,GAAgB/5B,EAAKa,WAAW,GAC3C,EACDe,KAzOiB,WA0Ob,GAAqB,IAAjB,UAAMhB,OACN,MAAO,IAIX,IAFA,IAAIiB,EACA64B,EACK/5B,EAAI,EAAGA,EAAI,UAAMC,SAAUD,EAAG,CACnC,IAAMmB,EAAYnB,EAAT,qBAASA,OAAT,YAASA,GAClBk5B,GAAe/3B,EAAK,QAChBA,EAAIlB,OAAS,SACEW,IAAXM,EACAA,EAAS64B,EAAY54B,EAGrBD,GAAU,KAAJ,OAASC,GAG1B,CACD,QAAeP,IAAXM,EACA,MAAO,IAeX,IAAI+4B,GAAe,EACfC,EAAa,EACjB,GAAyB,kBAAdH,GAA0BX,GAAgBW,EAAU75B,WAAW,IAAK,GACzEg6B,EACF,IAAMC,EAAWJ,EAAU95B,OACvBk6B,EAAW,GAAKf,GAAgBW,EAAU75B,WAAW,QACnDg6B,EACEC,EAAW,IACPf,GAAgBW,EAAU75B,WAAW,MACnCg6B,EAIFD,GAAe,GAI9B,CACD,GAAIA,EAAc,CAEd,KAAOC,EAAah5B,EAAOjB,QACvBm5B,GAAgBl4B,EAAOhB,WAAWg6B,KAClCA,IAGAA,GAAc,IACdh5B,EAAS,KAAH,OAAQA,EAAOb,MAAM65B,IAElC,CACD,OAAO12B,GAAM1C,UAAUI,EAC1B,EAKDE,SA9SiB,SA8SRC,EAAMC,GAGX,GAFA43B,GAAe73B,EAAM,QACrB63B,GAAe53B,EAAI,MACfD,IAASC,EACT,MAAO,GAEX,IAAM84B,EAAW52B,GAAMjD,QAAQc,GACzBg5B,EAAS72B,GAAMjD,QAAQe,GAC7B,GAAI84B,IAAaC,EACb,MAAO,GAIX,IAFAh5B,EAAO+4B,EAASR,kBAChBt4B,EAAK+4B,EAAOT,eAER,MAAO,GAIX,IADA,IAAIr4B,EAAY,EACTA,EAAYF,EAAKpB,QACpBoB,EAAKnB,WAAWqB,KAAeq3B,IAC/Br3B,IAIJ,IADA,IAAIC,EAAUH,EAAKpB,OACZuB,EAAU,EAAID,GACjBF,EAAKnB,WAAWsB,EAAU,KAAOo3B,IACjCp3B,IAKJ,IAHA,IAAMC,EAAUD,EAAUD,EAEtBG,EAAU,EACPA,EAAUJ,EAAGrB,QAChBqB,EAAGpB,WAAWwB,KAAak3B,IAC3Bl3B,IAIJ,IADA,IAAI44B,EAAQh5B,EAAGrB,OACRq6B,EAAQ,EAAI54B,GACfJ,EAAGpB,WAAWo6B,EAAQ,KAAO1B,IAC7B0B,IAOJ,IALA,IAAM34B,EAAQ24B,EAAQ54B,EAEhBzB,EAASwB,EAAUE,EAAQF,EAAUE,EACvCC,GAAiB,EACjB5B,EAAI,EACDA,EAAIC,EAAQD,IAAK,CACpB,IAAM6B,EAAWR,EAAKnB,WAAWqB,EAAYvB,GAC7C,GAAI6B,IAAaP,EAAGpB,WAAWwB,EAAU1B,GACrC,MAEK6B,IAAa+2B,KAClBh3B,EAAgB5B,EAEvB,CAGD,GAAIA,IAAMC,GACN,IAAuB,IAAnB2B,EACA,OAAOy4B,MAGV,CACD,GAAI14B,EAAQ1B,EAAQ,CAChB,GAAIqB,EAAGpB,WAAWwB,EAAU1B,KAAO44B,GAG/B,OAAOyB,EAAOh6B,MAAMqB,EAAU1B,EAAI,GAEtC,GAAU,IAANA,EAGA,OAAOq6B,EAAOh6B,MAAMqB,EAAU1B,EAErC,CACGyB,EAAUxB,IACNoB,EAAKnB,WAAWqB,EAAYvB,KAAO44B,GAGnCh3B,EAAgB5B,EAEL,IAANA,IAGL4B,EAAgB,KAGD,IAAnBA,IACAA,EAAgB,EAEvB,CACD,IAAIE,EAAM,GAGV,IAAK9B,EAAIuB,EAAYK,EAAgB,EAAG5B,GAAKwB,IAAWxB,EAChDA,IAAMwB,GAAWH,EAAKnB,WAAWF,KAAO44B,KACxC92B,GAAsB,IAAfA,EAAI7B,OAAe,KAAO,QAMzC,OAHAyB,GAAWE,EAGPE,EAAI7B,OAAS,EACb,UAAU6B,GAAV,OAAgBu4B,EAAOh6B,MAAMqB,EAAS44B,KAEtCD,EAAOn6B,WAAWwB,KAAak3B,MAC7Bl3B,EAEC24B,EAAOh6B,MAAMqB,EAAS44B,GAChC,EACDC,iBA5ZiB,SA4ZAl7B,GAEb,GAAoB,kBAATA,GAAqC,IAAhBA,EAAKY,OACjC,OAAOZ,EAEX,IAAMoB,EAAe+C,GAAMjD,QAAQlB,GACnC,GAAIoB,EAAaR,QAAU,EACvB,OAAOZ,EAEX,GAAIoB,EAAaP,WAAW,KAAO04B,IAE/B,GAAIn4B,EAAaP,WAAW,KAAO04B,GAAqB,CACpD,IAAMj5B,EAAOc,EAAaP,WAAW,GACrC,GApiBW,KAoiBPP,GAA+BA,IAAS+4B,GAExC,4BAAsBj4B,EAAaJ,MAAM,GAEhD,OAEA,GAAIi5B,GAAoB74B,EAAaP,WAAW,KACjDO,EAAaP,WAAW,KAAO24B,IAC/Bp4B,EAAaP,WAAW,KAAO04B,GAE/B,uBAAiBn4B,GAErB,OAAOpB,CACV,EACD2C,QAvbiB,SAubT3C,GACJ65B,GAAe75B,EAAM,QACrB,IAAMsQ,EAAMtQ,EAAKY,OACjB,GAAY,IAAR0P,EACA,MAAO,IAEX,IAAIkqB,GAAW,EACXjU,EAAS,EACPjmB,EAAON,EAAKa,WAAW,GAC7B,GAAY,IAARyP,EAGA,OAAOypB,GAAgBz5B,GAAQN,EAAO,IAG1C,GAAI+5B,GAAgBz5B,IAGhB,GADAk6B,EAAUjU,EAAS,EACfwT,GAAgB/5B,EAAKa,WAAW,IAAK,CAKrC,IAHA,IAAIkuB,EAAI,EACJzS,EAAOyS,EAEJA,EAAIze,IAAQypB,GAAgB/5B,EAAKa,WAAWkuB,KAC/CA,IAEJ,GAAIA,EAAIze,GAAOye,IAAMzS,EAAM,CAIvB,IAFAA,EAAOyS,EAEAA,EAAIze,GAAOypB,GAAgB/5B,EAAKa,WAAWkuB,KAC9CA,IAEJ,GAAIA,EAAIze,GAAOye,IAAMzS,EAAM,CAIvB,IAFAA,EAAOyS,EAEAA,EAAIze,IAAQypB,GAAgB/5B,EAAKa,WAAWkuB,KAC/CA,IAEJ,GAAIA,IAAMze,EAEN,OAAOtQ,EAEP+uB,IAAMzS,IAINke,EAAUjU,EAASwI,EAAI,EAE9B,CACJ,CACJ,OAGIkL,GAAoB35B,IAASN,EAAKa,WAAW,KAAO24B,KAEzDjT,EADAiU,EAAUlqB,EAAM,GAAKypB,GAAgB/5B,EAAKa,WAAW,IAAM,EAAI,GAKnE,IAFA,IAAIgC,GAAO,EACPC,GAAe,EACVnC,EAAI2P,EAAM,EAAG3P,GAAK4lB,IAAU5lB,EACjC,GAAIo5B,GAAgB/5B,EAAKa,WAAWF,KAChC,IAAKmC,EAAc,CACfD,EAAMlC,EACN,KACH,OAIDmC,GAAe,EAGvB,IAAa,IAATD,EAAY,CACZ,IAAiB,IAAb23B,EACA,MAAO,IAEX33B,EAAM23B,CACT,CACD,OAAOx6B,EAAKgB,MAAM,EAAG6B,EACxB,EACDE,SAxgBiB,SAwgBR/C,EAAMgD,QACCzB,IAARyB,GACA62B,GAAe72B,EAAK,OAExB62B,GAAe75B,EAAM,QACrB,IAGIW,EAHAsC,EAAQ,EACRJ,GAAO,EACPC,GAAe,EAUnB,GALI9C,EAAKY,QAAU,GACfq5B,GAAoBj6B,EAAKa,WAAW,KACpCb,EAAKa,WAAW,KAAO24B,KACvBv2B,EAAQ,QAEA1B,IAARyB,GAAqBA,EAAIpC,OAAS,GAAKoC,EAAIpC,QAAUZ,EAAKY,OAAQ,CAClE,GAAIoC,IAAQhD,EACR,MAAO,GAEX,IAAIkD,EAASF,EAAIpC,OAAS,EACtBuC,GAAoB,EACxB,IAAKxC,EAAIX,EAAKY,OAAS,EAAGD,GAAKsC,IAAStC,EAAG,CACvC,IAAML,EAAON,EAAKa,WAAWF,GAC7B,GAAIo5B,GAAgBz5B,IAGhB,IAAKwC,EAAc,CACfG,EAAQtC,EAAI,EACZ,KACH,OAGyB,IAAtBwC,IAGAL,GAAe,EACfK,EAAmBxC,EAAI,GAEvBuC,GAAU,IAEN5C,IAAS0C,EAAInC,WAAWqC,IACN,MAAZA,IAGFL,EAAMlC,IAMVuC,GAAU,EACVL,EAAMM,GAIrB,CAOD,OANIF,IAAUJ,EACVA,EAAMM,GAEQ,IAATN,IACLA,EAAM7C,EAAKY,QAERZ,EAAKgB,MAAMiC,EAAOJ,EAC5B,CACD,IAAKlC,EAAIX,EAAKY,OAAS,EAAGD,GAAKsC,IAAStC,EACpC,GAAIo5B,GAAgB/5B,EAAKa,WAAWF,KAGhC,IAAKmC,EAAc,CACfG,EAAQtC,EAAI,EACZ,KACH,OAEa,IAATkC,IAGLC,GAAe,EACfD,EAAMlC,EAAI,GAGlB,OAAa,IAATkC,EACO,GAEJ7C,EAAKgB,MAAMiC,EAAOJ,EAC5B,EACDO,QA/lBiB,SA+lBTpD,GACJ65B,GAAe75B,EAAM,QACrB,IAAIiD,EAAQ,EACRI,GAAY,EACZC,EAAY,EACZT,GAAO,EACPC,GAAe,EAGfS,EAAc,EAIdvD,EAAKY,QAAU,GACfZ,EAAKa,WAAW,KAAO24B,IACvBS,GAAoBj6B,EAAKa,WAAW,MACpCoC,EAAQK,EAAY,GAExB,IAAK,IAAI3C,EAAIX,EAAKY,OAAS,EAAGD,GAAKsC,IAAStC,EAAG,CAC3C,IAAML,EAAON,EAAKa,WAAWF,GAC7B,GAAIo5B,GAAgBz5B,IAGhB,IAAKwC,EAAc,CACfQ,EAAY3C,EAAI,EAChB,KACH,OAGQ,IAATkC,IAGAC,GAAe,EACfD,EAAMlC,EAAI,GAEVL,IAAS+4B,IAES,IAAdh2B,EACAA,EAAW1C,EAEU,IAAhB4C,IACLA,EAAc,IAGC,IAAdF,IAGLE,GAAe,EAEtB,CACD,OAAkB,IAAdF,IACS,IAATR,GAEgB,IAAhBU,GAEiB,IAAhBA,GACGF,IAAaR,EAAM,GACnBQ,IAAaC,EAAY,EACtB,GAEJtD,EAAKgB,MAAMqC,EAAUR,EAC/B,EACDW,OAAQO,GAAQiK,KAAK,KAAM,MAC3BhK,MA9pBiB,SA8pBXhE,GACF65B,GAAe75B,EAAM,QACrB,IAAMiE,EAAM,CAAEL,KAAM,GAAID,IAAK,GAAIE,KAAM,GAAIb,IAAK,GAAIc,KAAM,IAC1D,GAAoB,IAAhB9D,EAAKY,OACL,OAAOqD,EAEX,IAAMqM,EAAMtQ,EAAKY,OACb45B,EAAU,EACVl6B,EAAON,EAAKa,WAAW,GAC3B,GAAY,IAARyP,EACA,OAAIypB,GAAgBz5B,IAGhB2D,EAAIL,KAAOK,EAAIN,IAAM3D,EACdiE,IAEXA,EAAIJ,KAAOI,EAAIH,KAAO9D,EACfiE,GAGX,GAAI81B,GAAgBz5B,IAGhB,GADAk6B,EAAU,EACNT,GAAgB/5B,EAAKa,WAAW,IAAK,CAKrC,IAHA,IAAIkuB,EAAI,EACJzS,EAAOyS,EAEJA,EAAIze,IAAQypB,GAAgB/5B,EAAKa,WAAWkuB,KAC/CA,IAEJ,GAAIA,EAAIze,GAAOye,IAAMzS,EAAM,CAIvB,IAFAA,EAAOyS,EAEAA,EAAIze,GAAOypB,GAAgB/5B,EAAKa,WAAWkuB,KAC9CA,IAEJ,GAAIA,EAAIze,GAAOye,IAAMzS,EAAM,CAIvB,IAFAA,EAAOyS,EAEAA,EAAIze,IAAQypB,GAAgB/5B,EAAKa,WAAWkuB,KAC/CA,IAEAA,IAAMze,EAENkqB,EAAUzL,EAELA,IAAMzS,IAEXke,EAAUzL,EAAI,EAErB,CACJ,CACJ,OAEA,GAAIkL,GAAoB35B,IAASN,EAAKa,WAAW,KAAO24B,GAAY,CAErE,GAAIlpB,GAAO,EAIP,OADArM,EAAIL,KAAOK,EAAIN,IAAM3D,EACdiE,EAGX,GADAu2B,EAAU,EACNT,GAAgB/5B,EAAKa,WAAW,IAAK,CACrC,GAAY,IAARyP,EAIA,OADArM,EAAIL,KAAOK,EAAIN,IAAM3D,EACdiE,EAEXu2B,EAAU,CACb,CACJ,CACGA,EAAU,IACVv2B,EAAIL,KAAO5D,EAAKgB,MAAM,EAAGw5B,IAW7B,IATA,IAAIn3B,GAAY,EACZC,EAAYk3B,EACZ33B,GAAO,EACPC,GAAe,EACfnC,EAAIX,EAAKY,OAAS,EAGlB2C,EAAc,EAEX5C,GAAK65B,IAAW75B,EAEnB,GAAIo5B,GADJz5B,EAAON,EAAKa,WAAWF,KAInB,IAAKmC,EAAc,CACfQ,EAAY3C,EAAI,EAChB,KACH,OAGQ,IAATkC,IAGAC,GAAe,EACfD,EAAMlC,EAAI,GAEVL,IAAS+4B,IAES,IAAdh2B,EACAA,EAAW1C,EAEU,IAAhB4C,IACLA,EAAc,IAGC,IAAdF,IAGLE,GAAe,GA4BvB,OAzBa,IAATV,KACkB,IAAdQ,GAEgB,IAAhBE,GAEiB,IAAhBA,GACGF,IAAaR,EAAM,GACnBQ,IAAaC,EAAY,EAC7BW,EAAIJ,KAAOI,EAAIH,KAAO9D,EAAKgB,MAAMsC,EAAWT,IAG5CoB,EAAIH,KAAO9D,EAAKgB,MAAMsC,EAAWD,GACjCY,EAAIJ,KAAO7D,EAAKgB,MAAMsC,EAAWT,GACjCoB,EAAIjB,IAAMhD,EAAKgB,MAAMqC,EAAUR,KAOnCoB,EAAIN,IADJL,EAAY,GAAKA,IAAck3B,EACrBx6B,EAAKgB,MAAM,EAAGsC,EAAY,GAG1BW,EAAIL,KAEXK,CACV,EACDP,IAAK,KACLQ,UAAW,IACXC,MAAO,KACPlD,MAAO,MAELk6B,GAAY,WACd,GAAIrB,GAAiB,CAGjB,IAAMsB,EAAS,MACf,OAAO,WACH,IAAMj6B,EAAMK,KAAc+gB,QAAQ6Y,EAAQ,KAC1C,OAAOj6B,EAAIH,MAAMG,EAAIkS,QAAQ,KAChC,CACJ,CAED,OAAO,kBAAM7R,IAAN,CACV,CAZiB,GAaLP,GAAQ,CAEjBC,QAFiB,WAKb,IAFA,IAAIE,EAAe,GACfC,GAAmB,EACdV,EAAI,UAAaC,OAAS,EAAGD,IAAM,IAAMU,EAAkBV,IAAK,CACrE,IAAMX,EAAOW,GAAK,EAAiBA,EAAtB,qBAAsBA,OAAtB,YAAsBA,GAAKw6B,KACxCtB,GAAe75B,EAAM,QAED,IAAhBA,EAAKY,SAGTQ,EAAe,GAAH,OAAMpB,EAAN,YAAcoB,GAC1BC,EAAmBrB,EAAKa,WAAW,KAAOy4B,GAC7C,CAKD,OADAl4B,EAAe84B,GAAgB94B,GAAeC,EAAkB,IAAK24B,IACjE34B,EACA,WAAWD,GAERA,EAAaR,OAAS,EAAIQ,EAAe,GACnD,EACDK,UAxBiB,SAwBPzB,GAEN,GADA65B,GAAe75B,EAAM,QACD,IAAhBA,EAAKY,OACL,MAAO,IAEX,IAAMc,EAAa1B,EAAKa,WAAW,KAAOy4B,GACpC33B,EAAoB3B,EAAKa,WAAWb,EAAKY,OAAS,KAAO04B,GAG/D,OAAoB,KADpBt5B,EAAOk6B,GAAgBl6B,GAAO0B,EAAY,IAAKs4B,KACtCp5B,OACDc,EACO,IAEJC,EAAoB,KAAO,KAElCA,IACA3B,GAAQ,KAEL0B,EAAa,IAAH,OAAO1B,GAASA,EACpC,EACD0B,WA5CiB,SA4CN1B,GAEP,OADA65B,GAAe75B,EAAM,QACdA,EAAKY,OAAS,GAAKZ,EAAKa,WAAW,KAAOy4B,EACpD,EACD13B,KAhDiB,WAiDb,GAAqB,IAAjB,UAAMhB,OACN,MAAO,IAGX,IADA,IAAIiB,EACKlB,EAAI,EAAGA,EAAI,UAAMC,SAAUD,EAAG,CACnC,IAAMmB,EAAYnB,EAAT,qBAASA,OAAT,YAASA,GAClBk5B,GAAe/3B,EAAK,QAChBA,EAAIlB,OAAS,SACEW,IAAXM,EACAA,EAASC,EAGTD,GAAU,IAAJ,OAAQC,GAGzB,CACD,YAAeP,IAAXM,EACO,IAEJZ,GAAMQ,UAAUI,EAC1B,EACDE,SAtEiB,SAsERC,EAAMC,GAGX,GAFA43B,GAAe73B,EAAM,QACrB63B,GAAe53B,EAAI,MACfD,IAASC,EACT,MAAO,GAKX,IAFAD,EAAOf,GAAMC,QAAQc,OACrBC,EAAKhB,GAAMC,QAAQe,IAEf,MAAO,GAWX,IATA,IACME,EAAUH,EAAKpB,OACfwB,EAAUD,EAFE,EAIZG,EAAQL,EAAGrB,OADD,EAGVA,EAAUwB,EAAUE,EAAQF,EAAUE,EACxCC,GAAiB,EACjB5B,EAAI,EACDA,EAAIC,EAAQD,IAAK,CACpB,IAAM6B,EAAWR,EAAKnB,WAVR,EAU+BF,GAC7C,GAAI6B,IAAaP,EAAGpB,WARR,EAQ6BF,GACrC,MAEK6B,IAAa82B,KAClB/2B,EAAgB5B,EAEvB,CACD,GAAIA,IAAMC,EACN,GAAI0B,EAAQ1B,EAAQ,CAChB,GAAIqB,EAAGpB,WAjBC,EAiBoBF,KAAO24B,GAG/B,OAAOr3B,EAAGjB,MApBN,EAoBsBL,EAAI,GAElC,GAAU,IAANA,EAGA,OAAOsB,EAAGjB,MAzBN,EAyBsBL,EAEjC,MACQyB,EAAUxB,IACXoB,EAAKnB,WAhCC,EAgCsBF,KAAO24B,GAGnC/2B,EAAgB5B,EAEL,IAANA,IAGL4B,EAAgB,IAI5B,IAAIE,EAAM,GAGV,IAAK9B,EA/Ca,EA+CG4B,EAAgB,EAAG5B,GAAKwB,IAAWxB,EAChDA,IAAMwB,GAAWH,EAAKnB,WAAWF,KAAO24B,KACxC72B,GAAsB,IAAfA,EAAI7B,OAAe,KAAO,OAKzC,gBAAU6B,GAAV,OAAgBR,EAAGjB,MAnDH,EAmDmBuB,GACtC,EACD24B,iBA1IiB,SA0IAl7B,GAEb,OAAOA,CACV,EACD2C,QA9IiB,SA8IT3C,GAEJ,GADA65B,GAAe75B,EAAM,QACD,IAAhBA,EAAKY,OACL,MAAO,IAKX,IAHA,IAAMgC,EAAU5C,EAAKa,WAAW,KAAOy4B,GACnCz2B,GAAO,EACPC,GAAe,EACVnC,EAAIX,EAAKY,OAAS,EAAGD,GAAK,IAAKA,EACpC,GAAIX,EAAKa,WAAWF,KAAO24B,IACvB,IAAKx2B,EAAc,CACfD,EAAMlC,EACN,KACH,OAIDmC,GAAe,EAGvB,OAAa,IAATD,EACOD,EAAU,IAAM,IAEvBA,GAAmB,IAARC,EACJ,KAEJ7C,EAAKgB,MAAM,EAAG6B,EACxB,EACDE,SA1KiB,SA0KR/C,EAAMgD,QACCzB,IAARyB,GACA62B,GAAe72B,EAAK,OAExB62B,GAAe75B,EAAM,QACrB,IAGIW,EAHAsC,EAAQ,EACRJ,GAAO,EACPC,GAAe,EAEnB,QAAYvB,IAARyB,GAAqBA,EAAIpC,OAAS,GAAKoC,EAAIpC,QAAUZ,EAAKY,OAAQ,CAClE,GAAIoC,IAAQhD,EACR,MAAO,GAEX,IAAIkD,EAASF,EAAIpC,OAAS,EACtBuC,GAAoB,EACxB,IAAKxC,EAAIX,EAAKY,OAAS,EAAGD,GAAK,IAAKA,EAAG,CACnC,IAAML,EAAON,EAAKa,WAAWF,GAC7B,GAAIL,IAASg5B,IAGT,IAAKx2B,EAAc,CACfG,EAAQtC,EAAI,EACZ,KACH,OAGyB,IAAtBwC,IAGAL,GAAe,EACfK,EAAmBxC,EAAI,GAEvBuC,GAAU,IAEN5C,IAAS0C,EAAInC,WAAWqC,IACN,MAAZA,IAGFL,EAAMlC,IAMVuC,GAAU,EACVL,EAAMM,GAIrB,CAOD,OANIF,IAAUJ,EACVA,EAAMM,GAEQ,IAATN,IACLA,EAAM7C,EAAKY,QAERZ,EAAKgB,MAAMiC,EAAOJ,EAC5B,CACD,IAAKlC,EAAIX,EAAKY,OAAS,EAAGD,GAAK,IAAKA,EAChC,GAAIX,EAAKa,WAAWF,KAAO24B,IAGvB,IAAKx2B,EAAc,CACfG,EAAQtC,EAAI,EACZ,KACH,OAEa,IAATkC,IAGLC,GAAe,EACfD,EAAMlC,EAAI,GAGlB,OAAa,IAATkC,EACO,GAEJ7C,EAAKgB,MAAMiC,EAAOJ,EAC5B,EACDO,QAzPiB,SAyPTpD,GACJ65B,GAAe75B,EAAM,QAQrB,IAPA,IAAIqD,GAAY,EACZC,EAAY,EACZT,GAAO,EACPC,GAAe,EAGfS,EAAc,EACT5C,EAAIX,EAAKY,OAAS,EAAGD,GAAK,IAAKA,EAAG,CACvC,IAAML,EAAON,EAAKa,WAAWF,GAC7B,GAAIL,IAASg5B,IASA,IAATz2B,IAGAC,GAAe,EACfD,EAAMlC,EAAI,GAEVL,IAAS+4B,IAES,IAAdh2B,EACAA,EAAW1C,EAEU,IAAhB4C,IACLA,EAAc,IAGC,IAAdF,IAGLE,GAAe,QAxBf,IAAKT,EAAc,CACfQ,EAAY3C,EAAI,EAChB,KACH,CAuBR,CACD,OAAkB,IAAd0C,IACS,IAATR,GAEgB,IAAhBU,GAEiB,IAAhBA,GACGF,IAAaR,EAAM,GACnBQ,IAAaC,EAAY,EACtB,GAEJtD,EAAKgB,MAAMqC,EAAUR,EAC/B,EACDW,OAAQO,GAAQiK,KAAK,KAAM,KAC3BhK,MA/SiB,SA+SXhE,GACF65B,GAAe75B,EAAM,QACrB,IAAMiE,EAAM,CAAEL,KAAM,GAAID,IAAK,GAAIE,KAAM,GAAIb,IAAK,GAAIc,KAAM,IAC1D,GAAoB,IAAhB9D,EAAKY,OACL,OAAOqD,EAEX,IACIhB,EADEvB,EAAa1B,EAAKa,WAAW,KAAOy4B,GAEtC53B,GACAuC,EAAIL,KAAO,IACXX,EAAQ,GAGRA,EAAQ,EAWZ,IATA,IAAII,GAAY,EACZC,EAAY,EACZT,GAAO,EACPC,GAAe,EACfnC,EAAIX,EAAKY,OAAS,EAGlB2C,EAAc,EAEX5C,GAAKsC,IAAStC,EAAG,CACpB,IAAML,EAAON,EAAKa,WAAWF,GAC7B,GAAIL,IAASg5B,IASA,IAATz2B,IAGAC,GAAe,EACfD,EAAMlC,EAAI,GAEVL,IAAS+4B,IAES,IAAdh2B,EACAA,EAAW1C,EAEU,IAAhB4C,IACLA,EAAc,IAGC,IAAdF,IAGLE,GAAe,QAxBf,IAAKT,EAAc,CACfQ,EAAY3C,EAAI,EAChB,KACH,CAuBR,CACD,IAAa,IAATkC,EAAY,CACZ,IAAMI,EAAsB,IAAdK,GAAmB5B,EAAa,EAAI4B,GAChC,IAAdD,GAEgB,IAAhBE,GAEiB,IAAhBA,GACGF,IAAaR,EAAM,GACnBQ,IAAaC,EAAY,EAC7BW,EAAIJ,KAAOI,EAAIH,KAAO9D,EAAKgB,MAAMiC,EAAOJ,IAGxCoB,EAAIH,KAAO9D,EAAKgB,MAAMiC,EAAOI,GAC7BY,EAAIJ,KAAO7D,EAAKgB,MAAMiC,EAAOJ,GAC7BoB,EAAIjB,IAAMhD,EAAKgB,MAAMqC,EAAUR,GAEtC,CAOD,OANIS,EAAY,EACZW,EAAIN,IAAM3D,EAAKgB,MAAM,EAAGsC,EAAY,GAE/B5B,IACLuC,EAAIN,IAAM,KAEPM,CACV,EACDP,IAAK,IACLQ,UAAW,IACXC,MAAO,KACPlD,MAAO,MAEXA,GAAMkD,MAAQA,GAAMA,MAAQA,GAC5BlD,GAAMA,MAAQkD,GAAMlD,MAAQA,GACF64B,GAAkB31B,GAAM1C,UAAYR,GAAMQ,UAC5Cq4B,GAAkB31B,GAAMjD,QAAUD,GAAMC,QACvC44B,GAAkB31B,GAAMpC,SAAWd,GAAMc,SAC1C+3B,GAAkB31B,GAAMxB,QAAU1B,GAAM0B,QACvCm3B,GAAkB31B,GAAMpB,SAAW9B,GAAM8B,SAC1C+2B,GAAkB31B,GAAMf,QAAUnC,GAAMmC,QAC5C02B,GAAkB31B,GAAMT,IAAMzC,GAAMyC,IANjD,OCp2CD23B,GAAiB,iBACjBC,GAAoB,MACpBC,GAAoB,QA2D1B,IAAMjmB,GAAS,GACTkmB,GAAS,IACTC,GAAU,+DAiBHC,GAAb,WAoBI,WAAYC,EAAcC,EAAW57B,EAAM67B,EAAOC,GAA2B,IAAjBC,EAAiB,kEAC7C,kBAAjBJ,GACPt2B,KAAK22B,OAASL,EAAaK,QAAU1mB,GACrCjQ,KAAKu2B,UAAYD,EAAaC,WAAatmB,GAC3CjQ,KAAKrF,KAAO27B,EAAa37B,MAAQsV,GACjCjQ,KAAKw2B,MAAQF,EAAaE,OAASvmB,GACnCjQ,KAAKy2B,SAAWH,EAAaG,UAAYxmB,KAMzCjQ,KAAK22B,OA7EjB,SAAoBA,EAAQD,GACxB,OAAKC,GAAWD,EAGTC,EAFI,MAGd,CAwEyBC,CAAWN,EAAcI,GACvC12B,KAAKu2B,UAAYA,GAAatmB,GAC9BjQ,KAAKrF,KAxEjB,SAA8Bg8B,EAAQh8B,GAKlC,OAAQg8B,GACJ,IAAK,QACL,IAAK,OACL,IAAK,OACIh8B,EAGIA,EAAK,KAAOw7B,KACjBx7B,EAAOw7B,GAASx7B,GAHhBA,EAAOw7B,GAOnB,OAAOx7B,CACV,CAsDuBk8B,CAAqB72B,KAAK22B,OAAQh8B,GAAQsV,IACtDjQ,KAAKw2B,MAAQA,GAASvmB,GACtBjQ,KAAKy2B,SAAWA,GAAYxmB,GAjHxC,SAAsBrR,EAAK83B,GAEvB,IAAK93B,EAAI+3B,QAAUD,EACf,MAAM,IAAIryB,MAAJ,kEAAqEzF,EAAI23B,UAAzE,qBAA+F33B,EAAIjE,KAAnG,sBAAqHiE,EAAI43B,MAAzH,yBAA+I53B,EAAI63B,SAAnJ,OAIV,GAAI73B,EAAI+3B,SAAWX,GAAevqB,KAAK7M,EAAI+3B,QACvC,MAAM,IAAItyB,MAAM,mDAOpB,GAAIzF,EAAIjE,KACJ,GAAIiE,EAAI23B,WACJ,IAAKN,GAAkBxqB,KAAK7M,EAAIjE,MAC5B,MAAM,IAAI0J,MAAM,iJAIpB,GAAI6xB,GAAkBzqB,KAAK7M,EAAIjE,MAC3B,MAAM,IAAI0J,MAAM,4HAI/B,CAuFWyyB,CAAa92B,KAAM02B,GAE1B,CAvCL,8BAiEI,WAII,OAAOK,GAAY/2B,MAAM,EAC5B,GAtEL,kBAwEI,SAAK4wB,GACD,IAAKA,EACD,OAAO5wB,KAEX,IAAM22B,EAA6C/F,EAA7C+F,OAAQJ,EAAqC3F,EAArC2F,UAAW57B,EAA0Bi2B,EAA1Bj2B,KAAM67B,EAAoB5F,EAApB4F,MAAOC,EAAa7F,EAAb6F,SA+BtC,YA9Bev6B,IAAXy6B,EACAA,EAAS32B,KAAK22B,OAEE,OAAXA,IACLA,EAAS1mB,SAEK/T,IAAdq6B,EACAA,EAAYv2B,KAAKu2B,UAEE,OAAdA,IACLA,EAAYtmB,SAEH/T,IAATvB,EACAA,EAAOqF,KAAKrF,KAEE,OAATA,IACLA,EAAOsV,SAEG/T,IAAVs6B,EACAA,EAAQx2B,KAAKw2B,MAEE,OAAVA,IACLA,EAAQvmB,SAEK/T,IAAbu6B,EACAA,EAAWz2B,KAAKy2B,SAEE,OAAbA,IACLA,EAAWxmB,IAEX0mB,IAAW32B,KAAK22B,QACbJ,IAAcv2B,KAAKu2B,WACnB57B,IAASqF,KAAKrF,MACd67B,IAAUx2B,KAAKw2B,OACfC,IAAaz2B,KAAKy2B,SACdz2B,KAEJ,IAAIg3B,GAAIL,EAAQJ,EAAW57B,EAAM67B,EAAOC,EAClD,GAnHL,sBAyNI,WACI,OAAOQ,GAAaj3B,KADO,wDAE9B,GA3NL,oBA4NI,WACI,OAAOA,IACV,IA9NL,oBACI,SAAagQ,GACT,OAAIA,aAAiBqmB,KAGhBrmB,IAG6B,kBAApBA,EAAMumB,WACa,kBAAnBvmB,EAAMymB,UACS,kBAAfzmB,EAAMrV,MACU,kBAAhBqV,EAAMwmB,OACW,kBAAjBxmB,EAAM2mB,QACW,kBAAjB3mB,EAAMknB,QACS,oBAAflnB,EAAMmnB,MACa,oBAAnBnnB,EAAMxE,SACvB,GAhBL,mBA2HI,SAAa5K,GAAwB,IAAjB81B,EAAiB,wDAC3BvZ,EAAQiZ,GAAQgB,KAAKx2B,GAC3B,OAAKuc,EAGE,IAAI6Z,GAAI7Z,EAAM,IAAMlN,GAAQonB,GAAcla,EAAM,IAAMlN,IAASonB,GAAcla,EAAM,IAAMlN,IAASonB,GAAcla,EAAM,IAAMlN,IAASonB,GAAcla,EAAM,IAAMlN,IAASymB,GAFpK,IAAIM,GAAI/mB,GAAQA,GAAQA,GAAQA,GAAQA,GAGtD,GAjIL,kBAuJI,SAAYtV,GACR,IAAI47B,EAAYtmB,GAShB,GALImP,KACAzkB,EAAOA,EAAKuiB,QAAQ,MAAOiZ,KAI3Bx7B,EAAK,KAAOw7B,IAAUx7B,EAAK,KAAOw7B,GAAQ,CAC1C,IAAMmB,EAAM38B,EAAKqT,QAAQmoB,GAAQ,IACpB,IAATmB,GACAf,EAAY57B,EAAK48B,UAAU,GAC3B58B,EAAOw7B,KAGPI,EAAY57B,EAAK48B,UAAU,EAAGD,GAC9B38B,EAAOA,EAAK48B,UAAUD,IAAQnB,GAErC,CACD,OAAO,IAAIa,GAAI,OAAQT,EAAW57B,EAAMsV,GAAQA,GACnD,GA7KL,kBAqLI,SAAYunB,EAAYC,GAEpB,OADe,IAAIT,GAAIQ,EAAWb,OAAQa,EAAWjB,UAAWiB,EAAW78B,KAAM68B,EAAWhB,MAAOgB,EAAWf,SAAUgB,EAE3H,GAxLL,sBAgMI,SAAgBC,GACZ,IAAKA,EAAI/8B,KACL,MAAM,IAAI0J,MAAJ,wDAFwB,IAIlC,IAAIszB,EACoC,EAGnC,EAR6B,mBAAdC,EAAc,iCAAdA,EAAc,kBAK9BxY,IAA4B,SAAfsY,EAAIf,OACjBgB,EAAUtB,EAAIwB,MAAK,EAAAxR,IAAY9pB,KAAZ,SAAiBw6B,GAAYW,GAAK,IAAlC,OAA4CE,KAAej9B,KAG9Eg9B,GAAU,EAAAtR,IAAY9pB,KAAZ,SAAiBm7B,EAAI/8B,MAArB,OAA8Bi9B,IAE5C,OAAOF,EAAIP,KAAK,CAAEx8B,KAAMg9B,GAC3B,GA5ML,oBA+NI,SAAcra,GACV,IAAI7C,EAAIM,EACR,GAAKuC,EAGA,IAAIA,aAAgB+Y,EACrB,OAAO/Y,EAGP,IAAMzZ,EAAS,IAAImzB,GAAI1Z,GAGvB,OAFAzZ,EAAOi0B,WAAsC,QAAxBrd,EAAK6C,EAAKya,gBAA6B,IAAPtd,EAAgBA,EAAK,KAC1E5W,EAAOm0B,QAAU1a,EAAK2a,OAASC,IAAwC,QAAtBnd,EAAKuC,EAAK4Z,cAA2B,IAAPnc,EAAgBA,EAAY,KACpGlX,CACV,CAVG,OAAOyZ,CAWd,KA7OL,KA+OM4a,GAAiB9Y,GAAY,OAAIljB,EAEjC86B,GAAAA,SAAAA,qBACF,aAAc,wBACV,eAAS/6B,YACJ67B,WAAa,KAClB,EAAKE,QAAU,KAHL,CAIb,+BACD,WAII,OAHKh4B,KAAKg4B,UACNh4B,KAAKg4B,QAAUjB,GAAY/2B,MAAM,IAE9BA,KAAKg4B,OACf,yBACD,WACI,OAD2B,wDAShBf,GAAaj3B,MAAM,IAPrBA,KAAK83B,aACN93B,KAAK83B,WAAab,GAAaj3B,MAAM,IAElCA,KAAK83B,WAMnB,uBACD,WACI,IAAM58B,EAAM,CACRi9B,KAAM,GA8BV,OA3BIn4B,KAAKg4B,UACL98B,EAAIg8B,OAASl3B,KAAKg4B,QAClB98B,EAAI+8B,KAAOC,IAEXl4B,KAAK83B,aACL58B,EAAI68B,SAAW/3B,KAAK83B,YAGpB93B,KAAKrF,OACLO,EAAIP,KAAOqF,KAAKrF,MAMhBqF,KAAK22B,SACLz7B,EAAIy7B,OAAS32B,KAAK22B,QAElB32B,KAAKu2B,YACLr7B,EAAIq7B,UAAYv2B,KAAKu2B,WAErBv2B,KAAKw2B,QACLt7B,EAAIs7B,MAAQx2B,KAAKw2B,OAEjBx2B,KAAKy2B,WACLv7B,EAAIu7B,SAAWz2B,KAAKy2B,UAEjBv7B,CACV,OAzDC87B,CAAYX,IA4DZ+B,IAAW,QACZ,GAA0B,OADd,KAEZ,GAA0B,OAFd,KAGZ,GAAiC,OAHrB,KAIZ,GAAyB,OAJb,KAKZ,GAAsC,OAL1B,KAMZ,GAAuC,OAN3B,KAOZ,GAA2B,OAPf,KAQZ,GAAoC,OARxB,KASZ,GAA+B,OATnB,KAUZ,GAA8B,OAVlB,KAWZ,GAAgC,OAXpB,KAYZ,GAA8B,OAZlB,KAaZ,GAA+B,OAbnB,KAcZ,GAA6B,OAdjB,KAeZ,GAAyB,OAfb,KAgBZ,GAA0B,OAhBd,KAiBZ,GAA8B,OAjBlB,KAkBZ,GAA2B,OAlBf,KAmBZ,GAA0B,OAnBd,IAqBjB,SAASC,GAAuBC,EAAcC,EAAQC,GAGlD,IAFA,IAAIt9B,OAAMgB,EACNu8B,GAAmB,EACdC,EAAM,EAAGA,EAAMJ,EAAa/8B,OAAQm9B,IAAO,CAChD,IAAMz9B,EAAOq9B,EAAa98B,WAAWk9B,GAErC,GAAKz9B,GAAQ,IAAuBA,GAAQ,KACpCA,GAAQ,IAAuBA,GAAQ,IACvCA,GAAQ,IAA4BA,GAAQ,IACpC,KAATA,GACS,KAATA,GACS,KAATA,GACS,MAATA,GACCs9B,GAAmB,KAATt9B,GACVu9B,GAAwB,KAATv9B,GACfu9B,GAAwB,KAATv9B,GACfu9B,GAAwB,KAATv9B,GAEM,IAArBw9B,IACAv9B,GAAOy9B,mBAAmBL,EAAaf,UAAUkB,EAAiBC,IAClED,GAAmB,QAGXv8B,IAARhB,IACAA,GAAOo9B,EAAajxB,OAAOqxB,QAG9B,MAEWx8B,IAARhB,IACAA,EAAMo9B,EAAaM,OAAO,EAAGF,IAGjC,IAAMG,EAAUT,GAAYn9B,QACZiB,IAAZ28B,IAEyB,IAArBJ,IACAv9B,GAAOy9B,mBAAmBL,EAAaf,UAAUkB,EAAiBC,IAClED,GAAmB,GAGvBv9B,GAAO29B,IAEmB,IAArBJ,IAELA,EAAkBC,EAEzB,CACJ,CAID,OAHyB,IAArBD,IACAv9B,GAAOy9B,mBAAmBL,EAAaf,UAAUkB,UAEtCv8B,IAARhB,EAAoBA,EAAMo9B,CACpC,CACD,SAASQ,GAA0Bn+B,GAE/B,IADA,IAAIO,OAAMgB,EACDw8B,EAAM,EAAGA,EAAM/9B,EAAKY,OAAQm9B,IAAO,CACxC,IAAMz9B,EAAON,EAAKa,WAAWk9B,GAChB,KAATz9B,GAA4C,KAATA,QACvBiB,IAARhB,IACAA,EAAMP,EAAKi+B,OAAO,EAAGF,IAEzBx9B,GAAOk9B,GAAYn9B,SAGPiB,IAARhB,IACAA,GAAOP,EAAK+9B,GAGvB,CACD,YAAex8B,IAARhB,EAAoBA,EAAMP,CACpC,CAIM,SAASo8B,GAAYW,EAAKqB,GAC7B,IAAIn4B,EAuBJ,OApBIA,EAFA82B,EAAInB,WAAamB,EAAI/8B,KAAKY,OAAS,GAAoB,SAAfm8B,EAAIf,OAEpC,KAAH,OAAQe,EAAInB,WAAZ,OAAwBmB,EAAI/8B,MAED,KAA3B+8B,EAAI/8B,KAAKa,WAAW,KACrBk8B,EAAI/8B,KAAKa,WAAW,IAAM,IAAuBk8B,EAAI/8B,KAAKa,WAAW,IAAM,IAAuBk8B,EAAI/8B,KAAKa,WAAW,IAAM,IAAuBk8B,EAAI/8B,KAAKa,WAAW,IAAM,MACnJ,KAA3Bk8B,EAAI/8B,KAAKa,WAAW,GAClBu9B,EAKOrB,EAAI/8B,KAAKi+B,OAAO,GAHhBlB,EAAI/8B,KAAK,GAAGu6B,cAAgBwC,EAAI/8B,KAAKi+B,OAAO,GAQhDlB,EAAI/8B,KAEZykB,KACAxe,EAAQA,EAAMsc,QAAQ,MAAO,OAE1Btc,CACV,CAID,SAASq2B,GAAaS,EAAKsB,GACvB,IAAMC,EAAWD,EAEXF,GADAT,GAEFn9B,EAAM,GACJy7B,EAA6Ce,EAA7Cf,OAAQJ,EAAqCmB,EAArCnB,UAAW57B,EAA0B+8B,EAA1B/8B,KAAM67B,EAAoBkB,EAApBlB,MAAOC,EAAaiB,EAAbjB,SAStC,GARIE,IACAz7B,GAAOy7B,EACPz7B,GAAO,MAEPq7B,GAAwB,SAAXI,KACbz7B,GAAOi7B,GACPj7B,GAAOi7B,IAEPI,EAAW,CACX,IAAIe,EAAMf,EAAUvoB,QAAQ,KAC5B,IAAa,IAATspB,EAAY,CAEZ,IAAM4B,EAAW3C,EAAUqC,OAAO,EAAGtB,GACrCf,EAAYA,EAAUqC,OAAOtB,EAAM,IAEtB,KADbA,EAAM4B,EAASx9B,YAAY,MAEvBR,GAAO+9B,EAAQC,GAAU,GAAO,IAIhCh+B,GAAO+9B,EAAQC,EAASN,OAAO,EAAGtB,IAAM,GAAO,GAC/Cp8B,GAAO,IACPA,GAAO+9B,EAAQC,EAASN,OAAOtB,EAAM,IAAI,GAAO,IAEpDp8B,GAAO,GACV,EAGY,KADbo8B,GADAf,EAAYA,EAAUrB,eACNx5B,YAAY,MAExBR,GAAO+9B,EAAQ1C,GAAW,GAAO,IAIjCr7B,GAAO+9B,EAAQ1C,EAAUqC,OAAO,EAAGtB,IAAM,GAAO,GAChDp8B,GAAOq7B,EAAUqC,OAAOtB,GAE/B,CACD,GAAI38B,EAAM,CAEN,GAAIA,EAAKY,QAAU,GAA4B,KAAvBZ,EAAKa,WAAW,IAAyD,KAAvBb,EAAKa,WAAW,GAAgC,CACtH,IAAMP,EAAON,EAAKa,WAAW,GACzBP,GAAQ,IAAuBA,GAAQ,KACvCN,EAAO,IAAH,OAAOwP,OAAOkX,aAAapmB,EAAO,IAAlC,YAAyCN,EAAKi+B,OAAO,IAEhE,MACI,GAAIj+B,EAAKY,QAAU,GAA4B,KAAvBZ,EAAKa,WAAW,GAAgC,CACzE,IAAMP,EAAON,EAAKa,WAAW,GACzBP,GAAQ,IAAuBA,GAAQ,KACvCN,EAAO,GAAH,OAAMwP,OAAOkX,aAAapmB,EAAO,IAAjC,YAAwCN,EAAKi+B,OAAO,IAE/D,CAED19B,GAAO+9B,EAAQt+B,GAAM,GAAM,EAC9B,CASD,OARI67B,IACAt7B,GAAO,IACPA,GAAO+9B,EAAQzC,GAAO,GAAO,IAE7BC,IACAv7B,GAAO,IACPA,GAAQ89B,EAAgEvC,EAAjD4B,GAAuB5B,GAAU,GAAO,IAE5Dv7B,CACV,CAED,SAASi+B,GAA2BlY,GAChC,IACI,OAAOmY,mBAAmBnY,EAC7B,CACD,MAAOxG,IACH,OAAIwG,EAAI1lB,OAAS,EACN0lB,EAAI2X,OAAO,EAAG,GAAKO,GAA2BlY,EAAI2X,OAAO,IAGzD3X,CAEd,CACJ,CACD,IAAMoY,GAAiB,8BACvB,SAAShC,GAAcpW,GACnB,OAAKA,EAAI9D,MAAMkc,IAGRpY,EAAI/D,QAAQmc,IAAgB,SAAClc,GAAD,OAAWgc,GAA2Bhc,EAAtC,IAFxB8D,CAGd,CCnlBM,ICmUIqY,GDnUEC,GAAb,WACI,WAAYC,EAAYC,GAAQ,UAC5Bz5B,KAAKw5B,WAAaA,EAClBx5B,KAAKy5B,OAASA,CACjB,CAJL,8BAWI,WAA+D,IAA1DC,EAA0D,uDAA1C15B,KAAKw5B,WAAYG,EAAyB,uDAAb35B,KAAKy5B,OACnD,OAAIC,IAAkB15B,KAAKw5B,YAAcG,IAAc35B,KAAKy5B,OACjDz5B,KAGA,IAAIu5B,EAASG,EAAeC,EAE1C,GAlBL,mBAyBI,WAA4C,IAAtCC,EAAsC,uDAApB,EAAGC,EAAiB,uDAAH,EACrC,OAAO75B,KAAKm3B,KAAKn3B,KAAKw5B,WAAaI,EAAiB55B,KAAKy5B,OAASI,EACrE,GA3BL,oBA+BI,SAAOC,GACH,OAAOP,EAAS/iB,OAAOxW,KAAM85B,EAChC,GAjCL,sBAkDI,SAASA,GACL,OAAOP,EAASQ,SAAS/5B,KAAM85B,EAClC,GApDL,6BAsEI,SAAgBA,GACZ,OAAOP,EAASS,gBAAgBh6B,KAAM85B,EACzC,GAxEL,mBAsGI,WACI,OAAO,IAAIP,EAASv5B,KAAKw5B,WAAYx5B,KAAKy5B,OAC7C,GAxGL,sBA4GI,WACI,MAAO,IAAMz5B,KAAKw5B,WAAa,IAAMx5B,KAAKy5B,OAAS,GACtD,IA9GL,qBAqCI,SAAc7vB,EAAG6M,GACb,OAAK7M,IAAM6M,KAGD7M,KACJ6M,GACF7M,EAAE4vB,aAAe/iB,EAAE+iB,YACnB5vB,EAAE6vB,SAAWhjB,EAAEgjB,MACtB,GA7CL,sBAyDI,SAAgB7vB,EAAG6M,GACf,OAAI7M,EAAE4vB,WAAa/iB,EAAE+iB,cAGjB/iB,EAAE+iB,WAAa5vB,EAAE4vB,aAGd5vB,EAAE6vB,OAAShjB,EAAEgjB,MACvB,GAjEL,6BA6EI,SAAuB7vB,EAAG6M,GACtB,OAAI7M,EAAE4vB,WAAa/iB,EAAE+iB,cAGjB/iB,EAAE+iB,WAAa5vB,EAAE4vB,aAGd5vB,EAAE6vB,QAAUhjB,EAAEgjB,MACxB,GArFL,qBAyFI,SAAe7vB,EAAG6M,GACd,IAAMwjB,EAA6B,EAAfrwB,EAAE4vB,WAChBU,EAA6B,EAAfzjB,EAAE+iB,WACtB,OAAIS,IAAgBC,GACW,EAAXtwB,EAAE6vB,SACS,EAAXhjB,EAAEgjB,QAGfQ,EAAcC,CACxB,GAlGL,kBAmHI,SAAYxB,GACR,OAAO,IAAIa,EAASb,EAAIc,WAAYd,EAAIe,OAC3C,GArHL,yBAyHI,SAAmBr5B,GACf,OAAQA,GAC0B,kBAAnBA,EAAIo5B,YACW,kBAAfp5B,EAAIq5B,MACtB,KA7HL,KECaU,GAAb,WACI,WAAYC,EAAiBC,EAAaC,EAAeC,GAAW,UAC3DH,EAAkBE,GAAmBF,IAAoBE,GAAiBD,EAAcE,GACzFv6B,KAAKo6B,gBAAkBE,EACvBt6B,KAAKq6B,YAAcE,EACnBv6B,KAAKs6B,cAAgBF,EACrBp6B,KAAKu6B,UAAYF,IAGjBr6B,KAAKo6B,gBAAkBA,EACvBp6B,KAAKq6B,YAAcA,EACnBr6B,KAAKs6B,cAAgBA,EACrBt6B,KAAKu6B,UAAYA,EAExB,CAdL,iCAkBI,WACI,OAAOJ,EAAM1pB,QAAQzQ,KACxB,GApBL,8BA8BI,SAAiBw6B,GACb,OAAOL,EAAMM,iBAAiBz6B,KAAMw6B,EACvC,GAhCL,2BAmEI,SAAcE,GACV,OAAOP,EAAMQ,cAAc36B,KAAM06B,EACpC,GArEL,iCA2FI,SAAoBA,GAChB,OAAOP,EAAMS,oBAAoB56B,KAAM06B,EAC1C,GA7FL,uBAoHI,SAAUA,GACN,OAAOP,EAAMU,UAAU76B,KAAM06B,EAChC,GAtHL,6BA6JI,SAAgBA,GACZ,OAAOP,EAAMW,gBAAgB96B,KAAM06B,EACtC,GA/JL,yBAsMI,SAAYZ,GACR,OAAOK,EAAMY,YAAY/6B,KAAM85B,EAClC,GAxML,4BA0NI,WACI,OAAOK,EAAMa,eAAeh7B,KAC/B,GA5NL,8BAsOI,WACI,OAAOm6B,EAAMc,iBAAiBj7B,KACjC,GAxOL,sBAkPI,WACI,MAAO,IAAMA,KAAKo6B,gBAAkB,IAAMp6B,KAAKq6B,YAAc,OAASr6B,KAAKs6B,cAAgB,IAAMt6B,KAAKu6B,UAAY,GACrH,GApPL,4BAwPI,SAAeD,EAAeC,GAC1B,OAAO,IAAIJ,EAAMn6B,KAAKo6B,gBAAiBp6B,KAAKq6B,YAAaC,EAAeC,EAC3E,GA1PL,8BA8PI,SAAiBH,EAAiBC,GAC9B,OAAO,IAAIF,EAAMC,EAAiBC,EAAar6B,KAAKs6B,cAAet6B,KAAKu6B,UAC3E,GAhQL,6BAoQI,WACI,OAAOJ,EAAMe,gBAAgBl7B,KAChC,GAtQL,2BAgRI,WACI,OAAOm6B,EAAMgB,cAAcn7B,KAC9B,GAlRL,mBA4RI,SAAMo7B,GACF,OAAO,IAAIjB,EAAMn6B,KAAKo6B,gBAAkBgB,EAAWp7B,KAAKq6B,YAAar6B,KAAKs6B,cAAgBc,EAAWp7B,KAAKu6B,UAC7G,GA9RL,oBAoYI,WACI,OAAOv6B,IACV,IAtYL,sBAwBI,SAAe06B,GACX,OAAQA,EAAMN,kBAAoBM,EAAMJ,eAAiBI,EAAML,cAAgBK,EAAMH,SACxF,GA1BL,8BAoCI,SAAwBG,EAAOF,GAC3B,QAAIA,EAAShB,WAAakB,EAAMN,iBAAmBI,EAAShB,WAAakB,EAAMJ,mBAG3EE,EAAShB,aAAekB,EAAMN,iBAAmBI,EAASf,OAASiB,EAAML,gBAGzEG,EAAShB,aAAekB,EAAMJ,eAAiBE,EAASf,OAASiB,EAAMH,WAI9E,GA/CL,oCAoDI,SAA8BG,EAAOF,GACjC,QAAIA,EAAShB,WAAakB,EAAMN,iBAAmBI,EAAShB,WAAakB,EAAMJ,mBAG3EE,EAAShB,aAAekB,EAAMN,iBAAmBI,EAASf,QAAUiB,EAAML,gBAG1EG,EAAShB,aAAekB,EAAMJ,eAAiBE,EAASf,QAAUiB,EAAMH,WAI/E,GA/DL,2BAyEI,SAAqBG,EAAOW,GACxB,QAAIA,EAAWjB,gBAAkBM,EAAMN,iBAAmBiB,EAAWf,cAAgBI,EAAMN,qBAGvFiB,EAAWjB,gBAAkBM,EAAMJ,eAAiBe,EAAWf,cAAgBI,EAAMJ,mBAGrFe,EAAWjB,kBAAoBM,EAAMN,iBAAmBiB,EAAWhB,YAAcK,EAAML,gBAGvFgB,EAAWf,gBAAkBI,EAAMJ,eAAiBe,EAAWd,UAAYG,EAAMH,YAIxF,GAvFL,iCAiGI,SAA2BG,EAAOW,GAC9B,QAAIA,EAAWjB,gBAAkBM,EAAMN,iBAAmBiB,EAAWf,cAAgBI,EAAMN,qBAGvFiB,EAAWjB,gBAAkBM,EAAMJ,eAAiBe,EAAWf,cAAgBI,EAAMJ,mBAGrFe,EAAWjB,kBAAoBM,EAAMN,iBAAmBiB,EAAWhB,aAAeK,EAAML,gBAGxFgB,EAAWf,gBAAkBI,EAAMJ,eAAiBe,EAAWd,WAAaG,EAAMH,YAIzF,GA/GL,uBA2HI,SAAiB3wB,EAAG6M,GAChB,IAAI2jB,EACAC,EACAC,EACAC,EAyBJ,OAxBI9jB,EAAE2jB,gBAAkBxwB,EAAEwwB,iBACtBA,EAAkB3jB,EAAE2jB,gBACpBC,EAAc5jB,EAAE4jB,aAEX5jB,EAAE2jB,kBAAoBxwB,EAAEwwB,iBAC7BA,EAAkB3jB,EAAE2jB,gBACpBC,EAAc/f,KAAKkR,IAAI/U,EAAE4jB,YAAazwB,EAAEywB,eAGxCD,EAAkBxwB,EAAEwwB,gBACpBC,EAAczwB,EAAEywB,aAEhB5jB,EAAE6jB,cAAgB1wB,EAAE0wB,eACpBA,EAAgB7jB,EAAE6jB,cAClBC,EAAY9jB,EAAE8jB,WAET9jB,EAAE6jB,gBAAkB1wB,EAAE0wB,eAC3BA,EAAgB7jB,EAAE6jB,cAClBC,EAAYjgB,KAAKuV,IAAIpZ,EAAE8jB,UAAW3wB,EAAE2wB,aAGpCD,EAAgB1wB,EAAE0wB,cAClBC,EAAY3wB,EAAE2wB,WAEX,IAAIJ,EAAMC,EAAiBC,EAAaC,EAAeC,EACjE,GAzJL,6BAmKI,SAAuB3wB,EAAG6M,GACtB,IAAI6kB,EAAwB1xB,EAAEwwB,gBAC1BmB,EAAoB3xB,EAAEywB,YACtBmB,EAAsB5xB,EAAE0wB,cACxBmB,EAAkB7xB,EAAE2wB,UAClBmB,EAAuBjlB,EAAE2jB,gBACzBuB,EAAmBllB,EAAE4jB,YACrBuB,EAAqBnlB,EAAE6jB,cACvBuB,EAAiBplB,EAAE8jB,UAgBzB,OAfIe,EAAwBI,GACxBJ,EAAwBI,EACxBH,EAAoBI,GAEfL,IAA0BI,IAC/BH,EAAoBjhB,KAAKuV,IAAI0L,EAAmBI,IAEhDH,EAAsBI,GACtBJ,EAAsBI,EACtBH,EAAkBI,GAEbL,IAAwBI,IAC7BH,EAAkBnhB,KAAKkR,IAAIiQ,EAAiBI,IAG5CP,EAAwBE,GAGxBF,IAA0BE,GAAuBD,EAAoBE,EAF9D,KAKJ,IAAItB,EAAMmB,EAAuBC,EAAmBC,EAAqBC,EACnF,GAlML,yBA4MI,SAAmB7xB,EAAG6M,GAClB,OAAK7M,IAAM6M,KAGD7M,KACJ6M,GACF7M,EAAEwwB,kBAAoB3jB,EAAE2jB,iBACxBxwB,EAAEywB,cAAgB5jB,EAAE4jB,aACpBzwB,EAAE0wB,gBAAkB7jB,EAAE6jB,eACtB1wB,EAAE2wB,YAAc9jB,EAAE8jB,SACzB,GAtNL,4BAgOI,SAAsBG,GAClB,OAAO,IAAInB,GAASmB,EAAMJ,cAAeI,EAAMH,UAClD,GAlOL,8BA4OI,SAAwBG,GACpB,OAAO,IAAInB,GAASmB,EAAMN,gBAAiBM,EAAML,YACpD,GA9OL,6BA0QI,SAAuBK,GACnB,OAAO,IAAIP,EAAMO,EAAMN,gBAAiBM,EAAML,YAAaK,EAAMN,gBAAiBM,EAAML,YAC3F,GA5QL,2BAsRI,SAAqBK,GACjB,OAAO,IAAIP,EAAMO,EAAMJ,cAAeI,EAAMH,UAAWG,EAAMJ,cAAeI,EAAMH,UACrF,GAxRL,2BAgSI,SAAqB38B,GAAoB,IAAbJ,EAAa,uDAAPI,EAC9B,OAAO,IAAIu8B,EAAMv8B,EAAM47B,WAAY57B,EAAM67B,OAAQj8B,EAAIg8B,WAAYh8B,EAAIi8B,OACxE,GAlSL,kBAmSI,SAAYiB,GACR,OAAKA,EAGE,IAAIP,EAAMO,EAAMN,gBAAiBM,EAAML,YAAaK,EAAMJ,cAAeI,EAAMH,WAF3E,IAGd,GAxSL,sBA4SI,SAAgBn6B,GACZ,OAAQA,GAC+B,kBAAxBA,EAAIg6B,iBACgB,kBAApBh6B,EAAIi6B,aACkB,kBAAtBj6B,EAAIk6B,eACc,kBAAlBl6B,EAAIm6B,SACtB,GAlTL,uCAsTI,SAAiC3wB,EAAG6M,GAEhC,QAAI7M,EAAE0wB,cAAgB7jB,EAAE2jB,iBAAoBxwB,EAAE0wB,gBAAkB7jB,EAAE2jB,iBAAmBxwB,EAAE2wB,UAAY9jB,EAAE4jB,gBAIjG5jB,EAAE6jB,cAAgB1wB,EAAEwwB,iBAAoB3jB,EAAE6jB,gBAAkB1wB,EAAEwwB,iBAAmB3jB,EAAE8jB,UAAY3wB,EAAEywB,YAKxG,GAjUL,6BAqUI,SAAuBzwB,EAAG6M,GAEtB,QAAI7M,EAAE0wB,cAAgB7jB,EAAE2jB,iBAAoBxwB,EAAE0wB,gBAAkB7jB,EAAE2jB,iBAAmBxwB,EAAE2wB,WAAa9jB,EAAE4jB,gBAIlG5jB,EAAE6jB,cAAgB1wB,EAAEwwB,iBAAoB3jB,EAAE6jB,gBAAkB1wB,EAAEwwB,iBAAmB3jB,EAAE8jB,WAAa3wB,EAAEywB,YAKzG,GAhVL,sCAqVI,SAAgCzwB,EAAG6M,GAC/B,GAAI7M,GAAK6M,EAAG,CACR,IAAMqlB,EAAuC,EAApBlyB,EAAEwwB,gBACrB2B,EAAuC,EAApBtlB,EAAE2jB,gBAC3B,GAAI0B,IAAqBC,EAAkB,CACvC,IAAMC,EAA+B,EAAhBpyB,EAAEywB,YACjB4B,EAA+B,EAAhBxlB,EAAE4jB,YACvB,GAAI2B,IAAiBC,EAAc,CAC/B,IAAMC,EAAmC,EAAlBtyB,EAAE0wB,cACnB6B,EAAmC,EAAlB1lB,EAAE6jB,cACzB,OAAI4B,IAAmBC,GACc,EAAdvyB,EAAE2wB,YACY,EAAd9jB,EAAE8jB,WAGlB2B,EAAiBC,CAC3B,CACD,OAAOH,EAAeC,CACzB,CACD,OAAOH,EAAmBC,CAC7B,CAGD,OAFiBnyB,EAAI,EAAI,IACR6M,EAAI,EAAI,EAE5B,GA7WL,oCAkXI,SAA8B7M,EAAG6M,GAC7B,OAAI7M,EAAE0wB,gBAAkB7jB,EAAE6jB,cAClB1wB,EAAE2wB,YAAc9jB,EAAE8jB,UACd3wB,EAAEwwB,kBAAoB3jB,EAAE2jB,gBACjBxwB,EAAEywB,YAAc5jB,EAAE4jB,YAEtBzwB,EAAEwwB,gBAAkB3jB,EAAE2jB,gBAE1BxwB,EAAE2wB,UAAY9jB,EAAE8jB,UAEpB3wB,EAAE0wB,cAAgB7jB,EAAE6jB,aAC9B,GA7XL,gCAiYI,SAA0BI,GACtB,OAAOA,EAAMJ,cAAgBI,EAAMN,eACtC,KAnYL,MDmUA,SAAWd,GAIPA,EAAc8C,WAHd,SAAoBv4B,GAChB,OAAOA,EAAS,CACnB,EAKDy1B,EAAc+C,cAHd,SAAuBx4B,GACnB,OAAOA,EAAS,CACnB,EAKDy1B,EAAcgD,2BAHd,SAAoCz4B,GAChC,OAAkB,IAAXA,CACV,EAEDy1B,EAAciD,YAAc,EAC5BjD,EAAckD,UAAY,EAC1BlD,EAAcmD,yBAA2B,CAf7C,EAgBGnD,KAAkBA,GAAgB,CAAC,IA8C/B,IA+DMoD,GAAb,WACI,WAKAC,GAAS,UACL38B,KAAK28B,QAAUA,CAClB,CARL,iCASI,WACI,IAAM94B,EAAS,GAEf,OADA7D,KAAK28B,SAAQ,SAAAC,GAA6B,OAAnB/4B,EAAO+B,KAAKg3B,IAAc,CAAO,IACjD/4B,CACV,GAbL,oBAcI,SAAOuM,GAAW,WACd,OAAO,IAAIssB,GAAiB,SAAAG,GAAE,OAAI,EAAKF,SAAQ,SAAAC,GAAI,OAAIxsB,EAAUwsB,IAAQC,EAAGD,EAAzB,GAArB,GACjC,GAhBL,iBAiBI,SAAIE,GAAO,WACP,OAAO,IAAIJ,GAAiB,SAAAG,GAAE,OAAI,EAAKF,SAAQ,SAAAC,GAAI,OAAIC,EAAGC,EAAMF,GAAb,GAArB,GACjC,GAnBL,sBAoBI,SAASxsB,GACL,IAAIvM,EAOJ,OANA7D,KAAK28B,SAAQ,SAAAC,GAIT,OAHIxsB,EAAUwsB,KACV/4B,EAAS+4B,IAEN,CACV,IACM/4B,CACV,GA7BL,2BA8BI,SAAck5B,GACV,IAAIl5B,EACA6M,GAAQ,EAQZ,OAPA1Q,KAAK28B,SAAQ,SAAAC,GAKT,OAJIlsB,GAAS4oB,GAAc+C,cAAcU,EAAWH,EAAM/4B,OACtD6M,GAAQ,EACR7M,EAAS+4B,IAEN,CACV,IACM/4B,CACV,KAzCL,KEpcO,SAASm5B,GAAQC,GACpB,OAAIA,EAAI,EACG,EAEPA,EAAI,IACG,IAEA,EAAJA,CACV,CACM,SAASC,GAASD,GACrB,OAAIA,EAAI,EACG,EAEPA,EAAI,WACG,WAEA,EAAJA,CACV,CF8dDP,GAAiBnsB,MAAQ,IAAImsB,IAAiB,SAAAS,GAAgB,IG7evD,IAAMC,GAAb,WACI,WAAYl6B,GAAQ,UAChBlD,KAAKkD,OAASA,EACdlD,KAAKq9B,UAAY,IAAIC,YAAYp6B,EAAO3H,QACxCyE,KAAKu9B,oBAAsB,IAAIvT,WAAW,GAC1ChqB,KAAKu9B,oBAAoB,IAAM,CAClC,CANL,sCAOI,SAAaC,EAAaC,GACtBD,EAAcN,GAASM,GACvB,IAAME,EAAY19B,KAAKkD,OACjBy6B,EAAe39B,KAAKq9B,UACpBO,EAAkBH,EAAaliC,OACrC,OAAwB,IAApBqiC,IAGJ59B,KAAKkD,OAAS,IAAIo6B,YAAYI,EAAUniC,OAASqiC,GACjD59B,KAAKkD,OAAOgL,IAAIwvB,EAAUG,SAAS,EAAGL,GAAc,GACpDx9B,KAAKkD,OAAOgL,IAAIwvB,EAAUG,SAASL,GAAcA,EAAcI,GAC/D59B,KAAKkD,OAAOgL,IAAIuvB,EAAcD,GAC1BA,EAAc,EAAIx9B,KAAKu9B,oBAAoB,KAC3Cv9B,KAAKu9B,oBAAoB,GAAKC,EAAc,GAEhDx9B,KAAKq9B,UAAY,IAAIC,YAAYt9B,KAAKkD,OAAO3H,QACzCyE,KAAKu9B,oBAAoB,IAAM,GAC/Bv9B,KAAKq9B,UAAUnvB,IAAIyvB,EAAaE,SAAS,EAAG79B,KAAKu9B,oBAAoB,GAAK,KAEvE,EACV,GA3BL,sBA4BI,SAASltB,EAAOzP,GAGZ,OAFAyP,EAAQ6sB,GAAS7sB,GACjBzP,EAAQs8B,GAASt8B,GACbZ,KAAKkD,OAAOmN,KAAWzP,IAG3BZ,KAAKkD,OAAOmN,GAASzP,EACjByP,EAAQ,EAAIrQ,KAAKu9B,oBAAoB,KACrCv9B,KAAKu9B,oBAAoB,GAAKltB,EAAQ,IAEnC,EACV,GAvCL,0BAwCI,SAAaytB,EAAY1kB,GACrB0kB,EAAaZ,GAASY,GACtB1kB,EAAQ8jB,GAAS9jB,GACjB,IAAMskB,EAAY19B,KAAKkD,OACjBy6B,EAAe39B,KAAKq9B,UAC1B,GAAIS,GAAcJ,EAAUniC,OACxB,OAAO,EAEX,IAAMwiC,EAAWL,EAAUniC,OAASuiC,EAIpC,OAHI1kB,GAAS2kB,IACT3kB,EAAQ2kB,GAEE,IAAV3kB,IAGJpZ,KAAKkD,OAAS,IAAIo6B,YAAYI,EAAUniC,OAAS6d,GACjDpZ,KAAKkD,OAAOgL,IAAIwvB,EAAUG,SAAS,EAAGC,GAAa,GACnD99B,KAAKkD,OAAOgL,IAAIwvB,EAAUG,SAASC,EAAa1kB,GAAQ0kB,GACxD99B,KAAKq9B,UAAY,IAAIC,YAAYt9B,KAAKkD,OAAO3H,QACzCuiC,EAAa,EAAI99B,KAAKu9B,oBAAoB,KAC1Cv9B,KAAKu9B,oBAAoB,GAAKO,EAAa,GAE3C99B,KAAKu9B,oBAAoB,IAAM,GAC/Bv9B,KAAKq9B,UAAUnvB,IAAIyvB,EAAaE,SAAS,EAAG79B,KAAKu9B,oBAAoB,GAAK,KAEvE,EACV,GAlEL,yBAmEI,WACI,OAA2B,IAAvBv9B,KAAKkD,OAAO3H,OACL,EAEJyE,KAAKg+B,cAAch+B,KAAKkD,OAAO3H,OAAS,EAClD,GAxEL,0BA6EI,SAAa8U,GACT,OAAIA,EAAQ,EACD,GAEXA,EAAQ6sB,GAAS7sB,GACVrQ,KAAKg+B,cAAc3tB,GAC7B,GAnFL,2BAoFI,SAAcA,GACV,GAAIA,GAASrQ,KAAKu9B,oBAAoB,GAClC,OAAOv9B,KAAKq9B,UAAUhtB,GAE1B,IAAIytB,EAAa99B,KAAKu9B,oBAAoB,GAAK,EAC5B,IAAfO,IACA99B,KAAKq9B,UAAU,GAAKr9B,KAAKkD,OAAO,GAChC46B,KAEAztB,GAASrQ,KAAKkD,OAAO3H,SACrB8U,EAAQrQ,KAAKkD,OAAO3H,OAAS,GAEjC,IAAK,IAAID,EAAIwiC,EAAYxiC,GAAK+U,EAAO/U,IACjC0E,KAAKq9B,UAAU/hC,GAAK0E,KAAKq9B,UAAU/hC,EAAI,GAAK0E,KAAKkD,OAAO5H,GAG5D,OADA0E,KAAKu9B,oBAAoB,GAAKjjB,KAAKuV,IAAI7vB,KAAKu9B,oBAAoB,GAAIltB,GAC7DrQ,KAAKq9B,UAAUhtB,EACzB,GArGL,wBAsGI,SAAW4tB,GACPA,EAAM3jB,KAAKiP,MAAM0U,GAEjBj+B,KAAKk+B,cAML,IALA,IAAIC,EAAM,EACNC,EAAOp+B,KAAKkD,OAAO3H,OAAS,EAC5B8iC,EAAM,EACNC,EAAU,EACVC,EAAW,EACRJ,GAAOC,GAIV,GAHAC,EAAMF,GAAQC,EAAOD,GAAO,EAAK,EAG7BF,GADJM,GADAD,EAAUt+B,KAAKq9B,UAAUgB,IACJr+B,KAAKkD,OAAOm7B,IAE7BD,EAAOC,EAAM,MAEZ,MAAIJ,GAAOK,GAIZ,MAHAH,EAAME,EAAM,CAIf,CAEL,OAAO,IAAIG,GAAuBH,EAAKJ,EAAMM,EAChD,KA9HL,KAgNaC,GAAb,GACI,WAAYnuB,EAAOouB,GAAW,UAC1Bz+B,KAAKqQ,MAAQA,EACbrQ,KAAKy+B,UAAYA,EACjBz+B,KAAK0+B,kCAA+BxiC,EACpC8D,KAAKqQ,MAAQA,EACbrQ,KAAKy+B,UAAYA,CACpB,ICtNQE,GAAb,WACI,WAAYjH,EAAKkH,EAAOC,EAAKC,GAAW,UACpC9+B,KAAK++B,KAAOrH,EACZ13B,KAAKg/B,OAASJ,EACd5+B,KAAKi/B,KAAOJ,EACZ7+B,KAAKk/B,WAAaJ,EAClB9+B,KAAKm/B,YAAc,KACnBn/B,KAAKo/B,iBAAmB,IAC3B,CARL,iCASI,WACIp/B,KAAKg/B,OAAOzjC,OAAS,CACxB,GAXL,mBAYI,WACI,OAAOyE,KAAKk/B,UACf,GAdL,qBAeI,WAII,OAH8B,OAA1Bl/B,KAAKo/B,mBACLp/B,KAAKo/B,iBAAmBp/B,KAAKg/B,OAAOziC,KAAKyD,KAAKi/B,OAE3Cj/B,KAAKo/B,gBACf,GApBL,sBAqBI,SAASl/B,GACDA,EAAE2+B,KAAO3+B,EAAE2+B,MAAQ7+B,KAAKi/B,OACxBj/B,KAAKi/B,KAAO/+B,EAAE2+B,IACd7+B,KAAKm/B,YAAc,MAGvB,IANQ,MAMQj/B,EAAEqqB,SANV,IAOR,2BAA8B,KAAnBqG,EAAmB,QAC1B5wB,KAAKq/B,mBAAmBzO,EAAO8J,OAC/B16B,KAAKs/B,kBAAkB,IAAI/F,GAAS3I,EAAO8J,MAAMN,gBAAiBxJ,EAAO8J,MAAML,aAAczJ,EAAO2O,KACvG,CAVO,+BAWRv/B,KAAKk/B,WAAah/B,EAAE4+B,UACpB9+B,KAAKo/B,iBAAmB,IAC3B,GAlCL,+BAmCI,WACI,IAAKp/B,KAAKm/B,YAAa,CAInB,IAHA,IAAMK,EAAYx/B,KAAKi/B,KAAK1jC,OACtBkkC,EAAcz/B,KAAKg/B,OAAOzjC,OAC1BmkC,EAAkB,IAAIpC,YAAYmC,GAC/BnkC,EAAI,EAAGA,EAAImkC,EAAankC,IAC7BokC,EAAgBpkC,GAAK0E,KAAKg/B,OAAO1jC,GAAGC,OAASikC,EAEjDx/B,KAAKm/B,YAAc,IAAI/B,GAAkBsC,EAC5C,CACJ,GA7CL,0BAiDI,SAAaC,EAAWC,GACpB5/B,KAAKg/B,OAAOW,GAAaC,EACrB5/B,KAAKm/B,aAELn/B,KAAKm/B,YAAYU,SAASF,EAAW3/B,KAAKg/B,OAAOW,GAAWpkC,OAASyE,KAAKi/B,KAAK1jC,OAEtF,GAvDL,gCAwDI,SAAmBm/B,GACf,GAAIA,EAAMN,kBAAoBM,EAAMJ,cAWpCt6B,KAAK8/B,aAAapF,EAAMN,gBAAkB,EAAGp6B,KAAKg/B,OAAOtE,EAAMN,gBAAkB,GAAG7C,UAAU,EAAGmD,EAAML,YAAc,GAC/Gr6B,KAAKg/B,OAAOtE,EAAMJ,cAAgB,GAAG/C,UAAUmD,EAAMH,UAAY,IAEvEv6B,KAAKg/B,OAAOpf,OAAO8a,EAAMN,gBAAiBM,EAAMJ,cAAgBI,EAAMN,iBAClEp6B,KAAKm/B,aAELn/B,KAAKm/B,YAAYY,aAAarF,EAAMN,gBAAiBM,EAAMJ,cAAgBI,EAAMN,qBAjBrF,CACI,GAAIM,EAAML,cAAgBK,EAAMH,UAE5B,OAGJv6B,KAAK8/B,aAAapF,EAAMN,gBAAkB,EAAGp6B,KAAKg/B,OAAOtE,EAAMN,gBAAkB,GAAG7C,UAAU,EAAGmD,EAAML,YAAc,GAC/Gr6B,KAAKg/B,OAAOtE,EAAMN,gBAAkB,GAAG7C,UAAUmD,EAAMH,UAAY,GAE5E,CAUJ,GA5EL,+BA6EI,SAAkBC,EAAUwF,GACxB,GAA0B,IAAtBA,EAAWzkC,OAAf,CAIA,IAAM0kC,EAAyBD,EfsExB9oB,MAAM,cerEb,GAA2B,IAAvB+oB,EAAY1kC,OAAhB,CAQA0kC,EAAYA,EAAY1kC,OAAS,IAAMyE,KAAKg/B,OAAOxE,EAAShB,WAAa,GAAGjC,UAAUiD,EAASf,OAAS,GAExGz5B,KAAK8/B,aAAatF,EAAShB,WAAa,EAAGx5B,KAAKg/B,OAAOxE,EAAShB,WAAa,GAAGjC,UAAU,EAAGiD,EAASf,OAAS,GACzGwG,EAAY,IAGlB,IADA,IAAMC,EAAa,IAAI5C,YAAY2C,EAAY1kC,OAAS,GAC/CD,EAAI,EAAGA,EAAI2kC,EAAY1kC,OAAQD,IACpC0E,KAAKg/B,OAAOpf,OAAO4a,EAAShB,WAAal+B,EAAI,EAAG,EAAG2kC,EAAY3kC,IAC/D4kC,EAAW5kC,EAAI,GAAK2kC,EAAY3kC,GAAGC,OAASyE,KAAKi/B,KAAK1jC,OAEtDyE,KAAKm/B,aAELn/B,KAAKm/B,YAAY1B,aAAajD,EAAShB,WAAY0G,EAdtD,MAJGlgC,KAAK8/B,aAAatF,EAAShB,WAAa,EAAGx5B,KAAKg/B,OAAOxE,EAAShB,WAAa,GAAGjC,UAAU,EAAGiD,EAASf,OAAS,GACzGwG,EAAY,GACZjgC,KAAKg/B,OAAOxE,EAAShB,WAAa,GAAGjC,UAAUiD,EAASf,OAAS,GAN1E,CAwBJ,KAzGL,KCmBO,IAAM0G,GAZb,WAA6C,MAAnBC,EAAmB,uDAAJ,GACjCx1B,EAAS,yBAD4B,IARR,qCAQQ,IAEzC,2BAAyC,KAA9BvM,EAA8B,QACjC+hC,EAAapyB,QAAQ3P,IAAQ,IAGjCuM,GAAU,KAAOvM,EACpB,CAPwC,+BASzC,OADAuM,GAAU,SACH,IAAIy1B,OAAOz1B,EAAQ,IAC7B,CAEkC01B,GAwBnC,IAAMC,GAAiB,IAAIltB,EAMpB,SAASmtB,GAAc/G,EAAQgH,EAAgBlB,EAAMmB,EAAYha,GAIpE,GAHKA,IACDA,EAASpX,EAASoB,MAAM6vB,KAExBhB,EAAKhkC,OAASmrB,EAAOia,OAAQ,CAG7B,IAAI/iC,EAAQ67B,EAAS/S,EAAOia,OAAS,EAQrC,OAPI/iC,EAAQ,EACRA,EAAQ,EAGR8iC,GAAc9iC,EAGX4iC,GAAc/G,EAAQgH,EAD7BlB,EAAOA,EAAKhI,UAAU35B,EAAO67B,EAAS/S,EAAOia,OAAS,GACHD,EAAYha,EAClE,CAKD,IAJA,IAAMka,EAAKpsB,KAAKJ,MACVskB,EAAMe,EAAS,EAAIiH,EACrBG,GAAkB,EAClB1jB,EAAQ,KACH7hB,EAAI,IAELkZ,KAAKJ,MAAQwsB,GAAMla,EAAOoa,YAFjBxlC,IAAK,CAOlB,IAAMylC,EAAarI,EAAMhS,EAAOsa,WAAa1lC,EAC7CmlC,EAAeQ,UAAY3mB,KAAKuV,IAAI,EAAGkR,GACvC,IAAMG,EAAYC,GAAiCV,EAAgBlB,EAAM7G,EAAKmI,GAC9E,IAAKK,GAAa/jB,EAEd,MAIJ,GAFAA,EAAQ+jB,EAEJH,GAAc,EACd,MAEJF,EAAiBE,CACpB,CACD,GAAI5jB,EAAO,CACP,IAAMtZ,EAAS,CACXu9B,KAAMjkB,EAAM,GACZkd,YAAaqG,EAAa,EAAIvjB,EAAM9M,MACpCkqB,UAAWmG,EAAa,EAAIvjB,EAAM9M,MAAQ8M,EAAM,GAAG5hB,QAGvD,OADAklC,EAAeQ,UAAY,EACpBp9B,CACV,CACD,OAAO,IACV,CACD,SAASs9B,GAAiCV,EAAgBlB,EAAM7G,EAAK2I,GAEjE,IADA,IAAIlkB,EACGA,EAAQsjB,EAAerJ,KAAKmI,IAAO,CACtC,IAAM+B,EAAankB,EAAM9M,OAAS,EAClC,GAAIixB,GAAc5I,GAAO+H,EAAeQ,WAAavI,EACjD,OAAOvb,EAEN,GAAIkkB,EAAU,GAAKC,EAAaD,EACjC,OAAO,IAEd,CACD,OAAO,IACV,CAtEDd,GAAegB,QAAQ,CACnBZ,OAAQ,IACRK,WAAY,GACZF,WAAY,MC9CT,IAAMU,GAAb,WACI,WAAYC,GAAe,UACvB,IAAMC,EAAe1E,GAAQyE,GAC7BzhC,KAAKyhC,cAAgBC,EACrB1hC,KAAK2hC,UAAYH,EAAoBI,gBAAgBF,GACrD1hC,KAAK6hC,KAAO,IAAI9zB,GACnB,CANL,6BAYI,SAAI4S,EAAUL,GACV,IAAM1f,EAAQo8B,GAAQ1c,GAClBK,GAAY,GAAKA,EAAW,IAC5B3gB,KAAK2hC,UAAUhhB,GAAY/f,EAG3BZ,KAAK6hC,KAAK3zB,IAAIyS,EAAU/f,EAE/B,GApBL,iBAqBI,SAAI+f,GACA,OAAIA,GAAY,GAAKA,EAAW,IACrB3gB,KAAK2hC,UAAUhhB,GAGd3gB,KAAK6hC,KAAKhiC,IAAI8gB,IAAa3gB,KAAKyhC,aAE/C,GA5BL,mBA6BI,WACIzhC,KAAK2hC,UAAUpa,KAAKvnB,KAAKyhC,eACzBzhC,KAAK6hC,KAAKpvB,OACb,IAhCL,8BAOI,SAAuBivB,GACnB,IAAMI,EAAW,IAAIja,WAAW,KAEhC,OADAia,EAASva,KAAKma,GACPI,CACV,KAXL,KCHMC,GAAAA,WACF,WAAYC,EAAMC,EAAMP,GAAc,UAElC,IADA,IAAMpkB,EAAO,IAAIuK,WAAWma,EAAOC,GAC1B3mC,EAAI,EAAG2P,EAAM+2B,EAAOC,EAAM3mC,EAAI2P,EAAK3P,IACxCgiB,EAAKhiB,GAAKomC,EAEd1hC,KAAKuhB,MAAQjE,EACbtd,KAAKgiC,KAAOA,EACZhiC,KAAKiiC,KAAOA,CACf,8BACD,SAAIC,EAAKC,GACL,OAAOniC,KAAKuhB,MAAM2gB,EAAMliC,KAAKiiC,KAAOE,EACvC,oBACD,SAAID,EAAKC,EAAKvhC,GACVZ,KAAKuhB,MAAM2gB,EAAMliC,KAAKiiC,KAAOE,GAAOvhC,CACvC,OAfCmhC,GAiBOK,GAAb,WACI,WAAYC,GAAO,UAGf,IAFA,IAAIC,EAAc,EACdC,EAAW,EACNjnC,EAAI,EAAG2P,EAAMo3B,EAAM9mC,OAAQD,EAAI2P,EAAK3P,IAAK,CAC9C,QAA2B+mC,EAAM/mC,GAAjC,GAAOqB,EAAP,KAAa6lC,EAAb,KAAqB5lC,EAArB,KACI4lC,EAASF,IACTA,EAAcE,GAEd7lC,EAAO4lC,IACPA,EAAW5lC,GAEXC,EAAK2lC,IACLA,EAAW3lC,EAElB,CACD0lC,IACAC,IAEA,IADA,IAAME,EAAS,IAAIV,GAAYQ,EAAUD,EAAa,GAC7ChnC,EAAI,EAAG2P,EAAMo3B,EAAM9mC,OAAQD,EAAI2P,EAAK3P,IAAK,CAC9C,QAA2B+mC,EAAM/mC,GAAjC,GAAOqB,EAAP,KAAa6lC,EAAb,KAAqB5lC,EAArB,KACA6lC,EAAOv0B,IAAIvR,EAAM6lC,EAAQ5lC,EAC5B,CACDoD,KAAK0iC,QAAUD,EACfziC,KAAK2iC,aAAeL,CACvB,CAzBL,mCA0BI,SAAUM,EAAcJ,GACpB,OAAIA,EAAS,GAAKA,GAAUxiC,KAAK2iC,aACtB,EAEJ3iC,KAAK0iC,QAAQ7iC,IAAI+iC,EAAcJ,EACzC,KA/BL,KAkCIK,GAAgB,KA8BpB,IAAIC,GAAc,KAgBX,IAAMC,GAAb,4EACI,SAAmBC,EAAYC,EAAMzJ,EAAY0J,EAAgBC,GAE7D,IAAIC,EAAwBD,EAAe,EAC3C,EAAG,CACC,IAAMX,EAASS,EAAKznC,WAAW4nC,GAE/B,GAAgB,IADAJ,EAAWnjC,IAAI2iC,GAE3B,MAEJY,GACH,OAAQA,EAAwBF,GAEjC,GAAIA,EAAiB,EAAG,CACpB,IAAMG,EAAqBJ,EAAKznC,WAAW0nC,EAAiB,GACtDI,EAAqBL,EAAKznC,WAAW4nC,IACf,KAAvBC,GAA6E,KAAvBC,GAC5B,KAAvBD,GAAqF,KAAvBC,GACvC,MAAvBD,GAAmF,MAAvBC,IAIhEF,GAEP,CACD,MAAO,CACH1I,MAAO,CACHN,gBAAiBZ,EACjBa,YAAa6I,EAAiB,EAC9B5I,cAAed,EACfe,UAAW6I,EAAwB,GAEvCG,IAAKN,EAAK1L,UAAU2L,EAAgBE,EAAwB,GAEnE,GAlCL,0BAmCI,SAAoBI,GAGhB,IAHyD,IAAlCC,EAAkC,wDA/EvC,OAAlBZ,KACAA,GAAgB,IAAIT,GAAa,CAC7B,CAAC,EAAqB,IAAsB,GAC5C,CAAC,EAAqB,GAAqB,GAC3C,CAAC,EAAqB,IAAsB,GAC5C,CAAC,EAAqB,GAAqB,GAC3C,CAAC,EAAiB,IAAsB,GACxC,CAAC,EAAiB,GAAqB,GACvC,CAAC,EAAkB,IAAsB,GACzC,CAAC,EAAkB,GAAqB,GACxC,CAAC,EAAmB,IAAsB,GAC1C,CAAC,EAAmB,GAAqB,GACzC,CAAC,EAAoB,IAAsB,GAC3C,CAAC,EAAoB,GAAqB,GAC1C,CAAC,EAAoB,GAAyB,IAC9C,CAAC,EAAiB,IAAsB,GACxC,CAAC,EAAiB,GAAqB,GACvC,CAAC,EAAkB,IAAsB,GACzC,CAAC,EAAkB,GAAqB,GACxC,CAAC,EAAmB,IAAsB,GAC1C,CAAC,EAAmB,GAAqB,GACzC,CAAC,EAA2B,GAAyB,IACrD,CAAC,GAA2B,GAAyB,IACrD,CAAC,GAA4B,GAAyB,OAGvDS,IAsDGG,EAnDd,WACI,GAAoB,OAAhBF,GAAsB,CACtBA,GAAc,IAAItB,GAAoB,GAGtC,IADA,IAAMkC,EAA+B,yLAC5BpoC,EAAI,EAAGA,EAAIooC,GAAqCpoC,IACrDwnC,GAAY50B,IAAIw1B,EAA6BloC,WAAWF,GAAI,GAGhE,IADA,IAAMqoC,EAA6B,OAC1BroC,EAAI,EAAGA,EAAIqoC,EAAmCroC,IACnDwnC,GAAY50B,IAAIy1B,EAA2BnoC,WAAWF,GAAI,EAEjE,CACD,OAAOwnC,EACV,CAqC0Bc,GACb//B,EAAS,GACNvI,EAAI,EAAG8/B,EAAYoI,EAAMK,eAAgBvoC,GAAK8/B,EAAW9/B,IAAK,CAWnE,IAVA,IAAM2nC,EAAOO,EAAMM,eAAexoC,GAC5B2P,EAAMg4B,EAAK1nC,OACbmuB,EAAI,EACJwZ,EAAiB,EACjBa,EAAkB,EAClB3/B,EAAQ,EACR4/B,GAAgB,EAChBC,GAAuB,EACvBC,GAAmB,EACnBC,GAAsB,EACnBza,EAAIze,GAAK,CACZ,IAAIm5B,GAAoB,EAClB5B,EAASS,EAAKznC,WAAWkuB,GAC/B,GAAc,KAAVtlB,EAAiC,CACjC,IAAIigC,OAAO,EACX,OAAQ7B,GACJ,KAAK,GACDwB,GAAgB,EAChBK,EAAU,EACV,MACJ,KAAK,GACDA,EAAWL,EAAgB,EAA8B,EACzD,MACJ,KAAK,GACDE,GAAmB,EACnBD,GAAuB,EACvBI,EAAU,EACV,MACJ,KAAK,GACDH,GAAmB,EACnBG,EAAWJ,EAAuB,EAA8B,EAChE,MACJ,KAAK,IACDE,GAAsB,EACtBE,EAAU,EACV,MACJ,KAAK,IACDA,EAAWF,EAAsB,EAA8B,EAC/D,MAGJ,KAAK,GACL,KAAK,GACL,KAAK,GAEGE,EADAN,IAAoBvB,EACV,EAEe,KAApBuB,GAAyE,KAApBA,GAAyE,KAApBA,EACrG,EAGA,EAEd,MACJ,KAAK,GAEDM,EAA+B,KAApBN,EAAkD,EAA0C,EACvG,MACJ,KAAK,IAEDM,EAA+B,MAApBN,EAA+C,EAA0C,EACpG,MACJ,KAAK,GAEDM,EAAWH,EAAmB,EAA8B,EAC5D,MACJ,QACIG,EAAUrB,EAAWnjC,IAAI2iC,GAGjB,IAAZ6B,IACAxgC,EAAO+B,KAAKm9B,EAAauB,YAAYtB,EAAYC,EAAM3nC,EAAG4nC,EAAgBxZ,IAC1E0a,GAAoB,EAE3B,MACI,GAAc,KAAVhgC,EAA8B,CACnC,IAAIigC,OAAO,EACI,KAAX7B,GAEAyB,GAAuB,EACvBI,EAAU,GAGVA,EAAUrB,EAAWnjC,IAAI2iC,GAGb,IAAZ6B,EACAD,GAAoB,EAGpBhgC,EAAQ,EAEf,MAGiB,KADdA,EAAQq/B,EAAac,UAAUngC,EAAOo+B,MAElC4B,GAAoB,GAGxBA,IACAhgC,EAAQ,EACR4/B,GAAgB,EAChBC,GAAuB,EACvBE,GAAsB,EAEtBjB,EAAiBxZ,EAAI,EACrBqa,EAAkBvB,GAEtB9Y,GACH,CACa,KAAVtlB,GACAP,EAAO+B,KAAKm9B,EAAauB,YAAYtB,EAAYC,EAAM3nC,EAAG4nC,EAAgBj4B,GAEjF,CACD,OAAOpH,CACV,KA1JL,KAiKO,SAAS2gC,GAAahB,GACzB,OAAKA,GAAuC,oBAAvBA,EAAMK,cAA+D,oBAAzBL,EAAMM,eAIhEf,GAAayB,aAAahB,GAFtB,EAGd,CCzQM,IAAMiB,GAAb,WACI,aAAc,UACVzkC,KAAK0kC,iBAAmB,CACpB,CAAC,OAAQ,SACT,CAAC,OAAQ,SACT,CAAC,UAAW,SAAU,SAAU,WAAY,UAAW,YAAa,aACpE,CAAC,SAAU,YAAa,WAE/B,CARL,0CASI,SAAiBC,EAAQC,EAAOC,EAAQC,EAAOC,GAC3C,GAAIJ,GAAUC,EAAO,CACjB,IAAM/gC,EAAS7D,KAAKglC,mBAAmBJ,EAAOG,GAC9C,GAAIlhC,EACA,MAAO,CACH62B,MAAOiK,EACP/jC,MAAOiD,EAGlB,CACD,GAAIghC,GAAUC,EAAO,CACjB,IAAMjhC,EAAS7D,KAAKglC,mBAAmBF,EAAOC,GAC9C,GAAIlhC,EACA,MAAO,CACH62B,MAAOmK,EACPjkC,MAAOiD,EAGlB,CACD,OAAO,IACV,GA7BL,gCA8BI,SAAmB07B,EAAMwF,GACrB,IAAME,EAAejlC,KAAKklC,cAAc3F,EAAMwF,GAC9C,OAAqB,OAAjBE,EACOA,EAEJjlC,KAAKmlC,YAAY5F,EAAMwF,EACjC,GApCL,2BAqCI,SAAcnkC,EAAOmkC,GACjB,IAAMK,EAAY9qB,KAAK+qB,IAAI,GAAIzkC,EAAMrF,QAAUqF,EAAMlF,YAAY,KAAO,IACpE4pC,EAAKl7B,OAAOxJ,GACV2kC,EAAKC,WAAW5kC,GACtB,OAAKsF,MAAMo/B,IAAQp/B,MAAMq/B,IAAOD,IAAOC,EAYhC,KAXQ,IAAPD,GAAaP,GAMbO,EAAKhrB,KAAKiP,MAAM+b,EAAKF,GACrBE,GAAMP,EAAKK,GAAaA,EACjBj7B,OAAOm7B,EAAKF,IAPZ,IAWlB,GAtDL,yBAuDI,SAAYxkC,EAAOmkC,GACf,OAAO/kC,KAAKylC,iBAAiBzlC,KAAK0kC,iBAAkB9jC,EAAOmkC,EAC9D,GAzDL,8BA0DI,SAAiBW,EAAW9kC,EAAOmkC,GAE/B,IADA,IAAIlhC,EAAS,KACJvI,EAAI,EAAG2P,EAAMy6B,EAAUnqC,OAAmB,OAAXsI,GAAmBvI,EAAI2P,EAAK3P,IAChEuI,EAAS7D,KAAK2lC,gBAAgBD,EAAUpqC,GAAIsF,EAAOmkC,GAEvD,OAAOlhC,CACV,GAhEL,6BAiEI,SAAgB+hC,EAAUhlC,EAAOmkC,GAC7B,IAAIzN,EAAMsO,EAAS53B,QAAQpN,GAC3B,OAAI02B,GAAO,IACPA,GAAOyN,EAAK,GAAM,GACR,EACNzN,EAAMsO,EAASrqC,OAAS,EAGxB+7B,GAAOsO,EAASrqC,OAEbqqC,EAAStO,IAEb,IACV,KA9EL,KAgFAmN,GAAoBoB,SAAW,IAAIpB,GC/EnC,IAIWqB,GAJLC,GAAgBrmC,OAAOwQ,QAAO,SAAUyL,EAAUtZ,GACpD,IAAMqF,EAAS6G,WAAWoN,EAAShT,KAAKtG,GAAU,GAClD,MAAO,CAAEwP,QAAF,WAAcsE,aAAazO,EAAU,EAC/C,KAED,SAAWo+B,GAcPA,EAAkBE,oBAblB,SAA6Bh2B,GACzB,OAAIA,IAAU81B,EAAkB7yB,MAAQjD,IAAU81B,EAAkBG,YAGhEj2B,aAAiBk2B,OAGhBl2B,GAA0B,kBAAVA,KAG2B,mBAAlCA,EAAMm2B,yBAC4B,oBAAlCn2B,EAAMo2B,yBACvB,EAEDN,EAAkB7yB,KAAOvT,OAAOwQ,OAAO,CACnCi2B,yBAAyB,EACzBC,wBAAyBhzB,EAAMH,OAEnC6yB,EAAkBG,UAAYvmC,OAAOwQ,OAAO,CACxCi2B,yBAAyB,EACzBC,wBAAyBL,IArBjC,EAuBGD,KAAsBA,GAAoB,CAAC,ICG9C,QA4RWO,GD9RLH,GAAAA,WACF,aAAc,UACVlmC,KAAKsmC,cAAe,EACpBtmC,KAAKumC,SAAW,IACnB,iCACD,WACSvmC,KAAKsmC,eACNtmC,KAAKsmC,cAAe,EAChBtmC,KAAKumC,WACLvmC,KAAKumC,SAASjxB,UAAKpZ,GACnB8D,KAAK6R,WAGhB,sCACD,WACI,OAAO7R,KAAKsmC,YACf,sCACD,WACI,OAAItmC,KAAKsmC,aACEP,IAEN/lC,KAAKumC,WACNvmC,KAAKumC,SAAW,IAAI/wB,IAEjBxV,KAAKumC,SAAS5xB,MACxB,wBACD,WACQ3U,KAAKumC,WACLvmC,KAAKumC,SAAS10B,UACd7R,KAAKumC,SAAW,KAEvB,OA/BCL,GAiCOM,GAAb,WACI,WAAY70B,GAAQ,UAChB3R,KAAKymC,YAASvqC,EACd8D,KAAK0mC,qBAAkBxqC,EACvB8D,KAAK0mC,gBAAkB/0B,GAAUA,EAAOy0B,wBAAwBpmC,KAAK2mC,OAAQ3mC,KAChF,CALL,6BAMI,WAMI,OALKA,KAAKymC,SAGNzmC,KAAKymC,OAAS,IAAIP,IAEflmC,KAAKymC,MACf,GAbL,oBAcI,WACSzmC,KAAKymC,OAMDzmC,KAAKymC,kBAAkBP,IAE5BlmC,KAAKymC,OAAOE,SAJZ3mC,KAAKymC,OAASX,GAAkBG,SAMvC,GAzBL,qBA0BI,WAAwB,IAChBxrB,EADgB,yDAGhBza,KAAK2mC,SAEuB,QAA/BlsB,EAAKza,KAAK0mC,uBAAoC,IAAPjsB,GAAyBA,EAAG5I,UAC/D7R,KAAKymC,OAIDzmC,KAAKymC,kBAAkBP,IAE5BlmC,KAAKymC,OAAO50B,UAJZ7R,KAAKymC,OAASX,GAAkB7yB,IAMvC,KAxCL,KC/DM2zB,GAAAA,WACF,aAAc,UACV5mC,KAAK6mC,cAAgB,GACrB7mC,KAAK8mC,cAAgBpnC,OAAO0C,OAAO,KACtC,iCACD,SAAO2kC,EAAS9lB,GACZjhB,KAAK6mC,cAAcE,GAAW9lB,EAC9BjhB,KAAK8mC,cAAc7lB,EAAIiU,eAAiB6R,CAC3C,6BACD,SAAaA,GACT,OAAO/mC,KAAK6mC,cAAcE,EAC7B,6BACD,SAAa9lB,GACT,OAAOjhB,KAAK8mC,cAAc7lB,EAAIiU,gBAAkB,CACnD,OAdC0R,GAgBAI,GAAQ,IAAIJ,GACZK,GAAoB,IAAIL,GACxBM,GAAyB,IAAIN,GACtBO,GAAqB,IAAIh8B,MAAM,KAC/Bi8B,GAAsC,CAAC,EAC9CC,GAAmB,GACnBC,GAAmB5nC,OAAO0C,OAAO,MACjCmlC,GAA4B7nC,OAAO0C,OAAO,MAInColC,GAA6B,GAI7BC,GAA6B,GACjCnsC,GAAI,EAAGA,IAAK,IAA8BA,KAC/CksC,GAA2BlsC,KAAM,EAErC,IAAK,IAAIA,GAAI,EAAGA,IAAK,IAA6BA,KAC9CmsC,GAA2BnsC,KAAM,GAErC,WAgPI,IA7OA,IAAMiV,EAAQ,GA2ORm3B,EAAc,GACdC,EAAe,GACrB,MA5OiB,CAEb,CAAC,EAAG,EAAuB,OAAQ,EAAyB,UAAW,EAAG,aAAcp3B,EAAOA,GAC/F,CAAC,EAAG,EAAwB,QAAS,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACtF,CAAC,EAAG,EAAwB,QAAS,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACtF,CAAC,EAAG,EAAqB,KAAM,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAChF,CAAC,EAAG,EAAyB,SAAU,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACxF,CAAC,EAAG,EAA0B,UAAW,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAC1F,CAAC,EAAG,EAAyB,SAAU,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACxF,CAAC,EAAG,EAAwB,QAAS,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACtF,CAAC,EAAG,EAAwB,QAAS,EAAyBA,EAAO,EAAG,WAAYA,EAAOA,GAC3F,CAAC,EAAG,EAAyB,SAAU,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACxF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAAwB,OAAQ,GAAuB,IAAK,GAAI,OAAQA,EAAOA,GACnF,CAAC,EAAG,GAA0B,SAAU,GAAyB,IAAK,GAAI,OAAQA,EAAOA,GACzF,CAAC,EAAG,GAA0B,SAAU,GAAyB,IAAK,GAAI,OAAQA,EAAOA,GACzF,CAAC,EAAG,GAA0B,SAAU,GAAyB,IAAK,GAAI,OAAQA,EAAOA,GACzF,CAAC,EAAG,GAA0B,SAAU,GAAyB,IAAK,GAAI,OAAQA,EAAOA,GACzF,CAAC,EAAG,GAA0B,SAAU,GAAyB,IAAK,GAAI,OAAQA,EAAOA,GACzF,CAAC,EAAG,GAA0B,SAAU,GAAyB,IAAK,GAAI,OAAQA,EAAOA,GACzF,CAAC,EAAG,GAA0B,SAAU,GAAyB,IAAK,GAAI,OAAQA,EAAOA,GACzF,CAAC,EAAG,GAA0B,SAAU,GAAyB,IAAK,GAAI,OAAQA,EAAOA,GACzF,CAAC,EAAG,GAA0B,SAAU,GAAyB,IAAK,GAAI,OAAQA,EAAOA,GACzF,CAAC,EAAG,GAA0B,SAAU,GAAyB,IAAK,GAAI,OAAQA,EAAOA,GACzF,CAAC,EAAG,GAAyB,QAAS,EAAuB,QAAS,GAAI,YAAaA,EAAOA,GAC9F,CAAC,EAAG,GAA0B,SAAU,EAAwB,SAAU,GAAI,YAAaA,EAAOA,GAClG,CAAC,EAAG,GAA6B,YAAa,EAA2B,YAAa,EAAG,UAAWA,EAAOA,GAC3G,CAAC,EAAG,GAAuB,MAAO,EAAqB,MAAO,EAAG,SAAUA,EAAOA,GAClF,CAAC,EAAG,GAAyB,QAAS,GAAwB,QAAS,GAAI,WAAYA,EAAOA,GAC9F,CAAC,EAAG,GAAyB,QAAS,GAAwB,IAAK,IAAK,eAAgB,IAAK,aAC7F,CAAC,EAAG,GAAyB,QAAS,GAAwB,IAAK,IAAK,cAAe,IAAK,YAC5F,CAAC,EAAG,GAA+B,cAAe,GAA8B,IAAK,IAAK,WAAY,IAAK,SAC3G,CAAC,EAAG,GAAgC,eAAgB,GAA+B,IAAK,IAAK,WAAY,IAAK,SAC9G,CAAC,EAAG,GAA6B,YAAa,GAA4B,KAAM,IAAK,WAAY,KAAM,SACvG,CAAC,EAAG,GAA4B,WAAY,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAC7F,CAAC,EAAG,GAA6B,YAAa,GAA4B,IAAK,IAAK,WAAY,IAAK,SACrG,CAAC,EAAG,GAAyB,QAAS,GAAwB,IAAM,IAAK,WAAY,IAAM,SAC3F,CAAC,EAAG,GAA6B,YAAa,GAA4B,IAAK,IAAK,WAAY,IAAK,SACrG,CAAC,EAAG,GAAyB,QAAS,GAAwB,IAAK,IAAK,eAAgB,IAAK,aAC7F,CAAC,EAAG,GAA0B,SAAU,GAAyB,IAAK,IAAK,gBAAiB,IAAK,cACjG,CAAC,EAAG,GAAyB,QAAS,GAAwB,IAAK,IAAK,WAAY,IAAK,SACzF,CAAC,EAAG,GAA4B,WAAY,EAA0B,WAAY,GAAI,aAAcA,EAAOA,GAC3G,CAAC,EAAG,GAAsB,KAAM,GAAqB,KAAM,IAAK,QAASA,EAAOA,GAChF,CAAC,EAAG,GAAsB,KAAM,GAAqB,KAAM,IAAK,QAASA,EAAOA,GAChF,CAAC,EAAG,GAAsB,KAAM,GAAqB,KAAM,IAAK,QAASA,EAAOA,GAChF,CAAC,EAAG,GAAsB,KAAM,GAAqB,KAAM,IAAK,QAASA,EAAOA,GAChF,CAAC,EAAG,GAAsB,KAAM,GAAqB,KAAM,IAAK,QAASA,EAAOA,GAChF,CAAC,EAAG,GAAsB,KAAM,GAAqB,KAAM,IAAK,QAASA,EAAOA,GAChF,CAAC,EAAG,GAAsB,KAAM,GAAqB,KAAM,IAAK,QAASA,EAAOA,GAChF,CAAC,EAAG,GAAsB,KAAM,GAAqB,KAAM,IAAK,QAASA,EAAOA,GAChF,CAAC,EAAG,GAAsB,KAAM,GAAqB,KAAM,IAAK,QAASA,EAAOA,GAChF,CAAC,EAAG,GAAuB,MAAO,GAAsB,MAAO,IAAK,SAAUA,EAAOA,GACrF,CAAC,EAAG,GAAuB,MAAO,GAAsB,MAAO,IAAK,SAAUA,EAAOA,GACrF,CAAC,EAAG,GAAuB,MAAO,GAAsB,MAAO,IAAK,SAAUA,EAAOA,GACrF,CAAC,EAAG,GAA+B,cAAe,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACnG,CAAC,EAAG,GAA8B,aAAc,GAA6B,aAAc,IAAK,YAAaA,EAAOA,GACpH,CAAC,EAAG,GAAyB,QAAS,EAA4B,aAAc,GAAI,WAAYA,EAAOA,GACvG,CAAC,EAAG,GAA0B,SAAU,GAAyB,SAAU,GAAI,YAAaA,EAAOA,GACnG,CAAC,EAAG,GAAwB,OAAQ,GAAuB,OAAQ,GAAI,UAAWA,EAAOA,GACzF,CAAC,EAAG,GAA0B,SAAU,GAAyB,SAAU,GAAI,WAAYA,EAAOA,GAClG,CAAC,EAAG,GAA0B,SAAU,GAAyB,SAAU,GAAI,YAAaA,EAAOA,GACnG,CAAC,EAAG,GAAuB,MAAO,GAAsB,MAAO,GAAI,SAAUA,EAAOA,GACpF,CAAC,EAAG,GAA4B,WAAY,GAA2B,WAAY,GAAI,UAAWA,EAAOA,GACzG,CAAC,EAAG,GAA8B,aAAc,GAA6B,aAAc,GAAI,WAAY,QAASA,GACpH,CAAC,EAAG,GAA6B,YAAa,GAA4B,YAAa,GAAI,UAAW,OAAQA,GAC9G,CAAC,EAAG,GAA6B,YAAa,GAA4B,YAAa,GAAI,UAAW,OAAQA,GAC9G,CAAC,EAAG,GAA2B,UAAW,GAA0B,UAAW,GAAI,QAAS,KAAMA,GAClG,CAAC,EAAG,GAA2B,UAAW,GAA0B,UAAW,IAAK,aAAcA,EAAOA,GACzG,CAAC,EAAG,GAAgC,eAAgB,IAAgC,gBAAiB,IAAK,YAAaA,EAAOA,GAC9H,CAAC,EAAG,GAAkC,iBAAkB,IAAkC,kBAAmB,IAAK,cAAeA,EAAOA,GACxI,CAAC,EAAG,GAAkC,iBAAkB,IAAkC,kBAAmB,IAAK,cAAeA,EAAOA,GACxI,CAAC,EAAG,GAA6B,YAAa,IAA6B,aAAc,IAAK,SAAUA,EAAOA,GAC/G,CAAC,EAAG,GAA+B,cAAe,EAAuBA,EAAO,EAAGA,EAAOA,EAAOA,GACjG,CAAC,EAAG,GAA2B,UAAW,GAA0B,UAAW,GAAI,aAAcA,EAAOA,GACxG,CAAC,EAAG,GAA2B,UAAW,IAA2B,UAAW,GAAI,aAAcA,EAAOA,GACzG,CAAC,EAAG,GAA2B,UAAW,IAA2B,UAAW,GAAI,aAAcA,EAAOA,GACzG,CAAC,EAAG,GAA2B,UAAW,IAA2B,UAAW,IAAK,aAAcA,EAAOA,GAC1G,CAAC,EAAG,GAA2B,UAAW,IAA2B,UAAW,IAAK,aAAcA,EAAOA,GAC1G,CAAC,EAAG,IAA4B,UAAW,IAA2B,UAAW,IAAK,aAAcA,EAAOA,GAC3G,CAAC,EAAG,IAA4B,UAAW,IAA2B,UAAW,IAAK,aAAcA,EAAOA,GAC3G,CAAC,EAAG,IAA4B,UAAW,IAA2B,UAAW,IAAK,aAAcA,EAAOA,GAC3G,CAAC,EAAG,IAA4B,UAAW,IAA2B,UAAW,IAAK,aAAcA,EAAOA,GAC3G,CAAC,EAAG,IAA4B,UAAW,GAA0B,UAAW,GAAI,aAAcA,EAAOA,GACzG,CAAC,EAAG,IAAkC,gBAAiB,IAAiC,iBAAkB,IAAK,aAAcA,EAAOA,GACpI,CAAC,EAAG,IAAkC,gBAAiB,GAAgC,UAAW,IAAK,aAAcA,EAAOA,GAC5H,CAAC,EAAG,IAAgC,cAAe,GAA8B,cAAe,GAAIA,EAAOA,EAAOA,GAClH,CAAC,EAAG,IAA0B,QAAS,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACxF,CAAC,EAAG,IAAgC,cAAe,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACpG,CAAC,EAAG,IAAwB,MAAO,GAAsB,MAAO,IAAK,SAAUA,EAAOA,GACtF,CAAC,EAAG,IAAwB,MAAO,GAAsB,MAAO,IAAK,SAAUA,EAAOA,GACtF,CAAC,EAAG,IAAwB,MAAO,GAAsB,MAAO,IAAK,SAAUA,EAAOA,GACtF,CAAC,EAAG,IAAwB,MAAO,GAAsB,MAAO,IAAK,SAAUA,EAAOA,GACtF,CAAC,EAAG,IAAwB,MAAO,GAAsB,MAAO,IAAK,SAAUA,EAAOA,GACtF,CAAC,EAAG,IAAwB,MAAO,GAAsB,MAAO,IAAK,SAAUA,EAAOA,GACtF,CAAC,EAAG,IAAwB,MAAO,GAAsB,MAAO,IAAK,SAAUA,EAAOA,GACtF,CAAC,EAAG,IAAwB,MAAO,GAAsB,MAAO,IAAK,SAAUA,EAAOA,GACtF,CAAC,EAAG,IAAwB,MAAO,GAAsB,MAAO,IAAK,SAAUA,EAAOA,GACtF,CAAC,EAAG,IAAwB,MAAO,GAAsB,MAAO,IAAK,SAAUA,EAAOA,GACtF,CAAC,EAAG,IAAwB,MAAO,GAAsB,MAAO,IAAK,SAAUA,EAAOA,GACtF,CAAC,EAAG,IAAwB,MAAO,GAAsB,MAAO,IAAK,SAAUA,EAAOA,GACtF,CAAC,EAAG,IAAyB,OAAQ,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACtF,CAAC,EAAG,IAAyB,OAAQ,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACtF,CAAC,EAAG,IAA2B,SAAU,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAC1F,CAAC,EAAG,IAA0B,QAAS,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACxF,CAAC,EAAG,IAAyB,OAAQ,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACtF,CAAC,EAAG,IAAwB,MAAO,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACpF,CAAC,EAAG,IAAyB,OAAQ,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACtF,CAAC,EAAG,IAA0B,QAAS,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACxF,CAAC,EAAG,IAAyB,OAAQ,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACtF,CAAC,EAAG,IAAoC,kBAAmB,IAAmC,kBAAmB,IAAK,iBAAkBA,EAAOA,GAC/I,CAAC,EAAG,IAAkC,gBAAiB,IAAiC,gBAAiB,IAAK,eAAgBA,EAAOA,GACrI,CAAC,EAAG,IAAoC,kBAAmB,IAAmC,kBAAmB,IAAK,iBAAkBA,EAAOA,GAC/I,CAAC,EAAG,IAAgC,cAAe,IAAoC,mBAAoB,IAAK,eAAgBA,EAAOA,GACvI,CAAC,EAAG,IAA2B,SAAU,IAA2B,UAAW,IAAK,aAAcA,EAAOA,GACzG,CAAC,EAAG,IAA6B,WAAY,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAC9F,CAAC,EAAG,IAA4B,UAAW,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAC5F,CAAC,EAAG,IAA4B,UAAW,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAC5F,CAAC,EAAG,IAA+B,aAAc,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAClG,CAAC,EAAG,IAA0B,QAAS,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACxF,CAAC,EAAG,IAA0B,QAAS,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACxF,CAAC,EAAG,IAA0B,QAAS,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACxF,CAAC,EAAG,IAA0B,QAAS,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACxF,CAAC,EAAG,IAA0B,QAAS,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACxF,CAAC,EAAG,IAA0B,QAAS,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACxF,CAAC,EAAG,IAA0B,QAAS,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACxF,CAAC,EAAG,IAAoC,kBAAmB,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAC5G,CAAC,EAAG,IAAqC,mBAAoB,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAC9G,CAAC,EAAG,IAAoC,kBAAmB,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAC5G,CAAC,EAAG,IAAsC,oBAAqB,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAChH,CAAC,EAAG,IAAuC,qBAAsB,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAClH,CAAC,EAAG,IAAsC,oBAAqB,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAChH,CAAC,EAAG,IAAoC,kBAAmB,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAC5G,CAAC,EAAG,IAAyC,uBAAwB,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACtH,CAAC,EAAG,IAAgC,cAAe,IAAyB,QAAS,GAAI,WAAYA,EAAOA,GAC5G,CAAC,EAAG,IAAqC,mBAAoB,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAC9G,CAAC,EAAG,EAAuBA,EAAO,EAAsB,OAAQ,GAAI,aAAcA,EAAOA,GACzF,CAAC,EAAG,EAAuBA,EAAO,EAAuB,QAAS,GAAI,WAAYA,EAAOA,GACzF,CAAC,EAAG,EAAuBA,EAAO,EAAqB,MAAO,GAAI,UAAWA,EAAOA,GACpF,CAAC,EAAG,EAAuBA,EAAO,GAAuB,OAAQ,GAAI,aAAcA,EAAOA,GAC1F,CAAC,EAAG,IAAgC,cAAe,EAAsBA,EAAO,EAAG,cAAeA,EAAOA,GACzG,CAAC,EAAG,IAA8B,YAAa,EAAuBA,EAAO,EAAG,YAAaA,EAAOA,GACpG,CAAC,EAAG,IAA4B,UAAW,EAAqBA,EAAO,EAAG,WAAYA,EAAOA,GAC7F,CAAC,EAAG,IAA6B,WAAY,GAAuBA,EAAO,EAAG,UAAWA,EAAOA,GAChG,CAAC,EAAG,IAAiC,eAAgB,EAAsBA,EAAO,EAAG,cAAeA,EAAOA,GAC3G,CAAC,EAAG,IAA+B,aAAc,EAAuBA,EAAO,EAAG,YAAaA,EAAOA,GACtG,CAAC,EAAG,IAA6B,WAAY,EAAqBA,EAAO,EAAG,WAAYA,EAAOA,GAC/F,CAAC,EAAG,IAA8B,YAAa,GAAuBA,EAAO,EAAG,UAAWA,EAAOA,GAClG,CAAC,EAAG,IAAiC,eAAgB,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACtG,CAAC,EAAG,IAAmC,iBAAkB,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAC1G,CAAC,EAAG,IAA8B,YAAa,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAChG,CAAC,EAAG,IAAgC,cAAe,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACpG,CAAC,EAAG,IAAqC,mBAAoB,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAC9G,CAAC,EAAG,IAAgC,cAAe,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACpG,CAAC,EAAG,IAAmC,iBAAkB,IAAkC,iBAAkB,IAAK,sBAAuBA,EAAOA,GAChJ,CAAC,EAAG,IAAuC,qBAAsB,IAAsC,qBAAsB,IAAK,sBAAuBA,EAAOA,GAChK,CAAC,EAAG,IAA8B,YAAa,IAA6B,YAAa,IAAK,gBAAiBA,EAAOA,GACtH,CAAC,EAAG,IAA0B,QAAS,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACxF,CAAC,EAAG,IAAmC,iBAAkB,IAAkC,iBAAkB,IAAK,sBAAuBA,EAAOA,GAChJ,CAAC,EAAG,IAAgC,cAAe,IAAqC,oBAAqB,IAAK,+BAAgCA,EAAOA,GACzJ,CAAC,EAAG,IAA+B,aAAc,IAA8B,aAAc,IAAK,uBAAwBA,EAAOA,GACjI,CAAC,EAAG,IAA+B,aAAc,IAA8B,aAAc,IAAK,uBAAwBA,EAAOA,GACjI,CAAC,EAAG,IAA+B,aAAc,EAAyBA,EAAO,EAAG,uBAAwBA,EAAOA,GACnH,CAAC,EAAG,IAA+B,aAAc,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAClG,CAAC,EAAG,IAAsC,oBAAqB,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAChH,CAAC,EAAG,IAAkC,gBAAiB,IAAiC,gBAAiB,IAAK,oBAAqBA,EAAOA,GAC1I,CAAC,EAAG,IAAgC,cAAe,IAA+B,cAAe,IAAK,kBAAmBA,EAAOA,GAChI,CAAC,EAAG,IAAgC,cAAe,IAA+B,cAAe,IAAK,kBAAmBA,EAAOA,GAChI,CAAC,EAAG,IAAmC,iBAAkB,IAAkC,iBAAkB,IAAK,qBAAsBA,EAAOA,GAC/I,CAAC,EAAG,IAAgC,cAAe,EAAyBA,EAAO,EAAG,kBAAmBA,EAAOA,GAChH,CAAC,EAAG,IAAmC,iBAAkB,EAAyBA,EAAO,EAAG,qBAAsBA,EAAOA,GACzH,CAAC,EAAG,IAAqC,mBAAoB,EAAyBA,EAAO,EAAG,uBAAwBA,EAAOA,GAC/H,CAAC,EAAG,IAA+B,aAAc,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAClG,CAAC,EAAG,IAA8B,YAAa,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAChG,CAAC,EAAG,IAAgC,cAAe,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GACpG,CAAC,EAAG,IAA6B,WAAY,EAAyBA,EAAO,EAAGA,EAAOA,EAAOA,GAG9F,CAAC,EAAG,EAAuBA,EAAO,IAAsC,mBAAoB,IAAKA,EAAOA,EAAOA,GAC/G,CAAC,EAAG,EAAuBA,EAAO,IAA2B,UAAW,IAAK,aAAcA,EAAOA,GAClG,CAAC,EAAG,EAAuBA,EAAO,GAAwB,QAAS,IAAK,WAAYA,EAAOA,GAC3F,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,UAAWA,EAAOA,GACvF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,YAAaA,EAAOA,GACzF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,WAAYA,EAAOA,GACxF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,WAAYA,EAAOA,GACxF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,WAAYA,EAAOA,GACxF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,WAAYA,EAAOA,GACxF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,aAAcA,EAAOA,GAC1F,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,gBAAiBA,EAAOA,GAC7F,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,YAAaA,EAAOA,GACzF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,gBAAiBA,EAAOA,GAC7F,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,YAAaA,EAAOA,GACzF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,WAAYA,EAAOA,GACxF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,aAAcA,EAAOA,GAC1F,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,cAAeA,EAAOA,GAC3F,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,UAAWA,EAAOA,GACvF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,UAAWA,EAAOA,GACvF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,gBAAiBA,EAAOA,GAC7F,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,YAAaA,EAAOA,GACzF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,kBAAmBA,EAAOA,GAC/F,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,kBAAmBA,EAAOA,GAC/F,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,UAAWA,EAAOA,GACvF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,WAAYA,EAAOA,GACxF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,WAAYA,EAAOA,GACxF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,WAAYA,EAAOA,GACxF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,UAAWA,EAAOA,GACvF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,UAAWA,EAAOA,GACvF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,YAAaA,EAAOA,GACzF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,SAAUA,EAAOA,GACtF,CAAC,EAAG,EAAuBA,EAAO,EAAyBA,EAAO,EAAG,eAAgBA,EAAOA,IAIhG,eAAgC,CAA3B,IACD,IADc,KACd,GAAOq3B,EAAP,KAAkBC,EAAlB,KAA4BC,EAA5B,KAAyCf,EAAzC,KAAkDgB,EAAlD,KAA8DC,EAA9D,KAA4EC,EAA5E,KAAkFC,EAAlF,KAAuGC,EAAvG,KAkBA,GAjBKR,EAAaE,KACdF,EAAaE,IAAY,EACzBR,GAAiBQ,GAAYC,EAC7BR,GAAiBQ,GAAeD,EAChCN,GAA0BO,EAAY5S,eAAiB2S,EACnDD,IACAJ,GAA2BK,GAAYd,EACtB,IAAZA,GACe,IAAZA,GACY,IAAZA,GACY,IAAZA,GACY,IAAZA,GACY,KAAZA,IACJU,GAA2BV,GAAWc,MAI7CH,EAAYX,GAAU,CAEvB,GADAW,EAAYX,IAAW,GAClBgB,EACD,MAAM,IAAI1jC,MAAJ,qDAAwD0iC,EAAxD,6BAAoFe,IAE9Fd,GAAMxlC,OAAOulC,EAASgB,GACtBd,GAAkBzlC,OAAOulC,EAASmB,GAAuBH,GACzDb,GAAuB1lC,OAAOulC,EAASoB,GAA4BD,GAAuBH,EAC7F,CACGC,IACAb,GAAmBa,GAAgBjB,GAEnCkB,IACAb,GAAoCa,GAAQlB,EAEnD,CAEDU,GAA2B,GAAyB,EApRxD,IAuRA,SAAWpB,GAIPA,EAAa76B,SAHb,SAAkBu7B,GACd,OAAOC,GAAMoB,aAAarB,EAC7B,EAKDV,EAAagC,WAHb,SAAoB7oC,GAChB,OAAOwnC,GAAMsB,aAAa9oC,EAC7B,EAKD6mC,EAAakC,iBAHb,SAA0BxB,GACtB,OAAOE,GAAkBmB,aAAarB,EACzC,EAKDV,EAAamC,sBAHb,SAA+BzB,GAC3B,OAAOG,GAAuBkB,aAAarB,EAC9C,EAKDV,EAAaoC,iBAHb,SAA0BjpC,GACtB,OAAOynC,GAAkBqB,aAAa9oC,IAAQ0nC,GAAuBoB,aAAa9oC,EACrF,EA0BD6mC,EAAaqC,sBAxBb,SAA+B3B,GAC3B,GAAIA,GAAW,IAA4BA,GAAW,IASlD,OAAO,KAEX,OAAQA,GACJ,KAAK,GACD,MAAO,KACX,KAAK,GACD,MAAO,OACX,KAAK,GACD,MAAO,OACX,KAAK,GACD,MAAO,QAEf,OAAOC,GAAMoB,aAAarB,EAC7B,CA5CL,EA8CGV,KAAiBA,GAAe,CAAC,ICrW7B,IAAMsC,GAAb,8BACI,WAAYC,EAA0BC,EAAsBC,EAAoBC,GAAgB,wBAC5F,cAAMH,EAA0BC,EAAsBC,EAAoBC,IACrEH,yBAA2BA,EAChC,EAAKC,qBAAuBA,EAC5B,EAAKC,mBAAqBA,EAC1B,EAAKC,eAAiBA,EALsE,CAM/F,CAPL,kCAWI,WACI,MAAO,IAAM/oC,KAAK4oC,yBAA2B,IAAM5oC,KAAK6oC,qBAAuB,OAAS7oC,KAAK8oC,mBAAqB,IAAM9oC,KAAK+oC,eAAiB,GACjJ,GAbL,6BAiBI,SAAgBjP,GACZ,OAAQ6O,EAAUK,gBAAgBhpC,KAAM85B,EAC3C,GAnBL,0BAgCI,WACI,OAAI95B,KAAK4oC,2BAA6B5oC,KAAKo6B,iBAAmBp6B,KAAK6oC,uBAAyB7oC,KAAKq6B,YACtF,EAEJ,CACV,GArCL,4BAyCI,SAAeC,EAAeC,GAC1B,OAA4B,IAAxBv6B,KAAKipC,eACE,IAAIN,EAAU3oC,KAAKo6B,gBAAiBp6B,KAAKq6B,YAAaC,EAAeC,GAEzE,IAAIoO,EAAUrO,EAAeC,EAAWv6B,KAAKo6B,gBAAiBp6B,KAAKq6B,YAC7E,GA9CL,yBAkDI,WACI,OAAO,IAAId,GAASv5B,KAAK8oC,mBAAoB9oC,KAAK+oC,eACrD,GApDL,+BAwDI,WACI,OAAO,IAAIxP,GAASv5B,KAAK4oC,yBAA0B5oC,KAAK6oC,qBAC3D,GA1DL,8BA8DI,SAAiBzO,EAAiBC,GAC9B,OAA4B,IAAxBr6B,KAAKipC,eACE,IAAIN,EAAUvO,EAAiBC,EAAar6B,KAAKs6B,cAAet6B,KAAKu6B,WAEzE,IAAIoO,EAAU3oC,KAAKs6B,cAAet6B,KAAKu6B,UAAWH,EAAiBC,EAC7E,IAnEL,8BAuBI,SAAuBzwB,EAAG6M,GACtB,OAAQ7M,EAAEg/B,2BAA6BnyB,EAAEmyB,0BACrCh/B,EAAEi/B,uBAAyBpyB,EAAEoyB,sBAC7Bj/B,EAAEk/B,qBAAuBryB,EAAEqyB,oBAC3Bl/B,EAAEm/B,iBAAmBtyB,EAAEsyB,cAC9B,GA5BL,2BAwEI,SAAqBnrC,GAAoB,IAAbJ,EAAa,uDAAPI,EAC9B,OAAO,IAAI+qC,EAAU/qC,EAAM47B,WAAY57B,EAAM67B,OAAQj8B,EAAIg8B,WAAYh8B,EAAIi8B,OAC5E,GA1EL,uBA8EI,SAAiBiB,EAAOwO,GACpB,OAAkB,IAAdA,EACO,IAAIP,EAAUjO,EAAMN,gBAAiBM,EAAML,YAAaK,EAAMJ,cAAeI,EAAMH,WAGnF,IAAIoO,EAAUjO,EAAMJ,cAAeI,EAAMH,UAAWG,EAAMN,gBAAiBM,EAAML,YAE/F,GArFL,2BAyFI,SAAqB8O,GACjB,OAAO,IAAIR,EAAUQ,EAAIP,yBAA0BO,EAAIN,qBAAsBM,EAAIL,mBAAoBK,EAAIJ,eAC5G,GA3FL,gCA+FI,SAA0Bn/B,EAAG6M,GACzB,GAAI7M,IAAM6M,IAAM7M,GAAK6M,EACjB,OAAO,EAEX,IAAK7M,IAAM6M,EACP,OAAO,EAEX,GAAI7M,EAAErO,SAAWkb,EAAElb,OACf,OAAO,EAEX,IAAK,IAAID,EAAI,EAAG2P,EAAMrB,EAAErO,OAAQD,EAAI2P,EAAK3P,IACrC,IAAK0E,KAAKgpC,gBAAgBp/B,EAAEtO,GAAImb,EAAEnb,IAC9B,OAAO,EAGf,OAAO,CACV,GA/GL,0BAmHI,SAAoB8E,GAChB,OAAQA,GACwC,kBAAjCA,EAAIwoC,0BACyB,kBAA7BxoC,EAAIyoC,sBACuB,kBAA3BzoC,EAAI0oC,oBACmB,kBAAvB1oC,EAAI2oC,cACtB,GAzHL,iCA6HI,SAA2B3O,EAAiBC,EAAaC,EAAeC,EAAW2O,GAC/E,OAAkB,IAAdA,EACO,IAAIP,EAAUvO,EAAiBC,EAAaC,EAAeC,GAE/D,IAAIoO,EAAUrO,EAAeC,EAAWH,EAAiBC,EACnE,KAlIL,GAA+BF,ICHxB,SAASiP,GAASnoB,GACrB,MAAuB,kBAARA,CAClB,CCRD,IAAMooB,GAAyB3pC,OAAO0C,OAAO,MAC7C,SAASknC,GAAS1xB,EAAI2xB,GAClB,GAAIH,GAASG,GAAgB,CACzB,IAAMxiC,EAAMsiC,GAAuBE,GACnC,QAAYrtC,IAAR6K,EACA,MAAM,IAAI1C,MAAJ,UAAauT,EAAb,2CAAkD2xB,IAE5DA,EAAgBxiC,CACnB,CAED,OADAsiC,GAAuBzxB,GAAM2xB,EACtB,CAAE3xB,GAAAA,EACZ,CAcM,ICmBI4xB,GA0FAC,GD7GEC,GAAU,CAEnB52B,IAAKw2B,GAAS,MAAO,KACrBK,KAAML,GAAS,OAAQ,KACvBM,QAASN,GAAS,WAAY,KAC9BO,WAAYP,GAAS,cAAe,KACpCQ,UAAWR,GAAS,YAAa,OACjCS,UAAWT,GAAS,aAAc,OAClCU,KAAMV,GAAS,OAAQ,OACvBW,WAAYX,GAAS,cAAe,OACpCY,SAAUZ,GAAS,YAAa,OAChCa,WAAYb,GAAS,cAAe,OACpCc,eAAgBd,GAAS,mBAAoB,OAC7Ce,wBAAyBf,GAAS,6BAA8B,OAChEgB,WAAYhB,GAAS,cAAe,OACpCiB,SAAUjB,GAAS,WAAY,OAC/BkB,IAAKlB,GAAS,MAAO,OACrBmB,OAAQnB,GAAS,UAAW,OAC5BoB,UAAWpB,GAAS,aAAc,OAClCqB,OAAQrB,GAAS,SAAU,OAC3BsB,aAActB,GAAS,gBAAiB,OACxCuB,cAAevB,GAAS,iBAAkB,OAC1CwB,aAAcxB,GAAS,gBAAiB,OACxCyB,UAAWzB,GAAS,aAAc,OAClC0B,gBAAiB1B,GAAS,oBAAqB,OAC/C2B,gBAAiB3B,GAAS,oBAAqB,OAC/C4B,cAAe5B,GAAS,iBAAkB,OAC1C6B,OAAQ7B,GAAS,SAAU,OAC3B8B,aAAc9B,GAAS,gBAAiB,OACxC+B,KAAM/B,GAAS,OAAQ,OACvBgC,QAAShC,GAAS,WAAY,OAC9BiC,WAAYjC,GAAS,cAAe,OACpCkC,UAAWlC,GAAS,aAAc,OAClCpqB,QAASoqB,GAAS,UAAW,OAC7BmC,WAAYnC,GAAS,cAAe,OACpCoC,MAAOpC,GAAS,QAAS,OACzBqC,QAASrC,GAAS,UAAW,OAC7BsC,OAAQtC,GAAS,SAAU,OAC3BuC,WAAYvC,GAAS,cAAe,OACpCwC,OAAQxC,GAAS,UAAW,OAC5ByC,QAASzC,GAAS,WAAY,OAC9B0C,MAAO1C,GAAS,SAAU,OAC1B2C,OAAQ3C,GAAS,UAAW,OAC5B4C,IAAK5C,GAAS,MAAO,OACrB6C,WAAY7C,GAAS,cAAe,OACpC8C,SAAU9C,GAAS,YAAa,OAChC+C,aAAc/C,GAAS,gBAAiB,OACxCgD,aAAchD,GAAS,gBAAiB,OACxCiD,WAAYjD,GAAS,cAAe,OACpCkD,gBAAiBlD,GAAS,mBAAoB,OAC9CmD,wBAAyBnD,GAAS,4BAA6B,OAC/DoD,UAAWpD,GAAS,aAAc,OAClCqD,gBAAiBrD,GAAS,mBAAoB,OAC9CsD,KAAMtD,GAAS,OAAQ,OACvBuD,OAAQvD,GAAS,SAAU,OAC3BtkC,KAAMskC,GAAS,OAAQ,OACvBwD,YAAaxD,GAAS,eAAgB,OACtCyD,YAAazD,GAAS,eAAgB,OACtC0D,eAAgB1D,GAAS,mBAAoB,OAC7C2D,KAAM3D,GAAS,OAAQ,OACvB4D,cAAe5D,GAAS,iBAAkB,OAC1C6D,MAAO7D,GAAS,QAAS,OACzB8D,YAAa9D,GAAS,eAAgB,OACtCh4B,EAAGg4B,GAAS,IAAK,OACjB+D,SAAU/D,GAAS,YAAa,OAChCgE,KAAMhE,GAAS,OAAQ,OACvBiE,MAAOjE,GAAS,QAAS,OACzBkE,gBAAiBlE,GAAS,mBAAoB,OAC9CmE,OAAQnE,GAAS,SAAU,OAC3BoE,WAAYpE,GAAS,aAAc,OACnCqE,GAAIrE,GAAS,KAAM,OACnBsE,cAAetE,GAAS,iBAAkB,OAC1CzR,KAAMyR,GAAS,OAAQ,OACvBuE,SAAUvE,GAAS,YAAa,OAChCwE,KAAMxE,GAAS,OAAQ,OACvByE,SAAUzE,GAAS,WAAY,OAC/B0E,gBAAiB1E,GAAS,mBAAoB,OAC9C2E,UAAW3E,GAAS,aAAc,OAClC9kB,MAAO8kB,GAAS,QAAS,OACzB4E,aAAc5E,GAAS,eAAgB,OACvC6E,mBAAoB7E,GAAS,sBAAuB,OACpD8E,oBAAqB9E,GAAS,uBAAwB,OACtD+E,QAAS/E,GAAS,WAAY,OAC9BgF,QAAShF,GAAS,WAAY,OAC9BiF,UAAWjF,GAAS,aAAc,OAClCkF,oBAAqBlF,GAAS,wBAAyB,OACvDmF,MAAOnF,GAAS,QAAS,OACzBoF,SAAUpF,GAAS,WAAY,OAC/BqF,QAASrF,GAAS,UAAW,OAC7BsF,MAAOtF,GAAS,QAAS,OACzBuF,OAAQvF,GAAS,SAAU,OAC3BwF,cAAexF,GAAS,iBAAkB,OAC1CyF,aAAczF,GAAS,gBAAiB,OACxC0F,WAAY1F,GAAS,cAAe,OACpC2F,WAAY3F,GAAS,cAAe,OACpC4F,OAAQ5F,GAAS,SAAU,OAC3B6F,SAAU7F,GAAS,WAAY,OAC/B12B,QAAS02B,GAAS,UAAW,OAC7B8F,KAAM9F,GAAS,OAAQ,OACvB+F,IAAK/F,GAAS,MAAO,OACrBgG,YAAahG,GAAS,eAAgB,OACtCrlC,MAAOqlC,GAAS,QAAS,OACzBhiC,KAAMgiC,GAAS,OAAQ,OACvBiG,SAAUjG,GAAS,WAAY,OAC/BkG,eAAgBlG,GAAS,kBAAmB,OAC5CmG,MAAOnG,GAAS,QAAS,OACzBoG,YAAapG,GAAS,eAAgB,OACtCqG,aAAcrG,GAAS,gBAAiB,OACxCsG,cAAetG,GAAS,iBAAkB,OAC1CuG,gBAAiBvG,GAAS,mBAAoB,OAC9CwG,aAAcxG,GAAS,gBAAiB,OACxCyG,aAAczG,GAAS,gBAAiB,OACxC0G,eAAgB1G,GAAS,kBAAmB,OAC5C2G,kBAAmB3G,GAAS,qBAAsB,OAClD4G,cAAe5G,GAAS,iBAAkB,OAC1C6G,WAAY7G,GAAS,cAAe,OACpC8G,cAAe9G,GAAS,iBAAkB,OAC1C+G,aAAc/G,GAAS,gBAAiB,OACxCgH,gBAAiBhH,GAAS,mBAAoB,OAC9CiH,aAAcjH,GAAS,gBAAiB,OACxCkH,gBAAiBlH,GAAS,mBAAoB,OAC9CmH,oBAAqBnH,GAAS,wBAAyB,OACvDoH,UAAWpH,GAAS,aAAc,OAClCqH,WAAYrH,GAAS,cAAe,OACpCsH,gBAAiBtH,GAAS,mBAAoB,OAC9CuH,SAAUvH,GAAS,aAAc,OACjCwH,WAAYxH,GAAS,cAAe,OACpCyH,YAAazH,GAAS,eAAgB,OACtC0H,YAAa1H,GAAS,eAAgB,OACtC2H,WAAY3H,GAAS,cAAe,OACpC4H,oBAAqB5H,GAAS,uBAAwB,OACtD6H,QAAS7H,GAAS,UAAW,OAC7B8H,UAAW9H,GAAS,aAAc,OAClC+H,UAAW/H,GAAS,aAAc,OAClCgI,UAAWhI,GAAS,aAAc,OAClCiI,WAAYjI,GAAS,cAAe,OACpCkI,eAAgBlI,GAAS,mBAAoB,OAC7CmI,eAAgBnI,GAAS,mBAAoB,OAC7CoI,gBAAiBpI,GAAS,oBAAqB,OAC/CqI,aAAcrI,GAAS,iBAAkB,OACzCsI,QAAStI,GAAS,WAAY,OAC9BuI,KAAMvI,GAAS,OAAQ,OACvBwI,KAAMxI,GAAS,OAAQ,OACvByI,KAAMzI,GAAS,OAAQ,OACvB0I,SAAU1I,GAAS,WAAY,OAC/B2I,qCAAsC3I,GAAS,0CAA2C,OAC1F4I,2BAA4B5I,GAAS,+BAAgC,OACrE6I,mCAAoC7I,GAAS,wCAAyC,OACtF8I,8BAA+B9I,GAAS,mCAAoC,OAC5E+I,oBAAqB/I,GAAS,wBAAyB,OACvDgJ,4BAA6BhJ,GAAS,iCAAkC,OACxEiJ,6BAA8BjJ,GAAS,kCAAmC,OAC1EkJ,mBAAoBlJ,GAAS,uBAAwB,OACrDmJ,2BAA4BnJ,GAAS,gCAAiC,OACtEoJ,UAAWpJ,GAAS,YAAa,OACjCqJ,UAAWrJ,GAAS,YAAa,OACjCsJ,QAAStJ,GAAS,UAAW,OAC7BuJ,IAAKvJ,GAAS,MAAO,OACrBwJ,SAAUxJ,GAAS,WAAY,OAC/ByJ,cAAezJ,GAAS,iBAAkB,OAC1CvtB,MAAOutB,GAAS,QAAS,OACzB0J,UAAW1J,GAAS,YAAa,OACjC2J,YAAa3J,GAAS,eAAgB,OACtC4J,eAAgB5J,GAAS,mBAAoB,OAC7C6J,YAAa7J,GAAS,eAAgB,OACtC8J,aAAc9J,GAAS,gBAAiB,OACxC+J,UAAW/J,GAAS,aAAc,OAClCgK,YAAahK,GAAS,eAAgB,OACtCiK,eAAgBjK,GAAS,kBAAmB,OAC5CkK,eAAgBlK,GAAS,kBAAmB,OAC5CmK,cAAenK,GAAS,iBAAkB,OAC1CoK,OAAQpK,GAAS,SAAU,OAC3BqK,cAAerK,GAAS,iBAAkB,OAC1CsK,0BAA2BtK,GAAS,8BAA+B,OACnEuK,YAAavK,GAAS,eAAgB,OACtCwK,aAAcxK,GAAS,gBAAiB,OACxCyK,SAAUzK,GAAS,YAAa,OAChC0K,OAAQ1K,GAAS,SAAU,OAC3B2K,SAAU3K,GAAS,YAAa,OAChC4K,cAAe5K,GAAS,iBAAkB,OAC1C6K,YAAa7K,GAAS,eAAgB,OACtCruC,KAAMquC,GAAS,OAAQ,OACvB8K,YAAa9K,GAAS,eAAgB,OACtC+K,UAAW/K,GAAS,aAAc,OAClCgL,kBAAmBhL,GAAS,qBAAsB,OAClDiL,eAAgBjL,GAAS,kBAAmB,OAC5CkL,WAAYlL,GAAS,cAAe,OACpCmL,KAAMnL,GAAS,OAAQ,OACvBoL,UAAWpL,GAAS,YAAa,OACjCqL,SAAUrL,GAAS,WAAY,OAC/BsL,cAAetL,GAAS,iBAAkB,OAC1CuL,gBAAiBvL,GAAS,mBAAoB,OAC9CwL,WAAYxL,GAAS,cAAe,OACpCyL,aAAczL,GAAS,gBAAiB,OACxC0L,WAAY1L,GAAS,cAAe,OACpC2L,cAAe3L,GAAS,kBAAmB,OAC3C4L,aAAc5L,GAAS,iBAAkB,OACzC6L,cAAe7L,GAAS,kBAAmB,OAC3C8L,UAAW9L,GAAS,aAAc,OAClC+L,MAAO/L,GAAS,QAAS,OACzBgM,kBAAmBhM,GAAS,sBAAuB,OACnDiM,aAAcjM,GAAS,gBAAiB,OACxCkM,aAAclM,GAAS,gBAAiB,OACxCmM,UAAWnM,GAAS,aAAc,OAClCoM,YAAapM,GAAS,eAAgB,OACtCqM,aAAcrM,GAAS,gBAAiB,OACxCsM,YAAatM,GAAS,eAAgB,OACtCuM,YAAavM,GAAS,eAAgB,OACtCwM,KAAMxM,GAAS,OAAQ,OACvByM,QAASzM,GAAS,UAAW,OAC7B0M,aAAc1M,GAAS,gBAAiB,OACxC2M,YAAa3M,GAAS,eAAgB,OACtC4M,QAAS5M,GAAS,UAAW,OAC7B6M,WAAY7M,GAAS,aAAc,OACnC8M,UAAW9M,GAAS,aAAc,OAClC+M,WAAY/M,GAAS,cAAe,OACpCgN,SAAUhN,GAAS,YAAa,OAChCiN,UAAWjN,GAAS,aAAc,OAClCkN,QAASlN,GAAS,WAAY,OAC9BmN,cAAenN,GAAS,iBAAkB,OAC1CoN,qBAAsBpN,GAAS,yBAA0B,OACzDqN,gBAAiBrN,GAAS,oBAAqB,OAC/CsN,QAAStN,GAAS,WAAY,OAC9BuN,MAAOvN,GAAS,QAAS,OACzB7+B,OAAQ6+B,GAAS,SAAU,OAC3BwN,MAAOxN,GAAS,QAAS,OACzByN,SAAUzN,GAAS,YAAa,OAChC0N,OAAQ1N,GAAS,UAAW,OAC5B2N,KAAM3N,GAAS,OAAQ,OACvB4N,aAAc5N,GAAS,gBAAiB,OACxC6N,aAAc7N,GAAS,gBAAiB,OACxC8N,KAAM9N,GAAS,OAAQ,OACvB+N,KAAM/N,GAAS,OAAQ,OACvBgO,WAAYhO,GAAS,cAAe,OACpCiO,KAAMjO,GAAS,OAAQ,OACvBkO,UAAWlO,GAAS,aAAc,OAClCmO,WAAYnO,GAAS,cAAe,OACpCoO,SAAUpO,GAAS,YAAa,OAChCqO,aAAcrO,GAAS,gBAAiB,OACxCsO,UAAWtO,GAAS,aAAc,OAClCuO,MAAOvO,GAAS,QAAS,OACzBwO,QAASxO,GAAS,UAAW,OAC7ByO,MAAOzO,GAAS,QAAS,OACzB0O,QAAS1O,GAAS,UAAW,OAC7B2O,MAAO3O,GAAS,QAAS,OACzB4O,KAAM5O,GAAS,OAAQ,OACvB6O,eAAgB7O,GAAS,kBAAmB,OAC5C8O,MAAO9O,GAAS,QAAS,OACzB+O,MAAO/O,GAAS,QAAS,OACzBgP,YAAahP,GAAS,eAAgB,OACtCiP,cAAejP,GAAS,iBAAkB,OAC1CkP,OAAQlP,GAAS,SAAU,OAC3BmP,OAAQnP,GAAS,SAAU,OAC3BoP,OAAQpP,GAAS,SAAU,OAC3BqP,KAAMrP,GAAS,OAAQ,OACvBsP,QAAStP,GAAS,UAAW,OAC7BuP,cAAevP,GAAS,iBAAkB,OAC1C9pC,IAAK8pC,GAAS,MAAO,OACrBwP,IAAKxP,GAAS,MAAO,OACrByP,iBAAkBzP,GAAS,oBAAqB,OAChD0P,aAAc1P,GAAS,gBAAiB,OACxC2P,KAAM3P,GAAS,OAAQ,OACvB4P,YAAa5P,GAAS,eAAgB,OACtC6P,cAAe7P,GAAS,iBAAkB,OAC1C8P,UAAW9P,GAAS,aAAc,OAClC+P,QAAS/P,GAAS,UAAW,OAC7BtsB,SAAUssB,GAAS,WAAY,OAC/BgQ,SAAUhQ,GAAS,YAAa,OAChCiQ,KAAMjQ,GAAS,OAAQ,OACvBkQ,SAAUlQ,GAAS,WAAY,OAC/BmQ,UAAWnQ,GAAS,YAAa,OACjCoQ,QAASpQ,GAAS,UAAW,OAC7BqQ,UAAWrQ,GAAS,YAAa,OACjCsQ,YAAatQ,GAAS,eAAgB,OACtCuQ,KAAMvQ,GAAS,OAAQ,OACvBwQ,gBAAiBxQ,GAAS,mBAAoB,OAC9CyQ,KAAMzQ,GAAS,OAAQ,OACvB0Q,UAAW1Q,GAAS,aAAc,OAClC2Q,KAAM3Q,GAAS,OAAQ,OACvB4Q,SAAU5Q,GAAS,WAAY,OAC/B6Q,YAAa7Q,GAAS,eAAgB,OACtC8Q,SAAU9Q,GAAS,UAAW,OAC9B+Q,SAAU/Q,GAAS,WAAY,OAC/BgR,IAAKhR,GAAS,MAAO,OACrBiR,KAAMjR,GAAS,OAAQ,OACvB/wB,IAAK+wB,GAAS,MAAO,OACrBkR,KAAMlR,GAAS,OAAQ,OACvBmR,aAAcnR,GAAS,gBAAiB,OACxCoR,QAASpR,GAAS,UAAW,OAC7BqR,QAASrR,GAAS,UAAW,OAC7BsR,MAAOtR,GAAS,QAAS,OACzBuR,SAAUvR,GAAS,WAAY,OAC/BwR,MAAOxR,GAAS,QAAS,OACzByR,WAAYzR,GAAS,cAAe,OACpC0R,UAAW1R,GAAS,YAAa,OACjC2R,WAAY3R,GAAS,aAAc,OACnC4R,QAAS5R,GAAS,UAAW,OAC7B6R,MAAO7R,GAAS,QAAS,OACzB8R,eAAgB9R,GAAS,kBAAmB,OAC5C+R,OAAQ/R,GAAS,SAAU,OAC3BgS,OAAQhS,GAAS,SAAU,OAC3BiS,WAAYjS,GAAS,cAAe,OACpCpsB,QAASosB,GAAS,UAAW,OAC7BkS,UAAWlS,GAAS,aAAc,OAClCmS,cAAenS,GAAS,kBAAmB,OAC3CoS,SAAUpS,GAAS,YAAa,OAChCqS,SAAUrS,GAAS,YAAa,OAChCsS,OAAQtS,GAAS,SAAU,OAC3BuS,eAAgBvS,GAAS,kBAAmB,OAC5CwS,OAAQxS,GAAS,SAAU,OAC3ByS,iBAAkBzS,GAAS,qBAAsB,OACjD0S,WAAY1S,GAAS,cAAe,OACpC2S,IAAK3S,GAAS,MAAO,OACrB4S,KAAM5S,GAAS,OAAQ,OACvB6S,QAAS7S,GAAS,WAAY,OAC9B8S,OAAQ9S,GAAS,UAAW,OAC5B+S,KAAM/S,GAAS,OAAQ,OACvBgT,WAAYhT,GAAS,cAAe,OACpCiT,aAAcjT,GAAS,gBAAiB,OACxCkT,WAAYlT,GAAS,cAAe,OACpCmT,OAAQnT,GAAS,SAAU,OAC3BoT,aAAcpT,GAAS,gBAAiB,OACxCqT,SAAUrT,GAAS,WAAY,OAC/BsT,OAAQtT,GAAS,SAAU,OAC3BuT,OAAQvT,GAAS,SAAU,OAC3BwT,eAAgBxT,GAAS,kBAAmB,OAC5CyT,gBAAiBzT,GAAS,mBAAoB,OAC9C0T,cAAe1T,GAAS,iBAAkB,OAC1C2T,SAAU3T,GAAS,WAAY,OAC/B4T,SAAU5T,GAAS,YAAa,OAChC6T,SAAU7T,GAAS,YAAa,OAChC8T,YAAa9T,GAAS,eAAgB,OACtC+T,YAAa/T,GAAS,eAAgB,OACtCgU,kBAAmBhU,GAAS,qBAAsB,OAClDiU,eAAgBjU,GAAS,kBAAmB,OAC5CkU,iBAAkBlU,GAAS,qBAAsB,OACjDmU,YAAanU,GAAS,eAAgB,OACtCoU,WAAYpU,GAAS,cAAe,OACpCqU,gBAAiBrU,GAAS,mBAAoB,OAC9CsU,cAAetU,GAAS,iBAAkB,OAC1CuU,WAAYvU,GAAS,cAAe,OACpCwU,eAAgBxU,GAAS,kBAAmB,OAC5CyU,eAAgBzU,GAAS,kBAAmB,OAC5C0U,OAAQ1U,GAAS,SAAU,OAC3B2U,gBAAiB3U,GAAS,mBAAoB,OAC9C4U,cAAe5U,GAAS,iBAAkB,OAC1C6U,SAAU7U,GAAS,WAAY,OAC/B8U,UAAW9U,GAAS,YAAa,OACjC+U,SAAU/U,GAAS,YAAa,OAChCgV,UAAWhV,GAAS,aAAc,OAClCiV,WAAYjV,GAAS,aAAc,OACnCkV,SAAUlV,GAAS,WAAY,OAC/BmV,MAAOnV,GAAS,QAAS,OACzBoV,aAAcpV,GAAS,gBAAiB,OACxCqV,aAAcrV,GAAS,gBAAiB,OACxCsV,cAAetV,GAAS,iBAAkB,OAC1CuV,WAAYvV,GAAS,cAAe,OACpCwV,QAASxV,GAAS,UAAW,OAC7ByV,OAAQzV,GAAS,SAAU,OAC3B0V,OAAQ1V,GAAS,SAAU,OAC3B2V,OAAQ3V,GAAS,SAAU,OAC3B4V,WAAY5V,GAAS,aAAc,OACnC6V,SAAU7V,GAAS,WAAY,OAC/BprB,SAAUorB,GAAS,WAAY,OAC/B8V,SAAU9V,GAAS,YAAa,OAChC+V,UAAW/V,GAAS,aAAc,OAClCgW,UAAWhW,GAAS,aAAc,OAClCiW,MAAOjW,GAAS,QAAS,OACzBkW,WAAYlW,GAAS,aAAc,OACnCmW,UAAWnW,GAAS,aAAc,OAClCnpC,OAAQmpC,GAAS,SAAU,OAC3BoW,SAAUpW,GAAS,YAAa,OAChCqW,OAAQrW,GAAS,UAAW,OAC5BsW,QAAStW,GAAS,WAAY,OAC9BuW,WAAYvW,GAAS,cAAe,OACpCwW,SAAUxW,GAAS,YAAa,OAChCyW,cAAezW,GAAS,iBAAkB,OAC1C0W,UAAW1W,GAAS,YAAa,OACjC2W,SAAU3W,GAAS,YAAa,OAChC4W,kCAAmC5W,GAAS,uCAAwC,OACpF6W,wBAAyB7W,GAAS,4BAA6B,OAC/D8W,gCAAiC9W,GAAS,qCAAsC,OAChF+W,sBAAuB/W,GAAS,0BAA2B,OAC3DgX,kBAAmBhX,GAAS,sBAAuB,OACnDiX,mBAAoBjX,GAAS,uBAAwB,OACrDkX,gBAAiBlX,GAAS,mBAAoB,OAC9CmX,uBAAwBnX,GAAS,2BAA4B,OAC7DoX,2BAA4BpX,GAAS,+BAAgC,OACrEqX,aAAcrX,GAAS,gBAAiB,OACxCsX,qBAAsBtX,GAAS,yBAA0B,OACzDuX,cAAevX,GAAS,kBAAmB,OAC3CwX,kBAAmBxX,GAAS,sBAAuB,OACnDyX,aAAczX,GAAS,gBAAiB,OACxC0X,aAAc1X,GAAS,gBAAiB,OACxC2X,KAAM3X,GAAS,OAAQ,OACvB4X,UAAW5X,GAAS,aAAc,OAClC6X,SAAU7X,GAAS,WAAY,OAC/B8X,eAAgB9X,GAAS,oBAAqB,OAC9C+X,iBAAkB/X,GAAS,sBAAuB,OAClDgY,QAAShY,GAAS,UAAW,OAC7BiY,QAASjY,GAAS,WAAY,OAC9BkY,aAAclY,GAAS,gBAAiB,OACxCmY,QAASnY,GAAS,UAAW,OAC7Bp0B,OAAQo0B,GAAS,SAAU,OAC3BoY,OAAQpY,GAAS,UAAW,OAC5BqY,YAAarY,GAAS,eAAgB,OACtCsY,OAAQtY,GAAS,SAAU,OAC3BuY,eAAgBvY,GAAS,kBAAmB,OAC5CwY,SAAUxY,GAAS,YAAa,OAChCyY,cAAezY,GAAS,iBAAkB,OAC1C0Y,kBAAmB1Y,GAAS,qBAAsB,OAClD2Y,KAAM3Y,GAAS,OAAQ,OACvB4Y,WAAY5Y,GAAS,cAAe,OACpC6Y,WAAY7Y,GAAS,cAAe,OACpC1lC,OAAQ0lC,GAAS,SAAU,OAC3B8Y,cAAe9Y,GAAS,kBAAmB,OAC3C+Y,UAAW/Y,GAAS,aAAc,OAClCgZ,MAAOhZ,GAAS,QAAS,OACzBt0B,MAAOs0B,GAAS,QAAS,OACzBiZ,WAAYjZ,GAAS,SAAU,OAC/BkZ,UAAWlZ,GAAS,aAAc,OAClCmZ,OAAQnZ,GAAS,SAAU,OAC3BoZ,SAAUpZ,GAAS,WAAY,OAC/BqZ,KAAMrZ,GAAS,OAAQ,OACvBsZ,SAAUtZ,GAAS,YAAa,OAChCuZ,YAAavZ,GAAS,eAAgB,OACtCwZ,WAAYxZ,GAAS,cAAe,OACpCyZ,kBAAmBzZ,GAAS,sBAAuB,OACnD0Z,YAAa1Z,GAAS,eAAgB,OACtC2Z,mBAAoB3Z,GAAS,uBAAwB,OACrD4Z,QAAS5Z,GAAS,UAAW,OAC7B6Z,OAAQ7Z,GAAS,SAAU,OAC3B8Z,MAAO9Z,GAAS,QAAS,OACzB+Z,cAAe/Z,GAAS,iBAAkB,OAC1Cga,cAAeha,GAAS,iBAAkB,OAC1Cia,iBAAkBja,GAAS,qBAAsB,OACjDka,mBAAoBla,GAAS,uBAAwB,OACrDma,qBAAsBna,GAAS,0BAA2B,OAC1Doa,SAAUpa,GAAS,YAAa,OAChCqa,SAAUra,GAAS,YAAa,OAChCsa,iBAAkBta,GAAS,oBAAqB,OAChDua,WAAYva,GAAS,cAAe,OACpCwa,iBAAkBxa,GAAS,oBAAqB,OAChDya,mBAAoBza,GAAS,sBAAuB,OACpD0a,qBAAsB1a,GAAS,wBAAyB,OACxD2a,YAAa3a,GAAS,eAAgB,OACtC4a,eAAgB5a,GAAS,kBAAmB,OAC5C6a,cAAe7a,GAAS,iBAAkB,OAC1C8a,mBAAoB9a,GAAS,sBAAuB,OACpD+a,aAAc/a,GAAS,gBAAiB,OACxCgb,eAAgBhb,GAAS,kBAAmB,OAC5Cib,aAAcjb,GAAS,gBAAiB,OACxCkb,UAAWlb,GAAS,aAAc,OAClCmb,KAAMnb,GAAS,OAAQ,OACvBob,UAAWpb,GAAS,aAAc,OAClCqb,aAAcrb,GAAS,gBAAiB,OACxCsb,KAAMtb,GAAS,OAAQ,OACvBub,gBAAiBvb,GAAS,qBAAsB,OAChDwb,QAASxb,GAAS,UAAW,OAC7Byb,OAAQzb,GAAS,SAAU,OAC3B0b,UAAW1b,GAAS,aAAc,OAClC2b,aAAc3b,GAAS,gBAAiB,OACxC4b,QAAS5b,GAAS,UAAW,OAC7B6b,WAAY7b,GAAS,cAAe,OACpC8b,cAAe9b,GAAS,iBAAkB,OAC1C+b,MAAO/b,GAAS,QAAS,OACzBgc,WAAYhc,GAAS,cAAe,OACpCic,qBAAsBjc,GAAS,0BAA2B,OAC1Dkc,oBAAqBlc,GAAS,yBAA0B,OACxDmc,SAAUnc,GAAS,YAAa,OAChCoc,cAAepc,GAAS,iBAAkB,OAC1Cqc,UAAWrc,GAAS,aAAc,OAClCsc,cAAetc,GAAS,iBAAkB,OAC1Cuc,mBAAoBvc,GAAS,uBAAwB,OACrDwc,WAAYxc,GAAS,cAAe,OACpCyc,UAAWzc,GAAS,aAAc,OAClC0c,aAAc1c,GAAS,gBAAiB,OACxC2c,SAAU3c,GAAS,YAAa,OAChC4c,WAAY5c,GAAS,cAAe,OACpC6c,aAAc7c,GAAS,gBAAiB,OACxC8c,UAAW9c,GAAS,aAAc,OAClC+c,YAAa/c,GAAS,eAAgB,OACtCgd,eAAgBhd,GAAS,kBAAmB,OAC5Cid,QAASjd,GAAS,UAAW,OAC7Bkd,OAAQld,GAAS,SAAU,OAC3Bmd,sBAAuBnd,GAAS,0BAA2B,OAC3Dod,uBAAwBpd,GAAS,2BAA4B,OAC7Dqd,gBAAiBrd,GAAS,oBAAqB,OAC/Csd,kBAAmBtd,GAAS,sBAAuB,OACnDud,mBAAoBvd,GAAS,uBAAwB,OACrDwd,iBAAkBxd,GAAS,qBAAsB,OACjDyd,YAAazd,GAAS,eAAgB,OACtC0d,kBAAmB1d,GAAS,sBAAuB,OACnD2d,mBAAoB3d,GAAS,uBAAwB,OACrD4d,gBAAiB5d,GAAS,mBAAoB,OAC9C6d,cAAe7d,GAAS,iBAAkB,OAC1C8d,eAAgB9d,GAAS,kBAAmB,OAC5C+d,sBAAuB/d,GAAS,2BAA4B,OAC5Dge,eAAgBhe,GAAS,mBAAoB,OAC7Cie,qBAAsBje,GAAS,0BAA2B,OAC1DzgC,OAAQygC,GAAS,SAAU,OAC3Bke,OAAQle,GAAS,SAAU,OAC3Bme,YAAane,GAAS,eAAgB,OACtCoe,WAAYpe,GAAS,cAAe,OACpCqe,gBAAiBre,GAAS,oBAAqB,OAC/Cse,gBAAiBte,GAAS,oBAAqB,OAC/Cue,iBAAkBve,GAAS,qBAAsB,OACjDwe,cAAexe,GAAS,kBAAmB,OAC3Cye,YAAaze,GAAS,eAAgB,OACtCz5B,IAAKy5B,GAAS,MAAO,OACrB0e,UAAW1e,GAAS,aAAc,OAClC2e,YAAa3e,GAAS,eAAgB,OACtC4e,UAAW5e,GAAS,aAAc,OAClC6e,aAAc7e,GAAS,iBAAkB,OACzC8e,kBAAmB9e,GAAS,qBAAsB,OAClD+e,0BAA2B/e,GAAS,iCAAkC,OACtEgf,yBAA0Bhf,GAAS,+BAAgC,OACnEif,YAAajf,GAAS,eAAgB,OACtCkf,aAAclf,GAAS,gBAAiB,OACxCmf,KAAMnf,GAAS,OAAQ,OACvBof,QAASpf,GAAS,UAAW,OAC7Bqf,OAAQrf,GAAS,SAAU,OAE3Bsf,YAAatf,GAAS,eAAgB,SACtCuf,cAAevf,GAAS,iBAAkB,WAC1Cwf,WAAYxf,GAAS,cAAe,QACpCyf,YAAazf,GAAS,eAAgB,SACtC0f,iBAAkB1f,GAAS,qBAAsB,gBACjD2f,mBAAoB3f,GAAS,yBAA0B,eACvD4f,oBAAqB5f,GAAS,0BAA2B,kBACzD6f,gBAAiB7f,GAAS,oBAAqB,SAC/C8f,gBAAiB9f,GAAS,oBAAqB,WAC/C+f,cAAe/f,GAAS,iBAAkB,SAC1CggB,YAAahgB,GAAS,eAAgB,iBACtCigB,YAAajgB,GAAS,eAAgB,QACtCkgB,oBAAqBlgB,GAAS,wBAAyB,iBACvDmgB,qBAAsBngB,GAAS,yBAA0B,kBACzDogB,kBAAmBpgB,GAAS,sBAAuB,eACnDqgB,oBAAqBrgB,GAAS,wBAAyB,iBACvDsgB,YAAatgB,GAAS,eAAgB,QACtCugB,eAAgBvgB,GAAS,mBAAoB,eEljB7CwgB,GAAwC,SAAUC,EAASC,EAAYC,EAAG9nD,GAE1E,OAAO,IAAK8nD,IAAMA,EAAIrjD,WAAU,SAAU/K,EAAS8H,GAC/C,SAASumD,EAAUtpD,GAAS,IAAMsM,EAAK/K,EAAU+C,KAAKtE,GAAU,CAAC,MAAOV,IAAKyD,EAAOzD,GAAK,CAAE,CAC3F,SAASiqD,EAASvpD,GAAS,IAAMsM,EAAK/K,EAAS,MAAUvB,GAAU,CAAC,MAAOV,IAAKyD,EAAOzD,GAAK,CAAE,CAC9F,SAASgN,EAAKrJ,GAJlB,IAAejD,EAIaiD,EAAOiB,KAAOjJ,EAAQgI,EAAOjD,QAJ1CA,EAIyDiD,EAAOjD,MAJhDA,aAAiBqpD,EAAIrpD,EAAQ,IAAIqpD,GAAE,SAAUpuD,GAAWA,EAAQ+E,EAAS,KAIlBmD,KAAKmmD,EAAWC,EAAY,CAC9Gj9C,GAAM/K,EAAYA,EAAUuG,MAAMqhD,EAASC,GAAc,KAAK9kD,OACjE,GACJ,EAGYklD,GAAb,WACI,aAAc,UACVpqD,KAAKqqD,sBAAwB,IAAIt8C,IACjC/N,KAAKsqD,WAAa,IAAIv8C,IACtB/N,KAAKuqD,aAAe,IAAI/0C,GACxBxV,KAAKwqD,YAAcxqD,KAAKuqD,aAAa51C,MACrC3U,KAAKyqD,UAAY,IACpB,CAPL,sCAQI,SAAaC,GACT1qD,KAAKuqD,aAAaj1C,KAAK,CACnBq1C,iBAAkBD,EAClBE,iBAAiB,GAExB,GAbL,sBAcI,SAASC,EAAYC,GAAS,WAG1B,OAFA9qD,KAAKqqD,sBAAsBn8C,IAAI28C,EAAYC,GAC3C9qD,KAAK0Z,aAAa,CAACmxC,IACZ34C,GAAa,WACZ,EAAKm4C,sBAAsBxqD,IAAIgrD,KAAgBC,IAGnD,EAAKT,sBAAsBrmC,OAAO6mC,GAClC,EAAKnxC,aAAa,CAACmxC,IACtB,GACJ,GAxBL,iBAyBI,SAAIA,GACA,OAAO7qD,KAAKqqD,sBAAsBxqD,IAAIgrD,IAAe,IACxD,GA3BL,6BA4BI,SAAgBA,EAAYE,GAAS,IAC7BtwC,EAD6B,OAEU,QAA1CA,EAAKza,KAAKsqD,WAAWzqD,IAAIgrD,UAAgC,IAAPpwC,GAAyBA,EAAG5I,UAC/E,IAAMm5C,EAAS,IAAIC,GAA+BjrD,KAAM6qD,EAAYE,GAEpE,OADA/qD,KAAKsqD,WAAWp8C,IAAI28C,EAAYG,GACzB94C,GAAa,WAChB,IAAM+qB,EAAI,EAAKqtB,WAAWzqD,IAAIgrD,GACzB5tB,GAAKA,IAAM+tB,IAGhB,EAAKV,WAAWtmC,OAAO6mC,GACvB5tB,EAAEprB,UACL,GACJ,GAzCL,yBA0CI,SAAYg5C,GACR,OAAOf,GAAU9pD,UAAM,OAAQ,EAAf,UAAuB,2FAE7BkrD,EAAsBlrD,KAAKH,IAAIgrD,IAFF,yCAIxBK,GAJwB,WAM7BH,EAAU/qD,KAAKsqD,WAAWzqD,IAAIgrD,MACpBE,EAAQI,WAPW,yCASxB,MATwB,OAWnC,OAXmC,SAW7BJ,EAAQlvD,UAXqB,gCAY5BmE,KAAKH,IAAIgrD,IAZmB,+CAc1C,GAzDL,wBA0DI,SAAWA,GAEP,GAD4B7qD,KAAKH,IAAIgrD,GAEjC,OAAO,EAEX,IAAME,EAAU/qD,KAAKsqD,WAAWzqD,IAAIgrD,GACpC,QAAKE,IAAWA,EAAQI,WAI3B,GApEL,yBAqEI,SAAYC,GACRprD,KAAKyqD,UAAYW,EACjBprD,KAAKuqD,aAAaj1C,KAAK,CACnBq1C,iBAAkBx/C,MAAMxO,KAAKqD,KAAKqqD,sBAAsBvjD,QACxD8jD,iBAAiB,GAExB,GA3EL,yBA4EI,WACI,OAAO5qD,KAAKyqD,SACf,GA9EL,kCA+EI,WACI,OAAIzqD,KAAKyqD,WAAazqD,KAAKyqD,UAAUlvD,OAAS,EACnCyE,KAAKyqD,UAAU,GAEnB,IACV,KApFL,KAsFMQ,GAAAA,SAAAA,qBAIF,WAAYI,EAAWC,EAAaC,GAAU,wBAC1C,gBACKF,UAAYA,EACjB,EAAKC,YAAcA,EACnB,EAAKC,SAAWA,EAChB,EAAK/4C,aAAc,EACnB,EAAKg5C,gBAAkB,KACvB,EAAKC,aAAc,EAPuB,CAQ7C,mCAXD,WACI,OAAOzrD,KAAKyrD,WACf,wBAUD,WACIzrD,KAAKwS,aAAc,EACnB,2CACH,wBACD,WACI,OAAOs3C,GAAU9pD,UAAM,OAAQ,EAAf,UAAuB,qFAC9BA,KAAKwrD,kBACNxrD,KAAKwrD,gBAAkBxrD,KAAK0rD,WAFG,kBAI5B1rD,KAAKwrD,iBAJuB,+CAM1C,wBACD,WACI,OAAO1B,GAAU9pD,UAAM,OAAQ,EAAf,UAAuB,oFACrB,OADqB,SACfA,KAAKurD,SAASL,oBADC,OAC7BtqD,EAD6B,OAEnCZ,KAAKyrD,aAAc,EACf7qD,IAAUZ,KAAKwS,aACfxS,KAAK2rD,UAAU3rD,KAAKqrD,UAAU/hB,SAAStpC,KAAKsrD,YAAa1qD,IAJ1B,+CAO1C,OAjCCqqD,CAAuCl4C,GDjGhC64C,GAAb,WACI,WAAY1qC,EAAQxe,EAAMyc,GAAU,UAChCnf,KAAKkhB,OAASA,EACdlhB,KAAK0C,KAAOA,EACZ1C,KAAKmf,SAAWA,EAChBnf,KAAK6rD,iBAAc3vD,CACtB,CANL,kCAOI,WACI,MAAO,IAAM8D,KAAKkhB,OAAS,KAAOlhB,KAAK0C,KAAO,GACjD,KATL,MA0CA,SAAW8mC,GACP,IAAMsiB,EAAS,IAAI/9C,IACnB+9C,EAAO59C,IAAI,EAAmCw7B,GAAQqG,cACtD+b,EAAO59C,IAAI,EAAqCw7B,GAAQsG,gBACxD8b,EAAO59C,IAAI,EAAwCw7B,GAAQuG,mBAC3D6b,EAAO59C,IAAI,EAAkCw7B,GAAQ+T,aACrDqO,EAAO59C,IAAI,EAAqCw7B,GAAQ8F,gBACxDsc,EAAO59C,IAAI,EAAkCw7B,GAAQ0T,aACrD0O,EAAO59C,IAAI,EAAmCw7B,GAAQ6G,cACtDub,EAAO59C,IAAI,EAAsCw7B,GAAQiU,iBACzDmO,EAAO59C,IAAI,EAAmCw7B,GAAQiG,cACtDmc,EAAO59C,IAAI,EAAqCw7B,GAAQqU,gBACxD+N,EAAO59C,IAAI,GAAmCw7B,GAAQ4F,aACtDwc,EAAO59C,IAAI,GAAsCw7B,GAAQoU,gBACzDgO,EAAO59C,IAAI,GAAkCw7B,GAAQuH,YACrD6a,EAAO59C,IAAI,GAAmCw7B,GAAQqH,aACtD+a,EAAO59C,IAAI,GAAkCw7B,GAAQoH,YACrDgb,EAAO59C,IAAI,GAAsCw7B,GAAQ6T,gBACzDuO,EAAO59C,IAAI,GAAkCw7B,GAAQoH,YACrDgb,EAAO59C,IAAI,GAAwCw7B,GAAQ8T,kBAC3DsO,EAAO59C,IAAI,GAAqCw7B,GAAQkU,eACxDkO,EAAO59C,IAAI,GAAqCw7B,GAAQwU,eACxD4N,EAAO59C,IAAI,GAAkCw7B,GAAQiH,YACrDmb,EAAO59C,IAAI,GAAmCw7B,GAAQ2T,aACtDyO,EAAO59C,IAAI,GAAkCw7B,GAAQgU,YACrDoO,EAAO59C,IAAI,GAAuCw7B,GAAQkH,iBAC1Dkb,EAAO59C,IAAI,GAAyCw7B,GAAQ4T,mBAC5DwO,EAAO59C,IAAI,GAAoCw7B,GAAQqF,cACvD+c,EAAO59C,IAAI,GAA2Cw7B,GAAQ+G,qBAC9Dqb,EAAO59C,IAAI,GAAkCw7B,GAAQ4X,SACrDwK,EAAO59C,IAAI,GAAmCw7B,GAAQ8O,QAYtDhP,EAAoBuiB,OARpB,SAAgBC,GACZ,IAAIC,EAAUH,EAAOjsD,IAAImsD,GAKzB,OAJKC,IACDr5C,QAAQ5N,KAAK,2CAA6CgnD,GAC1DC,EAAUviB,GAAQqU,gBAEfkO,CACV,EAED,IAAM3uC,EAAO,IAAIvP,IACjBuP,EAAKpP,IAAI,SAAU,GACnBoP,EAAKpP,IAAI,WAAY,GACrBoP,EAAKpP,IAAI,cAAe,GACxBoP,EAAKpP,IAAI,QAAS,GAClBoP,EAAKpP,IAAI,WAAY,GACrBoP,EAAKpP,IAAI,QAAS,GAClBoP,EAAKpP,IAAI,SAAU,GACnBoP,EAAKpP,IAAI,YAAa,GACtBoP,EAAKpP,IAAI,SAAU,GACnBoP,EAAKpP,IAAI,WAAY,GACrBoP,EAAKpP,IAAI,QAAS,IAClBoP,EAAKpP,IAAI,WAAY,IACrBoP,EAAKpP,IAAI,OAAQ,IACjBoP,EAAKpP,IAAI,QAAS,IAClBoP,EAAKpP,IAAI,WAAY,IACrBoP,EAAKpP,IAAI,OAAQ,IACjBoP,EAAKpP,IAAI,cAAe,IACxBoP,EAAKpP,IAAI,aAAc,IACvBoP,EAAKpP,IAAI,UAAW,IACpBoP,EAAKpP,IAAI,UAAW,IACpBoP,EAAKpP,IAAI,OAAQ,IACjBoP,EAAKpP,IAAI,QAAS,IAClBoP,EAAKpP,IAAI,OAAQ,IACjBoP,EAAKpP,IAAI,YAAa,IACtBoP,EAAKpP,IAAI,cAAe,IACxBoP,EAAKpP,IAAI,SAAU,IACnBoP,EAAKpP,IAAI,iBAAkB,IAC3BoP,EAAKpP,IAAI,gBAAiB,IAC1BoP,EAAKpP,IAAI,UAAW,IACpBoP,EAAKpP,IAAI,QAAS,IAWlBs7B,EAAoBnB,WAPpB,SAAoBznC,EAAO62B,GACvB,IAAIv8B,EAAMoiB,EAAKzd,IAAIe,GAInB,MAHmB,qBAAR1F,GAAwBu8B,IAC/Bv8B,EAAM,GAEHA,CACV,CAnFL,EAqFGsuC,KAAwBA,GAAsB,CAAC,IAKlD,SAAWC,GAKPA,EAA4BA,EAA2B,UAAgB,GAAK,YAK5EA,EAA4BA,EAA2B,SAAe,GAAK,UAV/E,EAWGA,KAAgCA,GAA8B,CAAC,IAC3D,IAcIyiB,GASAC,GA2BAC,IAnCX,SAAWF,GACPA,EAAyBA,EAAwB,OAAa,GAAK,SACnEA,EAAyBA,EAAwB,iBAAuB,GAAK,mBAC7EA,EAAyBA,EAAwB,cAAoB,GAAK,eAH9E,EAIGA,KAA6BA,GAA2B,CAAC,IAK5D,SAAWC,GAIPA,EAAsBA,EAAqB,KAAW,GAAK,OAI3DA,EAAsBA,EAAqB,KAAW,GAAK,OAI3DA,EAAsBA,EAAqB,MAAY,GAAK,OAZhE,EAaGA,KAA0BA,GAAwB,CAAC,IActD,SAAWC,GACP,IAAMN,EAAS,IAAI/9C,IACnB+9C,EAAO59C,IAAI,EAAyBw7B,GAAQgU,YAC5CoO,EAAO59C,IAAI,EAA2Bw7B,GAAQiG,cAC9Cmc,EAAO59C,IAAI,EAA8Bw7B,GAAQmG,iBACjDic,EAAO59C,IAAI,EAA4Bw7B,GAAQkG,eAC/Ckc,EAAO59C,IAAI,EAA0Bw7B,GAAQ0T,aAC7C0O,EAAO59C,IAAI,EAA2Bw7B,GAAQqG,cAC9C+b,EAAO59C,IAAI,EAA6Bw7B,GAAQqU,gBAChD+N,EAAO59C,IAAI,EAA0Bw7B,GAAQ+T,aAC7CqO,EAAO59C,IAAI,EAAgCw7B,GAAQuG,mBACnD6b,EAAO59C,IAAI,EAAyBw7B,GAAQoH,YAC5Cgb,EAAO59C,IAAI,GAA+Bw7B,GAAQiU,iBAClDmO,EAAO59C,IAAI,GAA8Bw7B,GAAQsG,gBACjD8b,EAAO59C,IAAI,GAA8Bw7B,GAAQ8F,gBACjDsc,EAAO59C,IAAI,GAA8Bw7B,GAAQ6T,gBACjDuO,EAAO59C,IAAI,GAA4Bw7B,GAAQiX,cAC/CmL,EAAO59C,IAAI,GAA4Bw7B,GAAQ2G,cAC/Cyb,EAAO59C,IAAI,GAA6Bw7B,GAAQwG,eAChD4b,EAAO59C,IAAI,GAA2Bw7B,GAAQgG,aAC9Coc,EAAO59C,IAAI,GAA4Bw7B,GAAQoG,cAC/Cgc,EAAO59C,IAAI,GAAyBw7B,GAAQgH,WAC5Cob,EAAO59C,IAAI,GAA0Bw7B,GAAQyG,YAC7C2b,EAAO59C,IAAI,GAAgCw7B,GAAQ8T,kBACnDsO,EAAO59C,IAAI,GAA4Bw7B,GAAQ6G,cAC/Cub,EAAO59C,IAAI,GAA2Bw7B,GAAQ4F,aAC9Cwc,EAAO59C,IAAI,GAA8Bw7B,GAAQoU,gBACjDgO,EAAO59C,IAAI,GAAmCw7B,GAAQ+G,qBAYtD2b,EAAYL,OARZ,SAAgBC,GACZ,IAAIK,EAAOP,EAAOjsD,IAAImsD,GAKtB,OAJKK,IACDz5C,QAAQ5N,KAAK,mCAAqCgnD,GAClDK,EAAO3iB,GAAQqU,gBAEZsO,CACV,CAtCL,EAwCGD,KAAgBA,GAAc,CAAC,IAC3B,IAuCIE,GAcAC,GArDEC,GAAb,WAmBI,WAAY5rD,GAAO,UACfZ,KAAKY,MAAQA,CAChB,CArBL,wCAMI,SAAiBA,GACb,OAAQA,GACJ,IAAK,UAAW,OAAO4rD,EAAiBC,QACxC,IAAK,UAAW,OAAOD,EAAiBE,QACxC,IAAK,SAAU,OAAOF,EAAiBG,OAE3C,OAAO,IAAIH,EAAiB5rD,EAC/B,KAbL,KA0BA4rD,GAAiBC,QAAU,IAAID,GAAiB,WAIhDA,GAAiBE,QAAU,IAAIF,GAAiB,WAKhDA,GAAiBG,OAAS,IAAIH,GAAiB,UAK/C,SAAWF,GAWPA,EAAQv8C,GAPR,SAAY3P,GACR,SAAKA,GAAsB,kBAARA,KAGM,kBAAXA,EAAIwX,IACO,kBAAdxX,EAAIwsD,MAClB,CAVL,EAYGN,KAAYA,GAAU,CAAC,IAE1B,SAAWC,GACPA,EAAcA,EAAa,KAAW,GAAK,OAC3CA,EAAcA,EAAa,UAAgB,GAAK,WAFpD,EAGGA,KAAkBA,GAAgB,CAAC,IAI/B,IExSIM,GASAC,GAKAC,GAaAC,GA+BAC,GAOAC,GASAC,GAkBAC,GAkCAC,GAcAlB,GAkBAmB,GAQAC,GAuJAC,GAkBAC,GAcAC,GAQAC,GAqBAC,GAOArB,GAQA9iB,GAkBAokB,GAwMAC,GAOAC,GAQAC,GAQAC,GA8DAC,GAkBAC,GAOAC,GAuBAC,GAQAC,GAMAC,GAKAC,GASAC,GAWAvC,GASAwC,GA6BAC,GAOAC,GA8BAC,GA+BAC,GAUAC,GFnkByB,IAAIC,IE/TxC,SAAWnC,GAIPA,EAAqBA,EAAoB,QAAc,GAAK,UAC5DA,EAAqBA,EAAoB,SAAe,GAAK,WAC7DA,EAAqBA,EAAoB,QAAc,GAAK,SANhE,EAOGA,KAAyBA,GAAuB,CAAC,IAEpD,SAAWC,GACPA,EAAsBA,EAAqB,OAAa,GAAK,SAC7DA,EAAsBA,EAAqB,KAAW,GAAK,MAF/D,EAGGA,KAA0BA,GAAwB,CAAC,IAEtD,SAAWC,GACPA,EAA6BA,EAA4B,KAAW,GAAK,OAKzEA,EAA6BA,EAA4B,eAAqB,GAAK,iBAInFA,EAA6BA,EAA4B,gBAAsB,GAAK,iBAVxF,EAWGA,KAAiCA,GAA+B,CAAC,IAEpE,SAAWC,GACPA,EAAmBA,EAAkB,OAAa,GAAK,SACvDA,EAAmBA,EAAkB,SAAe,GAAK,WACzDA,EAAmBA,EAAkB,YAAkB,GAAK,cAC5DA,EAAmBA,EAAkB,MAAY,GAAK,QACtDA,EAAmBA,EAAkB,SAAe,GAAK,WACzDA,EAAmBA,EAAkB,MAAY,GAAK,QACtDA,EAAmBA,EAAkB,OAAa,GAAK,SACvDA,EAAmBA,EAAkB,UAAgB,GAAK,YAC1DA,EAAmBA,EAAkB,OAAa,GAAK,SACvDA,EAAmBA,EAAkB,SAAe,GAAK,WACzDA,EAAmBA,EAAkB,MAAY,IAAM,QACvDA,EAAmBA,EAAkB,SAAe,IAAM,WAC1DA,EAAmBA,EAAkB,KAAW,IAAM,OACtDA,EAAmBA,EAAkB,MAAY,IAAM,QACvDA,EAAmBA,EAAkB,SAAe,IAAM,WAC1DA,EAAmBA,EAAkB,KAAW,IAAM,OACtDA,EAAmBA,EAAkB,WAAiB,IAAM,aAC5DA,EAAmBA,EAAkB,QAAc,IAAM,UACzDA,EAAmBA,EAAkB,KAAW,IAAM,OACtDA,EAAmBA,EAAkB,MAAY,IAAM,QACvDA,EAAmBA,EAAkB,KAAW,IAAM,OACtDA,EAAmBA,EAAkB,UAAgB,IAAM,YAC3DA,EAAmBA,EAAkB,YAAkB,IAAM,cAC7DA,EAAmBA,EAAkB,OAAa,IAAM,SACxDA,EAAmBA,EAAkB,cAAoB,IAAM,gBAC/DA,EAAmBA,EAAkB,KAAW,IAAM,OACtDA,EAAmBA,EAAkB,MAAY,IAAM,QACvDA,EAAmBA,EAAkB,QAAc,IAAM,SA5B7D,EA6BGA,KAAuBA,GAAqB,CAAC,IAEhD,SAAWC,GACPA,EAAkBA,EAAiB,WAAiB,GAAK,YAD7D,EAEGA,KAAsBA,GAAoB,CAAC,IAK9C,SAAWC,GACPA,EAAsBA,EAAqB,OAAa,GAAK,SAC7DA,EAAsBA,EAAqB,iBAAuB,GAAK,mBACvEA,EAAsBA,EAAqB,gCAAsC,GAAK,iCAH1F,EAIGA,KAA0BA,GAAwB,CAAC,IAKtD,SAAWC,GAIPA,EAAgCA,EAA+B,MAAY,GAAK,QAIhFA,EAAgCA,EAA+B,MAAY,GAAK,QAIhFA,EAAgCA,EAA+B,MAAY,GAAK,OAZpF,EAaGA,KAAoCA,GAAkC,CAAC,IAK1E,SAAWC,GAIPA,EAAmBA,EAAkB,OAAa,GAAK,SAIvDA,EAAmBA,EAAkB,aAAmB,GAAK,eAI7DA,EAAmBA,EAAkB,mBAAyB,GAAK,qBAInEA,EAAmBA,EAAkB,SAAe,GAAK,WAIzDA,EAAmBA,EAAkB,MAAY,GAAK,QAItDA,EAAmBA,EAAkB,KAAW,GAAK,OAIrDA,EAAmBA,EAAkB,KAAW,GAAK,MA5BzD,EA6BGA,KAAuBA,GAAqB,CAAC,IAKhD,SAAWC,GAIPA,EAAiBA,EAAgB,GAAS,GAAK,KAI/CA,EAAiBA,EAAgB,KAAW,GAAK,MARrD,EASGA,KAAqBA,GAAmB,CAAC,IAK5C,SAAWlB,GAIPA,EAAsBA,EAAqB,KAAW,GAAK,OAI3DA,EAAsBA,EAAqB,KAAW,GAAK,OAI3DA,EAAsBA,EAAqB,MAAY,GAAK,OAZhE,EAaGA,KAA0BA,GAAwB,CAAC,IAKtD,SAAWmB,GACPA,EAAyBA,EAAwB,KAAW,GAAK,OACjEA,EAAyBA,EAAwB,KAAW,GAAK,OACjEA,EAAyBA,EAAwB,SAAe,GAAK,WACrEA,EAAyBA,EAAwB,SAAe,GAAK,WACrEA,EAAyBA,EAAwB,KAAW,GAAK,MALrE,EAMGA,KAA6BA,GAA2B,CAAC,IAE5D,SAAWC,GACPA,EAAaA,EAAY,kCAAwC,GAAK,oCACtEA,EAAaA,EAAY,wBAA8B,GAAK,0BAC5DA,EAAaA,EAAY,qBAA2B,GAAK,uBACzDA,EAAaA,EAAY,sBAA4B,GAAK,wBAC1DA,EAAaA,EAAY,UAAgB,GAAK,YAC9CA,EAAaA,EAAY,oBAA0B,GAAK,sBACxDA,EAAaA,EAAY,qCAA2C,GAAK,uCACzEA,EAAaA,EAAY,kBAAwB,GAAK,oBACtDA,EAAaA,EAAY,oBAA0B,GAAK,sBACxDA,EAAaA,EAAY,kBAAwB,GAAK,oBACtDA,EAAaA,EAAY,WAAiB,IAAM,aAChDA,EAAaA,EAAY,gBAAsB,IAAM,kBACrDA,EAAaA,EAAY,aAAmB,IAAM,eAClDA,EAAaA,EAAY,wBAA8B,IAAM,0BAC7DA,EAAaA,EAAY,OAAa,IAAM,SAC5CA,EAAaA,EAAY,SAAe,IAAM,WAC9CA,EAAaA,EAAY,mBAAyB,IAAM,qBACxDA,EAAaA,EAAY,iBAAuB,IAAM,mBACtDA,EAAaA,EAAY,gBAAsB,IAAM,kBACrDA,EAAaA,EAAY,qBAA2B,IAAM,uBAC1DA,EAAaA,EAAY,gBAAsB,IAAM,kBACrDA,EAAaA,EAAY,SAAe,IAAM,WAC9CA,EAAaA,EAAY,YAAkB,IAAM,cACjDA,EAAaA,EAAY,2BAAiC,IAAM,6BAChEA,EAAaA,EAAY,eAAqB,IAAM,iBACpDA,EAAaA,EAAY,2BAAiC,IAAM,6BAChEA,EAAaA,EAAY,YAAkB,IAAM,cACjDA,EAAaA,EAAY,uBAA6B,IAAM,yBAC5DA,EAAaA,EAAY,4BAAkC,IAAM,8BACjEA,EAAaA,EAAY,YAAkB,IAAM,cACjDA,EAAaA,EAAY,oBAA0B,IAAM,sBACzDA,EAAaA,EAAY,8BAAoC,IAAM,gCACnEA,EAAaA,EAAY,YAAkB,IAAM,cACjDA,EAAaA,EAAY,YAAkB,IAAM,cACjDA,EAAaA,EAAY,eAAqB,IAAM,iBACpDA,EAAaA,EAAY,wBAA8B,IAAM,0BAC7DA,EAAaA,EAAY,gCAAsC,IAAM,kCACrEA,EAAaA,EAAY,qBAA2B,IAAM,uBAC1DA,EAAaA,EAAY,sBAA4B,IAAM,wBAC3DA,EAAaA,EAAY,KAAW,IAAM,OAC1CA,EAAaA,EAAY,qBAA2B,IAAM,uBAC1DA,EAAaA,EAAY,QAAc,IAAM,UAC7CA,EAAaA,EAAY,gBAAsB,IAAM,kBACrDA,EAAaA,EAAY,iBAAuB,IAAM,mBACtDA,EAAaA,EAAY,wBAA8B,IAAM,0BAC7DA,EAAaA,EAAY,sBAA4B,IAAM,wBAC3DA,EAAaA,EAAY,4BAAkC,IAAM,8BACjEA,EAAaA,EAAY,WAAiB,IAAM,aAChDA,EAAaA,EAAY,SAAe,IAAM,WAC9CA,EAAaA,EAAY,cAAoB,IAAM,gBACnDA,EAAaA,EAAY,SAAe,IAAM,WAC9CA,EAAaA,EAAY,WAAiB,IAAM,aAChDA,EAAaA,EAAY,eAAqB,IAAM,iBACpDA,EAAaA,EAAY,cAAoB,IAAM,gBACnDA,EAAaA,EAAY,aAAmB,IAAM,eAClDA,EAAaA,EAAY,YAAkB,IAAM,cACjDA,EAAaA,EAAY,aAAmB,IAAM,eAClDA,EAAaA,EAAY,0BAAgC,IAAM,4BAC/DA,EAAaA,EAAY,MAAY,IAAM,QAC3CA,EAAaA,EAAY,aAAmB,IAAM,eAClDA,EAAaA,EAAY,cAAoB,IAAM,gBACnDA,EAAaA,EAAY,cAAoB,IAAM,gBACnDA,EAAaA,EAAY,UAAgB,IAAM,YAC/CA,EAAaA,EAAY,qBAA2B,IAAM,uBAC1DA,EAAaA,EAAY,WAAiB,IAAM,aAChDA,EAAaA,EAAY,YAAkB,IAAM,cACjDA,EAAaA,EAAY,oBAA0B,IAAM,sBACzDA,EAAaA,EAAY,cAAoB,IAAM,gBACnDA,EAAaA,EAAY,MAAY,IAAM,QAC3CA,EAAaA,EAAY,cAAoB,IAAM,gBACnDA,EAAaA,EAAY,QAAc,IAAM,UAC7CA,EAAaA,EAAY,WAAiB,IAAM,aAChDA,EAAaA,EAAY,4BAAkC,IAAM,8BACjEA,EAAaA,EAAY,eAAqB,IAAM,iBACpDA,EAAaA,EAAY,4BAAkC,IAAM,8BACjEA,EAAaA,EAAY,oBAA0B,IAAM,sBACzDA,EAAaA,EAAY,iBAAuB,IAAM,mBACtDA,EAAaA,EAAY,iBAAuB,IAAM,mBACtDA,EAAaA,EAAY,qBAA2B,IAAM,uBAC1DA,EAAaA,EAAY,oBAA0B,IAAM,sBACzDA,EAAaA,EAAY,mBAAyB,IAAM,qBACxDA,EAAaA,EAAY,QAAc,IAAM,UAC7CA,EAAaA,EAAY,QAAc,IAAM,UAC7CA,EAAaA,EAAY,eAAqB,IAAM,iBACpDA,EAAaA,EAAY,uBAA6B,IAAM,yBAC5DA,EAAaA,EAAY,0BAAgC,IAAM,4BAC/DA,EAAaA,EAAY,iBAAuB,IAAM,mBACtDA,EAAaA,EAAY,sBAA4B,IAAM,wBAC3DA,EAAaA,EAAY,SAAe,IAAM,WAC9CA,EAAaA,EAAY,gBAAsB,IAAM,kBACrDA,EAAaA,EAAY,aAAmB,IAAM,eAClDA,EAAaA,EAAY,wBAA8B,IAAM,0BAC7DA,EAAaA,EAAY,mBAAyB,IAAM,qBACxDA,EAAaA,EAAY,oBAA0B,IAAM,sBACzDA,EAAaA,EAAY,iCAAuC,IAAM,mCACtEA,EAAaA,EAAY,4BAAkC,IAAM,8BACjEA,EAAaA,EAAY,iBAAuB,IAAM,mBACtDA,EAAaA,EAAY,6BAAmC,IAAM,+BAClEA,EAAaA,EAAY,iBAAuB,IAAM,mBACtDA,EAAaA,EAAY,OAAa,IAAM,SAC5CA,EAAaA,EAAY,UAAgB,KAAO,YAChDA,EAAaA,EAAY,uBAA6B,KAAO,yBAC7DA,EAAaA,EAAY,qBAA2B,KAAO,uBAC3DA,EAAaA,EAAY,sBAA4B,KAAO,wBAC5DA,EAAaA,EAAY,mBAAyB,KAAO,qBACzDA,EAAaA,EAAY,mBAAyB,KAAO,qBACzDA,EAAaA,EAAY,oBAA0B,KAAO,sBAC1DA,EAAaA,EAAY,oBAA0B,KAAO,sBAC1DA,EAAaA,EAAY,WAAiB,KAAO,aACjDA,EAAaA,EAAY,mBAAyB,KAAO,qBACzDA,EAAaA,EAAY,YAAkB,KAAO,cAClDA,EAAaA,EAAY,gBAAsB,KAAO,kBACtDA,EAAaA,EAAY,aAAmB,KAAO,eACnDA,EAAaA,EAAY,eAAqB,KAAO,iBACrDA,EAAaA,EAAY,uBAA6B,KAAO,yBAC7DA,EAAaA,EAAY,QAAc,KAAO,UAC9CA,EAAaA,EAAY,gBAAsB,KAAO,kBACtDA,EAAaA,EAAY,kBAAwB,KAAO,oBACxDA,EAAaA,EAAY,2BAAiC,KAAO,6BACjEA,EAAaA,EAAY,iBAAuB,KAAO,mBACvDA,EAAaA,EAAY,cAAoB,KAAO,gBACpDA,EAAaA,EAAY,SAAe,KAAO,WAC/CA,EAAaA,EAAY,oBAA0B,KAAO,sBAC1DA,EAAaA,EAAY,uBAA6B,KAAO,yBAC7DA,EAAaA,EAAY,aAAmB,KAAO,eACnDA,EAAaA,EAAY,YAAkB,KAAO,cAClDA,EAAaA,EAAY,UAAgB,KAAO,YAChDA,EAAaA,EAAY,eAAqB,KAAO,iBACrDA,EAAaA,EAAY,SAAe,KAAO,WAC/CA,EAAaA,EAAY,6BAAmC,KAAO,+BACnEA,EAAaA,EAAY,8BAAoC,KAAO,gCACpEA,EAAaA,EAAY,eAAqB,KAAO,iBACrDA,EAAaA,EAAY,kBAAwB,KAAO,oBACxDA,EAAaA,EAAY,kBAAwB,KAAO,oBACxDA,EAAaA,EAAY,eAAqB,KAAO,iBACrDA,EAAaA,EAAY,iBAAuB,KAAO,mBACvDA,EAAaA,EAAY,eAAqB,KAAO,iBACrDA,EAAaA,EAAY,WAAiB,KAAO,aACjDA,EAAaA,EAAY,gBAAsB,KAAO,kBACtDA,EAAaA,EAAY,WAAiB,KAAO,aACjDA,EAAaA,EAAY,aAAmB,KAAO,eACnDA,EAAaA,EAAY,WAAiB,KAAO,aACjDA,EAAaA,EAAY,aAAmB,KAAO,eACnDA,EAAaA,EAAY,uBAA6B,KAAO,yBAC7DA,EAAaA,EAAY,2BAAiC,KAAO,4BAjJrE,EAkJGA,KAAiBA,GAAe,CAAC,IAKpC,SAAWC,GAIPA,EAAoBA,EAAmB,YAAkB,GAAK,cAI9DA,EAAoBA,EAAmB,GAAS,GAAK,KAIrDA,EAAoBA,EAAmB,KAAW,GAAK,MAZ3D,EAaGA,KAAwBA,GAAsB,CAAC,IAKlD,SAAWC,GAIPA,EAAkBA,EAAiB,GAAS,GAAK,KAIjDA,EAAkBA,EAAiB,KAAW,GAAK,MARvD,EASGA,KAAsBA,GAAoB,CAAC,IAK9C,SAAWC,GACPA,EAAgBA,EAAe,KAAW,GAAK,OAC/CA,EAAgBA,EAAe,MAAY,GAAK,OAFpD,EAGGA,KAAoBA,GAAkB,CAAC,IAK1C,SAAWC,GAIPA,EAAaA,EAAY,KAAW,GAAK,OAIzCA,EAAaA,EAAY,OAAa,GAAK,SAM3CA,EAAaA,EAAY,cAAoB,GAAK,gBAIlDA,EAAaA,EAAY,QAAc,GAAK,SAlBhD,EAmBGA,KAAiBA,GAAe,CAAC,IAEpC,SAAWC,GACPA,EAAwBA,EAAuB,KAAW,GAAK,OAC/DA,EAAwBA,EAAuB,MAAY,GAAK,QAChEA,EAAwBA,EAAuB,KAAW,GAAK,OAC/DA,EAAwBA,EAAuB,KAAW,GAAK,MAJnE,EAKGA,KAA4BA,GAA0B,CAAC,IAE1D,SAAWrB,GACPA,EAAcA,EAAa,KAAW,GAAK,OAC3CA,EAAcA,EAAa,UAAgB,GAAK,WAFpD,EAGGA,KAAkBA,GAAgB,CAAC,IAKtC,SAAW9iB,GAKPA,EAA4BA,EAA2B,UAAgB,GAAK,YAK5EA,EAA4BA,EAA2B,SAAe,GAAK,UAV/E,EAWGA,KAAgCA,GAA8B,CAAC,IAOlE,SAAWokB,GACPA,EAAQA,EAAO,mBAAyB,GAAK,oBAI7CA,EAAQA,EAAO,QAAc,GAAK,UAClCA,EAAQA,EAAO,UAAgB,GAAK,YACpCA,EAAQA,EAAO,IAAU,GAAK,MAC9BA,EAAQA,EAAO,MAAY,GAAK,QAChCA,EAAQA,EAAO,MAAY,GAAK,QAChCA,EAAQA,EAAO,KAAW,GAAK,OAC/BA,EAAQA,EAAO,IAAU,GAAK,MAC9BA,EAAQA,EAAO,WAAiB,GAAK,aACrCA,EAAQA,EAAO,SAAe,GAAK,WACnCA,EAAQA,EAAO,OAAa,GAAK,SACjCA,EAAQA,EAAO,MAAY,IAAM,QACjCA,EAAQA,EAAO,OAAa,IAAM,SAClCA,EAAQA,EAAO,SAAe,IAAM,WACpCA,EAAQA,EAAO,IAAU,IAAM,MAC/BA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,UAAgB,IAAM,YACrCA,EAAQA,EAAO,QAAc,IAAM,UACnCA,EAAQA,EAAO,WAAiB,IAAM,aACtCA,EAAQA,EAAO,UAAgB,IAAM,YACrCA,EAAQA,EAAO,OAAa,IAAM,SAClCA,EAAQA,EAAO,OAAa,IAAM,SAClCA,EAAQA,EAAO,OAAa,IAAM,SAClCA,EAAQA,EAAO,OAAa,IAAM,SAClCA,EAAQA,EAAO,OAAa,IAAM,SAClCA,EAAQA,EAAO,OAAa,IAAM,SAClCA,EAAQA,EAAO,OAAa,IAAM,SAClCA,EAAQA,EAAO,OAAa,IAAM,SAClCA,EAAQA,EAAO,OAAa,IAAM,SAClCA,EAAQA,EAAO,OAAa,IAAM,SAClCA,EAAQA,EAAO,OAAa,IAAM,SAClCA,EAAQA,EAAO,OAAa,IAAM,SAClCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,KAAW,IAAM,OAChCA,EAAQA,EAAO,YAAkB,IAAM,cACvCA,EAAQA,EAAO,GAAS,IAAM,KAC9BA,EAAQA,EAAO,GAAS,IAAM,KAC9BA,EAAQA,EAAO,GAAS,IAAM,KAC9BA,EAAQA,EAAO,GAAS,IAAM,KAC9BA,EAAQA,EAAO,GAAS,IAAM,KAC9BA,EAAQA,EAAO,GAAS,IAAM,KAC9BA,EAAQA,EAAO,GAAS,IAAM,KAC9BA,EAAQA,EAAO,GAAS,IAAM,KAC9BA,EAAQA,EAAO,GAAS,IAAM,KAC9BA,EAAQA,EAAO,IAAU,IAAM,MAC/BA,EAAQA,EAAO,IAAU,IAAM,MAC/BA,EAAQA,EAAO,IAAU,IAAM,MAC/BA,EAAQA,EAAO,IAAU,IAAM,MAC/BA,EAAQA,EAAO,IAAU,IAAM,MAC/BA,EAAQA,EAAO,IAAU,IAAM,MAC/BA,EAAQA,EAAO,IAAU,IAAM,MAC/BA,EAAQA,EAAO,IAAU,IAAM,MAC/BA,EAAQA,EAAO,IAAU,IAAM,MAC/BA,EAAQA,EAAO,IAAU,IAAM,MAC/BA,EAAQA,EAAO,IAAU,IAAM,MAC/BA,EAAQA,EAAO,IAAU,IAAM,MAC/BA,EAAQA,EAAO,IAAU,IAAM,MAC/BA,EAAQA,EAAO,IAAU,IAAM,MAC/BA,EAAQA,EAAO,IAAU,IAAM,MAC/BA,EAAQA,EAAO,QAAc,IAAM,UACnCA,EAAQA,EAAO,WAAiB,IAAM,aAKtCA,EAAQA,EAAO,UAAgB,IAAM,YAKrCA,EAAQA,EAAO,MAAY,IAAM,QAKjCA,EAAQA,EAAO,MAAY,IAAM,QAKjCA,EAAQA,EAAO,MAAY,IAAM,QAKjCA,EAAQA,EAAO,OAAa,IAAM,SAKlCA,EAAQA,EAAO,MAAY,IAAM,QAKjCA,EAAQA,EAAO,UAAgB,IAAM,YAKrCA,EAAQA,EAAO,YAAkB,IAAM,cAKvCA,EAAQA,EAAO,UAAgB,IAAM,YAKrCA,EAAQA,EAAO,aAAmB,IAAM,eAKxCA,EAAQA,EAAO,MAAY,IAAM,QAIjCA,EAAQA,EAAO,MAAY,IAAM,QAIjCA,EAAQA,EAAO,cAAoB,IAAM,gBACzCA,EAAQA,EAAO,QAAc,IAAM,UACnCA,EAAQA,EAAO,QAAc,IAAM,UACnCA,EAAQA,EAAO,QAAc,KAAO,UACpCA,EAAQA,EAAO,QAAc,KAAO,UACpCA,EAAQA,EAAO,QAAc,KAAO,UACpCA,EAAQA,EAAO,QAAc,KAAO,UACpCA,EAAQA,EAAO,QAAc,KAAO,UACpCA,EAAQA,EAAO,QAAc,KAAO,UACpCA,EAAQA,EAAO,QAAc,KAAO,UACpCA,EAAQA,EAAO,QAAc,KAAO,UACpCA,EAAQA,EAAO,eAAqB,KAAO,iBAC3CA,EAAQA,EAAO,UAAgB,KAAO,YACtCA,EAAQA,EAAO,iBAAuB,KAAO,mBAC7CA,EAAQA,EAAO,eAAqB,KAAO,iBAC3CA,EAAQA,EAAO,cAAoB,KAAO,gBAC1CA,EAAQA,EAAO,aAAmB,KAAO,eAIzCA,EAAQA,EAAO,mBAAyB,KAAO,qBAC/CA,EAAQA,EAAO,QAAc,KAAO,UACpCA,EAAQA,EAAO,QAAc,KAAO,UACpCA,EAAQA,EAAO,gBAAsB,KAAO,kBAC5CA,EAAQA,EAAO,cAAoB,KAAO,gBAC1CA,EAAQA,EAAO,gBAAsB,KAAO,kBAC5CA,EAAQA,EAAO,cAAoB,KAAO,gBAC1CA,EAAQA,EAAO,YAAkB,KAAO,cACxCA,EAAQA,EAAO,YAAkB,KAAO,cACxCA,EAAQA,EAAO,eAAqB,KAAO,iBAC3CA,EAAQA,EAAO,eAAqB,KAAO,iBAC3CA,EAAQA,EAAO,mBAAyB,KAAO,qBAC/CA,EAAQA,EAAO,UAAgB,KAAO,YACtCA,EAAQA,EAAO,eAAqB,KAAO,iBAC3CA,EAAQA,EAAO,kBAAwB,KAAO,oBAC9CA,EAAQA,EAAO,WAAiB,KAAO,aACvCA,EAAQA,EAAO,WAAiB,KAAO,aAIvCA,EAAQA,EAAO,MAAY,KAAO,QAKlCA,EAAQA,EAAO,UAAgB,KAAO,WArM1C,EAsMGA,KAAYA,GAAU,CAAC,IAE1B,SAAWC,GACPA,EAAeA,EAAc,KAAW,GAAK,OAC7CA,EAAeA,EAAc,KAAW,GAAK,OAC7CA,EAAeA,EAAc,QAAc,GAAK,UAChDA,EAAeA,EAAc,MAAY,GAAK,OAJlD,EAKGA,KAAmBA,GAAiB,CAAC,IAExC,SAAWC,GACPA,EAAUA,EAAS,YAAkB,GAAK,cAC1CA,EAAUA,EAAS,WAAiB,GAAK,YAF7C,EAGGA,KAAcA,GAAY,CAAC,IAK9B,SAAWC,GACPA,EAAgBA,EAAe,OAAa,GAAK,SACjDA,EAAgBA,EAAe,OAAa,GAAK,QAFrD,EAGGA,KAAoBA,GAAkB,CAAC,IAK1C,SAAWC,GAIPA,EAAgBA,EAAe,QAAc,GAAK,UAIlDA,EAAgBA,EAAe,SAAe,GAAK,WAInDA,EAAgBA,EAAe,oBAA0B,GAAK,sBAI9DA,EAAgBA,EAAe,oBAA0B,GAAK,sBAI9DA,EAAgBA,EAAe,wBAA8B,GAAK,0BAIlEA,EAAgBA,EAAe,iBAAuB,GAAK,mBAI3DA,EAAgBA,EAAe,aAAmB,GAAK,eAIvDA,EAAgBA,EAAe,cAAoB,GAAK,gBAIxDA,EAAgBA,EAAe,kBAAwB,GAAK,oBAI5DA,EAAgBA,EAAe,eAAqB,GAAK,iBAIzDA,EAAgBA,EAAe,eAAqB,IAAM,iBAI1DA,EAAgBA,EAAe,UAAgB,IAAM,YAIrDA,EAAgBA,EAAe,eAAqB,IAAM,iBAI1DA,EAAgBA,EAAe,eAAqB,IAAM,gBAxD9D,EAyDGA,KAAoBA,GAAkB,CAAC,IAK1C,SAAWC,GAIPA,EAAgCA,EAA+B,iBAAuB,GAAK,mBAI3FA,EAAgCA,EAA+B,oBAA0B,GAAK,sBAI9FA,EAAgCA,EAA+B,WAAiB,GAAK,YAZzF,EAaGA,KAAoCA,GAAkC,CAAC,IAK1E,SAAWC,GACPA,EAAkBA,EAAiB,KAAW,GAAK,OACnDA,EAAkBA,EAAiB,OAAa,GAAK,SACrDA,EAAkBA,EAAiB,MAAY,GAAK,QACpDA,EAAkBA,EAAiB,KAAW,GAAK,MAJvD,EAKGA,KAAsBA,GAAoB,CAAC,IAE9C,SAAWC,GAIPA,EAAiBA,EAAgB,KAAW,GAAK,OAIjDA,EAAiBA,EAAgB,MAAY,GAAK,QAIlDA,EAAiBA,EAAgB,KAAW,GAAK,OAIjDA,EAAiBA,EAAgB,mBAAyB,GAAK,qBAI/DA,EAAiBA,EAAgB,oBAA0B,GAAK,qBApBpE,EAqBGA,KAAqBA,GAAmB,CAAC,IAE5C,SAAWC,GACPA,EAAsBA,EAAqB,IAAU,GAAK,MAC1DA,EAAsBA,EAAqB,GAAS,GAAK,KACzDA,EAAsBA,EAAqB,SAAe,GAAK,WAC/DA,EAAsBA,EAAqB,SAAe,GAAK,WAC/DA,EAAsBA,EAAqB,OAAa,GAAK,QALjE,EAMGA,KAA0BA,GAAwB,CAAC,IAEtD,SAAWC,GACPA,EAAcA,EAAa,KAAW,GAAK,OAC3CA,EAAcA,EAAa,KAAW,GAAK,OAC3CA,EAAcA,EAAa,OAAa,GAAK,QAHjD,EAIGA,KAAkBA,GAAgB,CAAC,IAEtC,SAAWC,GACPA,EAAWA,EAAU,OAAa,GAAK,SACvCA,EAAWA,EAAU,UAAgB,GAAK,WAF9C,EAGGA,KAAeA,GAAa,CAAC,IAEhC,SAAWC,GACPA,EAAoBA,EAAmB,KAAW,GAAK,OACvDA,EAAoBA,EAAmB,OAAa,GAAK,SACzDA,EAAoBA,EAAmB,QAAc,GAAK,SAH9D,EAIGA,KAAwBA,GAAsB,CAAC,IAKlD,SAAWC,GAIPA,EAAmBA,EAAkB,IAAU,GAAK,MAIpDA,EAAmBA,EAAkB,IAAU,GAAK,KARxD,EASGA,KAAuBA,GAAqB,CAAC,IAEhD,SAAWvC,GACPA,EAAyBA,EAAwB,OAAa,GAAK,SACnEA,EAAyBA,EAAwB,iBAAuB,GAAK,mBAC7EA,EAAyBA,EAAwB,cAAoB,GAAK,eAH9E,EAIGA,KAA6BA,GAA2B,CAAC,IAK5D,SAAWwC,GACPA,EAAWA,EAAU,KAAW,GAAK,OACrCA,EAAWA,EAAU,OAAa,GAAK,SACvCA,EAAWA,EAAU,UAAgB,GAAK,YAC1CA,EAAWA,EAAU,QAAc,GAAK,UACxCA,EAAWA,EAAU,MAAY,GAAK,QACtCA,EAAWA,EAAU,OAAa,GAAK,SACvCA,EAAWA,EAAU,SAAe,GAAK,WACzCA,EAAWA,EAAU,MAAY,GAAK,QACtCA,EAAWA,EAAU,YAAkB,GAAK,cAC5CA,EAAWA,EAAU,KAAW,GAAK,OACrCA,EAAWA,EAAU,UAAgB,IAAM,YAC3CA,EAAWA,EAAU,SAAe,IAAM,WAC1CA,EAAWA,EAAU,SAAe,IAAM,WAC1CA,EAAWA,EAAU,SAAe,IAAM,WAC1CA,EAAWA,EAAU,OAAa,IAAM,SACxCA,EAAWA,EAAU,OAAa,IAAM,SACxCA,EAAWA,EAAU,QAAc,IAAM,UACzCA,EAAWA,EAAU,MAAY,IAAM,QACvCA,EAAWA,EAAU,OAAa,IAAM,SACxCA,EAAWA,EAAU,IAAU,IAAM,MACrCA,EAAWA,EAAU,KAAW,IAAM,OACtCA,EAAWA,EAAU,WAAiB,IAAM,aAC5CA,EAAWA,EAAU,OAAa,IAAM,SACxCA,EAAWA,EAAU,MAAY,IAAM,QACvCA,EAAWA,EAAU,SAAe,IAAM,WAC1CA,EAAWA,EAAU,cAAoB,IAAM,eA1BnD,EA2BGA,KAAeA,GAAa,CAAC,IAEhC,SAAWC,GACPA,EAAUA,EAAS,WAAiB,GAAK,YAD7C,EAEGA,KAAcA,GAAY,CAAC,IAK9B,SAAWC,GAIPA,EAA8BA,EAA6B,OAAa,GAAK,SAI7EA,EAA8BA,EAA6B,MAAY,GAAK,QAI5EA,EAA8BA,EAA6B,OAAa,GAAK,SAI7EA,EAA8BA,EAA6B,MAAY,GAAK,QAI5EA,EAA8BA,EAA6B,OAAa,GAAK,SAI7EA,EAA8BA,EAA6B,MAAY,GAAK,OAxBhF,EAyBGA,KAAkCA,GAAgC,CAAC,IAKtE,SAAWC,GAIPA,EAAsBA,EAAqB,KAAW,GAAK,OAI3DA,EAAsBA,EAAqB,MAAY,GAAK,QAI5DA,EAAsBA,EAAqB,UAAgB,GAAK,YAIhEA,EAAsBA,EAAqB,SAAe,GAAK,WAI/DA,EAAsBA,EAAqB,aAAmB,GAAK,eAInEA,EAAsBA,EAAqB,cAAoB,GAAK,eAxBxE,EAyBGA,KAA0BA,GAAwB,CAAC,IAMtD,SAAWC,GACPA,EAAuBA,EAAsB,6BAAmC,GAAK,+BACrFA,EAAuBA,EAAsB,4BAAkC,GAAK,8BACpFA,EAAuBA,EAAsB,0BAAgC,GAAK,4BAClFA,EAAuBA,EAAsB,yBAA+B,GAAK,0BAJrF,EAKGA,KAA2BA,GAAyB,CAAC,IAKxD,SAAWC,GAIPA,EAAeA,EAAc,KAAW,GAAK,OAI7CA,EAAeA,EAAc,KAAW,GAAK,OAI7CA,EAAeA,EAAc,OAAa,GAAK,SAI/CA,EAAeA,EAAc,WAAiB,GAAK,YAhBvD,EAiBGA,KAAmBA,GAAiB,CAAC,IC74BjC,IAAME,GAAb,sEACI,SAAa55B,EAAW65B,GACpB,OPiWD,SAAkB75B,EAAW65B,GAEhC,OAAQ75B,GADyB,MAAb65B,IAA4B,KAAQ,KACrB,CACtC,COpWcC,CAAS95B,EAAW65B,EAC9B,KAHL,KAKAD,GAAOG,QAAU,KACjBH,GAAOI,MAAQ,KACfJ,GAAOK,IAAM,IACbL,GAAOM,QAAU,IChBV,IAAMC,GAAb,8BACI,WAAYC,GAAgB,gBACxB,cAAM,GACN,IAAK,IAAIn0D,EAAI,EAAG2P,EAAMwkD,EAAel0D,OAAQD,EAAI2P,EAAK3P,IAClD,EAAK4S,IAAIuhD,EAAej0D,WAAWF,GAAI,GAHnB,OAKxB,EAAK4S,IAAI,GAAyB,GAClC,EAAKA,IAAI,EAAsB,GANP,CAO3B,CARL,aAA6CszB,IAmBtC,IChBI2sB,GAUAT,GAQAM,GAKAJ,IDhBX,SAAc8B,GACV,IAAMn5C,EAAQ,CAAC,CAOlB,CACsC9G,EAAK,SAAC1F,GAAD,OAAW,IAAIylD,GAAwBzlD,EAAvC,KCf5C,SAAWokD,GACPA,EAAkBA,EAAiB,KAAW,GAAK,OACnDA,EAAkBA,EAAiB,OAAa,GAAK,SACrDA,EAAkBA,EAAiB,MAAY,GAAK,QACpDA,EAAkBA,EAAiB,KAAW,GAAK,MAJvD,EAKGA,KAAsBA,GAAoB,CAAC,IAK9C,SAAWT,GACPA,EAAgBA,EAAe,KAAW,GAAK,OAC/CA,EAAgBA,EAAe,MAAY,GAAK,OAFpD,EAGGA,KAAoBA,GAAkB,CAAC,IAK1C,SAAWM,GACPA,EAAgBA,EAAe,OAAa,GAAK,SACjDA,EAAgBA,EAAe,OAAa,GAAK,QAFrD,EAGGA,KAAoBA,GAAkB,CAAC,IAE1C,SAAWJ,GACPA,EAAwBA,EAAuB,KAAW,GAAK,OAC/DA,EAAwBA,EAAuB,MAAY,GAAK,QAChEA,EAAwBA,EAAuB,KAAW,GAAK,OAC/DA,EAAwBA,EAAuB,KAAW,GAAK,MAJnE,EAKGA,KAA4BA,GAA0B,CAAC,ICyWnD,SAAS+B,GAAaF,EAAgBlwB,EAAMqwB,EAAYC,EAAiBC,GAC5E,OA/CJ,SAA2BL,EAAgBlwB,EAAMqwB,EAAYC,EAAiBC,GAC1E,GAAwB,IAApBD,EAEA,OAAO,EAEX,IAAME,EAAaxwB,EAAK/jC,WAAWq0D,EAAkB,GACrD,GAAuC,IAAnCJ,EAAe5vD,IAAIkwD,GAEnB,OAAO,EAEX,GAAmB,KAAfA,GAAkE,KAAfA,EAEnD,OAAO,EAEX,GAAID,EAAc,EAAG,CACjB,IAAME,EAAmBzwB,EAAK/jC,WAAWq0D,GACzC,GAA6C,IAAzCJ,EAAe5vD,IAAImwD,GAEnB,OAAO,CAEd,CACD,OAAO,CACV,CAyBWC,CAAkBR,EAAgBlwB,EAAMqwB,EAAYC,EAAiBC,IAxBjF,SAA4BL,EAAgBlwB,EAAMqwB,EAAYC,EAAiBC,GAC3E,GAAID,EAAkBC,IAAgBF,EAElC,OAAO,EAEX,IAAMM,EAAY3wB,EAAK/jC,WAAWq0D,EAAkBC,GACpD,GAAsC,IAAlCL,EAAe5vD,IAAIqwD,GAEnB,OAAO,EAEX,GAAkB,KAAdA,GAAgE,KAAdA,EAElD,OAAO,EAEX,GAAIJ,EAAc,EAAG,CACjB,IAAMK,EAAkB5wB,EAAK/jC,WAAWq0D,EAAkBC,EAAc,GACxE,GAA4C,IAAxCL,EAAe5vD,IAAIswD,GAEnB,OAAO,CAEd,CACD,OAAO,CACV,CAGUC,CAAmBX,EAAgBlwB,EAAMqwB,EAAYC,EAAiBC,EAChF,CACM,IAAMO,GAAb,WACI,WAAYZ,EAAgBa,GAAa,UACrCtwD,KAAKuwD,gBAAkBd,EACvBzvD,KAAKwwD,aAAeF,EACpBtwD,KAAKywD,sBAAwB,EAC7BzwD,KAAK0wD,iBAAmB,CAC3B,CANL,+BAOI,SAAMzvB,GACFjhC,KAAKwwD,aAAavvB,UAAYA,EAC9BjhC,KAAKywD,sBAAwB,EAC7BzwD,KAAK0wD,iBAAmB,CAC3B,GAXL,kBAYI,SAAKnxB,GACD,IACIoxB,EADEf,EAAarwB,EAAKhkC,OAExB,EAAG,CACC,GAAIyE,KAAKywD,qBAAuBzwD,KAAK0wD,mBAAqBd,EAEtD,OAAO,KAGX,KADAe,EAAI3wD,KAAKwwD,aAAap5B,KAAKmI,IAEvB,OAAO,KAEX,IAAMswB,EAAkBc,EAAEtgD,MACpBy/C,EAAca,EAAE,GAAGp1D,OACzB,GAAIs0D,IAAoB7vD,KAAKywD,sBAAwBX,IAAgB9vD,KAAK0wD,iBAAkB,CACxF,GAAoB,IAAhBZ,EAAmB,CAGf7qC,GAAyBsa,EAAMqwB,EAAY5vD,KAAKwwD,aAAavvB,WAAa,MAC1EjhC,KAAKwwD,aAAavvB,WAAa,EAG/BjhC,KAAKwwD,aAAavvB,WAAa,EAEnC,QACH,CAED,OAAO,IACV,CAGD,GAFAjhC,KAAKywD,qBAAuBZ,EAC5B7vD,KAAK0wD,iBAAmBZ,GACnB9vD,KAAKuwD,iBAAmBZ,GAAa3vD,KAAKuwD,gBAAiBhxB,EAAMqwB,EAAYC,EAAiBC,GAC/F,OAAOa,CAEd,OAAQA,GACT,OAAO,IACV,KAhDL,KC1XO,SAASC,GAAYhwD,GACxB,MAAM,IAAIyD,MAD8C,uDAAf,cAE5C,CAIM,SAASwsD,GAASnmC,GAChBA,MAIDA,IACA5b,EAAkB,IAAIU,EAAmB,qBAEhD,CACM,SAASshD,GAAmBC,EAAO3gD,GAEtC,IADA,IAAI9U,EAAI,EACDA,EAAIy1D,EAAMx1D,OAAS,GAAG,CAGzB,IAAK6U,EAFK2gD,EAAMz1D,GACNy1D,EAAMz1D,EAAI,IAEhB,OAAO,EAEXA,GACH,CACD,OAAO,CACV,CCzCM,IAAM01D,GAAb,yFACI,SAAgCxtB,EAAOruB,EAASulB,GAC5C,IAIIygB,EAJE8V,EAAYv2B,EAAQA,EAAMN,gBAAkB,EAC5C82B,EAAUx2B,EAAQA,EAAMJ,cAAgBkJ,EAAMK,eAC9CstB,EAAuB,IAAIC,GAAqBj8C,GAChDk8C,EAAaF,EAAqBG,yBAGpCnW,EADe,qBAAfkW,EACQ,IAAIhxB,OAAO,0BAA2B,KAGtC,IAAIA,OAAJ,UAyFpB,SAAkCkxB,EAAYC,GAC1C,IAAMC,EAAM,IAAH,OAAOxsC,GAA+BssC,EAAW1hD,KAAI,SAACvU,GAAD,OAAO6O,OAAOunD,cAAcp2D,EAA5B,IAAgCiB,KAAK,KAA1F,KACT,OAAOk1D,CACV,CA5FiCE,CAAyBxmD,MAAMxO,KAAK00D,KAAgB,KAE9E,IAGIV,EAHEiB,EAAW,IAAIvB,GAAS,KAAMlV,GAC9B0W,EAAS,GACXC,GAAU,EAEVC,EAA0B,EAC1BC,EAA0B,EAC1BC,EAA8B,EAClCC,EAAS,IAAK,IAAI14B,EAAay3B,EAAW71B,EAAY81B,EAAS13B,GAAc4B,EAAW5B,IAAc,CAClG,IAAM24B,EAAc3uB,EAAMM,eAAetK,GACnC44B,EAAaD,EAAY52D,OAE/Bq2D,EAAS7rD,MAAM,GACf,GAEI,GADA4qD,EAAIiB,EAAS1sD,KAAKitD,GACX,CACH,IAAIr0B,EAAa6yB,EAAEtgD,MACfgiD,EAAW1B,EAAEtgD,MAAQsgD,EAAE,GAAGp1D,OAE9B,GAAIuiC,EAAa,EAET7Y,GADmBktC,EAAY32D,WAAWsiC,EAAa,KAEvDA,IAGR,GAAIu0B,EAAW,EAAID,EAEXntC,GADmBktC,EAAY32D,WAAW62D,EAAW,KAErDA,IAGR,IAAMpxC,EAAMkxC,EAAY56B,UAAUuG,EAAYu0B,GAC1CjxB,EAAOZ,GAAc1C,EAAa,EAAGqC,GAAqBgyB,EAAa,GACvE/wB,GAAQA,EAAK7G,WAAauD,EAAa,IAEvCsD,EAAO,MAEX,IAAMkxB,EAAkBnB,EAAqBoB,6BAA6BtxC,EAAKmgB,EAAOA,EAAKA,KAAO,MAClG,GAAwB,IAApBkxB,EAAwD,CAChC,IAApBA,EACAP,IAEyB,IAApBO,EACLN,IAEyB,IAApBM,EACLL,IAGArB,GAAY0B,GAGhB,GAAIT,EAAOt2D,QADe,IACc,CACpCu2D,GAAU,EACV,MAAMI,CACT,CACDL,EAAOjsD,KAAK,IAAIu0B,GAAMX,EAAYsE,EAAa,EAAGtE,EAAY64B,EAAW,GAC5E,CACJ,QACI1B,EACZ,CACD,MAAO,CACHkB,OAAAA,EACAC,QAAAA,EACAC,wBAAAA,EACAC,wBAAAA,EACAC,4BAAAA,EAEP,GAhFL,2CAiFI,SAAqClqC,EAAM5S,GACvC,IAAMg8C,EAAuB,IAAIC,GAAqBj8C,GAEtD,OADeg8C,EAAqBoB,6BAA6BxqC,EAAM,OAEnE,KAAK,EACD,OAAO,KACX,KAAK,EACD,MAAO,CAAEikC,KAAM,GACnB,KAAK,EACD,IAAMxqC,EAAYuG,EAAKyqC,YAAY,GAC7BC,EAAoBtB,EAAqBuB,oBAAoBC,qBAAqBnxC,GAClFoxC,EAAwB3tC,GAAAA,aAAyCxa,QAAO,SAAC6X,GAAD,OAAQ2C,GAAAA,YAAwC,IAAI1S,IAAJ,YAAY4C,EAAQ09C,gBAApB,CAAoCvwC,MAAKwwC,YAAYtxC,EAArG,IAC9E,MAAO,CAAEwqC,KAAM,EAAgD+G,eAAgB5oD,OAAOunD,cAAce,GAAoBG,sBAAAA,GAE5H,KAAK,EACD,MAAO,CAAE5G,KAAM,GAE1B,KAlGL,SAwGMoF,GAAAA,WACF,WAAYj8C,GAAS,UACjBnV,KAAKmV,QAAUA,EACfnV,KAAKgzD,kBAAoB,IAAIzgD,IAAI4C,EAAQ69C,mBACzChzD,KAAK0yD,oBAAsBztC,GAAAA,YAAwC,IAAI1S,IAAI4C,EAAQ09C,gBACtF,iDACD,WACI,GAAI7yD,KAAKmV,QAAQ89C,cACb,MAAO,mBAEX,IAAM/kD,EAAM,IAAIqE,IAChB,GAAIvS,KAAKmV,QAAQ+9C,oBAAqB,WACjBjuC,GAAAA,YADiB,IAClC,2BAAyD,KAA9CkuC,EAA8C,QAChDC,GAA4BjpD,OAAOunD,cAAcyB,KAClDjlD,EAAI4E,IAAIqgD,EAEf,CALiC,+BAMrC,CACD,GAAInzD,KAAKmV,QAAQu9C,oBAAqB,WACjB1yD,KAAK0yD,oBAAoBW,2BADR,IAClC,2BAAqE,KAA1DF,EAA0D,QACjEjlD,EAAI4E,IAAIqgD,EACX,CAHiC,+BAIrC,CAhBoB,UAiBJnzD,KAAKgzD,mBAjBD,IAiBrB,2BAAyC,KAA9BG,EAA8B,QACrCjlD,EAAI8V,OAAOmvC,EACd,CAnBoB,+BAoBrB,OAAOjlD,CACV,6CACD,SAA6BolD,EAAWC,GACpC,IAAM/xC,EAAY8xC,EAAUd,YAAY,GACxC,GAAIxyD,KAAKgzD,kBAAkB/kD,IAAIuT,GAC3B,OAAO,EAEX,GAAIxhB,KAAKmV,QAAQ89C,cACb,OAAO,EAEX,IjC+TqBhyC,EiC/TjBuyC,GAA0B,EAC1BC,GAAyC,EAC7C,GAAIF,EAAa,WACMA,GADN,IACb,2BAAgC,KAArBxrC,EAAqB,QACtBvG,EAAYuG,EAAKyqC,YAAY,GAC7BkB,GjC0TOzyC,EiC1T6B8G,EjC2T/C3G,GAAe3V,KAAKwV,IiC1TfuyC,EAA0BA,GAA2BE,EAChDA,GACA1zD,KAAK0yD,oBAAoBI,YAAYtxC,IACrCyD,GAAAA,qBAAiDzD,KAClDiyC,GAAyC,EAEhD,CAVY,+BAWhB,CACD,OAC8DD,GACLC,EAC9C,EAEPzzD,KAAKmV,QAAQ+9C,sBAERE,GAA4BE,IAAcruC,GAAAA,qBAAiDzD,GACrF,EAGXxhB,KAAKmV,QAAQu9C,qBACT1yD,KAAK0yD,oBAAoBI,YAAYtxC,GAC9B,EAGR,CACV,OAnEC4vC,GAqEN,SAASgC,GAA4BE,GACjC,MAAqB,MAAdA,GAAmC,OAAdA,GAAoC,OAAdA,CACrD,CC/KM,IAAMK,GAAb,WAuGI,WAAYv5B,EAAiBw5B,GACzB,GADiD,UAC7Cx5B,EAAkBw5B,EAClB,MAAM,IAAIpkD,EAAJ,0BAA0C4qB,EAA1C,mDAAoGw5B,IAE9G5zD,KAAKo6B,gBAAkBA,EACvBp6B,KAAK4zD,uBAAyBA,CACjC,CA7GL,kCAiHI,SAASp6B,GACL,OAAOx5B,KAAKo6B,iBAAmBZ,GAAcA,EAAax5B,KAAK4zD,sBAClE,GAnHL,mBAuHI,WACI,OAAO5zD,KAAKo6B,kBAAoBp6B,KAAK4zD,sBACxC,GAzHL,mBA6HI,SAAM1yC,GACF,OAAO,IAAIyyC,EAAU3zD,KAAKo6B,gBAAkBlZ,EAAQlhB,KAAK4zD,uBAAyB1yC,EACrF,GA/HL,kBAmII,WACI,OAAOlhB,KAAK4zD,uBAAyB5zD,KAAKo6B,eAC7C,GArIL,kBAyII,SAAKN,GACD,OAAO,IAAI65B,EAAUr5C,KAAKkR,IAAIxrB,KAAKo6B,gBAAiBN,EAAMM,iBAAkB9f,KAAKuV,IAAI7vB,KAAK4zD,uBAAwB95B,EAAM85B,wBAC3H,GA3IL,sBA4II,WACI,iBAAW5zD,KAAKo6B,gBAAhB,YAAmCp6B,KAAK4zD,uBAAxC,IACH,GA9IL,uBAmJI,SAAU95B,GACN,IAAMM,EAAkB9f,KAAKuV,IAAI7vB,KAAKo6B,gBAAiBN,EAAMM,iBACvDw5B,EAAyBt5C,KAAKkR,IAAIxrB,KAAK4zD,uBAAwB95B,EAAM85B,wBAC3E,GAAIx5B,GAAmBw5B,EACnB,OAAO,IAAID,EAAUv5B,EAAiBw5B,EAG7C,GA1JL,8BA2JI,SAAiB95B,GACb,OAAO95B,KAAKo6B,gBAAkBN,EAAM85B,wBAA0B95B,EAAMM,gBAAkBp6B,KAAK4zD,sBAC9F,GA7JL,4BA8JI,SAAe95B,GACX,OAAO95B,KAAKo6B,iBAAmBN,EAAM85B,wBAA0B95B,EAAMM,iBAAmBp6B,KAAK4zD,sBAChG,GAhKL,oBAiKI,SAAOn9C,GACH,OAAOzW,KAAKo6B,kBAAoB3jB,EAAE2jB,iBAAmBp6B,KAAK4zD,yBAA2Bn9C,EAAEm9C,sBAC1F,GAnKL,8BAoKI,WACI,OAAI5zD,KAAKyQ,QACE,KAEJ,IAAI0pB,GAAMn6B,KAAKo6B,gBAAiB,EAAGp6B,KAAK4zD,uBAAyB,EAAGxpD,OAAOypD,iBACrF,GAzKL,8BA0KI,WACI,OAAO,IAAI15B,GAAMn6B,KAAKo6B,gBAAiB,EAAGp6B,KAAK4zD,uBAAwB,EAC1E,GA5KL,4BA6KI,SAAe7mD,GAEX,IADA,IAAMlJ,EAAS,GACN21B,EAAax5B,KAAKo6B,gBAAiBZ,EAAax5B,KAAK4zD,uBAAwBp6B,IAClF31B,EAAO+B,KAAKmH,EAAEysB,IAElB,OAAO31B,CACV,GAnLL,uBAuLI,WACI,MAAO,CAAC7D,KAAKo6B,gBAAiBp6B,KAAK4zD,uBACtC,GAzLL,sBA0LI,SAASp6B,GACL,OAAOx5B,KAAKo6B,iBAAmBZ,GAAcA,EAAax5B,KAAK4zD,sBAClE,IA5LL,wBACI,SAAiBl5B,GACb,OAAO,IAAIi5B,EAAUj5B,EAAMN,gBAAiBM,EAAMJ,cACrD,GAHL,sBAII,SAAgB1wB,EAAG6M,GACf,OAAKA,EAGD7M,EAAEwwB,gBAAkB3jB,EAAE2jB,iBAAmB3jB,EAAEm9C,uBAAyBhqD,EAAEgqD,uBAC/D,CACH,IAAID,EAAU/pD,EAAEwwB,gBAAiB3jB,EAAE2jB,iBACnC,IAAIu5B,EAAUl9C,EAAEm9C,uBAAwBhqD,EAAEgqD,yBAGzCn9C,EAAE2jB,iBAAmBxwB,EAAEwwB,iBAAmBxwB,EAAEgqD,wBAA0Bn9C,EAAEm9C,uBACtE,GAEFn9C,EAAEm9C,uBAAyBhqD,EAAEgqD,uBAC3B,CAAC,IAAID,EAAUr5C,KAAKuV,IAAIpZ,EAAEm9C,uBAAwBhqD,EAAEwwB,iBAAkBxwB,EAAEgqD,yBAGxE,CAAC,IAAID,EAAU/pD,EAAEwwB,gBAAiB9f,KAAKkR,IAAI/U,EAAE2jB,gBAAiBxwB,EAAEgqD,0BAfhE,CAAChqD,EAiBf,GAvBL,sBA2BI,SAAgBkqD,GACZ,GAA0B,IAAtBA,EAAWv4D,OACX,MAAO,GAGX,IADA,IAAIsI,EAASiwD,EAAW,GACfx4D,EAAI,EAAGA,EAAIw4D,EAAWv4D,OAAQD,IACnCuI,EAAS7D,KAAKzD,KAAKsH,EAAQiwD,EAAWx4D,IAE1C,OAAOuI,CACV,GApCL,kBAyCI,SAAYkwD,EAAaC,GACrB,GAA2B,IAAvBD,EAAYx4D,OACZ,OAAOy4D,EAEX,GAA2B,IAAvBA,EAAYz4D,OACZ,OAAOw4D,EAMX,IAJA,IAAMlwD,EAAS,GACXowD,EAAK,EACLC,EAAK,EACL14C,EAAU,KACPy4C,EAAKF,EAAYx4D,QAAU24D,EAAKF,EAAYz4D,QAAQ,CACvD,IAAI2J,EAAO,KACX,GAAI+uD,EAAKF,EAAYx4D,QAAU24D,EAAKF,EAAYz4D,OAAQ,CACpD,IAAM44D,EAAaJ,EAAYE,GACzBG,EAAaJ,EAAYE,GAC3BC,EAAW/5B,gBAAkBg6B,EAAWh6B,iBACxCl1B,EAAOivD,EACPF,MAGA/uD,EAAOkvD,EACPF,IAEP,MACQD,EAAKF,EAAYx4D,QACtB2J,EAAO6uD,EAAYE,GACnBA,MAGA/uD,EAAO8uD,EAAYE,GACnBA,KAEY,OAAZ14C,EACAA,EAAUtW,EAGNsW,EAAQo4C,wBAA0B1uD,EAAKk1B,gBAEvC5e,EAAU,IAAIm4C,EAAUn4C,EAAQ4e,gBAAiB9f,KAAKuV,IAAIrU,EAAQo4C,uBAAwB1uD,EAAK0uD,0BAI/F/vD,EAAO+B,KAAK4V,GACZA,EAAUtW,EAGrB,CAID,OAHgB,OAAZsW,GACA3X,EAAO+B,KAAK4V,GAET3X,CACV,GA7FL,sBA8FI,SAAgBu2B,EAAiB7+B,GAC7B,OAAO,IAAIo4D,EAAUv5B,EAAiBA,EAAkB7+B,EAC3D,GAhGL,yBAoGI,SAAmB84D,GACf,OAAO,IAAIV,EAAUU,EAAU,GAAIA,EAAU,GAChD,KAtGL,KCJaC,GAAb,GACI,WAAY/pC,EAKZgqC,EAKAC,GAAY,UACRx0D,KAAKuqB,QAAUA,EACfvqB,KAAKu0D,MAAQA,EACbv0D,KAAKw0D,WAAaA,CACrB,IAKQC,GAAb,WAmBI,WAAYC,EAAeC,EAAeC,GAAc,UACpD50D,KAAK00D,cAAgBA,EACrB10D,KAAK20D,cAAgBA,EACrB30D,KAAK40D,aAAeA,CACvB,CAvBL,kCAwBI,WACI,iBAAW50D,KAAK00D,cAAclpD,WAA9B,aAA6CxL,KAAK20D,cAAcnpD,WAAhE,IACH,GA1BL,4BA2BI,WACI,OAAO8O,KAAKuV,IAAI7vB,KAAK00D,cAAcn5D,OAAQyE,KAAK20D,cAAcp5D,OACjE,GA7BL,kBA8BI,WACI,IAAIkf,EACJ,OAAO,IAAIg6C,EAAiBz0D,KAAK20D,cAAe30D,KAAK00D,cAA4C,QAA5Bj6C,EAAKza,KAAK40D,oBAAiC,IAAPn6C,OAAgB,EAASA,EAAG5K,KAAI,SAAAga,GAAC,OAAIA,EAAEgrC,MAAN,IAC7I,IAjCL,sBACI,SAAeC,EAASC,EAAmBC,GACvC,IAD0D,EACpDnxD,EAAS,GACXoxD,EAA4B,EAC5BC,EAA4B,EAH0B,IAI1CJ,GAJ0C,IAI1D,2BAAyB,KAAdnE,EAAc,QACflwD,EAAI,IAAIg0D,EAAiB,IAAId,GAAUsB,EAA2BtE,EAAE+D,cAAct6B,iBAAkB,IAAIu5B,GAAUuB,EAA2BvE,EAAEgE,cAAcv6B,sBAAkBl+B,GAChLuE,EAAEk0D,cAAclkD,SACjB5M,EAAO+B,KAAKnF,GAEhBw0D,EAA4BtE,EAAE+D,cAAcd,uBAC5CsB,EAA4BvE,EAAEgE,cAAcf,sBAC/C,CAXyD,+BAY1D,IAAMnzD,EAAI,IAAIg0D,EAAiB,IAAId,GAAUsB,EAA2BF,EAAoB,GAAI,IAAIpB,GAAUuB,EAA2BF,EAAoB,QAAI94D,GAIjK,OAHKuE,EAAEk0D,cAAclkD,SACjB5M,EAAO+B,KAAKnF,GAEToD,CACV,KAlBL,KAsCasxD,GAAb,WACI,WAAYT,EAAeC,GAAe,UACtC30D,KAAK00D,cAAgBA,EACrB10D,KAAK20D,cAAgBA,CACxB,CAJL,kCAKI,WACI,iBAAW30D,KAAK00D,cAAclpD,WAA9B,aAA6CxL,KAAK20D,cAAcnpD,WAAhE,IACH,GAPL,kBAQI,WACI,OAAO,IAAI2pD,EAAan1D,KAAK20D,cAAe30D,KAAK00D,cACpD,KAVL,KAYaU,GAAb,WACI,WAAYV,EAAeC,GAAe,UACtC30D,KAAK00D,cAAgBA,EACrB10D,KAAK20D,cAAgBA,CACxB,CAJL,kCAKI,WACI,iBAAW30D,KAAK00D,cAAclpD,WAA9B,aAA6CxL,KAAK20D,cAAcnpD,WAAhE,IACH,GAPL,kBAQI,WACI,OAAO,IAAI4pD,EAAuBp1D,KAAK20D,cAAe30D,KAAK00D,cAC9D,KAVL,KAYaW,GAAb,WACI,WAAYC,EAAkB/qC,GAAS,UACnCvqB,KAAKs1D,iBAAmBA,EACxBt1D,KAAKuqB,QAAUA,CAClB,CAJL,8BAKI,WACI,OAAO,IAAI8qC,EAAUr1D,KAAKs1D,iBAAiBT,OAAQ70D,KAAKuqB,QAAQ1a,KAAI,SAAAga,GAAC,OAAIA,EAAEgrC,MAAN,IACxE,KAPL,KC5EaU,GAAb,uEACI,SAAYC,EAAeC,EAAetgD,GACtC,IAAIsF,EAD2C,EASzC5W,EAPe,IAAI6xD,GAAaF,EAAeC,EAAe,CAChEE,mBAAoBxgD,EAAQygD,qBAC5BC,2BAA4B1gD,EAAQ2gD,qBACpCC,0BAA0B,EAC1BC,sBAAsB,EACtBC,8BAA8B,IAENC,cACtB3rC,EAAU,GACZ4rC,EAAa,KAX8B,IAY/BtyD,EAAO0mB,SAZwB,IAY/C,2BAAgC,KAArBV,EAAqB,QACxB6qC,OAAa,EAGbA,EAF4B,IAA5B7qC,EAAEusC,sBAEc,IAAIzC,GAAU9pC,EAAEwsC,wBAA0B,EAAGxsC,EAAEwsC,wBAA0B,GAGzE,IAAI1C,GAAU9pC,EAAEwsC,wBAAyBxsC,EAAEusC,sBAAwB,GAEvF,IAAIzB,OAAa,EAGbA,EAF4B,IAA5B9qC,EAAEysC,sBAEc,IAAI3C,GAAU9pC,EAAE0sC,wBAA0B,EAAG1sC,EAAE0sC,wBAA0B,GAGzE,IAAI5C,GAAU9pC,EAAE0sC,wBAAyB1sC,EAAEysC,sBAAwB,GAEvF,IAAI1lC,EAAS,IAAI6jC,GAAiBC,EAAeC,EAAwC,QAAxBl6C,EAAKoP,EAAE2sC,mBAAgC,IAAP/7C,OAAgB,EAASA,EAAG5K,KAAI,SAAAga,GAAC,OAAI,IAAIsrC,GAAa,IAAIh7B,GAAMtQ,EAAEwsC,wBAAyBxsC,EAAE4sC,oBAAqB5sC,EAAEusC,sBAAuBvsC,EAAE6sC,mBAAoB,IAAIv8B,GAAMtQ,EAAE0sC,wBAAyB1sC,EAAE8sC,oBAAqB9sC,EAAEysC,sBAAuBzsC,EAAE+sC,mBAAvN,KAC9HT,IACIA,EAAWxB,cAAcf,yBAA2BhjC,EAAO+jC,cAAcv6B,iBACtE+7B,EAAWzB,cAAcd,yBAA2BhjC,EAAO8jC,cAAct6B,kBAE5ExJ,EAAS,IAAI6jC,GAAiB0B,EAAWzB,cAAcn4D,KAAKq0B,EAAO8jC,eAAgByB,EAAWxB,cAAcp4D,KAAKq0B,EAAO+jC,eAAgBwB,EAAWvB,cAAgBhkC,EAAOgkC,aACtKuB,EAAWvB,aAAa9kD,OAAO8gB,EAAOgkC,mBAAgB14D,GAC1DquB,EAAQrjB,QAGhBqjB,EAAQ3kB,KAAKgrB,GACbulC,EAAavlC,CAChB,CAzC8C,+BAgD/C,OANAigC,IAAS,WACL,OAAOC,GAAmBvmC,GAAS,SAACssC,EAAIC,GAAL,OAAYA,EAAGpC,cAAct6B,gBAAkBy8B,EAAGnC,cAAcd,yBAA2BkD,EAAGnC,cAAcv6B,gBAAkBy8B,EAAGlC,cAAcf,wBAE9KiD,EAAGnC,cAAcd,uBAAyBkD,EAAGpC,cAAct6B,iBAC3Dy8B,EAAGlC,cAAcf,uBAAyBkD,EAAGnC,cAAcv6B,eAH5B,GAItC,IACM,IAAIk6B,GAAU/pC,EAAS,GAAI1mB,EAAO4pB,UAC5C,KAlDL,KAoDA,SAASyoC,GAAYxqC,EAAkBC,EAAkBC,EAA6BxB,GAElF,OADiB,IAAIC,GAAQqB,EAAkBC,EAAkBC,GACjDtB,YAAYF,EAC/B,KACK2sC,GAAAA,WACF,WAAYn4B,GAAO,UAGf,IAFA,IAAMo4B,EAAe,GACfC,EAAa,GACV37D,EAAI,EAAGC,EAASqjC,EAAMrjC,OAAQD,EAAIC,EAAQD,IAC/C07D,EAAa17D,GAAK47D,GAAuBt4B,EAAMtjC,GAAI,GACnD27D,EAAW37D,GAAK67D,GAAsBv4B,EAAMtjC,GAAI,GAEpD0E,KAAK4+B,MAAQA,EACb5+B,KAAKo3D,cAAgBJ,EACrBh3D,KAAKq3D,YAAcJ,CACtB,sCACD,WAEI,IADA,IAAMxjC,EAAW,GACRn4B,EAAI,EAAG2P,EAAMjL,KAAK4+B,MAAMrjC,OAAQD,EAAI2P,EAAK3P,IAC9Cm4B,EAASn4B,GAAK0E,KAAK4+B,MAAMtjC,GAAGi8B,UAAUv3B,KAAKo3D,cAAc97D,GAAK,EAAG0E,KAAKq3D,YAAY/7D,GAAK,GAE3F,OAAOm4B,CACV,iCACD,SAAiBpjB,GACb,OAAOrQ,KAAK4+B,MAAMvuB,EACrB,mCACD,SAAmB/U,GACf,OAAOA,EAAI,CACd,iCACD,SAAiBA,GACb,OAAOA,EAAI,CACd,mCACD,SAAmBu6D,EAA4B/3B,EAAYu0B,GAKvD,IAJA,IAAMiF,EAAY,GACZC,EAAc,GACdC,EAAU,GACZvsD,EAAM,EACDoF,EAAQytB,EAAYztB,GAASgiD,EAAUhiD,IAAS,CAIrD,IAHA,IAAM8hD,EAAcnyD,KAAK4+B,MAAMvuB,GACzBgqB,EAAew7B,EAA6B71D,KAAKo3D,cAAc/mD,GAAS,EACxEkqB,EAAas7B,EAA6B71D,KAAKq3D,YAAYhnD,GAAS8hD,EAAY52D,OAAS,EACtF4mC,EAAM9H,EAAa8H,EAAM5H,EAAW4H,IACzCm1B,EAAUrsD,GAAOknD,EAAY32D,WAAW2mC,EAAM,GAC9Co1B,EAAYtsD,GAAOoF,EAAQ,EAC3BmnD,EAAQvsD,GAAOk3B,EACfl3B,KAEC4qD,GAA8BxlD,EAAQgiD,IAEvCiF,EAAUrsD,GAAO,GACjBssD,EAAYtsD,GAAOoF,EAAQ,EAC3BmnD,EAAQvsD,GAAOknD,EAAY52D,OAAS,EACpC0P,IAEP,CACD,OAAO,IAAIwsD,GAAaH,EAAWC,EAAaC,EACnD,OApDCT,GAsDAU,GAAAA,WACF,WAAYH,EAAWC,EAAaC,GAAS,UACzCx3D,KAAK03D,WAAaJ,EAClBt3D,KAAK23D,aAAeJ,EACpBv3D,KAAK43D,SAAWJ,CACnB,mCACD,WAAW,WACP,MAAQ,IAAMx3D,KAAK03D,WAAW7nD,KAAI,SAAChD,EAAGyqB,GAAJ,OAAmB,KAANzqB,EAAmC,MAAQ1C,OAAOkX,aAAaxU,IAAhE,YAA2E,EAAK8qD,aAAargC,GAA7F,YAAqG,EAAKsgC,SAAStgC,GAAnH,IAAZ,IAAwI/6B,KAAK,MAAQ,GAC1L,6BACD,SAAa8T,EAAOrF,GAChB,GAAIqF,EAAQ,GAAKA,GAASrF,EAAIzP,OAC1B,MAAM,IAAI8I,MAAJ,gBAEb,4BACD,WACI,OAAOrE,KAAK03D,UACf,mCACD,SAAmBp8D,GACf,OAAIA,EAAI,GAAKA,IAAM0E,KAAK23D,aAAap8D,OAG1ByE,KAAK63D,iBAAiBv8D,EAAI,IAErC0E,KAAK83D,aAAax8D,EAAG0E,KAAK23D,cACnB33D,KAAK23D,aAAar8D,GAC5B,iCACD,SAAiBA,GACb,OAAW,IAAPA,EAGO0E,KAAK+3D,mBAAmBz8D,EAAI,IAEvC0E,KAAK83D,aAAax8D,EAAG0E,KAAK23D,cACC,KAAvB33D,KAAK03D,WAAWp8D,GACT0E,KAAK23D,aAAar8D,GAAK,EAE3B0E,KAAK23D,aAAar8D,GAC5B,+BACD,SAAeA,GACX,OAAIA,EAAI,GAAKA,IAAM0E,KAAK43D,SAASr8D,OAGtByE,KAAKg4D,aAAa18D,EAAI,IAEjC0E,KAAK83D,aAAax8D,EAAG0E,KAAK43D,UACnB53D,KAAK43D,SAASt8D,GACxB,6BACD,SAAaA,GACT,OAAW,IAAPA,EAGO0E,KAAKi4D,eAAe38D,EAAI,IAEnC0E,KAAK83D,aAAax8D,EAAG0E,KAAK43D,UACC,KAAvB53D,KAAK03D,WAAWp8D,GACT,EAEJ0E,KAAK43D,SAASt8D,GAAK,EAC7B,OA1DCm8D,GA4DAS,GAAAA,WACF,WAAY7B,EAAyBI,EAAqBL,EAAuBM,EAAmBH,EAAyBI,EAAqBL,EAAuBM,GAAmB,UACxL52D,KAAKq2D,wBAA0BA,EAC/Br2D,KAAKy2D,oBAAsBA,EAC3Bz2D,KAAKo2D,sBAAwBA,EAC7Bp2D,KAAK02D,kBAAoBA,EACzB12D,KAAKu2D,wBAA0BA,EAC/Bv2D,KAAK22D,oBAAsBA,EAC3B32D,KAAKs2D,sBAAwBA,EAC7Bt2D,KAAK42D,kBAAoBA,CAC5B,oDACD,SAA4BuB,EAAYC,EAAsBC,GAS1D,OAAO,IAAIH,EARqBE,EAAqBL,mBAAmBI,EAAWvxC,eACvDwxC,EAAqBH,eAAeE,EAAWvxC,eAC7CwxC,EAAqBP,iBAAiBM,EAAWvxC,cAAgBuxC,EAAWtxC,eAAiB,GACjGuxC,EAAqBJ,aAAaG,EAAWvxC,cAAgBuxC,EAAWtxC,eAAiB,GACnFwxC,EAAqBN,mBAAmBI,EAAWrxC,eACvDuxC,EAAqBJ,eAAeE,EAAWrxC,eAC7CuxC,EAAqBR,iBAAiBM,EAAWrxC,cAAgBqxC,EAAWpxC,eAAiB,GACjGsxC,EAAqBL,aAAaG,EAAWrxC,cAAgBqxC,EAAWpxC,eAAiB,GAEtH,OArBCmxC,OAgDAI,GAAAA,WACF,WAAYjC,EAAyBD,EAAuBG,EAAyBD,EAAuBE,GAAa,UACrHx2D,KAAKq2D,wBAA0BA,EAC/Br2D,KAAKo2D,sBAAwBA,EAC7Bp2D,KAAKu2D,wBAA0BA,EAC/Bv2D,KAAKs2D,sBAAwBA,EAC7Bt2D,KAAKw2D,YAAcA,CACtB,oDACD,SAA4BX,EAA4BsC,EAAYI,EAAsBC,EAAsBC,EAAkB1C,EAA0BE,GACxJ,IAAII,EACAD,EACAG,EACAD,EACAE,OAAct6D,EAiBlB,GAhBkC,IAA9Bi8D,EAAWtxC,gBACXwvC,EAA0BkC,EAAqBR,mBAAmBI,EAAWvxC,eAAiB,EAC9FwvC,EAAwB,IAGxBC,EAA0BkC,EAAqBR,mBAAmBI,EAAWvxC,eAC7EwvC,EAAwBmC,EAAqBV,iBAAiBM,EAAWvxC,cAAgBuxC,EAAWtxC,eAAiB,IAEvF,IAA9BsxC,EAAWpxC,gBACXwvC,EAA0BiC,EAAqBT,mBAAmBI,EAAWrxC,eAAiB,EAC9FwvC,EAAwB,IAGxBC,EAA0BiC,EAAqBT,mBAAmBI,EAAWrxC,eAC7EwvC,EAAwBkC,EAAqBX,iBAAiBM,EAAWrxC,cAAgBqxC,EAAWpxC,eAAiB,IAErHgvC,GAA4BoC,EAAWtxC,eAAiB,GAAKsxC,EAAWtxC,eAAiB,IAAMsxC,EAAWpxC,eAAiB,GAAKoxC,EAAWpxC,eAAiB,IAAM0xC,IAAoB,CAEtL,IAAML,EAAuBG,EAAqBG,mBAAmB7C,EAA4BsC,EAAWvxC,cAAeuxC,EAAWvxC,cAAgBuxC,EAAWtxC,eAAiB,GAC5KwxC,EAAuBG,EAAqBE,mBAAmB7C,EAA4BsC,EAAWrxC,cAAeqxC,EAAWrxC,cAAgBqxC,EAAWpxC,eAAiB,GAClL,GAAIqxC,EAAqB1kC,cAAcn4B,OAAS,GAAK88D,EAAqB3kC,cAAcn4B,OAAS,EAAG,CAChG,IAAIo9D,EAAazC,GAAYkC,EAAsBC,EAAsBI,GAAkB,GAAMluC,QAC7F0rC,IACA0C,EA9DpB,SAAgCA,GAC5B,GAAIA,EAAWp9D,QAAU,EACrB,OAAOo9D,EAIX,IAFA,IAAM90D,EAAS,CAAC80D,EAAW,IACvBpnC,EAAa1tB,EAAO,GACfvI,EAAI,EAAG2P,EAAM0tD,EAAWp9D,OAAQD,EAAI2P,EAAK3P,IAAK,CACnD,IAAMs9D,EAAaD,EAAWr9D,GACxBu9D,EAAyBD,EAAWhyC,eAAiB2K,EAAW3K,cAAgB2K,EAAW1K,gBAC3FiyC,EAAyBF,EAAW9xC,eAAiByK,EAAWzK,cAAgByK,EAAWxK,gBAE1EzM,KAAKkR,IAAIqtC,EAAwBC,GA7MtB,GAgN9BvnC,EAAW1K,eAAkB+xC,EAAWhyC,cAAgBgyC,EAAW/xC,eAAkB0K,EAAW3K,cAChG2K,EAAWxK,eAAkB6xC,EAAW9xC,cAAgB8xC,EAAW7xC,eAAkBwK,EAAWzK,gBAIhGjjB,EAAO+B,KAAKgzD,GACZrnC,EAAaqnC,EAEpB,CACD,OAAO/0D,CACV,CAsCgCk1D,CAAuBJ,IAExCnC,EAAc,GACd,IAAK,IAAIl7D,EAAI,EAAGC,EAASo9D,EAAWp9D,OAAQD,EAAIC,EAAQD,IACpDk7D,EAAY5wD,KAAKsyD,GAAWc,qBAAqBL,EAAWr9D,GAAI88D,EAAsBC,GAE7F,CACJ,CACD,OAAO,IAAIC,EAAWjC,EAAyBD,EAAuBG,EAAyBD,EAAuBE,EACzH,OA9CC8B,GAgDO5C,GAAb,WACI,WAAYF,EAAeC,EAAewD,GAAM,UAC5Cj5D,KAAK+1D,yBAA2BkD,EAAKlD,yBACrC/1D,KAAKi2D,6BAA+BgD,EAAKhD,6BACzCj2D,KAAK61D,2BAA6BoD,EAAKpD,2BACvC71D,KAAKg2D,qBAAuBiD,EAAKjD,qBACjCh2D,KAAKw1D,cAAgBA,EACrBx1D,KAAKy1D,cAAgBA,EACrBz1D,KAAKkqB,SAAW,IAAI6sC,GAAavB,GACjCx1D,KAAKmqB,SAAW,IAAI4sC,GAAatB,GACjCz1D,KAAKk5D,iBAAmBC,GAAkCF,EAAKtD,oBAC/D31D,KAAKy4D,iBAAmBU,GAA8D,IAA5BF,EAAKtD,mBAA2B,EAAIr7C,KAAKkR,IAAIytC,EAAKtD,mBAAoB,KACnI,CAZL,qCAaI,WACI,GAAmC,IAA/B31D,KAAKkqB,SAAS0U,MAAMrjC,QAAkD,IAAlCyE,KAAKkqB,SAAS0U,MAAM,GAAGrjC,OAE3D,OAAmC,IAA/ByE,KAAKmqB,SAASyU,MAAMrjC,QAAkD,IAAlCyE,KAAKmqB,SAASyU,MAAM,GAAGrjC,OACpD,CACHkyB,WAAW,EACXlD,QAAS,IAGV,CACHkD,WAAW,EACXlD,QAAS,CAAC,CACF8rC,wBAAyB,EACzBD,sBAAuB,EACvBG,wBAAyB,EACzBD,sBAAuBt2D,KAAKmqB,SAASyU,MAAMrjC,OAC3Ci7D,iBAAat6D,KAI7B,GAAmC,IAA/B8D,KAAKmqB,SAASyU,MAAMrjC,QAAkD,IAAlCyE,KAAKmqB,SAASyU,MAAM,GAAGrjC,OAE3D,MAAO,CACHkyB,WAAW,EACXlD,QAAS,CAAC,CACF8rC,wBAAyB,EACzBD,sBAAuBp2D,KAAKkqB,SAAS0U,MAAMrjC,OAC3Cg7D,wBAAyB,EACzBD,sBAAuB,EACvBE,iBAAat6D,KAI7B,IAAMk9D,EAAalD,GAAYl2D,KAAKkqB,SAAUlqB,KAAKmqB,SAAUnqB,KAAKk5D,iBAAkBl5D,KAAKg2D,sBACnF2C,EAAaS,EAAW7uC,QACxBkD,EAAY2rC,EAAW3rC,UAG7B,GAAIztB,KAAK61D,2BAA4B,CAEjC,IADA,IAAMwD,EAAc,GACX/9D,EAAI,EAAGC,EAASo9D,EAAWp9D,OAAQD,EAAIC,EAAQD,IACpD+9D,EAAYzzD,KAAK0yD,GAAWgB,qBAAqBt5D,KAAK61D,2BAA4B8C,EAAWr9D,GAAI0E,KAAKkqB,SAAUlqB,KAAKmqB,SAAUnqB,KAAKy4D,iBAAkBz4D,KAAK+1D,yBAA0B/1D,KAAKi2D,+BAE9L,MAAO,CACHxoC,UAAWA,EACXlD,QAAS8uC,EAEhB,CAMD,IAHA,IAAMx1D,EAAS,GACX01D,EAAoB,EACpBC,EAAoB,EACfl+D,GAAK,EAAc2P,EAAM0tD,EAAWp9D,OAAQD,EAAI2P,EAAK3P,IAAK,CAI/D,IAHA,IAAMm+D,EAAcn+D,EAAI,EAAI2P,EAAM0tD,EAAWr9D,EAAI,GAAK,KAChDu1B,EAAgB4oC,EAAaA,EAAW7yC,cAAgB5mB,KAAKw1D,cAAcj6D,OAC3Eu1B,EAAgB2oC,EAAaA,EAAW3yC,cAAgB9mB,KAAKy1D,cAAcl6D,OAC1Eg+D,EAAoB1oC,GAAgB2oC,EAAoB1oC,GAAc,CACzE,IAAM4oC,EAAe15D,KAAKw1D,cAAc+D,GAClCI,EAAe35D,KAAKy1D,cAAc+D,GACxC,GAAIE,IAAiBC,EAAc,CAM3B,IAFA,IAAIlD,EAAsBS,GAAuBwC,EAAc,GAC3D/C,EAAsBO,GAAuByC,EAAc,GACxDlD,EAAsB,GAAKE,EAAsB,GAAG,CAGvD,GAFqB+C,EAAal+D,WAAWi7D,EAAsB,KAC9CkD,EAAan+D,WAAWm7D,EAAsB,GAE/D,MAEJF,IACAE,GACH,EACGF,EAAsB,GAAKE,EAAsB,IACjD32D,KAAK45D,8BAA8B/1D,EAAQ01D,EAAoB,EAAG,EAAG9C,EAAqB+C,EAAoB,EAAG,EAAG7C,GASxH,IAJA,IAAID,EAAoBS,GAAsBuC,EAAc,GACxD9C,EAAoBO,GAAsBwC,EAAc,GACtDE,EAAoBH,EAAan+D,OAAS,EAC1Cu+D,EAAoBH,EAAap+D,OAAS,EACzCm7D,EAAoBmD,GAAqBjD,EAAoBkD,GAAmB,CAGnF,GAFqBJ,EAAal+D,WAAWk7D,EAAoB,KAC5CgD,EAAal+D,WAAWo7D,EAAoB,GAE7D,MAEJF,IACAE,GACH,EACGF,EAAoBmD,GAAqBjD,EAAoBkD,IAC7D95D,KAAK45D,8BAA8B/1D,EAAQ01D,EAAoB,EAAG7C,EAAmBmD,EAAmBL,EAAoB,EAAG5C,EAAmBkD,EAG7J,CACDP,IACAC,GACH,CACGC,IAEA51D,EAAO+B,KAAK0yD,GAAWgB,qBAAqBt5D,KAAK61D,2BAA4B4D,EAAYz5D,KAAKkqB,SAAUlqB,KAAKmqB,SAAUnqB,KAAKy4D,iBAAkBz4D,KAAK+1D,yBAA0B/1D,KAAKi2D,+BAClLsD,GAAqBE,EAAW5yC,eAChC2yC,GAAqBC,EAAW1yC,eAEvC,CACD,MAAO,CACH0G,UAAWA,EACXlD,QAAS1mB,EAEhB,GA9HL,2CA+HI,SAA8BA,EAAQk2D,EAAoBtD,EAAqBC,EAAmBsD,EAAoBrD,EAAqBC,GACvI,IAAI52D,KAAKi6D,+BAA+Bp2D,EAAQk2D,EAAoBtD,EAAqBC,EAAmBsD,EAAoBrD,EAAqBC,GAArJ,CAIA,IAAIJ,OAAct6D,EACd8D,KAAK+1D,2BACLS,EAAc,CAAC,IAAI0B,GAAW6B,EAAoBtD,EAAqBsD,EAAoBrD,EAAmBsD,EAAoBrD,EAAqBqD,EAAoBpD,KAE/K/yD,EAAO+B,KAAK,IAAI0yD,GAAWyB,EAAoBA,EAAoBC,EAAoBA,EAAoBxD,GAL1G,CAMJ,GAzIL,4CA0II,SAA+B3yD,EAAQk2D,EAAoBtD,EAAqBC,EAAmBsD,EAAoBrD,EAAqBC,GACxI,IAAM3rD,EAAMpH,EAAOtI,OACnB,GAAY,IAAR0P,EACA,OAAO,EAEX,IAAMsmB,EAAa1tB,EAAOoH,EAAM,GAChC,OAAyC,IAArCsmB,EAAW6kC,uBAAoE,IAArC7kC,EAAW+kC,wBAIrD/kC,EAAW6kC,wBAA0B2D,GAAsBxoC,EAAW+kC,wBAA0B0D,GAC5Fh6D,KAAK+1D,0BAA4BxkC,EAAWilC,aAC5CjlC,EAAWilC,YAAY5wD,KAAK,IAAIsyD,GAAW6B,EAAoBtD,EAAqBsD,EAAoBrD,EAAmBsD,EAAoBrD,EAAqBqD,EAAoBpD,KAErL,GAEPrlC,EAAW6kC,sBAAwB,IAAM2D,GAAsBxoC,EAAW+kC,sBAAwB,IAAM0D,IACxGzoC,EAAW6kC,sBAAwB2D,EACnCxoC,EAAW+kC,sBAAwB0D,EAC/Bh6D,KAAK+1D,0BAA4BxkC,EAAWilC,aAC5CjlC,EAAWilC,YAAY5wD,KAAK,IAAIsyD,GAAW6B,EAAoBtD,EAAqBsD,EAAoBrD,EAAmBsD,EAAoBrD,EAAqBqD,EAAoBpD,KAErL,GAGd,KAnKL,KAqKA,SAASM,GAAuBgD,EAAKx4B,GACjC,IAAMjhC,EpCtRH,SAAiCwgB,GACpC,IAAK,IAAI3lB,EAAI,EAAG2P,EAAMgW,EAAI1lB,OAAQD,EAAI2P,EAAK3P,IAAK,CAC5C,IAAMknC,EAASvhB,EAAIzlB,WAAWF,GAC9B,GAAe,KAAXknC,GAAiD,IAAXA,EACtC,OAAOlnC,CAEd,CACD,OAAQ,CACX,CoC8Qa2pB,CAAgCi1C,GAC1C,OAAW,IAAPz5D,EACOihC,EAEJjhC,EAAI,CACd,CACD,SAAS02D,GAAsB+C,EAAKx4B,GAChC,IAAMjhC,EpCnQH,SAAgCwgB,GACnC,IADqE,IAC5D3lB,EAD4D,uDAAhB2lB,EAAI1lB,OAAS,EACzCD,GAAK,EAAGA,IAAK,CAClC,IAAMknC,EAASvhB,EAAIzlB,WAAWF,GAC9B,GAAe,KAAXknC,GAAiD,IAAXA,EACtC,OAAOlnC,CAEd,CACD,OAAQ,CACX,CoC2Pa2pB,CAA+Bi1C,GACzC,OAAW,IAAPz5D,EACOihC,EAEJjhC,EAAI,CACd,CACD,SAAS04D,GAAkCgB,GACvC,GAAuB,IAAnBA,EACA,OAAO,kBAAM,CAAN,EAEX,IAAMC,EAAY5lD,KAAKJ,MACvB,OAAO,WACH,OAAOI,KAAKJ,MAAQgmD,EAAYD,CACnC,CACJ,CCxcM,IAAME,GAAb,WAyBI,WAAYz8D,EAAO08D,GAGf,GAH6B,UAC7Bt6D,KAAKpC,MAAQA,EACboC,KAAKs6D,aAAeA,EAChB18D,EAAQ08D,EACR,MAAM,IAAI9qD,EAAJ,yBAAyCxP,KAAKwL,YAE3D,CA/BL,+BAgCI,WACI,OAAOxL,KAAKpC,QAAUoC,KAAKs6D,YAC9B,GAlCL,mBAmCI,SAAMp5C,GACF,OAAO,IAAIm5C,EAAYr6D,KAAKpC,MAAQsjB,EAAQlhB,KAAKs6D,aAAep5C,EACnE,GArCL,kBAsCI,WACI,OAAOlhB,KAAKs6D,aAAet6D,KAAKpC,KACnC,GAxCL,sBAyCI,WACI,iBAAWoC,KAAKpC,MAAhB,aAA0BoC,KAAKs6D,aAA/B,IACH,GA3CL,oBA4CI,SAAOxgC,GACH,OAAO95B,KAAKpC,QAAUk8B,EAAMl8B,OAASoC,KAAKs6D,eAAiBxgC,EAAMwgC,YACpE,GA9CL,2BA+CI,SAAcxgC,GACV,OAAO95B,KAAKpC,OAASk8B,EAAMl8B,OAASk8B,EAAMwgC,cAAgBt6D,KAAKs6D,YAClE,GAjDL,kBAsDI,SAAKxgC,GACD,OAAO,IAAIugC,EAAY//C,KAAKkR,IAAIxrB,KAAKpC,MAAOk8B,EAAMl8B,OAAQ0c,KAAKuV,IAAI7vB,KAAKs6D,aAAcxgC,EAAMwgC,cAC/F,GAxDL,uBA+DI,SAAUxgC,GACN,IAAMl8B,EAAQ0c,KAAKuV,IAAI7vB,KAAKpC,MAAOk8B,EAAMl8B,OACnCJ,EAAM8c,KAAKkR,IAAIxrB,KAAKs6D,aAAcxgC,EAAMwgC,cAC9C,GAAI18D,GAASJ,EACT,OAAO,IAAI68D,EAAYz8D,EAAOJ,EAGrC,IAtEL,uBACI,SAAgBk9B,EAAO6/B,GAEnB,IADA,IAAIj/D,EAAI,EACDA,EAAIi/D,EAAah/D,QAAUg/D,EAAaj/D,GAAGg/D,aAAe5/B,EAAM98B,OACnEtC,IAGJ,IADA,IAAIouB,EAAIpuB,EACDouB,EAAI6wC,EAAah/D,QAAUg/D,EAAa7wC,GAAG9rB,OAAS88B,EAAM4/B,cAC7D5wC,IAEJ,GAAIpuB,IAAMouB,EACN6wC,EAAa36C,OAAOtkB,EAAG,EAAGo/B,OAEzB,CACD,IAAM98B,EAAQ0c,KAAKkR,IAAIkP,EAAM98B,MAAO28D,EAAaj/D,GAAGsC,OAC9CJ,EAAM8c,KAAKuV,IAAI6K,EAAM4/B,aAAcC,EAAa7wC,EAAI,GAAG4wC,cAC7DC,EAAa36C,OAAOtkB,EAAGouB,EAAIpuB,EAAG,IAAI++D,EAAYz8D,EAAOJ,GACxD,CACJ,GAlBL,uBAmBI,SAAiBI,EAAO08D,GACpB,KAAI18D,EAAQ08D,GAGZ,OAAO,IAAID,EAAYz8D,EAAO08D,EACjC,KAxBL,KCFaE,GAAb,WAOI,WAAYC,EAKZjG,GAAY,UACRx0D,KAAKy6D,MAAQA,EACbz6D,KAAKw0D,WAAaA,CACrB,CAfL,sCACI,SAAekG,EAAMC,GACjB,OAAO,IAAIH,EAAoB,CAAC,IAAII,GAAa,IAAIP,GAAY,EAAGK,EAAKn/D,QAAS,IAAI8+D,GAAY,EAAGM,EAAKp/D,WAAW,EACxH,GAHL,6BAII,SAAuBm/D,EAAMC,GACzB,OAAO,IAAIH,EAAoB,CAAC,IAAII,GAAa,IAAIP,GAAY,EAAGK,EAAKn/D,QAAS,IAAI8+D,GAAY,EAAGM,EAAKp/D,WAAW,EACxH,KANL,KAiBaq/D,GAAb,WACI,WAAYC,EAAWC,GAAW,UAC9B96D,KAAK66D,UAAYA,EACjB76D,KAAK86D,UAAYA,CACpB,CAJL,iCAKI,WACI,OAAO,IAAIF,EAAa56D,KAAK86D,UAAW96D,KAAK66D,UAChD,GAPL,sBAQI,WACI,gBAAU76D,KAAK66D,UAAf,gBAAgC76D,KAAK86D,UACxC,GAVL,kBAWI,SAAKhhC,GACD,OAAO,IAAI8gC,EAAa56D,KAAK66D,UAAUt+D,KAAKu9B,EAAM+gC,WAAY76D,KAAK86D,UAAUv+D,KAAKu9B,EAAMghC,WAC3F,GAbL,mBAcI,SAAM55C,GACF,OAAe,IAAXA,EACOlhB,KAEJ,IAAI46D,EAAa56D,KAAK66D,UAAUvzC,MAAMpG,GAASlhB,KAAK86D,UAAUxzC,MAAMpG,GAC9E,KAnBL,KAqBa65C,GAAb,mEACI,WACI,OAAO,CACV,KAHL,KAKAA,GAAgBlxD,SAAW,IAAIkxD,GACxB,IAAMC,GAAb,WACI,WAAYC,GAIR,GAJiB,UACjBj7D,KAAKi7D,QAAUA,EACfj7D,KAAKo6D,UAAY5lD,KAAKJ,MACtBpU,KAAKk7D,OAAQ,EACTD,GAAW,EACX,MAAM,IAAIzrD,EAAmB,2BAEpC,CARL,iCAUI,WAOI,QANcgF,KAAKJ,MAAQpU,KAAKo6D,UAAYp6D,KAAKi7D,UACnCj7D,KAAKk7D,QACfl7D,KAAKk7D,OAAQ,GAIVl7D,KAAKk7D,KACf,KAlBL,KC9CaC,GAAb,WACI,WAAYC,EAAOC,GAAQ,UACvBr7D,KAAKo7D,MAAQA,EACbp7D,KAAKq7D,OAASA,EACdr7D,KAAKyvC,MAAQ,GACbzvC,KAAKyvC,MAAQ,IAAItkC,MAAMiwD,EAAQC,EAClC,CANL,6BAOI,SAAI/pD,EAAGgqD,GACH,OAAOt7D,KAAKyvC,MAAMn+B,EAAIgqD,EAAIt7D,KAAKo7D,MAClC,GATL,iBAUI,SAAI9pD,EAAGgqD,EAAG16D,GACNZ,KAAKyvC,MAAMn+B,EAAIgqD,EAAIt7D,KAAKo7D,OAASx6D,CACpC,KAZL,KCOa26D,GAAb,mEACI,SAAQC,EAAWC,GAA8D,IAAnDR,EAAmD,uDAAzCF,GAAgBlxD,SAAU6xD,EAAe,uCAC7E,GAAyB,IAArBF,EAAUjgE,QAAqC,IAArBkgE,EAAUlgE,OACpC,OAAOi/D,GAAoBmB,QAAQH,EAAWC,GASlD,IAJA,IAAMG,EAAa,IAAIT,GAAQK,EAAUjgE,OAAQkgE,EAAUlgE,QACrDsgE,EAAa,IAAIV,GAAQK,EAAUjgE,OAAQkgE,EAAUlgE,QACrDugE,EAAU,IAAIX,GAAQK,EAAUjgE,OAAQkgE,EAAUlgE,QAE/CwgE,EAAK,EAAGA,EAAKP,EAAUjgE,OAAQwgE,IACpC,IAAK,IAAIC,EAAK,EAAGA,EAAKP,EAAUlgE,OAAQygE,IAAM,CAC1C,IAAKf,EAAQgB,UACT,OAAOzB,GAAoB0B,gBAAgBV,EAAWC,GAE1D,IAAMU,EAAuB,IAAPJ,EAAW,EAAIH,EAAW/7D,IAAIk8D,EAAK,EAAGC,GACtDI,EAAqB,IAAPJ,EAAW,EAAIJ,EAAW/7D,IAAIk8D,EAAIC,EAAK,GACvDK,OAAgB,EAChBb,EAAUc,WAAWP,KAAQN,EAAUa,WAAWN,IAE9CK,EADO,IAAPN,GAAmB,IAAPC,EACO,EAGAJ,EAAW/7D,IAAIk8D,EAAK,EAAGC,EAAK,GAE/CD,EAAK,GAAKC,EAAK,GAAwC,IAAnCH,EAAWh8D,IAAIk8D,EAAK,EAAGC,EAAK,KAEhDK,GAAoBP,EAAQj8D,IAAIk8D,EAAK,EAAGC,EAAK,IAEjDK,GAAqBX,EAAgBA,EAAcK,EAAIC,GAAM,GAG7DK,GAAoB,EAExB,IAAMz8B,EAAWtlB,KAAKuV,IAAIssC,EAAeC,EAAaC,GACtD,GAAIz8B,IAAay8B,EAAkB,CAE/B,IAAME,EAAUR,EAAK,GAAKC,EAAK,EAAIF,EAAQj8D,IAAIk8D,EAAK,EAAGC,EAAK,GAAK,EACjEF,EAAQ5tD,IAAI6tD,EAAIC,EAAIO,EAAU,GAC9BV,EAAW3tD,IAAI6tD,EAAIC,EAAI,EAC1B,MACQp8B,IAAau8B,GAClBL,EAAQ5tD,IAAI6tD,EAAIC,EAAI,GACpBH,EAAW3tD,IAAI6tD,EAAIC,EAAI,IAElBp8B,IAAaw8B,IAClBN,EAAQ5tD,IAAI6tD,EAAIC,EAAI,GACpBH,EAAW3tD,IAAI6tD,EAAIC,EAAI,IAE3BJ,EAAW1tD,IAAI6tD,EAAIC,EAAIp8B,EAC1B,CAGL,IAAM/7B,EAAS,GACX24D,EAAoBhB,EAAUjgE,OAC9BkhE,EAAoBhB,EAAUlgE,OAClC,SAASmhE,EAAkCX,EAAIC,GACvCD,EAAK,IAAMS,GAAqBR,EAAK,IAAMS,GAC3C54D,EAAO+B,KAAK,IAAIg1D,GAAa,IAAIP,GAAY0B,EAAK,EAAGS,GAAoB,IAAInC,GAAY2B,EAAK,EAAGS,KAErGD,EAAoBT,EACpBU,EAAoBT,CACvB,CAGD,IAFA,IAAID,EAAKP,EAAUjgE,OAAS,EACxBygE,EAAKP,EAAUlgE,OAAS,EACrBwgE,GAAM,GAAKC,GAAM,GACW,IAA3BH,EAAWh8D,IAAIk8D,EAAIC,IACnBU,EAAkCX,EAAIC,GACtCD,IACAC,KAG+B,IAA3BH,EAAWh8D,IAAIk8D,EAAIC,GACnBD,IAGAC,IAMZ,OAFAU,GAAmC,GAAI,GACvC74D,EAAOoD,UACA,IAAIuzD,GAAoB32D,GAAQ,EAC1C,KArFL,KCLO,SAAS84D,GAAsBnB,EAAWC,EAAWmB,GACxD,IAAI/4D,EAAS+4D,EAGb,OAFA/4D,EAiCG,SAA2B23D,EAAWC,EAAWmB,GACpD,IAAM/4D,EAAS,GACX+4D,EAAcrhE,OAAS,GACvBsI,EAAO+B,KAAKg3D,EAAc,IAG9B,IAAK,IAAIthE,EAAI,EAAGA,EAAIshE,EAAcrhE,OAAQD,IAAK,CAC3C,IAAMuhE,EAAaD,EAActhE,EAAI,GACjC2a,EAAM2mD,EAActhE,GACxB,GAAI2a,EAAI4kD,UAAUpqD,SAAWwF,EAAI6kD,UAAUrqD,QAAS,CAChD,IAAMlV,EAAS0a,EAAI4kD,UAAUj9D,MAAQi/D,EAAWhC,UAAUP,aACtDh7D,OAAC,EACL,IAAKA,EAAI,EAAGA,GAAK/D,IACTigE,EAAUc,WAAWrmD,EAAI4kD,UAAUj9D,MAAQ0B,KAAOk8D,EAAUc,WAAWrmD,EAAI4kD,UAAUP,aAAeh7D,IACpGm8D,EAAUa,WAAWrmD,EAAI6kD,UAAUl9D,MAAQ0B,KAAOm8D,EAAUa,WAAWrmD,EAAI6kD,UAAUR,aAAeh7D,IAFnFA,KAOzB,KADAA,IACU/D,EAAQ,CAEdsI,EAAOA,EAAOtI,OAAS,GAAK,IAAIq/D,GAAa,IAAIP,GAAYwC,EAAWhC,UAAUj9D,MAAOqY,EAAI4kD,UAAUP,aAAe/+D,GAAS,IAAI8+D,GAAYwC,EAAW/B,UAAUl9D,MAAOqY,EAAI6kD,UAAUR,aAAe/+D,IACxM,QACH,CACD0a,EAAMA,EAAIqR,OAAOhoB,EACpB,CACDuE,EAAO+B,KAAKqQ,EACf,CAGD,IAFA,IAAM6mD,EAAU,GAEPxhE,EAAI,EAAGA,EAAIuI,EAAOtI,OAAS,EAAGD,IAAK,CACxC,IAAMyhE,EAAal5D,EAAOvI,EAAI,GAC1B2a,EAAMpS,EAAOvI,GACjB,GAAI2a,EAAI4kD,UAAUpqD,SAAWwF,EAAI6kD,UAAUrqD,QAAS,CAChD,IAAMlV,EAASwhE,EAAWlC,UAAUj9D,MAAQqY,EAAI4kD,UAAUP,aACtDh7D,OAAC,EACL,IAAKA,EAAI,EAAGA,EAAI/D,IACRigE,EAAUc,WAAWrmD,EAAI4kD,UAAUj9D,MAAQ0B,KAAOk8D,EAAUc,WAAWrmD,EAAI4kD,UAAUP,aAAeh7D,IACpGm8D,EAAUa,WAAWrmD,EAAI6kD,UAAUl9D,MAAQ0B,KAAOm8D,EAAUa,WAAWrmD,EAAI6kD,UAAUR,aAAeh7D,IAFpFA,KAMxB,GAAIA,IAAM/D,EAAQ,CAEdsI,EAAOvI,EAAI,GAAK,IAAIs/D,GAAa,IAAIP,GAAYpkD,EAAI4kD,UAAUj9D,MAAQrC,EAAQwhE,EAAWlC,UAAUP,cAAe,IAAID,GAAYpkD,EAAI6kD,UAAUl9D,MAAQrC,EAAQwhE,EAAWjC,UAAUR,eACtL,QACH,CACGh7D,EAAI,IACJ2W,EAAMA,EAAIqR,MAAMhoB,GAEvB,CACDw9D,EAAQl3D,KAAKqQ,EAChB,CACGpS,EAAOtI,OAAS,GAChBuhE,EAAQl3D,KAAK/B,EAAOA,EAAOtI,OAAS,IAExC,OAAOuhE,CACV,CA1FYE,CAAkBxB,EAAWC,EAAW53D,GACjDA,EAuGG,SAA4B23D,EAAWC,EAAWmB,GACrD,IAAKpB,EAAUyB,mBAAqBxB,EAAUwB,iBAC1C,OAAOL,EAEX,IAAK,IAAIthE,EAAI,EAAGA,EAAIshE,EAAcrhE,OAAQD,IAAK,CAC3C,IAAM4hE,EAAY5hE,EAAI,EAAIshE,EAActhE,EAAI,QAAKY,EAC3C45C,EAAO8mB,EAActhE,GACrB6hE,EAAY7hE,EAAI,EAAIshE,EAAcrhE,OAASqhE,EAActhE,EAAI,QAAKY,EAClEkhE,EAAiB,IAAI/C,GAAY6C,EAAWA,EAASrC,UAAUj9D,MAAQ,EAAI,EAAGu/D,EAAWA,EAAStC,UAAUP,aAAe,EAAIkB,EAAUjgE,QACzI8hE,EAAiB,IAAIhD,GAAY6C,EAAWA,EAASpC,UAAUl9D,MAAQ,EAAI,EAAGu/D,EAAWA,EAASrC,UAAUR,aAAe,EAAImB,EAAUlgE,QAC3Iu6C,EAAK+kB,UAAUpqD,QACfmsD,EAActhE,GAAKgiE,GAA0BxnB,EAAM0lB,EAAWC,EAAW2B,EAAgBC,GAEpFvnB,EAAKglB,UAAUrqD,UACpBmsD,EAActhE,GAAKgiE,GAA0BxnB,EAAK7uC,UAAWw0D,EAAWD,EAAW6B,EAAgBD,GAAgBn2D,UAE1H,CACD,OAAO21D,CACV,CAzHYW,CAAmB/B,EAAWC,EAAW53D,GAC3CA,CACV,CAwHD,SAASy5D,GAA0BxnB,EAAM0lB,EAAWC,EAAW2B,EAAgBC,GAI3E,IAHA,IAEIG,EAAc,EACX1nB,EAAK+kB,UAAUj9D,MAAQ4/D,GAAeJ,EAAex/D,OACxDk4C,EAAKglB,UAAUl9D,MAAQ4/D,GAAeH,EAAez/D,OACrD69D,EAAUa,WAAWxmB,EAAKglB,UAAUl9D,MAAQ4/D,KACxC/B,EAAUa,WAAWxmB,EAAKglB,UAAUR,aAAekD,IAAgBA,EANrD,KAOlBA,IAEJA,IAEA,IADA,IAAIC,EAAa,EACV3nB,EAAK+kB,UAAUj9D,MAAQ6/D,EAAaL,EAAe9C,cACtDxkB,EAAKglB,UAAUR,aAAemD,EAAaJ,EAAe/C,cAC1DmB,EAAUa,WAAWxmB,EAAKglB,UAAUl9D,MAAQ6/D,KACxChC,EAAUa,WAAWxmB,EAAKglB,UAAUR,aAAemD,IAAeA,EAdpD,KAelBA,IAEJ,GAAoB,IAAhBD,GAAoC,IAAfC,EACrB,OAAO3nB,EAOX,IAHA,IAAItkB,EAAY,EACZC,GAAa,EAERnK,GAASk2C,EAAal2C,GAASm2C,EAAYn2C,IAAS,CACzD,IAAMo2C,EAAkB5nB,EAAKglB,UAAUl9D,MAAQ0pB,EACzCq2C,EAAyB7nB,EAAKglB,UAAUR,aAAehzC,EACvDs2C,EAAa9nB,EAAK+kB,UAAUj9D,MAAQ0pB,EACpCqK,EAAQ6pC,EAAUyB,iBAAiBW,GAAcnC,EAAUwB,iBAAiBS,GAAmBjC,EAAUwB,iBAAiBU,GAC5HhsC,EAAQF,IACRA,EAAYE,EACZH,EAAYlK,EAEnB,CACD,OAAOwuB,EAAKxuB,MAAMkK,EACrB,CC/JM,OAAMqsC,GAAb,mEACI,SAAQnD,EAAMC,GAA0C,IAApCM,EAAoC,uDAA1BF,GAAgBlxD,SAG1C,GAAoB,IAAhB6wD,EAAKn/D,QAAgC,IAAhBo/D,EAAKp/D,OAC1B,OAAOi/D,GAAoBmB,QAAQjB,EAAMC,GAE7C,SAASmD,EAAexsD,EAAGgqD,GACvB,KAAOhqD,EAAIopD,EAAKn/D,QAAU+/D,EAAIX,EAAKp/D,QAAUm/D,EAAK4B,WAAWhrD,KAAOqpD,EAAK2B,WAAWhB,IAChFhqD,IACAgqD,IAEJ,OAAOhqD,CACV,CACD,IAAIhS,EAAI,EAIFy+D,EAAI,IAAIC,GACdD,EAAE7vD,IAAI,EAAG4vD,EAAe,EAAG,IAC3B,IAAMz3C,EAAQ,IAAI43C,GAClB53C,EAAMnY,IAAI,EAAgB,IAAb6vD,EAAEl+D,IAAI,GAAW,KAAO,IAAIq+D,GAAU,KAAM,EAAG,EAAGH,EAAEl+D,IAAI,KACrE,IAAI6iB,EAAI,EACRy7C,EAAM,OAAa,CAEf,GADA7+D,KACK27D,EAAQgB,UACT,OAAOzB,GAAoB0B,gBAAgBxB,EAAMC,GAGrD,IAAMyD,GAAc9jD,KAAKkR,IAAIlsB,EAAGq7D,EAAKp/D,OAAU+D,EAAI,GAC7C++D,EAAa/jD,KAAKkR,IAAIlsB,EAAGo7D,EAAKn/D,OAAU+D,EAAI,GAClD,IAAKojB,EAAI07C,EAAY17C,GAAK27C,EAAY37C,GAAK,EAAG,CAE1C,IAAM47C,EAAiB57C,IAAM27C,GAAc,EAAIN,EAAEl+D,IAAI6iB,EAAI,GACnD67C,EAAkB77C,IAAM07C,GAAc,EAAIL,EAAEl+D,IAAI6iB,EAAI,GAAK,EACzDpR,EAAIgJ,KAAKkR,IAAIlR,KAAKuV,IAAIyuC,EAAgBC,GAAkB7D,EAAKn/D,QAC7D+/D,EAAIhqD,EAAIoR,EACd,KAAIpR,EAAIopD,EAAKn/D,QAAU+/D,EAAIX,EAAKp/D,QAAhC,CAKA,IAAMijE,EAAUV,EAAexsD,EAAGgqD,GAClCyC,EAAE7vD,IAAIwU,EAAG87C,GACT,IAAMC,EAAWntD,IAAMgtD,EAAiBj4C,EAAMxmB,IAAI6iB,EAAI,GAAK2D,EAAMxmB,IAAI6iB,EAAI,GAEzE,GADA2D,EAAMnY,IAAIwU,EAAG87C,IAAYltD,EAAI,IAAI4sD,GAAUO,EAAUntD,EAAGgqD,EAAGkD,EAAUltD,GAAKmtD,GACtEV,EAAEl+D,IAAI6iB,KAAOg4C,EAAKn/D,QAAUwiE,EAAEl+D,IAAI6iB,GAAKA,IAAMi4C,EAAKp/D,OAClD,MAAM4iE,CANT,CAQJ,CACJ,CAKD,IAJA,IAAIxjE,EAAO0rB,EAAMxmB,IAAI6iB,GACf7e,EAAS,GACX24D,EAAoB9B,EAAKn/D,OACzBkhE,EAAoB9B,EAAKp/D,SAChB,CACT,IAAMmjE,EAAO/jE,EAAOA,EAAK2W,EAAI3W,EAAKY,OAAS,EACrCojE,EAAOhkE,EAAOA,EAAK2gE,EAAI3gE,EAAKY,OAAS,EAI3C,GAHImjE,IAASlC,GAAqBmC,IAASlC,GACvC54D,EAAO+B,KAAK,IAAIg1D,GAAa,IAAIP,GAAYqE,EAAMlC,GAAoB,IAAInC,GAAYsE,EAAMlC,MAE5F9hE,EACD,MAEJ6hE,EAAoB7hE,EAAK2W,EACzBmrD,EAAoB9hE,EAAK2gE,EACzB3gE,EAAOA,EAAKyM,IACf,CAED,OADAvD,EAAOoD,UACA,IAAIuzD,GAAoB32D,GAAQ,EAC1C,KAtEL,KAwEMq6D,GAAAA,GACF,WAAY92D,EAAMkK,EAAGgqD,EAAG//D,GAAQ,UAC5ByE,KAAKoH,KAAOA,EACZpH,KAAKsR,EAAIA,EACTtR,KAAKs7D,EAAIA,EACTt7D,KAAKzE,OAASA,CACjB,IAKCyiE,GAAAA,WACF,aAAc,UACVh+D,KAAK4+D,YAAc,IAAI50C,WAAW,IAClChqB,KAAK6+D,YAAc,IAAI70C,WAAW,GACrC,8BACD,SAAIsN,GACA,OAAIA,EAAM,GACNA,GAAOA,EAAM,EACNt3B,KAAK6+D,YAAYvnC,IAGjBt3B,KAAK4+D,YAAYtnC,EAE/B,oBACD,SAAIA,EAAK12B,GACL,GAAI02B,EAAM,EAAG,CAET,IADAA,GAAOA,EAAM,IACFt3B,KAAK6+D,YAAYtjE,OAAQ,CAChC,IAAMyP,EAAMhL,KAAK6+D,YACjB7+D,KAAK6+D,YAAc,IAAI70C,WAAwB,EAAbhf,EAAIzP,QACtCyE,KAAK6+D,YAAY3wD,IAAIlD,EACxB,CACDhL,KAAK6+D,YAAYvnC,GAAO12B,CAC3B,KACI,CACD,GAAI02B,GAAOt3B,KAAK4+D,YAAYrjE,OAAQ,CAChC,IAAMyP,EAAMhL,KAAK4+D,YACjB5+D,KAAK4+D,YAAc,IAAI50C,WAAwB,EAAbhf,EAAIzP,QACtCyE,KAAK4+D,YAAY1wD,IAAIlD,EACxB,CACDhL,KAAK4+D,YAAYtnC,GAAO12B,CAC3B,CACJ,OAhCCo9D,GAqCAC,GAAAA,WACF,aAAc,UACVj+D,KAAK4+D,YAAc,GACnB5+D,KAAK6+D,YAAc,EACtB,8BACD,SAAIvnC,GACA,OAAIA,EAAM,GACNA,GAAOA,EAAM,EACNt3B,KAAK6+D,YAAYvnC,IAGjBt3B,KAAK4+D,YAAYtnC,EAE/B,oBACD,SAAIA,EAAK12B,GACD02B,EAAM,GACNA,GAAOA,EAAM,EACbt3B,KAAK6+D,YAAYvnC,GAAO12B,GAGxBZ,KAAK4+D,YAAYtnC,GAAO12B,CAE/B,OAtBCq9D,eCmIIa,IAtPGC,GAAb,WACI,aAAc,UACV/+D,KAAKg/D,0BAA4B,IAAIzD,GACrCv7D,KAAKi/D,sBAAwB,IAAIpB,EACpC,CAJL,qCAKI,SAAYrI,EAAeC,EAAetgD,GAAS,WACzC8lD,EAA2C,IAAjC9lD,EAAQygD,qBAA6BmF,GAAgBlxD,SAAW,IAAImxD,GAAY7lD,EAAQygD,sBAClGsJ,GAA6B/pD,EAAQ2gD,qBACrCqJ,EAAgB,IAAIpxD,IAC1B,SAASqxD,EAAgB7/B,GACrB,IAAItiB,EAAOkiD,EAAct/D,IAAI0/B,GAK7B,YAJarjC,IAAT+gB,IACAA,EAAOkiD,EAAczsD,KACrBysD,EAAcjxD,IAAIqxB,EAAMtiB,IAErBA,CACV,CACD,IAAMoiD,EAAc7J,EAAc3lD,KAAI,SAACyS,GAAD,OAAO88C,EAAgB98C,EAAEg9C,OAAzB,IAChCC,EAAc9J,EAAc5lD,KAAI,SAACyS,GAAD,OAAO88C,EAAgB98C,EAAEg9C,OAAzB,IAChC9D,EAAY,IAAIzE,GAAasI,EAAa7J,GAC1CiG,EAAY,IAAI1E,GAAawI,EAAa9J,GAC1C+J,EACEhE,EAAUjgE,OAASkgE,EAAUlgE,OAAS,KAE/B,EAAKyjE,0BAA0BS,QAAQjE,EAAWC,EAAWR,GAAS,SAACyE,EAASC,GAAV,OAAsBnK,EAAckK,KAAajK,EAAckK,GACpG,IAAlClK,EAAckK,GAASpkE,OACnB,GACA,EAAI+e,KAAK4B,IAAI,EAAIu5C,EAAckK,GAASpkE,QAC5C,GAJuE,IAM1E,EAAK0jE,sBAAsBQ,QAAQjE,EAAWC,GAErDmE,EAAiBJ,EAAoB/E,MACrCjG,EAAagL,EAAoBhL,WACrCoL,EAAiBjD,GAAsBnB,EAAWC,EAAWmE,GAC7D,IA9B+C,EA8BzCC,EAAa,GACbC,EAA2B,SAACC,GAC9B,GAAKb,EAGL,IAAK,IAAI5jE,EAAI,EAAGA,EAAIykE,EAAiBzkE,IAAK,CACtC,IAAMsiE,EAAaoC,EAAgB1kE,EAC7B2kE,EAAaC,EAAgB5kE,EACnC,GAAIk6D,EAAcoI,KAAgBnI,EAAcwK,GAAa,CAEzD,IAFyD,EAEnDE,EAAiB,EAAKC,WAAW5K,EAAeC,EAAe,IAAImF,GAAa,IAAIP,GAAYuD,EAAYA,EAAa,GAAI,IAAIvD,GAAY4F,EAAYA,EAAa,IAAKhF,EAASiE,GAFjI,IAGzCiB,EAAeE,UAH0B,IAGzD,2BAAyC,KAA9Bz2D,EAA8B,QACrCi2D,EAAWj6D,KAAKgE,EACnB,CALwD,+BAMrDu2D,EAAe3L,aACfA,GAAa,EAEpB,CACJ,CACJ,EACGwL,EAAgB,EAChBE,EAAgB,EAnD2B,IAoD5BN,GApD4B,yBAoDpC9pB,EApDoC,QAqD3C+a,IAAS,kBAAM/a,EAAK+kB,UAAUj9D,MAAQoiE,IAAkBlqB,EAAKglB,UAAUl9D,MAAQsiE,CAAtE,IACT,IAAMH,EAAkBjqB,EAAK+kB,UAAUj9D,MAAQoiE,EAC/CF,EAAyBC,GACzBC,EAAgBlqB,EAAK+kB,UAAUP,aAC/B4F,EAAgBpqB,EAAKglB,UAAUR,aAC/B,IAAM6F,EAAiB,EAAKC,WAAW5K,EAAeC,EAAe3f,EAAMmlB,EAASiE,GAChFiB,EAAe3L,aACfA,GAAa,GA5D0B,UA8D3B2L,EAAeE,UA9DY,IA8D3C,2BAAyC,KAA9Bz2D,EAA8B,QACrCi2D,EAAWj6D,KAAKgE,EACnB,CAhE0C,iCAoD/C,2BAAmC,GApDY,+BAkE/Ck2D,EAAyBtK,EAAcj6D,OAASykE,GAChD,IAAMz1C,EAAU+1C,GAAkCT,EAAYrK,EAAeC,GACvElB,EAAQ,GACd,GAAIp/C,EAAQorD,aAAc,CACtB,IADsB,EAChBC,EAAYj2C,EACb9f,QAAO,SAAAof,GAAC,OAAIA,EAAE8qC,cAAclkD,SAAWoZ,EAAE6qC,cAAcn5D,QAAU,CAAzD,IACRsU,KAAI,SAAAvQ,GAAC,OAAI,IAAImhE,GAAkBnhE,EAAEo1D,cAAec,EAA3C,IACJkL,EAAa,IAAInuD,IAAIgY,EACtB9f,QAAO,SAAAof,GAAC,OAAIA,EAAE6qC,cAAcjkD,SAAWoZ,EAAE8qC,cAAcp5D,QAAU,CAAzD,IACRsU,KAAI,SAAAvQ,GAAC,OAAI,IAAImhE,GAAkBnhE,EAAEq1D,cAAec,EAA3C,KANY,IAOC+K,GAPD,IAOtB,2BAAkC,OAAvBG,EAAuB,QAC1BC,GAAqB,EACrBC,OAAI,EAFsB,IAGNH,GAHM,IAG9B,2BAAoC,KAAzBI,EAAyB,QAC1BC,EAAaJ,EAASK,kBAAkBF,GAC1CC,EAAaH,IACbA,EAAoBG,EACpBF,EAAOC,EAEd,CAT6B,+BAU9B,GAAIF,EAAoB,IAAQC,EAAM,CAClC,IACMR,EAAWC,GADGtgE,KAAKogE,WAAW5K,EAAeC,EAAe,IAAImF,GAAa,IAAIP,GAAYsG,EAASjmC,MAAMN,gBAAkB,EAAGumC,EAASjmC,MAAMk5B,uBAAyB,GAAI,IAAIyG,GAAYwG,EAAKnmC,MAAMN,gBAAkB,EAAGymC,EAAKnmC,MAAMk5B,uBAAyB,IAAKqH,EAASiE,GACtNmB,SAAU7K,EAAeC,GAAe,GACvGiL,EAAW18C,OAAO68C,GAClBtM,EAAM3uD,KAAK,IAAIyvD,GAAU,IAAID,GAAuBuL,EAASjmC,MAAOmmC,EAAKnmC,OAAQ2lC,GACpF,CACJ,CAvBqB,+BAwBzB,CACD,OAAO,IAAI/L,GAAU/pC,EAASgqC,EAAOC,EACxC,GApGL,wBAqGI,SAAWgB,EAAeC,EAAe3f,EAAMmlB,EAASiE,GACpD,IAAM+B,EAAS,IAAIC,GAAM1L,EAAe1f,EAAK+kB,UAAWqE,GAClDiC,EAAS,IAAID,GAAMzL,EAAe3f,EAAKglB,UAAWoE,GAClD9F,EAAa6H,EAAO1lE,OAAS4lE,EAAO5lE,OAAS,IAC7CyE,KAAKg/D,0BAA0BS,QAAQwB,EAAQE,EAAQlG,GACvDj7D,KAAKi/D,sBAAsBQ,QAAQwB,EAAQE,EAAQlG,GACrDR,EAAQrB,EAAWqB,MAMvB,OALAA,EAAQkC,GAAsBsE,EAAQE,EAAQ1G,GAC9CA,EAUR,SAAwBe,EAAWC,EAAWmB,GAC1C,IAAMwE,EAAa,GACfC,OAAmBnlE,EACvB,SAASolE,IACL,GAAKD,EAAL,CAGA,IAAME,EAAkBF,EAAiBG,QAAQjmE,OAAS8lE,EAAiBI,QACnDJ,EAAiBK,QAAQnmE,OAAS8lE,EAAiBM,MAIvErnD,KAAKuV,IAAIwxC,EAAiBI,QAASJ,EAAiBM,QAAUN,EAAiBjoD,MAAQ,GAAKmoD,GAC5FH,EAAWx7D,KAAK,IAAIg1D,GAAayG,EAAiBG,QAASH,EAAiBK,UAEhFL,OAAmBnlE,CATlB,CAUJ,CAhBwD,UAiBzC0gE,GAjByC,yBAiB9C/vD,EAjB8C,QAkBrD,SAAS+0D,EAAYJ,EAASE,GAC1B,IAAIjnD,EAAIM,EAAIC,EAAIpN,EAChB,IAAKyzD,IAAqBA,EAAiBG,QAAQ7mC,cAAc6mC,KAAaH,EAAiBK,QAAQ/mC,cAAc+mC,GACjH,IAAIL,GAAsBA,EAAiBG,QAAQlH,aAAekH,EAAQ5jE,OAASyjE,EAAiBK,QAAQpH,aAAeoH,EAAQ9jE,MAS/H0jE,IACAD,EAAmB,CAAEM,MAAO,EAAGF,QAAS,EAAGroD,MAAO,EAAGooD,QAASA,EAASE,QAASA,OAVuD,CACvI,IAAMG,EAAUxH,GAAYyH,UAAUT,EAAiBG,QAAQlH,aAAckH,EAAQ5jE,OAC/EmkE,EAAU1H,GAAYyH,UAAUT,EAAiBK,QAAQpH,aAAcoH,EAAQ9jE,OACrFyjE,EAAiBI,SAAuF,QAA3EhnD,EAAiB,OAAZonD,QAAgC,IAAZA,OAAqB,EAASA,EAAQtmE,cAA2B,IAAPkf,EAAgBA,EAAK,EACrI4mD,EAAiBM,OAAqF,QAA3E5mD,EAAiB,OAAZgnD,QAAgC,IAAZA,OAAqB,EAASA,EAAQxmE,cAA2B,IAAPwf,EAAgBA,EAAK,EACnIsmD,EAAiBG,QAAUH,EAAiBG,QAAQjlE,KAAKilE,GACzDH,EAAiBK,QAAUL,EAAiBK,QAAQnlE,KAAKmlE,EAC5D,CAML,IAAMM,EAAYR,EAAQS,UAAUp1D,EAAEguD,WAChCqH,EAAYR,EAAQO,UAAUp1D,EAAEiuD,WACtCuG,EAAiBjoD,QACjBioD,EAAiBI,SAA6F,QAAjFzmD,EAAmB,OAAdgnD,QAAoC,IAAdA,OAAuB,EAASA,EAAUzmE,cAA2B,IAAPyf,EAAgBA,EAAK,EAC3IqmD,EAAiBM,OAA2F,QAAjF/zD,EAAmB,OAAds0D,QAAoC,IAAdA,OAAuB,EAASA,EAAU3mE,cAA2B,IAAPqS,EAAgBA,EAAK,CAC5I,CACD,IAAMu0D,EAAW3G,EAAU4G,mBAAmBv1D,EAAEguD,UAAUj9D,MAAQ,GAC5DykE,EAAW5G,EAAU2G,mBAAmBv1D,EAAEiuD,UAAUl9D,MAAQ,GAC5D0kE,EAAU9G,EAAU4G,mBAAmBv1D,EAAEguD,UAAUP,cACnDiI,EAAU9G,EAAU2G,mBAAmBv1D,EAAEiuD,UAAUR,cACrD6H,GAAYG,GAAWD,GAAYE,GAAWJ,EAAS3rD,OAAO8rD,IAAYD,EAAS7rD,OAAO+rD,GAC1FX,EAAYO,EAAUE,IAGlBF,GAAYE,GACZT,EAAYO,EAAUE,GAEtBC,GAAWC,GACXX,EAAYU,EAASC,GApDwB,EAiBzD,2BAA+B,GAjB0B,+BA0DzD,OAFAjB,IAIJ,SAA4BkB,EAAgBC,GACxC,IAAM5+D,EAAS,GACf,KAAO2+D,EAAejnE,OAAS,GAAKknE,EAAelnE,OAAS,GAAG,CAC3D,IAAMmnE,EAAMF,EAAe,GACrBG,EAAMF,EAAe,GACvBv9D,OAAI,EAEJA,EADAw9D,KAASC,GAAOD,EAAI7H,UAAUj9D,MAAQ+kE,EAAI9H,UAAUj9D,OAC7C4kE,EAAeI,QAGfH,EAAeG,QAEtB/+D,EAAOtI,OAAS,GAAKsI,EAAOA,EAAOtI,OAAS,GAAGs/D,UAAUP,cAAgBp1D,EAAK21D,UAAUj9D,MACxFiG,EAAOA,EAAOtI,OAAS,GAAKsI,EAAOA,EAAOtI,OAAS,GAAGgB,KAAK2I,GAG3DrB,EAAO+B,KAAKV,EAEnB,CACD,OAAOrB,CACV,CAvBkBg/D,CAAmBjG,EAAewE,EAEpD,CArEe0B,CAAe7B,EAAQE,EAAQ1G,GACvCA,EFhHD,SAA+Be,EAAWC,EAAWmB,GACxD,IADuE,EACjE/4D,EAAS,GADwD,IAEvD+4D,GAFuD,IAEvE,2BAA+B,KAApB/vD,EAAoB,QACrBoK,EAAOpT,EAAOA,EAAOtI,OAAS,GAC/B0b,IAIDpK,EAAEguD,UAAUj9D,MAAQqZ,EAAK4jD,UAAUP,cAAgB,GAAKztD,EAAEiuD,UAAUl9D,MAAQqZ,EAAK6jD,UAAUR,cAAgB,GAC3Gz2D,EAAOA,EAAOtI,OAAS,GAAK,IAAIq/D,GAAa3jD,EAAK4jD,UAAUt+D,KAAKsQ,EAAEguD,WAAY5jD,EAAK6jD,UAAUv+D,KAAKsQ,EAAEiuD,YAJrGj3D,EAAO+B,KAAKiH,EASnB,CAdsE,+BAevE,OAAOhJ,CACV,CEgGek/D,CAAsB9B,EAAQE,EAAQ1G,GAGvC,CACH4F,SAHW5F,EAAM5qD,KAAI,SAACvQ,GAAD,OAAO,IAAI61D,GAAa8L,EAAO+B,eAAe1jE,EAAEu7D,WAAYsG,EAAO6B,eAAe1jE,EAAEw7D,WAApF,IAIrBtG,WAAY4E,EAAW5E,WAE9B,KArHL,KAwMO,SAAS8L,GAAkCT,EAAYrK,EAAeC,GAA4C,MAA7BwN,EAA6B,wDAC/G14C,EAAU,GADqG,IAErGu0C,GAAMe,EAAWhwD,KAAI,SAAAjG,GAAC,OAmBnC,SAA6Bs5D,EAAc1N,EAAeC,GAC7D,IAAI0N,EAAiB,EACjBC,EAAe,EAI0B,IAAzCF,EAAavO,cAAcp6B,WAA4D,IAAzC2oC,EAAaxO,cAAcn6B,WACtE2oC,EAAaxO,cAAct6B,gBAAkB+oC,GAAkBD,EAAaxO,cAAcp6B,eAC1F4oC,EAAavO,cAAcv6B,gBAAkB+oC,GAAkBD,EAAavO,cAAcr6B,gBAE7F8oC,GAAgB,GAIhBF,EAAavO,cAAct6B,YAAc,GAAKo7B,EAAcyN,EAAavO,cAAcv6B,gBAAkB,GAAG7+B,QACzG2nE,EAAaxO,cAAcr6B,YAAc,GAAKm7B,EAAc0N,EAAaxO,cAAct6B,gBAAkB,GAAG7+B,QAC5G2nE,EAAaxO,cAAct6B,iBAAmB8oC,EAAaxO,cAAcp6B,cAAgB8oC,GACzFF,EAAavO,cAAcv6B,iBAAmB8oC,EAAavO,cAAcr6B,cAAgB8oC,IAE5FD,EAAiB,GAErB,IAAME,EAAoB,IAAI1P,GAAUuP,EAAaxO,cAAct6B,gBAAkB+oC,EAAgBD,EAAaxO,cAAcp6B,cAAgB,EAAI8oC,GAC9IE,EAAoB,IAAI3P,GAAUuP,EAAavO,cAAcv6B,gBAAkB+oC,EAAgBD,EAAavO,cAAcr6B,cAAgB,EAAI8oC,GACpJ,OAAO,IAAI3O,GAAiB4O,EAAmBC,EAAmB,CAACJ,GACtE,CA3C6CK,CAAoB35D,EAAG4rD,EAAeC,EAA1C,KAA2D,SAAC+N,EAAIC,GAAL,OAAYD,EAAG9O,cAAcgP,eAAeD,EAAG/O,gBACzI8O,EAAG7O,cAAc+O,eAAeD,EAAG9O,cADuD,KAFoB,IAErH,2BAC2D,KADhD70D,EACgD,QACjD4Q,EAAQ5Q,EAAE,GACVmX,EAAOnX,EAAEA,EAAEvE,OAAS,GAC1BgvB,EAAQ3kB,KAAK,IAAI6uD,GAAiB/jD,EAAMgkD,cAAcn4D,KAAK0a,EAAKy9C,eAAgBhkD,EAAMikD,cAAcp4D,KAAK0a,EAAK09C,eAAgB70D,EAAE+P,KAAI,SAAAjG,GAAC,OAAIA,EAAEgrD,aAAa,EAAnB,KACxI,CAPoH,+BAmBrH,OAXA/D,IAAS,WACL,SAAKoS,GACG14C,EAAQhvB,OAAS,GAAKgvB,EAAQ,GAAGmqC,cAAct6B,kBAAoB7P,EAAQ,GAAGoqC,cAAcv6B,kBAI7F02B,GAAmBvmC,GAAS,SAACssC,EAAIC,GAAL,OAAYA,EAAGpC,cAAct6B,gBAAkBy8B,EAAGnC,cAAcd,yBAA2BkD,EAAGnC,cAAcv6B,gBAAkBy8B,EAAGlC,cAAcf,wBAE9KiD,EAAGnC,cAAcd,uBAAyBkD,EAAGpC,cAAct6B,iBAC3Dy8B,EAAGlC,cAAcf,uBAAyBkD,EAAGnC,cAAcv6B,eAH5B,GAItC,IACM7P,CACV,CA0BD,SAAUu0C,GAAM/N,EAAO4S,GAAvB,mFAGuB5S,GAHvB,4DAGen0B,EAHf,aAIqB1gC,IAAT+a,IAAsB0sD,EAAgB1sD,EAAM2lB,GAJxD,gBAKYgnC,EAAah+D,KAAKg3B,GAL9B,2BAQgBgnC,EARhB,iBASgB,OAThB,UASsBA,EATtB,QAWYA,EAAe,CAAChnC,GAX5B,QAaQ3lB,EAAO2lB,EAbf,sHAAA7vB,IAAA,yBAeQ62D,EAfR,iBAgBQ,OAhBR,UAgBcA,EAhBd,6DAmBO,IAAM7M,GAAb,WACI,WAAY8M,EAAajlC,GAAO,UAC5B5+B,KAAK6jE,YAAcA,EACnB7jE,KAAK4+B,MAAQA,CAChB,CAJL,oCAKI,SAAW1d,GACP,OAAOlhB,KAAK6jE,YAAY3iD,EAC3B,GAPL,kBAQI,WACI,OAAOlhB,KAAK6jE,YAAYtoE,MAC3B,GAVL,8BAWI,SAAiBA,GAGb,OAAO,MAF8B,IAAXA,EAAe,EAAIuoE,GAAe9jE,KAAK4+B,MAAMrjC,EAAS,MACvDA,IAAWyE,KAAK4+B,MAAMrjC,OAAS,EAAIuoE,GAAe9jE,KAAK4+B,MAAMrjC,KAEzF,KAfL,KAiBA,SAASuoE,GAAe7iD,GAEpB,IADA,IAAI3lB,EAAI,EACDA,EAAI2lB,EAAI1lB,SAAiC,KAAtB0lB,EAAIzlB,WAAWF,IAAwD,IAAtB2lB,EAAIzlB,WAAWF,KACtFA,IAEJ,OAAOA,CACV,KACK4lE,GAAAA,WACF,WAAYtiC,EAAOy1B,EAAW6K,GAA2B,UAGrDl/D,KAAK4+B,MAAQA,EACb5+B,KAAKk/D,0BAA4BA,EACjCl/D,KAAKyzB,SAAW,GAChBzzB,KAAK+jE,8BAAgC,GAErC/jE,KAAKgkE,aAAe,GAEpB,IAAIC,GAAqB,EACrB5P,EAAUz2D,MAAQ,GAAKy2D,EAAUiG,cAAgB17B,EAAMrjC,SACvD84D,EAAY,IAAIgG,GAAYhG,EAAUz2D,MAAQ,EAAGy2D,EAAUiG,cAC3D2J,GAAqB,GAEzBjkE,KAAKq0D,UAAYA,EACjB,IAAK,IAAI/4D,EAAI0E,KAAKq0D,UAAUz2D,MAAOtC,EAAI0E,KAAKq0D,UAAUiG,aAAch/D,IAAK,CACrE,IAAI2nC,EAAOrE,EAAMtjC,GACb4lB,EAAS,EACb,GAAI+iD,EACA/iD,EAAS+hB,EAAK1nC,OACd0nC,EAAO,GACPghC,GAAqB,OAEpB,IAAK/E,EAA2B,CACjC,IAAMgF,EAAmBjhC,EAAKkhC,YAC9BjjD,EAAS+hB,EAAK1nC,OAAS2oE,EAAiB3oE,OACxC0nC,EAAOihC,EAAiBE,SAC3B,CACDpkE,KAAKgkE,aAAap+D,KAAKsb,GACvB,IAAK,IAAI5lB,EAAI,EAAGA,EAAI2nC,EAAK1nC,OAAQD,IAC7B0E,KAAKyzB,SAAS7tB,KAAKq9B,EAAKznC,WAAWF,IAGnCA,EAAIsjC,EAAMrjC,OAAS,IACnByE,KAAKyzB,SAAS7tB,KAAK,KAAKpK,WAAW,IACnCwE,KAAK+jE,8BAA8BzoE,EAAI0E,KAAKq0D,UAAUz2D,OAASoC,KAAKyzB,SAASl4B,OAEpF,CAEDyE,KAAKgkE,aAAap+D,KAAK,EAC1B,mCACD,WACI,wBAAkB5F,KAAKu/B,KAAvB,IACH,mBACD,WACI,OAAO,EAAIv/B,KAAKyzB,UAAU5jB,KAAI,SAAA3P,GAAC,OAAIiK,OAAOkX,aAAanhB,EAAxB,IAA4B3D,KAAK,GACnE,2BACD,SAAW2kB,GACP,OAAOlhB,KAAKyzB,SAASvS,EACxB,qBACD,WACI,OAAOlhB,KAAKyzB,SAASl4B,MACxB,iCACD,SAAiBA,GAGb,IAAM8oE,EAAeC,GAAY/oE,EAAS,EAAIyE,KAAKyzB,SAASl4B,EAAS,IAAM,GACrEgpE,EAAeD,GAAY/oE,EAASyE,KAAKyzB,SAASl4B,OAASyE,KAAKyzB,SAASl4B,IAAW,GAC1F,GAAqB,IAAjB8oE,GAA8E,IAAjBE,EAE7D,OAAO,EAEX,IAAI5yC,EAAQ,EASZ,OARI0yC,IAAiBE,IACjB5yC,GAAS,GACY,IAAjB4yC,IACA5yC,GAAS,IAGjBA,GAAS6yC,GAAyBH,GAClC1yC,GAAS6yC,GAAyBD,EAErC,gCACD,SAAgBrjD,GAEZ,GAAIlhB,KAAKq0D,UAAU5jD,QACf,OAAO,IAAI8oB,GAASv5B,KAAKq0D,UAAUz2D,MAAQ,EAAG,GAIlD,IAFA,IAAItC,EAAI,EACJouB,EAAI1pB,KAAK+jE,8BAA8BxoE,OACpCD,EAAIouB,GAAG,CACV,IAAMhH,EAAIpI,KAAKiP,OAAOjuB,EAAIouB,GAAK,GAC3B1pB,KAAK+jE,8BAA8BrhD,GAAKxB,EACxCwI,EAAIhH,EAGJpnB,EAAIonB,EAAI,CAEf,CACD,IAAM+hD,EAAgC,IAANnpE,EAAU,EAAI0E,KAAK+jE,8BAA8BzoE,EAAI,GACrF,OAAO,IAAIi+B,GAASv5B,KAAKq0D,UAAUz2D,MAAQtC,EAAI,EAAG4lB,EAASujD,EAA0B,EAAIzkE,KAAKgkE,aAAa1oE,GAC9G,+BACD,SAAeo/B,GACX,OAAOP,GAAAA,cAAoBn6B,KAAK0kE,gBAAgBhqC,EAAM98B,OAAQoC,KAAK0kE,gBAAgBhqC,EAAM4/B,cAC5F,mCAID,SAAmBp5C,GACf,KAAIA,EAAS,GAAKA,GAAUlhB,KAAKyzB,SAASl4B,SAGrCopE,GAAW3kE,KAAKyzB,SAASvS,IAA9B,CAKA,IADA,IAAItjB,EAAQsjB,EACLtjB,EAAQ,GAAK+mE,GAAW3kE,KAAKyzB,SAAS71B,EAAQ,KACjDA,IAIJ,IADA,IAAIJ,EAAM0jB,EACH1jB,EAAMwC,KAAKyzB,SAASl4B,QAAUopE,GAAW3kE,KAAKyzB,SAASj2B,KAC1DA,IAEJ,OAAO,IAAI68D,GAAYz8D,EAAOJ,EAX7B,CAYJ,OAtHC0jE,GAwHN,SAASyD,GAAWhkD,GAChB,OAAOA,GAAY,IAAuBA,GAAY,KAC/CA,GAAY,IAAuBA,GAAY,IAC/CA,GAAY,IAA4BA,GAAY,EAC9D,CACD,IAAMgR,IAAK,QACN,EAAyC,GADnC,KAEN,EAAyC,GAFnC,KAGN,EAA0C,GAHpC,KAIN,EAAmC,IAJ7B,KAKN,EAAqC,GAL/B,KAMN,EAAqC,GAN/B,KAON,EAA2C,IAPrC,KAQN,EAA2C,IARrC,IAUX,SAAS6yC,GAAyBI,GAC9B,OAAOjzC,GAAMizC,EAChB,CACD,SAASN,GAAY3jD,GACjB,OAAiB,KAAbA,EACO,EAEW,KAAbA,EACE,EAqBf,SAAiBA,GACb,OAAoB,KAAbA,GAAqD,IAAbA,CAClD,CArBYkkD,CAAQlkD,GACN,EAEFA,GAAY,IAAuBA,GAAY,IAC7C,EAEFA,GAAY,IAAuBA,GAAY,GAC7C,EAEFA,GAAY,IAA4BA,GAAY,GAClD,GAEY,IAAdA,EACE,EAGA,CAEd,CAID,IAAMmkD,GAAU,IAAI/2D,IACpB,SAASg3D,GAAOC,GACZ,IAAIxlE,EAAMslE,GAAQjlE,IAAImlE,GAKtB,YAJY9oE,IAARsD,IACAA,EAAMslE,GAAQpyD,KACdoyD,GAAQ52D,IAAI82D,EAAKxlE,IAEdA,CACV,KACKihE,GAAAA,WACF,WAAY/lC,EAAOkE,GAAO,UACtB5+B,KAAK06B,MAAQA,EACb16B,KAAK4+B,MAAQA,EACb5+B,KAAKilE,UAAY,GAEjB,IADA,IAAIC,EAAU,EACL5pE,EAAIo/B,EAAMN,gBAAkB,EAAG9+B,EAAIo/B,EAAMk5B,uBAAyB,EAAGt4D,IAAK,CAE/E,IADA,IAAM2nC,EAAOrE,EAAMtjC,GACVouB,EAAI,EAAGA,EAAIuZ,EAAK1nC,OAAQmuB,IAAK,CAClCw7C,IACA,IACM1lE,EAAMulE,GADA9hC,EAAKvZ,IAEjB1pB,KAAKilE,UAAUzlE,IAAQQ,KAAKilE,UAAUzlE,IAAQ,GAAK,CACtD,CACD0lE,IACA,IAAM1lE,EAAMulE,GAAO,MACnB/kE,KAAKilE,UAAUzlE,IAAQQ,KAAKilE,UAAUzlE,IAAQ,GAAK,CACtD,CACDQ,KAAKmlE,WAAaD,CACrB,4CACD,SAAkBprC,GAId,IAHA,IAAIrf,EAAIM,EACJqqD,EAAiB,EACfC,EAAY/qD,KAAKuV,IAAI7vB,KAAKilE,UAAU1pE,OAAQu+B,EAAMmrC,UAAU1pE,QACzDD,EAAI,EAAGA,EAAI+pE,EAAW/pE,IAC3B8pE,GAAkB9qD,KAAKkW,KAAkC,QAA5B/V,EAAKza,KAAKilE,UAAU3pE,UAAuB,IAAPmf,EAAgBA,EAAK,IAAoC,QAA7BM,EAAK+e,EAAMmrC,UAAU3pE,UAAuB,IAAPyf,EAAgBA,EAAK,IAE3J,OAAO,EAAKqqD,GAAkBplE,KAAKmlE,WAAarrC,EAAMqrC,WACzD,OA5BC1E,GCzdO6E,GACE,kBAAM,IAAI/P,EAAV,EADF+P,GAEI,kBAAM,IAAIvG,EAAV,ECJjB,SAASwG,GAAWC,EAAQC,GACxB,IAAMC,EAAUprD,KAAK+qB,IAAI,GAAIogC,GAC7B,OAAOnrD,KAAKqrD,MAAMH,EAASE,GAAWA,CACzC,CACM,IAAME,GAAb,WACI,WAAYnlE,EAAGX,EAAG2W,GAAU,IAAP7M,EAAO,uDAAH,EAAG,UACxB5J,KAAK6lE,gBAAa3pE,EAClB8D,KAAKS,EAAoC,EAAhC6Z,KAAKkR,IAAI,IAAKlR,KAAKuV,IAAI,EAAGpvB,IACnCT,KAAKF,EAAoC,EAAhCwa,KAAKkR,IAAI,IAAKlR,KAAKuV,IAAI,EAAG/vB,IACnCE,KAAKyW,EAAoC,EAAhC6D,KAAKkR,IAAI,IAAKlR,KAAKuV,IAAI,EAAGpZ,IACnCzW,KAAK4J,EAAI27D,GAAWjrD,KAAKuV,IAAIvV,KAAKkR,IAAI,EAAG5hB,GAAI,GAAI,EACpD,CAPL,qCAQI,SAAcA,EAAG6M,GACb,OAAO7M,EAAEnJ,IAAMgW,EAAEhW,GAAKmJ,EAAE9J,IAAM2W,EAAE3W,GAAK8J,EAAE6M,IAAMA,EAAEA,GAAK7M,EAAEA,IAAM6M,EAAE7M,CACjE,KAVL,KAYak8D,GAAb,WACI,WAAYC,EAAGl5D,EAAGyV,EAAG1Y,GAAG,UACpB5J,KAAKgmE,gBAAa9pE,EAClB8D,KAAK+lE,EAAoC,EAAhCzrD,KAAKuV,IAAIvV,KAAKkR,IAAI,IAAKu6C,GAAI,GACpC/lE,KAAK6M,EAAI04D,GAAWjrD,KAAKuV,IAAIvV,KAAKkR,IAAI,EAAG3e,GAAI,GAAI,GACjD7M,KAAKsiB,EAAIijD,GAAWjrD,KAAKuV,IAAIvV,KAAKkR,IAAI,EAAGlJ,GAAI,GAAI,GACjDtiB,KAAK4J,EAAI27D,GAAWjrD,KAAKuV,IAAIvV,KAAKkR,IAAI,EAAG5hB,GAAI,GAAI,EACpD,CAPL,qCAQI,SAAcA,EAAG6M,GACb,OAAO7M,EAAEm8D,IAAMtvD,EAAEsvD,GAAKn8D,EAAEiD,IAAM4J,EAAE5J,GAAKjD,EAAE0Y,IAAM7L,EAAE6L,GAAK1Y,EAAEA,IAAM6M,EAAE7M,CACjE,GAVL,sBAiBI,SAAgBq8D,GACZ,IAAMxlE,EAAIwlE,EAAKxlE,EAAI,IACbX,EAAImmE,EAAKnmE,EAAI,IACb2W,EAAIwvD,EAAKxvD,EAAI,IACb7M,EAAIq8D,EAAKr8D,EACTimB,EAAMvV,KAAKuV,IAAIpvB,EAAGX,EAAG2W,GACrB+U,EAAMlR,KAAKkR,IAAI/qB,EAAGX,EAAG2W,GACvBsvD,EAAI,EACJl5D,EAAI,EACFyV,GAAKkJ,EAAMqE,GAAO,EAClBq2C,EAASr2C,EAAMrE,EACrB,GAAI06C,EAAS,EAAG,CAEZ,OADAr5D,EAAIyN,KAAKkR,IAAKlJ,GAAK,GAAM4jD,GAAU,EAAI5jD,GAAK4jD,GAAU,EAAK,EAAI5jD,GAAM,GAC7DuN,GACJ,KAAKpvB,EACDslE,GAAKjmE,EAAI2W,GAAKyvD,GAAUpmE,EAAI2W,EAAI,EAAI,GACpC,MACJ,KAAK3W,EACDimE,GAAKtvD,EAAIhW,GAAKylE,EAAS,EACvB,MACJ,KAAKzvD,EACDsvD,GAAKtlE,EAAIX,GAAKomE,EAAS,EAG/BH,GAAK,GACLA,EAAIzrD,KAAKqrD,MAAMI,EAClB,CACD,OAAO,IAAID,EAAKC,EAAGl5D,EAAGyV,EAAG1Y,EAC5B,GA7CL,sBA8CI,SAAgBV,EAAGi9D,EAAG9zC,GAOlB,OANIA,EAAI,IACJA,GAAK,GAELA,EAAI,IACJA,GAAK,GAELA,EAAI,EAAI,EACDnpB,EAAc,GAATi9D,EAAIj9D,GAASmpB,EAEzBA,EAAI,GACG8zC,EAEP9zC,EAAI,EAAI,EACDnpB,GAAKi9D,EAAIj9D,IAAM,EAAI,EAAImpB,GAAK,EAEhCnpB,CACV,GA/DL,oBAsEI,SAAck9D,GACV,IAEI3lE,EAAGX,EAAG2W,EAFJsvD,EAAIK,EAAKL,EAAI,IACXl5D,EAAYu5D,EAAZv5D,EAAGyV,EAAS8jD,EAAT9jD,EAAG1Y,EAAMw8D,EAANx8D,EAEd,GAAU,IAANiD,EACApM,EAAIX,EAAI2W,EAAI6L,MAEX,CACD,IAAM6jD,EAAI7jD,EAAI,GAAMA,GAAK,EAAIzV,GAAKyV,EAAIzV,EAAIyV,EAAIzV,EACxC3D,EAAI,EAAIoZ,EAAI6jD,EAClB1lE,EAAIqlE,EAAKO,SAASn9D,EAAGi9D,EAAGJ,EAAI,EAAI,GAChCjmE,EAAIgmE,EAAKO,SAASn9D,EAAGi9D,EAAGJ,GACxBtvD,EAAIqvD,EAAKO,SAASn9D,EAAGi9D,EAAGJ,EAAI,EAAI,EACnC,CACD,OAAO,IAAIH,GAAKtrD,KAAKqrD,MAAU,IAAJllE,GAAU6Z,KAAKqrD,MAAU,IAAJ7lE,GAAUwa,KAAKqrD,MAAU,IAAJlvD,GAAU7M,EAClF,KArFL,KAuFa08D,GAAb,WACI,WAAYP,EAAGl5D,EAAGowB,EAAGrzB,GAAG,UACpB5J,KAAKumE,gBAAarqE,EAClB8D,KAAK+lE,EAAoC,EAAhCzrD,KAAKuV,IAAIvV,KAAKkR,IAAI,IAAKu6C,GAAI,GACpC/lE,KAAK6M,EAAI04D,GAAWjrD,KAAKuV,IAAIvV,KAAKkR,IAAI,EAAG3e,GAAI,GAAI,GACjD7M,KAAKi9B,EAAIsoC,GAAWjrD,KAAKuV,IAAIvV,KAAKkR,IAAI,EAAGyR,GAAI,GAAI,GACjDj9B,KAAK4J,EAAI27D,GAAWjrD,KAAKuV,IAAIvV,KAAKkR,IAAI,EAAG5hB,GAAI,GAAI,EACpD,CAPL,qCAQI,SAAcA,EAAG6M,GACb,OAAO7M,EAAEm8D,IAAMtvD,EAAEsvD,GAAKn8D,EAAEiD,IAAM4J,EAAE5J,GAAKjD,EAAEqzB,IAAMxmB,EAAEwmB,GAAKrzB,EAAEA,IAAM6M,EAAE7M,CACjE,GAVL,sBAYI,SAAgBq8D,GACZ,IAOItV,EAPElwD,EAAIwlE,EAAKxlE,EAAI,IACbX,EAAImmE,EAAKnmE,EAAI,IACb2W,EAAIwvD,EAAKxvD,EAAI,IACb+vD,EAAOlsD,KAAKuV,IAAIpvB,EAAGX,EAAG2W,GAEtB6Q,EAAQk/C,EADDlsD,KAAKkR,IAAI/qB,EAAGX,EAAG2W,GAEtB5J,EAAa,IAAT25D,EAAa,EAAKl/C,EAAQk/C,EAcpC,OAXI7V,EADU,IAAVrpC,EACI,EAECk/C,IAAS/lE,IACNX,EAAI2W,GAAK6Q,EAAS,EAAK,GAAK,EAE/Bk/C,IAAS1mE,GACR2W,EAAIhW,GAAK6mB,EAAS,GAGlB7mB,EAAIX,GAAKwnB,EAAS,EAErB,IAAIg/C,EAAKhsD,KAAKqrD,MAAU,GAAJhV,GAAS9jD,EAAG25D,EAAMP,EAAKr8D,EACrD,GAlCL,oBAoCI,SAAc68D,GACV,IAAQV,EAAeU,EAAfV,EAAGl5D,EAAY45D,EAAZ55D,EAAGowB,EAASwpC,EAATxpC,EAAGrzB,EAAM68D,EAAN78D,EACXigB,EAAIoT,EAAIpwB,EACRyE,EAAIuY,GAAK,EAAIvP,KAAKkW,IAAKu1C,EAAI,GAAM,EAAI,IACrCpV,EAAI1zB,EAAIpT,EACTppB,EAAY,EAATX,EAAY,EAAT2W,EAAY,EA4BvB,OA3BIsvD,EAAI,IACJtlE,EAAIopB,EACJ/pB,EAAIwR,GAECy0D,EAAI,KACTtlE,EAAI6Q,EACJxR,EAAI+pB,GAECk8C,EAAI,KACTjmE,EAAI+pB,EACJpT,EAAInF,GAECy0D,EAAI,KACTjmE,EAAIwR,EACJmF,EAAIoT,GAECk8C,EAAI,KACTtlE,EAAI6Q,EACJmF,EAAIoT,GAECk8C,GAAK,MACVtlE,EAAIopB,EACJpT,EAAInF,GAER7Q,EAAI6Z,KAAKqrD,MAAgB,KAATllE,EAAIkwD,IACpB7wD,EAAIwa,KAAKqrD,MAAgB,KAAT7lE,EAAI6wD,IACpBl6C,EAAI6D,KAAKqrD,MAAgB,KAATlvD,EAAIk6C,IACb,IAAIiV,GAAKnlE,EAAGX,EAAG2W,EAAG7M,EAC5B,KAtEL,KAwEa88D,GAAb,WA2BI,WAAYjqE,GACR,GADa,WACRA,EACD,MAAM,IAAI4H,MAAM,uBAEf,GAAI5H,aAAempE,GACpB5lE,KAAKimE,KAAOxpE,OAEX,GAAIA,aAAeqpE,GACpB9lE,KAAK2mE,MAAQlqE,EACbuD,KAAKimE,KAAOH,GAAKc,OAAOnqE,OAEvB,MAAIA,aAAe6pE,IAKpB,MAAM,IAAIjiE,MAAM,+BAJhBrE,KAAK6mE,MAAQpqE,EACbuD,KAAKimE,KAAOK,GAAKM,OAAOnqE,EAI3B,CACJ,CA7CL,4BAaI,WACI,OAAIuD,KAAK2mE,MACE3mE,KAAK2mE,MAGLb,GAAKgB,SAAS9mE,KAAKimE,KAEjC,GApBL,gBAqBI,WACI,OAAIjmE,KAAK6mE,MACE7mE,KAAK6mE,MAETP,GAAKQ,SAAS9mE,KAAKimE,KAC7B,GA1BL,oBA8CI,SAAOnsC,GACH,QAASA,GAAS8rC,GAAKpvD,OAAOxW,KAAKimE,KAAMnsC,EAAMmsC,OAASH,GAAKtvD,OAAOxW,KAAKomE,KAAMtsC,EAAMssC,OAASE,GAAK9vD,OAAOxW,KAAKymE,KAAM3sC,EAAM2sC,KAC9H,GAhDL,kCAqDI,WAKI,OAAOlB,GADW,MAHRmB,EAAMK,+BAA+B/mE,KAAKimE,KAAKxlE,GAG1B,MAFrBimE,EAAMK,+BAA+B/mE,KAAKimE,KAAKnmE,GAEb,MADlC4mE,EAAMK,+BAA+B/mE,KAAKimE,KAAKxvD,GAE5B,EAChC,GA3DL,uBAoEI,WAEI,OAD2B,IAAdzW,KAAKimE,KAAKxlE,EAAwB,IAAdT,KAAKimE,KAAKnmE,EAAwB,IAAdE,KAAKimE,KAAKxvD,GAAW,KAC5D,GACjB,GAvEL,2BAwEI,SAAcuwD,GAGV,OAFahnE,KAAKinE,uBACLD,EAAQC,sBAExB,GA5EL,0BA6EI,SAAaD,GAGT,OAFahnE,KAAKinE,uBACLD,EAAQC,sBAExB,GAjFL,qBAkFI,SAAQC,GACJ,OAAO,IAAIR,EAAM,IAAIZ,GAAK9lE,KAAKomE,KAAKL,EAAG/lE,KAAKomE,KAAKv5D,EAAG7M,KAAKomE,KAAK9jD,EAAItiB,KAAKomE,KAAK9jD,EAAI4kD,EAAQlnE,KAAKomE,KAAKx8D,GACrG,GApFL,oBAqFI,SAAOs9D,GACH,OAAO,IAAIR,EAAM,IAAIZ,GAAK9lE,KAAKomE,KAAKL,EAAG/lE,KAAKomE,KAAKv5D,EAAG7M,KAAKomE,KAAK9jD,EAAItiB,KAAKomE,KAAK9jD,EAAI4kD,EAAQlnE,KAAKomE,KAAKx8D,GACrG,GAvFL,yBAwFI,SAAYs9D,GACR,MAAuBlnE,KAAKimE,KAApBxlE,EAAR,EAAQA,EAAGX,EAAX,EAAWA,EAAG2W,EAAd,EAAcA,EAAG7M,EAAjB,EAAiBA,EACjB,OAAO,IAAI88D,EAAM,IAAId,GAAKnlE,EAAGX,EAAG2W,EAAG7M,EAAIs9D,GAC1C,GA3FL,2BA4FI,WACI,OAAuB,IAAhBlnE,KAAKimE,KAAKr8D,CACpB,GA9FL,sBA+FI,WACI,OAAuB,IAAhB5J,KAAKimE,KAAKr8D,CACpB,GAjGL,sBAkGI,WACI,OAAO,IAAI88D,EAAM,IAAId,GAAK,IAAM5lE,KAAKimE,KAAKxlE,EAAG,IAAMT,KAAKimE,KAAKnmE,EAAG,IAAME,KAAKimE,KAAKxvD,EAAGzW,KAAKimE,KAAKr8D,GAChG,GApGL,wBAqGI,SAAWu9D,GACP,GAAInnE,KAAKonE,YAA0C,IAA5BD,EAAiBlB,KAAKr8D,EAEzC,OAAO5J,KAEX,MAAuBA,KAAKimE,KAApBxlE,EAAR,EAAQA,EAAGX,EAAX,EAAWA,EAAG2W,EAAd,EAAcA,EAAG7M,EAAjB,EAAiBA,EAEjB,OAAO,IAAI88D,EAAM,IAAId,GAAKuB,EAAiBlB,KAAKxlE,EAAImJ,GAAKu9D,EAAiBlB,KAAKxlE,EAAIA,GAAI0mE,EAAiBlB,KAAKnmE,EAAI8J,GAAKu9D,EAAiBlB,KAAKnmE,EAAIA,GAAIqnE,EAAiBlB,KAAKxvD,EAAI7M,GAAKu9D,EAAiBlB,KAAKxvD,EAAIA,GAAI,GACpN,GA7GL,sBA8GI,WAII,OAHKzW,KAAKqnE,YACNrnE,KAAKqnE,UAAYX,EAAMY,OAAOC,IAAIppE,OAAO6B,OAEtCA,KAAKqnE,SACf,IAnHL,sBACI,SAAeG,GACX,OAAOd,EAAMY,OAAOC,IAAIE,SAASD,IAAQd,EAAMgB,GAClD,GAHL,oBAII,SAAc99D,EAAG6M,GACb,OAAK7M,IAAM6M,MAGN7M,IAAM6M,IAGJ7M,EAAE4M,OAAOC,EACnB,GAZL,4CA4DI,SAAsCkxD,GAClC,IAAM99C,EAAI89C,EAAQ,IAClB,OAAQ99C,GAAK,OAAWA,EAAI,MAAQvP,KAAK+qB,KAAMxb,EAAI,MAAS,MAAQ,IACvE,GA/DL,6BAoHI,SAAuB+9C,EAAIlrE,EAAUwqE,GACjC,GAAIU,EAAGC,cAAcnrE,GACjB,OAAOkrE,EAEXV,EAASA,GAAkB,GAC3B,IAAMY,EAAOF,EAAGX,uBACVc,EAAOrrE,EAASuqE,uBAEtB,OADAC,EAASA,GAAUa,EAAOD,GAAQC,EAC3BH,EAAGI,QAAQd,EACrB,GA7HL,4BA8HI,SAAsBU,EAAIlrE,EAAUwqE,GAChC,GAAIU,EAAGK,aAAavrE,GAChB,OAAOkrE,EAEXV,EAASA,GAAkB,GAC3B,IAAMY,EAAOF,EAAGX,uBAGhB,OADAC,EAASA,GAAUY,EADNprE,EAASuqE,wBACYa,EAC3BF,EAAGM,OAAOhB,EACpB,KAvIL,KC9KA,SAASiB,GAAoBC,GACzB,IADwC,EAClCllE,EAAS,GADyB,IAEbklE,GAFa,IAExC,2BAA0C,KAA/BC,EAA+B,QAChCC,EAAel+D,OAAOi+D,IACxBC,GAAiC,IAAjBA,GAA0D,KAApCD,EAAanrD,QAAQ,MAAO,MAClEha,EAAO0C,KAAK0iE,EAEnB,CAPuC,+BAQxC,OAAOplE,CACV,CACD,SAASqlE,GAAU9nE,EAAGX,EAAG2W,EAAG7M,GACxB,MAAO,CACH89D,IAAKjnE,EAAI,IACT+nE,KAAM/xD,EAAI,IACVgyD,MAAO3oE,EAAI,IACX4oE,MAAO9+D,EAEd,CACD,SAAS++D,GAAWnlC,EAAOrmB,GACvB,IAAM9M,EAAQ8M,EAAM9M,MACd9U,EAAS4hB,EAAM,GAAG5hB,OACxB,GAAK8U,EAAL,CAGA,IAAMu4D,EAAgBplC,EAAMqlC,WAAWx4D,GAOvC,MANc,CACV+pB,gBAAiBwuC,EAAcpvC,WAC/Ba,YAAauuC,EAAcnvC,OAC3Ba,cAAesuC,EAAcpvC,WAC7Be,UAAWquC,EAAcnvC,OAASl+B,EANrC,CASJ,CACD,SAASutE,GAAyBpuC,EAAOquC,GACrC,GAAKruC,EAAL,CAGA,IAAMsuC,EAAiBtC,GAAMY,OAAOC,IAAIE,SAASsB,GACjD,GAAKC,EAGL,MAAO,CACHtuC,MAAOA,EACPitC,MAAOY,GAAUS,EAAe/C,KAAKxlE,EAAGuoE,EAAe/C,KAAKnmE,EAAGkpE,EAAe/C,KAAKxvD,EAAGuyD,EAAe/C,KAAKr8D,GAP7G,CASJ,CACD,SAASq/D,GAAyBvuC,EAAOwuC,EAASC,GAC9C,GAAKzuC,GAA4B,IAAnBwuC,EAAQ3tE,OAAtB,CAGA,IAEM6tE,EAAcjB,GAFNe,EAAQ,GACMhmE,UAE5B,MAAO,CACHw3B,MAAOA,EACPitC,MAAOY,GAAUa,EAAY,GAAIA,EAAY,GAAIA,EAAY,GAAID,EAAUC,EAAY,GAAK,GAN/F,CAQJ,CACD,SAASC,GAAyB3uC,EAAOwuC,EAASC,GAC9C,GAAKzuC,GAA4B,IAAnBwuC,EAAQ3tE,OAAtB,CAGA,IAEM6tE,EAAcjB,GAFNe,EAAQ,GACMhmE,UAEtBomE,EAAkB,IAAI5C,GAAM,IAAIZ,GAAKsD,EAAY,GAAIA,EAAY,GAAK,IAAKA,EAAY,GAAK,IAAKD,EAAUC,EAAY,GAAK,IAClI,MAAO,CACH1uC,MAAOA,EACPitC,MAAOY,GAAUe,EAAgBrD,KAAKxlE,EAAG6oE,EAAgBrD,KAAKnmE,EAAGwpE,EAAgBrD,KAAKxvD,EAAG6yD,EAAgBrD,KAAKr8D,GAPjH,CASJ,CACD,SAAS2/D,GAAa/lC,EAAO2X,GACzB,MAAqB,kBAAV3X,EACP,EAAWA,EAAMgmC,SAASruB,IAGnB3X,EAAMimC,YAAYtuB,EAEhC,CA6CM,SAASuuB,GAA6BlmC,GACzC,OAAKA,GAAmC,oBAAnBA,EAAMmmC,UAAuD,oBAArBnmC,EAAMqlC,WA7CvE,SAAuBrlC,GACnB,IAAM3/B,EAAS,GAGT+lE,EAA2BL,GAAa/lC,EADf,qIAG/B,GAAIomC,EAAyBruE,OAAS,EAAG,WACVquE,GADU,IACrC,2BAAqD,KAA1CC,EAA0C,QAC3CC,EAAuBD,EAAap/D,QAAO,SAAA49D,GAAY,YAAqBnsE,IAAjBmsE,CAAJ,IACvD0B,EAAcD,EAAqB,GACnCE,EAAkBF,EAAqB,GAC7C,GAAKE,EAAL,CAGA,IAAIC,OAAgB,EACA,QAAhBF,EAEAE,EAAmBhB,GAAyBN,GAAWnlC,EAAOqmC,GAAeN,GAAaS,EADlE,iLACqG,GAExG,SAAhBD,EAELE,EAAmBhB,GAAyBN,GAAWnlC,EAAOqmC,GAAeN,GAAaS,EADlE,2NACqG,GAExG,QAAhBD,EAELE,EAAmBZ,GAAyBV,GAAWnlC,EAAOqmC,GAAeN,GAAaS,EADlE,uIACqG,GAExG,SAAhBD,EAELE,EAAmBZ,GAAyBV,GAAWnlC,EAAOqmC,GAAeN,GAAaS,EADlE,iLACqG,GAExG,MAAhBD,IACLE,EAAmBnB,GAAyBH,GAAWnlC,EAAOqmC,GAAeE,EAAcC,IAE3FC,GACApmE,EAAO+B,KAAKqkE,EAtBf,CAwBJ,CA/BoC,+BAgCxC,CACD,OAAOpmE,CACV,CASUqmE,CAAc1mC,GAFV,EAGd,CDsLDkjC,GAAMyD,MAAQ,IAAIzD,GAAM,IAAId,GAAK,IAAK,IAAK,IAAK,IAChDc,GAAM0D,MAAQ,IAAI1D,GAAM,IAAId,GAAK,EAAG,EAAG,EAAG,IAC1Cc,GAAMgB,IAAM,IAAIhB,GAAM,IAAId,GAAK,IAAK,EAAG,EAAG,IAC1Cc,GAAM8B,KAAO,IAAI9B,GAAM,IAAId,GAAK,EAAG,EAAG,IAAK,IAC3Cc,GAAM+B,MAAQ,IAAI/B,GAAM,IAAId,GAAK,EAAG,IAAK,EAAG,IAC5Cc,GAAM2D,KAAO,IAAI3D,GAAM,IAAId,GAAK,EAAG,IAAK,IAAK,IAC7Cc,GAAM4D,UAAY,IAAI5D,GAAM,IAAId,GAAK,IAAK,IAAK,IAAK,IACpDc,GAAM6D,YAAc,IAAI7D,GAAM,IAAId,GAAK,EAAG,EAAG,EAAG,IAChD,SAAWc,IAEP,SAAWY,IAEP,SAAWC,GAuBP,SAASiD,EAAej/D,GACpB,IAAM9K,EAAI8K,EAAEC,SAAS,IACrB,OAAoB,IAAb/K,EAAElF,OAAe,IAAMkF,EAAIA,CACrC,CA8ED,SAASgqE,EAAe9pD,GACpB,OAAQA,GACJ,KAAK,GAA0B,OAAO,EACtC,KAAK,GAA0B,OAAO,EACtC,KAAK,GAA0B,OAAO,EACtC,KAAK,GAA0B,OAAO,EACtC,KAAK,GAA0B,OAAO,EACtC,KAAK,GAA0B,OAAO,EACtC,KAAK,GAA0B,OAAO,EACtC,KAAK,GAA0B,OAAO,EACtC,KAAK,GAA0B,OAAO,EACtC,KAAK,GAA0B,OAAO,EACtC,KAAK,GACL,KAAK,GAAqB,OAAO,GACjC,KAAK,GACL,KAAK,GAAqB,OAAO,GACjC,KAAK,GACL,KAAK,GAAqB,OAAO,GACjC,KAAK,IACL,KAAK,GAAqB,OAAO,GACjC,KAAK,IACL,KAAK,GAAqB,OAAO,GACjC,KAAK,IACL,KAAK,GAAqB,OAAO,GAErC,OAAO,CACV,CA3HD4mD,EAAImD,UANJ,SAAmB/C,GACf,OAAqB,IAAjBA,EAAM1B,KAAKr8D,EACX,cAAc+9D,EAAM1B,KAAKxlE,EAAzB,aAA+BknE,EAAM1B,KAAKnmE,EAA1C,aAAgD6nE,EAAM1B,KAAKxvD,EAA3D,KAEGiwD,EAAMY,OAAOC,IAAIoD,WAAWhD,EACtC,EAKDJ,EAAIoD,WAHJ,SAAoBhD,GAChB,qBAAeA,EAAM1B,KAAKxlE,EAA1B,aAAgCknE,EAAM1B,KAAKnmE,EAA3C,aAAiD6nE,EAAM1B,KAAKxvD,EAA5D,cAAoEkxD,EAAM1B,KAAKr8D,EAAGghE,QAAQ,GAA1F,IACH,EAQDrD,EAAIsD,UANJ,SAAmBlD,GACf,OAAqB,IAAjBA,EAAMvB,KAAKx8D,EACX,cAAc+9D,EAAMvB,KAAKL,EAAzB,cAA+C,IAAf4B,EAAMvB,KAAKv5D,GAAS+9D,QAAQ,GAA5D,eAAoF,IAAfjD,EAAMvB,KAAK9jD,GAASsoD,QAAQ,GAAjG,MAEGlE,EAAMY,OAAOC,IAAIuD,WAAWnD,EACtC,EAKDJ,EAAIuD,WAHJ,SAAoBnD,GAChB,qBAAeA,EAAMvB,KAAKL,EAA1B,cAAgD,IAAf4B,EAAMvB,KAAKv5D,GAAS+9D,QAAQ,GAA7D,eAAqF,IAAfjD,EAAMvB,KAAK9jD,GAASsoD,QAAQ,GAAlG,cAA0GjD,EAAMvB,KAAKx8D,EAAEghE,QAAQ,GAA/H,IACH,EAYDrD,EAAIwD,UAHJ,SAAmBpD,GACf,iBAAW6C,EAAe7C,EAAM1B,KAAKxlE,IAArC,OAA0C+pE,EAAe7C,EAAM1B,KAAKnmE,IAApE,OAAyE0qE,EAAe7C,EAAM1B,KAAKxvD,GACtG,EAYD8wD,EAAIyD,WANJ,SAAoBrD,GAChB,OADwC,yDACR,IAAjBA,EAAM1B,KAAKr8D,EACf88D,EAAMY,OAAOC,IAAIwD,UAAUpD,GAEtC,WAAW6C,EAAe7C,EAAM1B,KAAKxlE,IAArC,OAA0C+pE,EAAe7C,EAAM1B,KAAKnmE,IAApE,OAAyE0qE,EAAe7C,EAAM1B,KAAKxvD,IAAnG,OAAwG+zD,EAAelwD,KAAKqrD,MAAqB,IAAfgC,EAAM1B,KAAKr8D,IAChJ,EAWD29D,EAAIppE,OANJ,SAAgBwpE,GACZ,OAAIA,EAAMP,WACCV,EAAMY,OAAOC,IAAIwD,UAAUpD,GAE/BjB,EAAMY,OAAOC,IAAIoD,WAAWhD,EACtC,EAkDDJ,EAAIE,SA3CJ,SAAkBD,GACd,IAAMjsE,EAASisE,EAAIjsE,OACnB,GAAe,IAAXA,EAEA,OAAO,KAEX,GAA0B,KAAtBisE,EAAIhsE,WAAW,GAEf,OAAO,KAEX,GAAe,IAAXD,EAAc,CAEd,IAAMkF,EAAI,GAAKgqE,EAAejD,EAAIhsE,WAAW,IAAMivE,EAAejD,EAAIhsE,WAAW,IAC3EsE,EAAI,GAAK2qE,EAAejD,EAAIhsE,WAAW,IAAMivE,EAAejD,EAAIhsE,WAAW,IAC3Eib,EAAI,GAAKg0D,EAAejD,EAAIhsE,WAAW,IAAMivE,EAAejD,EAAIhsE,WAAW,IACjF,OAAO,IAAIkrE,EAAM,IAAId,GAAKnlE,EAAGX,EAAG2W,EAAG,GACtC,CACD,GAAe,IAAXlb,EAAc,CAEd,IAAMkF,EAAI,GAAKgqE,EAAejD,EAAIhsE,WAAW,IAAMivE,EAAejD,EAAIhsE,WAAW,IAC3EsE,EAAI,GAAK2qE,EAAejD,EAAIhsE,WAAW,IAAMivE,EAAejD,EAAIhsE,WAAW,IAC3Eib,EAAI,GAAKg0D,EAAejD,EAAIhsE,WAAW,IAAMivE,EAAejD,EAAIhsE,WAAW,IAC3EoO,EAAI,GAAK6gE,EAAejD,EAAIhsE,WAAW,IAAMivE,EAAejD,EAAIhsE,WAAW,IACjF,OAAO,IAAIkrE,EAAM,IAAId,GAAKnlE,EAAGX,EAAG2W,EAAG7M,EAAI,KAC1C,CACD,GAAe,IAAXrO,EAAc,CAEd,IAAMkF,EAAIgqE,EAAejD,EAAIhsE,WAAW,IAClCsE,EAAI2qE,EAAejD,EAAIhsE,WAAW,IAClCib,EAAIg0D,EAAejD,EAAIhsE,WAAW,IACxC,OAAO,IAAIkrE,EAAM,IAAId,GAAK,GAAKnlE,EAAIA,EAAG,GAAKX,EAAIA,EAAG,GAAK2W,EAAIA,GAC9D,CACD,GAAe,IAAXlb,EAAc,CAEd,IAAMkF,EAAIgqE,EAAejD,EAAIhsE,WAAW,IAClCsE,EAAI2qE,EAAejD,EAAIhsE,WAAW,IAClCib,EAAIg0D,EAAejD,EAAIhsE,WAAW,IAClCoO,EAAI6gE,EAAejD,EAAIhsE,WAAW,IACxC,OAAO,IAAIkrE,EAAM,IAAId,GAAK,GAAKnlE,EAAIA,EAAG,GAAKX,EAAIA,EAAG,GAAK2W,EAAIA,GAAI,GAAK7M,EAAIA,GAAK,KAChF,CAED,OAAO,IACV,CAtGL,EAmIS09D,EAAOC,MAAQD,EAAOC,IAAM,CAAC,GArI1C,EAsIYb,EAAMY,SAAWZ,EAAMY,OAAS,CAAC,GAxIjD,EAyIGZ,KAAUA,GAAQ,CAAC,IEzctB,IAAI5c,GAAwC,SAAUC,EAASC,EAAYC,EAAG9nD,GAE1E,OAAO,IAAK8nD,IAAMA,EAAIrjD,WAAU,SAAU/K,EAAS8H,GAC/C,SAASumD,EAAUtpD,GAAS,IAAMsM,EAAK/K,EAAU+C,KAAKtE,GAAU,CAAC,MAAOV,IAAKyD,EAAOzD,GAAK,CAAE,CAC3F,SAASiqD,EAASvpD,GAAS,IAAMsM,EAAK/K,EAAS,MAAUvB,GAAU,CAAC,MAAOV,IAAKyD,EAAOzD,GAAK,CAAE,CAC9F,SAASgN,EAAKrJ,GAJlB,IAAejD,EAIaiD,EAAOiB,KAAOjJ,EAAQgI,EAAOjD,QAJ1CA,EAIyDiD,EAAOjD,MAJhDA,aAAiBqpD,EAAIrpD,EAAQ,IAAIqpD,GAAE,SAAUpuD,GAAWA,EAAQ+E,EAAS,KAIlBmD,KAAKmmD,EAAWC,EAAY,CAC9Gj9C,GAAM/K,EAAYA,EAAUuG,MAAMqhD,EAASC,GAAc,KAAK9kD,OACjE,GACJ,EAkBK+lE,GAAAA,SAAAA,sGACF,WACI,OAAOjrE,KAAK++B,IACf,kBACD,WACI,OAAO/+B,KAAKi/B,IACf,yBACD,WACI,OAAOj/B,KAAKkrE,SACf,4BACD,SAAY/vB,GAER,IADA,IAAM+tB,EAAU,GACP5tE,EAAI,EAAGA,EAAI0E,KAAKg/B,OAAOzjC,OAAQD,IAAK,CACzC,IADyC,EACnC2nC,EAAOjjC,KAAKg/B,OAAO1jC,GACnB6vE,EAAcnrE,KAAKorE,SAAS,IAAI7xC,GAASj+B,EAAI,EAAG,IAFb,IAGb2nC,EAAKumC,SAASruB,IAHD,IAIzC,2BAAyC,KAA9Bh+B,EAA8B,SACjCA,EAAM9M,OAAyB,IAAhB8M,EAAM9M,SACrB8M,EAAM9M,MAAQ8M,EAAM9M,MAAQ86D,GAEhCjC,EAAQtjE,KAAKuX,EAChB,CATwC,+BAU5C,CACD,OAAO+rD,CACV,gCACD,WACI,OAAOlpE,KAAKg/B,OAAOrjC,MAAM,EAC5B,6BACD,WACI,OAAOqE,KAAKg/B,OAAOzjC,MACtB,+BACD,SAAei+B,GACX,OAAOx5B,KAAKg/B,OAAOxF,EAAa,EACnC,kCACD,SAAkBgB,EAAUiG,GACxB,IAAM4qC,EAAa7qC,GAAchG,EAASf,O/BtC3C,SAAmCgH,GACtC,IAAI58B,EAASs8B,GACb,GAAIM,GAAmBA,aAA0BJ,OAC7C,GAAKI,EAAe3iB,OAchBja,EAAS48B,MAde,CACxB,IAAI+wB,EAAQ,IACR/wB,EAAe6qC,aACf9Z,GAAS,KAET/wB,EAAe8qC,YACf/Z,GAAS,KAET/wB,EAAe+qC,UACfha,GAAS,KAEb3tD,EAAS,IAAIw8B,OAAOI,EAAe71B,OAAQ4mD,EAC9C,CAML,OADA3tD,EAAOo9B,UAAY,EACZp9B,CACV,C+BgByD4nE,CAA0BhrC,GAAiBzgC,KAAKg/B,OAAOxE,EAAShB,WAAa,GAAI,GACnI,OAAI6xC,EACO,IAAIlxC,GAAMK,EAAShB,WAAY6xC,EAAWhxC,YAAaG,EAAShB,WAAY6xC,EAAW9wC,WAE3F,IACV,sBACD,SAAMkG,GACF,IAAM7B,EAAQ5+B,KAAKg/B,OACb0sC,EAAY1rE,KAAK2rE,WAAWhjE,KAAK3I,MACnCw5B,EAAa,EACboyC,EAAW,GACXC,EAAgB,EAChBC,EAAa,GACjB,YACMprE,OAAOI,SADb,mGAGgB+qE,EAAgBC,EAAWvwE,QAH3C,gBAMgB,OAFMqF,EAAQgrE,EAASr0C,UAAUu0C,EAAWD,GAAejuE,MAAOkuE,EAAWD,GAAeruE,KAC5FquE,GAAiB,EALjC,SAMsBjrE,EANtB,mCASoB44B,EAAaoF,EAAMrjC,QATvC,iBAUoBqwE,EAAWhtC,EAAMpF,GACjBsyC,EAAaJ,EAAUE,EAAUnrC,GACjCorC,EAAgB,EAChBryC,GAAc,EAblC,sHAsBH,6BACD,SAAaA,EAAYiH,GACrB,IADqC,EAC/BsrC,EAAU/rE,KAAKg/B,OAAOxF,EAAa,GAEnCwyC,EAAQ,GAHuB,IAEtBhsE,KAAK2rE,WAAWI,EAAStrC,IAFH,IAIrC,2BAA4B,KAAjB/F,EAAiB,QACxBsxC,EAAMpmE,KAAK,CACPw7B,KAAM2qC,EAAQx0C,UAAUmD,EAAM98B,MAAO88B,EAAMl9B,KAC3C68B,YAAaK,EAAM98B,MAAQ,EAC3B28B,UAAWG,EAAMl9B,IAAM,GAE9B,CAVoC,+BAWrC,OAAOwuE,CACV,2BACD,SAAWD,EAAStrC,GAChB,IACItjB,EADEtZ,EAAS,GAGf,IADA48B,EAAeQ,UAAY,GACpB9jB,EAAQsjB,EAAerJ,KAAK20C,KACP,IAApB5uD,EAAM,GAAG5hB,QAIbsI,EAAO+B,KAAK,CAAEhI,MAAOuf,EAAM9M,MAAO7S,IAAK2f,EAAM9M,MAAQ8M,EAAM,GAAG5hB,SAElE,OAAOsI,CACV,gCACD,SAAgB62B,GAEZ,IADAA,EAAQ16B,KAAKisE,eAAevxC,IAClBN,kBAAoBM,EAAMJ,cAChC,OAAOt6B,KAAKg/B,OAAOtE,EAAMN,gBAAkB,GAAG7C,UAAUmD,EAAML,YAAc,EAAGK,EAAMH,UAAY,GAErG,IAAM2xC,EAAalsE,KAAKi/B,KAClBktC,EAAiBzxC,EAAMN,gBAAkB,EACzCgyC,EAAe1xC,EAAMJ,cAAgB,EACrC+xC,EAAc,GACpBA,EAAYzmE,KAAK5F,KAAKg/B,OAAOmtC,GAAgB50C,UAAUmD,EAAML,YAAc,IAC3E,IAAK,IAAI/+B,EAAI6wE,EAAiB,EAAG7wE,EAAI8wE,EAAc9wE,IAC/C+wE,EAAYzmE,KAAK5F,KAAKg/B,OAAO1jC,IAGjC,OADA+wE,EAAYzmE,KAAK5F,KAAKg/B,OAAOotC,GAAc70C,UAAU,EAAGmD,EAAMH,UAAY,IACnE8xC,EAAY9vE,KAAK2vE,EAC3B,yBACD,SAAS1xC,GAGL,OAFAA,EAAWx6B,KAAKssE,kBAAkB9xC,GAClCx6B,KAAKusE,oBACEvsE,KAAKm/B,YAAYqtC,aAAahyC,EAAShB,WAAa,IAAMgB,EAASf,OAAS,EACtF,2BACD,SAAWvY,GACPA,EAAS5G,KAAKiP,MAAMrI,GACpBA,EAAS5G,KAAKuV,IAAI,EAAG3O,GACrBlhB,KAAKusE,oBACL,IAAMnvE,EAAM4C,KAAKm/B,YAAYstC,WAAWvrD,GAClCkxC,EAAapyD,KAAKg/B,OAAO5hC,EAAIiT,OAAO9U,OAE1C,MAAO,CACHi+B,WAAY,EAAIp8B,EAAIiT,MACpBopB,OAAQ,EAAInf,KAAKkR,IAAIpuB,EAAIqhC,UAAW2zB,GAE3C,+BACD,SAAe13B,GACX,IAAM98B,EAAQoC,KAAKssE,kBAAkB,CAAE9yC,WAAYkB,EAAMN,gBAAiBX,OAAQiB,EAAML,cAClF78B,EAAMwC,KAAKssE,kBAAkB,CAAE9yC,WAAYkB,EAAMJ,cAAeb,OAAQiB,EAAMH,YACpF,OAAI38B,EAAM47B,aAAekB,EAAMN,iBACxBx8B,EAAM67B,SAAWiB,EAAML,aACvB78B,EAAIg8B,aAAekB,EAAMJ,eACzB98B,EAAIi8B,SAAWiB,EAAMH,UACjB,CACHH,gBAAiBx8B,EAAM47B,WACvBa,YAAaz8B,EAAM67B,OACnBa,cAAe98B,EAAIg8B,WACnBe,UAAW/8B,EAAIi8B,QAGhBiB,CACV,kCACD,SAAkBF,GACd,IAAKjB,GAAAA,YAAqBiB,GACtB,MAAM,IAAIn2B,MAAM,gBAEpB,IAAMm1B,EAAuBgB,EAAvBhB,WAAYC,EAAWe,EAAXf,OACdizC,GAAa,EACjB,GAAIlzC,EAAa,EACbA,EAAa,EACbC,EAAS,EACTizC,GAAa,OAEZ,GAAIlzC,EAAax5B,KAAKg/B,OAAOzjC,OAC9Bi+B,EAAax5B,KAAKg/B,OAAOzjC,OACzBk+B,EAASz5B,KAAKg/B,OAAOxF,EAAa,GAAGj+B,OAAS,EAC9CmxE,GAAa,MAEZ,CACD,IAAMC,EAAe3sE,KAAKg/B,OAAOxF,EAAa,GAAGj+B,OAAS,EACtDk+B,EAAS,GACTA,EAAS,EACTizC,GAAa,GAERjzC,EAASkzC,IACdlzC,EAASkzC,EACTD,GAAa,EAEpB,CACD,OAAKA,EAIM,CAAElzC,WAAAA,EAAYC,OAAAA,GAHde,CAKd,OAnLCywC,CAAoB2B,IAwLbC,GAAb,WACI,WAAYC,EAAMC,GAAsB,UACpC/sE,KAAKgtE,MAAQF,EACb9sE,KAAKitE,QAAUvtE,OAAO0C,OAAO,MAC7BpC,KAAKktE,sBAAwBH,EAC7B/sE,KAAKmtE,eAAiB,IACzB,CANL,iCAOI,WACIntE,KAAKitE,QAAUvtE,OAAO0C,OAAO,KAChC,GATL,uBAUI,SAAUs1B,GACN,OAAO13B,KAAKitE,QAAQv1C,EACvB,GAZL,wBAaI,WAAa,WACHzd,EAAM,GAEZ,OADAva,OAAOoH,KAAK9G,KAAKitE,SAAS5pE,SAAQ,SAAC7D,GAAD,OAASya,EAAIrU,KAAK,EAAKqnE,QAAQztE,GAA/B,IAC3Bya,CACV,GAjBL,4BAkBI,SAAeqD,GACXtd,KAAKitE,QAAQ3vD,EAAKimB,KAAO,IAAI0nC,GAAY50C,GAAAA,MAAU/Y,EAAKimB,KAAMjmB,EAAKshB,MAAOthB,EAAK8vD,IAAK9vD,EAAKwhB,UAC5F,GApBL,gCAqBI,SAAmBuuC,EAAQntE,GAClBF,KAAKitE,QAAQI,IAGJrtE,KAAKitE,QAAQI,GACrBC,SAASptE,EAClB,GA3BL,gCA4BI,SAAmBmtE,GACVrtE,KAAKitE,QAAQI,WAGXrtE,KAAKitE,QAAQI,EACvB,GAjCL,sCAkCI,SAAyB9pC,EAAKpuB,EAASulB,GACnC,OAAOovB,GAAU9pD,UAAM,OAAQ,EAAf,UAAuB,uFAC7BwjC,EAAQxjC,KAAKutE,UAAUhqC,GADM,yCAGxB,CAAEsuB,OAAQ,GAAIC,SAAS,EAAOC,wBAAyB,EAAGC,wBAAyB,EAAGC,4BAA6B,IAH3F,gCAK5BjB,GAA4Bwc,yBAAyBhqC,EAAOruB,EAASulB,IALzC,+CAO1C,GA1CL,yBA4CI,SAAY+yC,EAAaC,EAAav4D,EAASw4D,GAC3C,OAAO7jB,GAAU9pD,UAAM,OAAQ,EAAf,UAAuB,yFAC7BkqB,EAAWlqB,KAAKutE,UAAUE,GAC1BtjD,EAAWnqB,KAAKutE,UAAUG,GAC3BxjD,GAAaC,EAHiB,yCAIxB,MAJwB,gCAM5B0iD,EAAmB3W,YAAYhsC,EAAUC,EAAUhV,EAASw4D,IANhC,+CAQ1C,GArDL,qCAuGI,SAAwBC,EAAUC,EAAOzjD,GACrC,OAAO0/B,GAAU9pD,UAAM,OAAQ,EAAf,UAAuB,yHAC7BwjC,EAAQxjC,KAAKutE,UAAUK,GADM,yCAGxBC,GAHwB,OAK7BhqE,EAAS,GACXiqE,OAAU5xE,EACd2xE,EAAQA,EAAMlyE,MAAM,GAAGoyE,MAAK,SAACnkE,EAAG6M,GAC5B,OAAI7M,EAAE8wB,OAASjkB,EAAEikB,MACNP,GAAAA,yBAA+BvwB,EAAE8wB,MAAOjkB,EAAEikB,QAGxC9wB,EAAE8wB,MAAQ,EAAI,IACdjkB,EAAEikB,MAAQ,EAAI,EAE9B,IAfkC,IAgBFmzC,GAhBE,sEAgBxBnzC,EAhBwB,EAgBxBA,MAAO6E,EAhBiB,EAgBjBA,KACK,kBADCV,EAhBW,EAgBXA,OAEhBivC,EAAUjvC,IAEV1E,GAAAA,QAAcO,IAAW6E,EApBE,2DAwBzBrV,EAAWsZ,EAAMwqC,gBAAgBtzC,GACvC6E,EAAOA,EAAKriB,QAAQ,cAAesmB,EAAM3E,KACrC3U,IAAaqV,EA1Bc,6DA+B3BjlB,KAAKuV,IAAI0P,EAAKhkC,OAAQ2uB,EAAS3uB,QAAUsxE,EAAmBoB,YA/BjC,wBAgC3BpqE,EAAO+B,KAAK,CAAE80B,MAAAA,EAAO6E,KAAAA,IAhCM,gCAoCzBhV,EAAUN,GAAWC,EAAUqV,EAAMnV,GACrC8jD,EAAa1qC,EAAM4nC,SAASjxC,GAAAA,KAAWO,GAAOO,oBArCrB,IAsCV1Q,GAtCU,IAsC/B,2BAAWqG,EAAmB,QACpBhzB,EAAQ4lC,EAAMqlC,WAAWqF,EAAat9C,EAAOhK,eAC7CppB,EAAMgmC,EAAMqlC,WAAWqF,EAAat9C,EAAOhK,cAAgBgK,EAAO/J,gBAClEsnD,EAAU,CACZ5uC,KAAMA,EAAK3G,OAAOhI,EAAO9J,cAAe8J,EAAO7J,gBAC/C2T,MAAO,CAAEN,gBAAiBx8B,EAAM47B,WAAYa,YAAaz8B,EAAM67B,OAAQa,cAAe98B,EAAIg8B,WAAYe,UAAW/8B,EAAIi8B,SAErH+J,EAAMwqC,gBAAgBG,EAAQzzC,SAAWyzC,EAAQ5uC,MACjD17B,EAAO+B,KAAKuoE,EA9CW,2BAAAphE,GAAA,uHAAAA,IAAA,2BAkDZ,kBAAZ+gE,GACPjqE,EAAO+B,KAAK,CAAEi5B,IAAKivC,EAASvuC,KAAM,GAAI7E,MAAO,CAAEN,gBAAiB,EAAGC,YAAa,EAAGC,cAAe,EAAGC,UAAW,KAnDjF,kBAqD5B12B,GArD4B,+DAuD1C,GA/JL,0BAiKI,SAAa+pE,GACT,OAAO9jB,GAAU9pD,UAAM,OAAQ,EAAf,UAAuB,uFAC7BwjC,EAAQxjC,KAAKutE,UAAUK,GADM,yCAGxB,MAHwB,gCAK5BppC,GAAahB,IALe,+CAO1C,GAzKL,0CA2KI,SAA6BoqC,GACzB,OAAO9jB,GAAU9pD,UAAM,OAAQ,EAAf,UAAuB,uFAC7BwjC,EAAQxjC,KAAKutE,UAAUK,GADM,yCAGxB,MAHwB,gCAK5BlE,GAA6BlmC,IALD,+CAO1C,GAnLL,4BAoLI,SAAe4qC,EAAWC,EAAaC,EAASC,GAC5C,OAAOzkB,GAAU9pD,UAAM,OAAQ,EAAf,UAAuB,sGAC7BwuE,EAAK,IAAIn6D,EACTo6D,EAAgB,IAAIpuC,OAAOiuC,EAASC,GACpCG,EAAO,IAAIn8D,IAHkB,IAIV67D,GAJU,4DAIjB7qC,EAJiB,QAKzBC,EAAQxjC,KAAKutE,UAAUhqC,GALE,4DASZC,EAAMwoC,MAAMyC,IATA,+DASpBrtC,EAToB,WAUditC,GAAgBnoE,MAAMkE,OAAOg3B,IAVf,2DAa3BstC,EAAK57D,IAAIsuB,KACLstC,EAAKh8D,KAAOm6D,EAAmB8B,mBAdR,qKAAA5hE,IAAA,mIAAAA,IAAA,8CAmB5B,CAAEi/D,MAAO7gE,MAAMxO,KAAK+xE,GAAOE,SAAUJ,EAAGr0D,YAnBZ,6EAqB1C,GA1ML,+BA6MI,SAAkByzD,EAAUlzC,EAAO4zC,EAASC,GACxC,OAAOzkB,GAAU9pD,UAAM,OAAQ,EAAf,UAAuB,uGAC7BwjC,EAAQxjC,KAAKutE,UAAUK,GADM,yCAGxBluE,OAAO0C,OAAO,OAHU,OAK7BqsE,EAAgB,IAAIpuC,OAAOiuC,EAASC,GACpC1qE,EAASnE,OAAO0C,OAAO,MACpB6gC,EAAOvI,EAAMN,gBAPa,YAOI6I,EAAOvI,EAAMJ,eAPjB,iBAQzB0xC,EAAQxoC,EAAMqrC,aAAa5rC,EAAMwrC,GARR,IASZzC,GATY,6DASpB5qC,EAToB,QAUtBl7B,MAAMkE,OAAOg3B,EAAKA,OAVI,yDAavBqO,EAAQ5rC,EAAOu9B,EAAKA,SAEpBqO,EAAQ,GACR5rC,EAAOu9B,EAAKA,MAAQqO,GAExBA,EAAM7pC,KAAK,CACPw0B,gBAAiB6I,EACjB5I,YAAa+G,EAAK/G,YAClBC,cAAe2I,EACf1I,UAAW6G,EAAK7G,YAtBO,uHAAAxtB,IAAA,qBAOgCk2B,IAPhC,gDA0B5Bp/B,GA1B4B,+DA4B1C,GA1OL,8BA4OI,SAAiB+pE,EAAUlzC,EAAOqK,EAAIupC,EAASC,GAC3C,OAAOzkB,GAAU9pD,UAAM,OAAQ,EAAf,UAAuB,iGAC7BwjC,EAAQxjC,KAAKutE,UAAUK,GADM,yCAGxB,MAHwB,UAK7Ba,EAAgB,IAAIpuC,OAAOiuC,EAASC,GACtC7zC,EAAML,cAAgBK,EAAMH,YAC5BG,EAAQ,CACJN,gBAAiBM,EAAMN,gBACvBC,YAAaK,EAAML,YACnBC,cAAeI,EAAMJ,cACrBC,UAAWG,EAAMH,UAAY,IAG/Bu0C,EAAgBtrC,EAAMwqC,gBAAgBtzC,GACtCq0C,EAAYvrC,EAAMwrC,kBAAkB,CAAEx1C,WAAYkB,EAAMN,gBAAiBX,OAAQiB,EAAML,aAAeo0C,GAfzE,yCAiBxB,MAjBwB,cAmB7BrtC,EAAOoC,EAAMwqC,gBAAgBe,GAC7BlrE,EAAS4gC,GAAoBoB,SAASopC,iBAAiBv0C,EAAOo0C,EAAeC,EAAW3tC,EAAM2D,GApBjE,kBAqB5BlhC,GArB4B,gDAuB1C,GApQL,+BAsQI,SAAkB1E,EAAU+vE,EAAYC,GAAoB,WAIlDC,ElDzTP,SAA2BhqD,EAAa1hB,GAC3C,IADmD,EAC7C4hB,EAAoB,SAAChiB,GACvB,OAAO,WACH,IAAMmF,EAAO0C,MAAM7K,UAAU3E,MAAM6E,KAAKvE,UAAW,GACnD,OAAOyH,EAAOJ,EAAQmF,EACzB,CACJ,EACK5E,EAAS,CAAC,EAPmC,IAQ1BuhB,GAR0B,IAQnD,2BAAsC,KAA3BrgB,EAA2B,QAClClB,EAAOkB,GAAcugB,EAAkBvgB,EAC1C,CAVkD,+BAWnD,OAAOlB,CACV,CkD6S2BshB,CAAkBgqD,GAHX,SAAC7rE,EAAQmF,GAChC,OAAO,EAAKukE,MAAMqC,IAAI/rE,EAAQmF,EACjC,IAEK6mE,EAAM,CACRxC,KAAMsC,EACNG,gBAAiB,WACb,OAAO,EAAKC,YACf,GAEL,OAAIxvE,KAAKktE,uBACLltE,KAAKmtE,eAAiBntE,KAAKktE,sBAAsBoC,EAAKJ,GAE/CtoE,QAAQ/K,QAAQ4gB,GAAkBzc,KAAKmtE,kBAa3CvmE,QAAQjD,OAAO,IAAIU,MAAJ,oBAEzB,GAnSL,iBAqSI,SAAIf,EAAQmF,GACR,IAAKzI,KAAKmtE,gBAAyD,oBAAhCntE,KAAKmtE,eAAe7pE,GACnD,OAAOsD,QAAQjD,OAAO,IAAIU,MAAM,qCAAuCf,IAE3E,IACI,OAAOsD,QAAQ/K,QAAQmE,KAAKmtE,eAAe7pE,GAAQoF,MAAM1I,KAAKmtE,eAAgB1kE,GACjF,CACD,MAAOvI,IACH,OAAO0G,QAAQjD,OAAOzD,GACzB,CACJ,IA/SL,0BAsDI,SAAmBuvE,EAAmBC,EAAmBv6D,EAASw4D,GAC9D,IAAMgC,EAA8B,aAAdhC,EAA2BrI,KAAmCA,KAC9E9P,EAAgBia,EAAkBG,kBAClCna,EAAgBia,EAAkBE,kBAClC/rE,EAAS8rE,EAAczZ,YAAYV,EAAeC,EAAetgD,GAEvE,SAAS06D,EAAetlD,GACpB,OAAOA,EAAQ1a,KAAI,SAAA8gD,GACf,IAAIl2C,EACJ,MAAQ,CAACk2C,EAAE+D,cAAct6B,gBAAiBu2B,EAAE+D,cAAcd,uBAAwBjD,EAAEgE,cAAcv6B,gBAAiBu2B,EAAEgE,cAAcf,uBAAkD,QAAzBn5C,EAAKk2C,EAAEiE,oBAAiC,IAAPn6C,OAAgB,EAASA,EAAG5K,KAAI,SAAA8gD,GAAC,MAAI,CAC1NA,EAAE+D,cAAct6B,gBAChBu2B,EAAE+D,cAAcr6B,YAChBs2B,EAAE+D,cAAcp6B,cAChBq2B,EAAE+D,cAAcn6B,UAChBo2B,EAAEgE,cAAcv6B,gBAChBu2B,EAAEgE,cAAct6B,YAChBs2B,EAAEgE,cAAcr6B,cAChBq2B,EAAEgE,cAAcp6B,UARsM,IAUjO,GACJ,CACD,MAAO,CACHu1C,YAjBejsE,EAAO0mB,QAAQhvB,OAAS,IAAYyE,KAAK+vE,oBAAoBN,EAAmBC,GAkB/FjiD,UAAW5pB,EAAO2wD,WAClBjqC,QAASslD,EAAehsE,EAAO0mB,SAC/BgqC,MAAO1wD,EAAO0wD,MAAM1kD,KAAI,SAAA8gD,GAAC,MAAK,CAC1BA,EAAE2E,iBAAiBZ,cAAct6B,gBACjCu2B,EAAE2E,iBAAiBZ,cAAcd,uBACjCjD,EAAE2E,iBAAiBX,cAAcv6B,gBACjCu2B,EAAE2E,iBAAiBX,cAAcf,uBACjCic,EAAelf,EAAEpmC,SALI,IAQhC,GAvFL,iCAwFI,SAA2BL,EAAUC,GACjC,IAAM4qC,EAAoB7qC,EAAS2Z,eAEnC,GAAIkxB,IADsB5qC,EAAS0Z,eAE/B,OAAO,EAEX,IAAK,IAAIZ,EAAO,EAAGA,GAAQ8xB,EAAmB9xB,IAAQ,CAGlD,GAFqB/Y,EAAS4Z,eAAeb,KACxB9Y,EAAS2Z,eAAeb,GAEzC,OAAO,CAEd,CACD,OAAO,CACV,KAtGL,KAmTA4pC,GAAmBoB,WAAa,IAEhCpB,GAAmB8B,kBAAoB,IAQV,oBAAlBrvD,gBAEPvf,WAAWiwE,OnB9fJ,CACHC,YAAQ/zE,EACRg0E,eAAWh0E,EACXsqC,wBAAyBA,GACzBhxB,QAASA,GACTq4C,QAASsiB,GACTlhB,OAAQA,GACR11B,SAAUA,GACVY,MAAOA,GACPwO,UAAWA,GACX8lB,mBAAoB0hB,GACpBriB,eAAgBqiB,GAChBpiB,UAAWoiB,GACXn5C,IAAKX,GACLu1B,MAAOA,KoB/Bf,IAAIwkB,IAAc,EACX,SAAStqD,GAAWuqD,GACvB,IAAID,GAAJ,CAGAA,IAAc,EACd,IAAME,EAAe,IAAI9qD,IAAmB,SAACjW,GACzCxP,WAAWyf,YAAYjQ,EAC1B,IAAE,SAACu9D,GAAD,OAAU,IAAID,GAAmBC,EAAMuD,EAAvC,IACHtwE,WAAWwwE,UAAY,SAACrwE,GACpBowE,EAAaC,UAAUrwE,EAAEod,KAC5B,CAPA,CAQJ,CACDvd,WAAWwwE,UAAY,SAACrwE,GAEfkwE,IACDtqD,GAAW,KAElB,ECnBD,IAsJW0qD,GC6MPC,GClWAC,GFDAC,GAAgD,SAAU/zE,EAAID,EAAMi0E,GACpE,GAAIA,GAA6B,IAArB30E,UAAUV,OAAc,IAAK,IAA4Bs1E,EAAxBv1E,EAAI,EAAGgnB,EAAI3lB,EAAKpB,OAAYD,EAAIgnB,EAAGhnB,KACxEu1E,GAAQv1E,KAAKqB,IACRk0E,IAAIA,EAAK1lE,MAAM7K,UAAU3E,MAAM6E,KAAK7D,EAAM,EAAGrB,IAClDu1E,EAAGv1E,GAAKqB,EAAKrB,IAGrB,OAAOsB,EAAGkT,OAAO+gE,GAAM1lE,MAAM7K,UAAU3E,MAAM6E,KAAK7D,GACrD,EACGm0E,GAAkC,WAClC,SAASA,EAAiBp5C,EAAKmzB,EAAYkmB,EAAShF,GAChD/rE,KAAK++B,KAAOrH,EACZ13B,KAAKsrD,YAAcT,EACnB7qD,KAAKgxE,SAAWD,EAChB/wE,KAAKixE,SAAWlF,EAChB/rE,KAAKkxE,kBAAeh1E,CACvB,CAoID,OAnIAwD,OAAOC,eAAemxE,EAAiBxwE,UAAW,MAAO,CACrDT,IAAK,WACD,OAAOG,KAAK++B,IACf,EACDn/B,YAAY,EACZ6B,cAAc,IAElB/B,OAAOC,eAAemxE,EAAiBxwE,UAAW,aAAc,CAC5DT,IAAK,WACD,OAAOG,KAAKsrD,WACf,EACD1rD,YAAY,EACZ6B,cAAc,IAElB/B,OAAOC,eAAemxE,EAAiBxwE,UAAW,UAAW,CACzDT,IAAK,WACD,OAAOG,KAAKgxE,QACf,EACDpxE,YAAY,EACZ6B,cAAc,IAElBqvE,EAAiBxwE,UAAU4qE,QAAU,SAAUxwC,GAC3C,GAAIA,EAAO,CACP,IAAI98B,EAAQoC,KAAKorE,SAAS1wC,EAAM98B,OAC5BJ,EAAMwC,KAAKorE,SAAS1wC,EAAMl9B,KAC9B,OAAOwC,KAAKixE,SAAS15C,UAAU35B,EAAOJ,EACzC,CACD,OAAOwC,KAAKixE,QACf,EACDH,EAAiBxwE,UAAU6wE,OAAS,SAAU5mD,EAASwmD,GACnD,IAAK,IAAIzjE,EAAK,EAAG8jE,EAAY7mD,EAASjd,EAAK8jE,EAAU71E,OAAQ+R,IAAM,CAC/D,IAAIsjB,EAASwgD,EAAU9jE,GACvB,GAAIwjE,EAAiBO,cAAczgD,GAAS,CAExC,IAAI8J,EAAQ42C,GAAmB1gD,EAAO8J,OAElC62C,EAAcvxE,KAAKorE,SAAS1wC,EAAM98B,OAClC4zE,EAAYxxE,KAAKorE,SAAS1wC,EAAMl9B,KACpCwC,KAAKixE,SAAWjxE,KAAKixE,SAAS15C,UAAU,EAAGg6C,GAAe3gD,EAAO2O,KAAOv/B,KAAKixE,SAAS15C,UAAUi6C,EAAWxxE,KAAKixE,SAAS11E,QAEzH,IAAI01D,EAAY32C,KAAKuV,IAAI6K,EAAM98B,MAAMqlC,KAAM,GACvCiuB,EAAU52C,KAAKuV,IAAI6K,EAAMl9B,IAAIylC,KAAM,GACnCwuC,EAAczxE,KAAKkxE,aACnBQ,EAAmBC,GAAmB/gD,EAAO2O,MAAM,EAAOgyC,GAC9D,GAAIrgB,EAAUD,IAAcygB,EAAiBn2E,OACzC,IAAK,IAAID,EAAI,EAAG2P,EAAMymE,EAAiBn2E,OAAQD,EAAI2P,EAAK3P,IACpDm2E,EAAYn2E,EAAI21D,EAAY,GAAKygB,EAAiBp2E,QAIlDo2E,EAAiBn2E,OAAS,IAC1Bk2E,EAAY7xD,OAAOlX,MAAM+oE,EAAad,GAAc,CAAC1f,EAAY,EAAGC,EAAUD,GAAYygB,GAAkB,IAG5G1xE,KAAKkxE,aAAeO,EAAcA,EAAY91E,MAAM,EAAGs1D,EAAY,GAAGnhD,OAAO4hE,EAAkBD,EAAY91E,MAAMu1D,EAAU,IAGnI,IAAIpb,EAAOllB,EAAO2O,KAAKhkC,QAAUi2E,EAAYD,GAC7C,GAAa,IAATz7B,EACA,IAASx6C,EAAI21D,EAAY,EAAIygB,EAAiBn2E,OAAQ0P,EAAMwmE,EAAYl2E,OAAQD,EAAI2P,EAAK3P,IACrFm2E,EAAYn2E,GAAKm2E,EAAYn2E,GAAKw6C,CAG7C,KACI,KAAIg7B,EAAiBc,OAAOhhD,GAK7B,MAAM,IAAIvsB,MAAM,iCAJhBrE,KAAKixE,SAAWrgD,EAAO2O,KACvBv/B,KAAKkxE,kBAAeh1E,CAIvB,CACJ,CACD8D,KAAKgxE,SAAWD,CACnB,EACDD,EAAiBxwE,UAAUuxE,eAAiB,WAIxC,YAH0B31E,IAAtB8D,KAAKkxE,eACLlxE,KAAKkxE,aAAeS,GAAmB3xE,KAAKixE,UAAU,IAEnDjxE,KAAKkxE,YACf,EACDJ,EAAiBxwE,UAAUuoE,WAAa,SAAU3nD,GAC9CA,EAAS5G,KAAKuV,IAAIvV,KAAKkR,IAAItK,EAAQlhB,KAAKixE,SAAS11E,QAAS,GAC1D,IAAIk2E,EAAczxE,KAAK6xE,iBACnB1zC,EAAM,EAAGC,EAAOqzC,EAAYl2E,OAChC,GAAa,IAAT6iC,EACA,MAAO,CAAE6E,KAAM,EAAGqwB,UAAWpyC,GAEjC,KAAOid,EAAMC,GAAM,CACf,IAAIC,EAAM/jB,KAAKiP,OAAO4U,EAAMC,GAAQ,GAChCqzC,EAAYpzC,GAAOnd,EACnBkd,EAAOC,EAGPF,EAAME,EAAM,CAEnB,CAGD,IAAI4E,EAAO9E,EAAM,EACjB,MAAO,CAAE8E,KAAMA,EAAMqwB,UAAWpyC,EAASuwD,EAAYxuC,GACxD,EACD6tC,EAAiBxwE,UAAU8qE,SAAW,SAAU5wC,GAC5C,IAAIi3C,EAAczxE,KAAK6xE,iBACvB,GAAIr3C,EAASyI,MAAQwuC,EAAYl2E,OAC7B,OAAOyE,KAAKixE,SAAS11E,OAEpB,GAAIi/B,EAASyI,KAAO,EACrB,OAAO,EAEX,IAAI6uC,EAAaL,EAAYj3C,EAASyI,MAClC8uC,EAAkBv3C,EAASyI,KAAO,EAAIwuC,EAAYl2E,OAAUk2E,EAAYj3C,EAASyI,KAAO,GAAKjjC,KAAKixE,SAAS11E,OAC/G,OAAO+e,KAAKuV,IAAIvV,KAAKkR,IAAIsmD,EAAat3C,EAAS84B,UAAWye,GAAiBD,EAC9E,EACDpyE,OAAOC,eAAemxE,EAAiBxwE,UAAW,YAAa,CAC3DT,IAAK,WACD,OAAOG,KAAK6xE,iBAAiBt2E,MAChC,EACDqE,YAAY,EACZ6B,cAAc,IAElBqvE,EAAiBO,cAAgB,SAAU18D,GACvC,IAAIgL,EAAYhL,EAChB,YAAqBzY,IAAdyjB,GAAyC,OAAdA,GACJ,kBAAnBA,EAAU4f,WAAyCrjC,IAApByjB,EAAU+a,aACrBx+B,IAA1ByjB,EAAUqyD,aAA8D,kBAA1BryD,EAAUqyD,YAChE,EACDlB,EAAiBc,OAAS,SAAUj9D,GAChC,IAAIgL,EAAYhL,EAChB,YAAqBzY,IAAdyjB,GAAyC,OAAdA,GACJ,kBAAnBA,EAAU4f,WAAyCrjC,IAApByjB,EAAU+a,YAAiDx+B,IAA1ByjB,EAAUqyD,WACxF,EACMlB,CACV,CA5IqC,GA4MtC,SAASmB,GAAU30D,EAAM40D,GACrB,GAAI50D,EAAK/hB,QAAU,EAEf,OAAO+hB,EAEX,IAAIpU,EAAKoU,EAAK/hB,OAAS,EAAK,EACxB43B,EAAO7V,EAAK3hB,MAAM,EAAGuN,GACrBkqB,EAAQ9V,EAAK3hB,MAAMuN,GACvB+oE,GAAU9+C,EAAM++C,GAChBD,GAAU7+C,EAAO8+C,GAIjB,IAHA,IAAIC,EAAU,EACVC,EAAW,EACX92E,EAAI,EACD62E,EAAUh/C,EAAK53B,QAAU62E,EAAWh/C,EAAM73B,QAAQ,CACrD,IAAIqD,EAAMszE,EAAQ/+C,EAAKg/C,GAAU/+C,EAAMg/C,IAGnC90D,EAAKhiB,KAFLsD,GAAO,EAEKu0B,EAAKg/C,KAIL/+C,EAAMg/C,IAEzB,CACD,KAAOD,EAAUh/C,EAAK53B,QAClB+hB,EAAKhiB,KAAO63B,EAAKg/C,KAErB,KAAOC,EAAWh/C,EAAM73B,QACpB+hB,EAAKhiB,KAAO83B,EAAMg/C,KAEtB,OAAO90D,CACV,CACD,SAASq0D,GAAmBpyC,EAAM8yC,EAAe3xC,QAC1B,IAAfA,IAAyBA,EAAa,GAE1C,IADA,IAAI78B,EAASwuE,EAAgB,CAAC3xC,GAAc,GACnCplC,EAAI,EAAGA,EAAIikC,EAAKhkC,OAAQD,IAAK,CAClC,IAAIg3E,EAAK/yC,EAAK/jC,WAAWF,GACd,KAAPg3E,GAAkD,KAAPA,IAChC,KAAPA,GAA2Ch3E,EAAI,EAAIikC,EAAKhkC,QAAqC,KAA3BgkC,EAAK/jC,WAAWF,EAAI,IACtFA,IAEJuI,EAAO+B,KAAK86B,EAAaplC,EAAI,GAEpC,CACD,OAAOuI,CACV,CACD,SAASytE,GAAmB52C,GACxB,IAAI98B,EAAQ88B,EAAM98B,MACdJ,EAAMk9B,EAAMl9B,IAChB,OAAII,EAAMqlC,KAAOzlC,EAAIylC,MAASrlC,EAAMqlC,OAASzlC,EAAIylC,MAAQrlC,EAAM01D,UAAY91D,EAAI81D,UACpE,CAAE11D,MAAOJ,EAAKA,IAAKI,GAEvB88B,CACV,CACD,SAAS63C,GAAkBC,GACvB,IAAI93C,EAAQ42C,GAAmBkB,EAAS93C,OACxC,OAAIA,IAAU83C,EAAS93C,MACZ,CAAE+3C,QAASD,EAASC,QAAS/3C,MAAOA,GAExC83C,CACV,CC7QM,SAASE,GAAcnzC,GAA4B,IAAtBozC,EAAsB,wDAChD1nE,EAAMs0B,EAAKhkC,OACbm9B,EAAM,EAAG93B,EAAQ,GAAIgyE,EAAc,EAAGC,EAAQ,GAA6Br5C,EAAa,EAAGs5C,EAAkB,EAAGC,EAAuB,EAAGC,EAA2B,EAAGC,EAAY,EACxL,SAASC,EAAc95D,EAAO+5D,GAG1B,IAFA,IAAIC,EAAS,EACTxyE,EAAQ,EACLwyE,EAASh6D,IAAU+5D,GAAO,CAC7B,IAAIb,EAAK/yC,EAAK/jC,WAAWk9B,GACzB,GAAI45C,GAAM,IAA8BA,GAAM,GAC1C1xE,EAAgB,GAARA,EAAa0xE,EAAK,QAEzB,GAAIA,GAAM,IAA6BA,GAAM,GAC9C1xE,EAAgB,GAARA,EAAa0xE,EAAK,GAA4B,OAErD,MAAIA,GAAM,IAA6BA,GAAM,KAI9C,MAHA1xE,EAAgB,GAARA,EAAa0xE,EAAK,GAA4B,EAIzD,CACD55C,IACA06C,GACH,CAID,OAHIA,EAASh6D,IACTxY,GAAS,GAENA,CACV,CAgID,SAASyyE,IAML,GALAzyE,EAAQ,GACRqyE,EAAY,EACZL,EAAcl6C,EACdo6C,EAAkBt5C,EAClBw5C,EAA2BD,EACvBr6C,GAAOztB,EAGP,OADA2nE,EAAc3nE,EACP4nE,EAAQ,GAEnB,IAAI53E,EAAOskC,EAAK/jC,WAAWk9B,GAE3B,GAAI46C,GAAar4E,GAAO,CACpB,GACIy9B,IACA93B,GAASuJ,OAAOkX,aAAapmB,GAC7BA,EAAOskC,EAAK/jC,WAAWk9B,SAClB46C,GAAar4E,IACtB,OAAO43E,EAAQ,EAClB,CAED,GAAIU,GAAYt4E,GASZ,OARAy9B,IACA93B,GAASuJ,OAAOkX,aAAapmB,GAChB,KAATA,GAA4E,KAAzBskC,EAAK/jC,WAAWk9B,KACnEA,IACA93B,GAAS,MAEb44B,IACAu5C,EAAuBr6C,EAChBm6C,EAAQ,GAEnB,OAAQ53E,GAEJ,KAAK,IAED,OADAy9B,IACOm6C,EAAQ,EACnB,KAAK,IAED,OADAn6C,IACOm6C,EAAQ,EACnB,KAAK,GAED,OADAn6C,IACOm6C,EAAQ,EACnB,KAAK,GAED,OADAn6C,IACOm6C,EAAQ,EACnB,KAAK,GAED,OADAn6C,IACOm6C,EAAQ,EACnB,KAAK,GAED,OADAn6C,IACOm6C,EAAQ,EAEnB,KAAK,GAGD,OAFAn6C,IACA93B,EArIZ,WAEI,IADA,IAAIiD,EAAS,GAAIjG,EAAQ86B,IACZ,CACT,GAAIA,GAAOztB,EAAK,CACZpH,GAAU07B,EAAKhI,UAAU35B,EAAO86B,GAChCu6C,EAAY,EACZ,KACH,CACD,IAAMX,EAAK/yC,EAAK/jC,WAAWk9B,GAC3B,GAAW,KAAP45C,EAA4C,CAC5CzuE,GAAU07B,EAAKhI,UAAU35B,EAAO86B,GAChCA,IACA,KACH,CACD,GAAW,KAAP45C,EAAJ,CAgDA,GAAIA,GAAM,GAAKA,GAAM,GAAM,CACvB,GAAIiB,GAAYjB,GAAK,CACjBzuE,GAAU07B,EAAKhI,UAAU35B,EAAO86B,GAChCu6C,EAAY,EACZ,KACH,CAEGA,EAAY,CAGnB,CACDv6C,GAZC,KA/CD,CAGI,GAFA70B,GAAU07B,EAAKhI,UAAU35B,EAAO86B,KAChCA,GACWztB,EAAK,CACZgoE,EAAY,EACZ,KACH,CAED,OADY1zC,EAAK/jC,WAAWk9B,MAExB,KAAK,GACD70B,GAAU,IACV,MACJ,KAAK,GACDA,GAAU,KACV,MACJ,KAAK,GACDA,GAAU,IACV,MACJ,KAAK,GACDA,GAAU,KACV,MACJ,KAAK,IACDA,GAAU,KACV,MACJ,KAAK,IACDA,GAAU,KACV,MACJ,KAAK,IACDA,GAAU,KACV,MACJ,KAAK,IACDA,GAAU,KACV,MACJ,KAAK,IACD,IAAM2vE,EAAMN,EAAc,GAAG,GACzBM,GAAO,EACP3vE,GAAUsG,OAAOkX,aAAamyD,GAG9BP,EAAY,EAEhB,MACJ,QACIA,EAAY,EAEpBr1E,EAAQ86B,CAEX,CAaJ,CACD,OAAO70B,CACV,CAyDmB4vE,GACDZ,EAAQ,GAEnB,KAAK,GACD,IAAMj1E,EAAQ86B,EAAM,EAEpB,GAAiC,KAA7B6G,EAAK/jC,WAAWk9B,EAAM,GAAsC,CAE5D,IADAA,GAAO,EACAA,EAAMztB,IACLsoE,GAAYh0C,EAAK/jC,WAAWk9B,KAGhCA,IAGJ,OADA93B,EAAQ2+B,EAAKhI,UAAU35B,EAAO86B,GACvBm6C,EAAQ,EAClB,CAED,GAAiC,KAA7BtzC,EAAK/jC,WAAWk9B,EAAM,GAAyC,CAC/DA,GAAO,EAGP,IAFA,IAAMg7C,EAAazoE,EAAM,EACrB0oE,GAAgB,EACbj7C,EAAMg7C,GAAY,CACrB,IAAMpB,EAAK/yC,EAAK/jC,WAAWk9B,GAC3B,GAAW,KAAP45C,GAAwE,KAA7B/yC,EAAK/jC,WAAWk9B,EAAM,GAAsC,CACvGA,GAAO,EACPi7C,GAAgB,EAChB,KACH,CACDj7C,IACI66C,GAAYjB,KACD,KAAPA,GAA0E,KAAzB/yC,EAAK/jC,WAAWk9B,IACjEA,IAEJc,IACAu5C,EAAuBr6C,EAE9B,CAMD,OALKi7C,IACDj7C,IACAu6C,EAAY,GAEhBryE,EAAQ2+B,EAAKhI,UAAU35B,EAAO86B,GACvBm6C,EAAQ,EAClB,CAID,OAFAjyE,GAASuJ,OAAOkX,aAAapmB,GAC7By9B,IACOm6C,EAAQ,GAEnB,KAAK,GAGD,GAFAjyE,GAASuJ,OAAOkX,aAAapmB,KAC7By9B,IACYztB,IAAQ2oE,GAAQr0C,EAAK/jC,WAAWk9B,IACxC,OAAOm6C,EAAQ,GAKvB,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GAED,OADAjyE,GArPZ,WACI,IAAIhD,EAAQ86B,EACZ,GAA6B,KAAzB6G,EAAK/jC,WAAWk9B,GAChBA,SAIA,IADAA,IACOA,EAAM6G,EAAKhkC,QAAUq4E,GAAQr0C,EAAK/jC,WAAWk9B,KAChDA,IAGR,GAAIA,EAAM6G,EAAKhkC,QAAmC,KAAzBgkC,EAAK/jC,WAAWk9B,GAAsC,CAE3E,OADAA,EACU6G,EAAKhkC,QAAUq4E,GAAQr0C,EAAK/jC,WAAWk9B,KAQ7C,OADAu6C,EAAY,EACL1zC,EAAKhI,UAAU35B,EAAO86B,GAN7B,IADAA,IACOA,EAAM6G,EAAKhkC,QAAUq4E,GAAQr0C,EAAK/jC,WAAWk9B,KAChDA,GAOX,CACD,IAAIl7B,EAAMk7B,EACV,GAAIA,EAAM6G,EAAKhkC,SAAoC,KAAzBgkC,EAAK/jC,WAAWk9B,IAA+D,MAAzB6G,EAAK/jC,WAAWk9B,IAK5F,MAJAA,EACU6G,EAAKhkC,QAAmC,KAAzBgkC,EAAK/jC,WAAWk9B,IAAkE,KAAzB6G,EAAK/jC,WAAWk9B,KAC9FA,IAEAA,EAAM6G,EAAKhkC,QAAUq4E,GAAQr0C,EAAK/jC,WAAWk9B,IAAO,CAEpD,IADAA,IACOA,EAAM6G,EAAKhkC,QAAUq4E,GAAQr0C,EAAK/jC,WAAWk9B,KAChDA,IAEJl7B,EAAMk7B,CACT,MAEGu6C,EAAY,EAGpB,OAAO1zC,EAAKhI,UAAU35B,EAAOJ,EAChC,CA2MoBq2E,GACFhB,EAAQ,GAEnB,QAEI,KAAOn6C,EAAMztB,GAAO6oE,EAA0B74E,IAC1Cy9B,IACAz9B,EAAOskC,EAAK/jC,WAAWk9B,GAE3B,GAAIk6C,IAAgBl6C,EAAK,CAGrB,OAFA93B,EAAQ2+B,EAAKhI,UAAUq7C,EAAal6C,IAGhC,IAAK,OAAQ,OAAOm6C,EAAQ,EAC5B,IAAK,QAAS,OAAOA,EAAQ,EAC7B,IAAK,OAAQ,OAAOA,EAAQ,EAEhC,OAAOA,EAAQ,EAClB,CAID,OAFAjyE,GAASuJ,OAAOkX,aAAapmB,GAC7By9B,IACOm6C,EAAQ,GAE1B,CACD,SAASiB,EAA0B74E,GAC/B,GAAIq4E,GAAar4E,IAASs4E,GAAYt4E,GAClC,OAAO,EAEX,OAAQA,GACJ,KAAK,IACL,KAAK,GACL,KAAK,IACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACD,OAAO,EAEf,OAAO,CACV,CAQD,MAAO,CACH84E,YA9SJ,SAAqBC,GACjBt7C,EAAMs7C,EACNpzE,EAAQ,GACRgyE,EAAc,EACdC,EAAQ,GACRI,EAAY,CACf,EAySGgB,YAAa,kBAAMv7C,CAAN,EACbw7C,KAAMvB,EAVV,WACI,IAAI9uE,EACJ,GACIA,EAASwvE,UACJxvE,GAAU,IAAyCA,GAAU,IACtE,OAAOA,CACV,EAI4CwvE,EACzCc,SAAU,kBAAMtB,CAAN,EACVuB,cAAe,kBAAMxzE,CAAN,EACfyzE,eAAgB,kBAAMzB,CAAN,EAChB0B,eAAgB,kBAAM57C,EAAMk6C,CAAZ,EAChB2B,kBAAmB,kBAAMzB,CAAN,EACnB0B,uBAAwB,kBAAM5B,EAAcI,CAApB,EACxByB,cAAe,kBAAMxB,CAAN,EAEtB,CACD,SAASK,GAAahB,GAClB,OAAc,KAAPA,GAA+C,IAAPA,CAClD,CACD,SAASiB,GAAYjB,GACjB,OAAc,KAAPA,GAAkD,KAAPA,CACrD,CACD,SAASsB,GAAQtB,GACb,OAAOA,GAAM,IAA8BA,GAAM,EACpD,CCdM,SAASoC,GAAMn1C,EAAMo1C,GAAyC,IAAhCx/D,EAAgC,uDAAtBu7D,GAAakE,QAClDC,EAAWnC,GAAcnzC,GAAM,GAG/Bu1C,EAAY,GAClB,SAASC,EAAaC,GAClB,OAAOA,EAAgB,kBAAMA,EAAcH,EAASR,iBAAkBQ,EAASP,iBAAkBO,EAASN,oBAAqBM,EAASL,yBAAjH,EAA6I,kBAAM,CAAN,CACvK,CACD,SAASS,EAAqBD,GAC1B,OAAOA,EAAgB,kBAAMA,EAAcH,EAASR,iBAAkBQ,EAASP,iBAAkBO,EAASN,oBAAqBM,EAASL,0BAA0B,kBAAMM,EAAUn5E,OAAhB,GAA3I,EAAsK,kBAAM,CAAN,CAChM,CACD,SAASu5E,EAAcF,GACnB,OAAOA,EAAgB,SAACv4E,GAAD,OAASu4E,EAAcv4E,EAAKo4E,EAASR,iBAAkBQ,EAASP,iBAAkBO,EAASN,oBAAqBM,EAASL,yBAAzH,EAAqJ,kBAAM,CAAN,CAC/K,CACD,SAASW,EAAsBH,GAC3B,OAAOA,EAAgB,SAACv4E,GAAD,OAASu4E,EAAcv4E,EAAKo4E,EAASR,iBAAkBQ,EAASP,iBAAkBO,EAASN,oBAAqBM,EAASL,0BAA0B,kBAAMM,EAAUn5E,OAAhB,GAAnJ,EAA8K,kBAAM,CAAN,CACxM,CACD,IAAMy5E,EAAgBH,EAAqBN,EAAQS,eAAgBC,EAAmBF,EAAsBR,EAAQU,kBAAmBC,EAAcP,EAAaJ,EAAQW,aAAcC,EAAeN,EAAqBN,EAAQY,cAAeC,EAAaT,EAAaJ,EAAQa,YAAaC,EAAiBN,EAAsBR,EAAQc,gBAAiBC,EAAcR,EAAcP,EAAQe,aAAcC,EAAYZ,EAAaJ,EAAQgB,WAAYC,EAAUV,EAAcP,EAAQiB,SAC3dC,EAAmB1gE,GAAWA,EAAQ0gE,iBACtCC,EAAqB3gE,GAAWA,EAAQ2gE,mBAC9C,SAASzC,IACL,OAAa,CACT,IAAMR,EAAQgC,EAASX,OACvB,OAAQW,EAASJ,iBACb,KAAK,EACDsB,EAAY,IACZ,MACJ,KAAK,EACDA,EAAY,IACZ,MACJ,KAAK,EACDA,EAAY,IACZ,MACJ,KAAK,EACIF,GACDE,EAAY,IAEhB,MACJ,KAAK,EACDA,EAAY,IACZ,MACJ,KAAK,EACDA,EAAY,IAGpB,OAAQlD,GACJ,KAAK,GACL,KAAK,GACGgD,EACAE,EAAY,IAGZJ,IAEJ,MACJ,KAAK,GACDI,EAAY,GACZ,MACJ,KAAK,GACL,KAAK,GACD,MACJ,QACI,OAAOlD,EAElB,CACJ,CACD,SAASkD,EAAY9xE,GAA4C,IAArC+xE,EAAqC,uDAApB,GAAIC,EAAgB,uDAAJ,GAEzD,GADAL,EAAQ3xE,GACJ+xE,EAAez6E,OAAS06E,EAAU16E,OAAS,EAE3C,IADA,IAAIs3E,EAAQgC,EAASV,WACJ,KAAVtB,GAAmC,CACtC,IAAuC,IAAnCmD,EAAehoE,QAAQ6kE,GAAe,CACtCQ,IACA,KACH,CACI,IAAkC,IAA9B4C,EAAUjoE,QAAQ6kE,GACvB,MAEJA,EAAQQ,GACX,CAER,CACD,SAAS6C,EAAYC,GACjB,IAAMv1E,EAAQi0E,EAAST,gBAUvB,OATI+B,EACAV,EAAe70E,IAGfy0E,EAAiBz0E,GAEjBk0E,EAAUlvE,KAAKhF,IAEnByyE,KACO,CACV,CAyHD,SAAS+C,IACL,OAAQvB,EAASV,YACb,KAAK,EACD,OA9CZ,WACIoB,IACAlC,IAGA,IAFA,IAAIgD,GAAiB,EACjBC,GAAa,EACc,IAAxBzB,EAASV,YAA+E,KAAxBU,EAASV,YAAwC,CACpH,GAA4B,IAAxBU,EAASV,YAMT,GALKmC,GACDP,EAAY,EAAsC,GAAI,IAE1DL,EAAY,KACZrC,IAC4B,IAAxBwB,EAASV,YAAuD2B,EAChE,WAGCQ,GACLP,EAAY,EAAsC,GAAI,IAEtDM,GACAvB,EAAUlvE,KAAK,GACfywE,GAAiB,GAGjBvB,EAAUA,EAAUv5E,OAAS,KAE5B66E,KACDL,EAAY,EAAsC,GAAI,CAAC,EAAsC,IAEjGO,GAAa,CAChB,CAWD,OAVAd,IACKa,GACDvB,EAAU5tE,MAEc,IAAxB2tE,EAASV,WACT4B,EAAY,EAA6C,CAAC,GAAuC,IAGjG1C,KAEG,CACV,CAIkBkD,GACX,KAAK,EACD,OAhFZ,WACInB,IACA/B,IAEA,IADA,IAAIiD,GAAa,EACc,IAAxBzB,EAASV,YAA6E,KAAxBU,EAASV,YAAwC,CAClH,GAA4B,IAAxBU,EAASV,YAMT,GALKmC,GACDP,EAAY,EAAsC,GAAI,IAE1DL,EAAY,KACZrC,IAC4B,IAAxBwB,EAASV,YAAqD2B,EAC9D,WAGCQ,GACLP,EAAY,EAAsC,GAAI,KAlClC,KAAxBlB,EAASV,YACT4B,EAAY,EAA6C,GAAI,CAAC,EAAoC,IAC3F,IAEXG,GAAY,GACgB,IAAxBrB,EAASV,YACTuB,EAAY,KACZrC,IACK+C,KACDL,EAAY,EAAsC,GAAI,CAAC,EAAoC,KAI/FA,EAAY,EAAsC,GAAI,CAAC,EAAoC,IAE/FjB,EAAU5tE,MACH,KAqBC6uE,EAAY,EAAsC,GAAI,CAAC,EAAoC,IAE/FO,GAAa,CAChB,CAQD,OAPAhB,IAC4B,IAAxBT,EAASV,WACT4B,EAAY,EAA2C,CAAC,GAAqC,IAG7F1C,KAEG,CACV,CAiDkBmD,GACX,KAAK,GACD,OAAON,GAAY,GACvB,QACI,OAjIZ,WACI,OAAQrB,EAASV,YACb,KAAK,GACD,IAAMsC,EAAa5B,EAAST,gBACxBxzE,EAAQwJ,OAAOqsE,GACfvwE,MAAMtF,KACNm1E,EAAY,GACZn1E,EAAQ,GAEZ60E,EAAe70E,GACf,MACJ,KAAK,EACD60E,EAAe,MACf,MACJ,KAAK,EACDA,GAAe,GACf,MACJ,KAAK,EACDA,GAAe,GACf,MACJ,QACI,OAAO,EAGf,OADApC,KACO,CACV,CAwGkBqD,GAElB,CAED,OADArD,IAC4B,KAAxBwB,EAASV,aACLh/D,EAAQwhE,oBAGZZ,EAAY,EAAsC,GAAI,KAC/C,GAENK,KAIuB,KAAxBvB,EAASV,YACT4B,EAAY,EAA0C,GAAI,KAEvD,IANHA,EAAY,EAAsC,GAAI,KAC/C,EAMd,EFhbD,SAAWvF,GAYPA,EAAapuE,OAHb,SAAgBs1B,EAAKmzB,EAAYkmB,EAAShF,GACtC,OAAO,IAAI+E,GAAiBp5C,EAAKmzB,EAAYkmB,EAAShF,EACzD,EAoBDyE,EAAaW,OATb,SAAgBp0D,EAAUwN,EAASwmD,GAC/B,GAAIh0D,aAAoB+zD,GAEpB,OADA/zD,EAASo0D,OAAO5mD,EAASwmD,GAClBh0D,EAGP,MAAM,IAAI1Y,MAAM,uEAEvB,EA8BDmsE,EAAaoG,WA5Bb,SAAoB75D,EAAU8wD,GAW1B,IAVA,IAAItuC,EAAOxiB,EAASmuD,UAChB2L,EAAc5E,GAAUpE,EAAMh+D,IAAI0iE,KAAoB,SAAU3oE,EAAG6M,GACnE,IAAIq/B,EAAOlsC,EAAE8wB,MAAM98B,MAAMqlC,KAAOxsB,EAAEikB,MAAM98B,MAAMqlC,KAC9C,OAAa,IAAT6S,EACOlsC,EAAE8wB,MAAM98B,MAAM01D,UAAY78C,EAAEikB,MAAM98B,MAAM01D,UAE5Cxd,CACV,IACGghC,EAAqB,EACrBC,EAAQ,GACHzpE,EAAK,EAAG0pE,EAAgBH,EAAavpE,EAAK0pE,EAAcz7E,OAAQ+R,IAAM,CAC3E,IAAIpN,EAAI82E,EAAc1pE,GAClBikE,EAAcx0D,EAASquD,SAASlrE,EAAEw6B,MAAM98B,OAC5C,GAAI2zE,EAAcuF,EACd,MAAM,IAAIzyE,MAAM,oBAEXktE,EAAcuF,GACnBC,EAAMnxE,KAAK25B,EAAKhI,UAAUu/C,EAAoBvF,IAE9CrxE,EAAEuyE,QAAQl3E,QACVw7E,EAAMnxE,KAAK1F,EAAEuyE,SAEjBqE,EAAqB/5D,EAASquD,SAASlrE,EAAEw6B,MAAMl9B,IAClD,CAED,OADAu5E,EAAMnxE,KAAK25B,EAAK3G,OAAOk+C,IAChBC,EAAMx6E,KAAK,GACrB,CA3DL,EA6DGi0E,KAAiBA,GAAe,CAAC,ICgJpC,SAAWC,GACPA,EAAeA,EAAc,SAAe,IAAM,WAClDA,EAAeA,EAAc,eAAqB,IAAM,iBACxDA,EAAeA,EAAc,MAAY,IAAM,QAC/CA,EAAeA,EAAc,GAAS,IAAM,KAC5CA,EAAeA,EAAc,GAAS,IAAM,KAC5CA,EAAeA,EAAc,GAAS,IAAM,KAC5CA,EAAeA,EAAc,GAAS,IAAM,KAC5CA,EAAeA,EAAc,GAAS,IAAM,KAC5CA,EAAeA,EAAc,GAAS,IAAM,KAC5CA,EAAeA,EAAc,GAAS,IAAM,KAC5CA,EAAeA,EAAc,GAAS,IAAM,KAC5CA,EAAeA,EAAc,GAAS,IAAM,KAC5CA,EAAeA,EAAc,GAAS,IAAM,KAC5CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,KAAO,IAC5CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,EAAQ,IAAM,IAC3CA,EAAeA,EAAc,SAAe,IAAM,WAClDA,EAAeA,EAAc,UAAgB,IAAM,YACnDA,EAAeA,EAAc,WAAiB,KAAO,aACrDA,EAAeA,EAAc,aAAmB,IAAM,eACtDA,EAAeA,EAAc,MAAY,IAAM,QAC/CA,EAAeA,EAAc,MAAY,IAAM,QAC/CA,EAAeA,EAAc,IAAU,IAAM,MAC7CA,EAAeA,EAAc,YAAkB,IAAM,cACrDA,EAAeA,EAAc,MAAY,IAAM,QAC/CA,EAAeA,EAAc,UAAgB,KAAO,YACpDA,EAAeA,EAAc,YAAkB,IAAM,cACrDA,EAAeA,EAAc,KAAW,IAAM,OAC9CA,EAAeA,EAAc,MAAY,IAAM,QAC/CA,EAAeA,EAAc,SAAe,IAAM,WAClDA,EAAeA,EAAc,IAAU,GAAK,KAhFhD,EAiFGA,KAAmBA,GAAiB,CAAC,ICnbxC,SAAWC,GACPA,EAAakE,QAAU,CACnBkB,oBAAoB,EAF5B,EAIGpF,KAAiBA,GAAe,CAAC,ICE7B,IACIuG,GAUAC,GAXExE,GAAgByE,IAE7B,SAAWF,GACPA,EAAUA,EAAS,KAAW,GAAK,OACnCA,EAAUA,EAAS,uBAA6B,GAAK,yBACrDA,EAAUA,EAAS,sBAA4B,GAAK,wBACpDA,EAAUA,EAAS,sBAA4B,GAAK,wBACpDA,EAAUA,EAAS,eAAqB,GAAK,iBAC7CA,EAAUA,EAAS,uBAA6B,GAAK,yBACrDA,EAAUA,EAAS,iBAAuB,GAAK,kBAPnD,EAQGA,KAAcA,GAAY,CAAC,IAE9B,SAAWC,GACPA,EAAWA,EAAU,eAAqB,GAAK,iBAC/CA,EAAWA,EAAU,gBAAsB,GAAK,kBAChDA,EAAWA,EAAU,iBAAuB,GAAK,mBACjDA,EAAWA,EAAU,kBAAwB,GAAK,oBAClDA,EAAWA,EAAU,WAAiB,GAAK,aAC3CA,EAAWA,EAAU,WAAiB,GAAK,aAC3CA,EAAWA,EAAU,YAAkB,GAAK,cAC5CA,EAAWA,EAAU,YAAkB,GAAK,cAC5CA,EAAWA,EAAU,aAAmB,GAAK,eAC7CA,EAAWA,EAAU,cAAoB,IAAM,gBAC/CA,EAAWA,EAAU,eAAqB,IAAM,iBAChDA,EAAWA,EAAU,kBAAwB,IAAM,oBACnDA,EAAWA,EAAU,mBAAyB,IAAM,qBACpDA,EAAWA,EAAU,gBAAsB,IAAM,kBACjDA,EAAWA,EAAU,OAAa,IAAM,SACxCA,EAAWA,EAAU,QAAc,IAAM,UACzCA,EAAWA,EAAU,IAAU,IAAM,KAjBzC,EAkBGA,KAAeA,GAAa,CAAC,IAIzB,IAoCIE,MA/BEz4E,GDmFN,SAAe4gC,GAAmD,IAA7CztB,EAA6C,uDAApC,GAAIqD,EAAgC,uDAAtBu7D,GAAakE,QACxDyC,EAAkB,KAClBC,EAAgB,GACdC,EAAkB,GACxB,SAASC,EAAQ52E,GACTuK,MAAMQ,QAAQ2rE,GACdA,EAAc1xE,KAAKhF,GAEM,OAApBy2E,IACLC,EAAcD,GAAmBz2E,EAExC,CA+BD,OADA8zE,GAAMn1C,EA7BU,CACZ61C,cAAe,WACX,IAAMpuE,EAAS,CAAC,EAChBwwE,EAAQxwE,GACRuwE,EAAgB3xE,KAAK0xE,GACrBA,EAAgBtwE,EAChBqwE,EAAkB,IACrB,EACDhC,iBAAkB,SAAC52E,GACf44E,EAAkB54E,CACrB,EACD62E,YAAa,WACTgC,EAAgBC,EAAgBrwE,KACnC,EACDquE,aAAc,WACV,IAAM9lC,EAAQ,GACd+nC,EAAQ/nC,GACR8nC,EAAgB3xE,KAAK0xE,GACrBA,EAAgB7nC,EAChB4nC,EAAkB,IACrB,EACD7B,WAAY,WACR8B,EAAgBC,EAAgBrwE,KACnC,EACDuuE,eAAgB+B,EAChB5B,QAAS,SAAC3xE,EAAOid,EAAQ3lB,GACrBuW,EAAOlM,KAAK,CAAE3B,MAAAA,EAAOid,OAAAA,EAAQ3lB,OAAAA,GAChC,GAEgB4Z,GACdmiE,EAAc,EACxB,EClHYG,GDuQN,SAASA,EAAiBhkE,EAAMyN,GAAmC,IAA3Bw2D,EAA2B,wDACtE,GAPG,SAAkBjkE,EAAMyN,GAAmC,IAA3Bw2D,EAA2B,wDAC9D,OAAQx2D,GAAUzN,EAAKyN,QAAUA,EAAUzN,EAAKyN,OAASzN,EAAKlY,QAAYm8E,GAAsBx2D,IAAYzN,EAAKyN,OAASzN,EAAKlY,MAClI,CAKOo8E,CAASlkE,EAAMyN,EAAQw2D,GAAoB,CAC3C,IAAMvlE,EAAWsB,EAAKtB,SACtB,GAAIhH,MAAMQ,QAAQwG,GACd,IAAK,IAAI7W,EAAI,EAAGA,EAAI6W,EAAS5W,QAAU4W,EAAS7W,GAAG4lB,QAAUA,EAAQ5lB,IAAK,CACtE,IAAMshC,EAAO66C,EAAiBtlE,EAAS7W,GAAI4lB,EAAQw2D,GACnD,GAAI96C,EACA,OAAOA,CAEd,CAEL,OAAOnpB,CACV,CAEJ,ECjRYmkE,GDmNN,SAASA,EAAYnkE,GACxB,IAAKA,EAAK9B,SAAW8B,EAAK9B,OAAOQ,SAC7B,MAAO,GAEX,IAAMxX,EAAOi9E,EAAYnkE,EAAK9B,QAC9B,GAAyB,aAArB8B,EAAK9B,OAAOjP,KAAqB,CACjC,IAAMlD,EAAMiU,EAAK9B,OAAOQ,SAAS,GAAGvR,MACpCjG,EAAKiL,KAAKpG,EACb,MACI,GAAyB,UAArBiU,EAAK9B,OAAOjP,KAAkB,CACnC,IAAM2N,EAAQoD,EAAK9B,OAAOQ,SAASnE,QAAQyF,IAC5B,IAAXpD,GACA1V,EAAKiL,KAAKyK,EAEjB,CACD,OAAO1V,CACV,EC/NYk9E,GDmON,SAASA,EAAapkE,GACzB,OAAQA,EAAK/Q,MACT,IAAK,QACD,OAAO+Q,EAAKtB,SAAStC,IAAIgoE,GAC7B,IAAK,SACD,IADJ,EACUz3E,EAAMV,OAAO0C,OAAO,MAD9B,IAEqBqR,EAAKtB,UAF1B,IAEI,2BAAgC,KAAvB9R,EAAuB,QACtBy3E,EAAYz3E,EAAK8R,SAAS,GAC5B2lE,IACA13E,EAAIC,EAAK8R,SAAS,GAAGvR,OAASi3E,EAAaC,GAElD,CAPL,+BAQI,OAAO13E,EACX,IAAK,OACL,IAAK,SACL,IAAK,SACL,IAAK,UACD,OAAOqT,EAAK7S,MAChB,QACI,OAEX,GC5OD,SAAWw2E,GACPA,EAAeA,EAAc,cAAoB,GAAK,gBACtDA,EAAeA,EAAc,oBAA0B,GAAK,sBAC5DA,EAAeA,EAAc,qBAA2B,GAAK,uBAC7DA,EAAeA,EAAc,cAAoB,GAAK,gBACtDA,EAAeA,EAAc,cAAoB,GAAK,gBACtDA,EAAeA,EAAc,cAAoB,GAAK,gBACtDA,EAAeA,EAAc,mBAAyB,GAAK,qBAC3DA,EAAeA,EAAc,qBAA2B,GAAK,uBAC7DA,EAAeA,EAAc,kBAAwB,GAAK,oBAC1DA,EAAeA,EAAc,oBAA0B,IAAM,sBAC7DA,EAAeA,EAAc,uBAA6B,IAAM,yBAChEA,EAAeA,EAAc,sBAA4B,IAAM,wBAC/DA,EAAeA,EAAc,sBAA4B,IAAM,wBAC/DA,EAAeA,EAAc,eAAqB,IAAM,iBACxDA,EAAeA,EAAc,uBAA6B,IAAM,yBAChEA,EAAeA,EAAc,iBAAuB,IAAM,kBAhB9D,EAiBGA,KAAmBA,GAAiB,CAAC,sCC3ExC,SAAS18E,EAAWC,GAClB,GAAoB,iBAATA,EACT,MAAM,IAAIC,UAAU,mCAAqCC,KAAKC,UAAUH,GAK5E,UAASI,EAAqBJ,EAAMK,GAMlC,IALA,IAIIC,EAJAC,EAAM,GACNC,EAAoB,EACpBC,GAAa,EACbC,EAAO,EAEFC,EAAI,EAAGA,GAAKX,EAAKY,SAAUD,EAAG,CACrC,GAAIA,EAAIX,EAAKY,OACXN,EAAON,EAAKa,WAAWF,OACpB,IAAa,KAATL,EACP,MAEAA,EAAO,EACT,IAAa,KAATA,EAAmB,CACrB,GAAIG,IAAcE,EAAI,GAAc,IAATD,QAEpB,GAAID,IAAcE,EAAI,GAAc,IAATD,EAAY,CAC5C,GAAIH,EAAIK,OAAS,GAA2B,IAAtBJ,GAA8D,KAAnCD,EAAIM,WAAWN,EAAIK,OAAS,IAAsD,KAAnCL,EAAIM,WAAWN,EAAIK,OAAS,GAC1H,GAAIL,EAAIK,OAAS,EAAG,CAClB,IAAIE,EAAiBP,EAAIQ,YAAY,KACrC,GAAID,IAAmBP,EAAIK,OAAS,EAAG,EACb,IAApBE,GACFP,EAAM,GACNC,EAAoB,GAGpBA,GADAD,EAAMA,EAAIS,MAAM,EAAGF,IACKF,OAAS,EAAIL,EAAIQ,YAAY,KAEvDN,EAAYE,EACZD,EAAO,EACP,QAEJ,OAAO,GAAmB,IAAfH,EAAIK,QAA+B,IAAfL,EAAIK,OAAc,CAC/CL,EAAM,GACNC,EAAoB,EACpBC,EAAYE,EACZD,EAAO,EACP,QAGAL,CAAAA,IACEE,EAAIK,OAAS,EACfL,GAAO,MAEPA,EAAM,KACRC,EAAoB,EAExB,MACMD,EAAIK,OAAS,EACfL,GAAO,IAAMP,EAAKgB,MAAMP,EAAY,EAAGE,GAEvCJ,EAAMP,EAAKgB,MAAMP,EAAY,EAAGE,GAClCH,EAAoBG,EAAIF,EAAY,EAEtCA,EAAYE,EACZD,EAAO,CACT,MAAoB,KAATJ,IAA+B,IAAVI,IAC5BA,EAEFA,GAAQ,CAGZ,QAAOH,CAeT,KAAIU,EAAQ,CAEVC,QAAS,WAKP,IAJA,IAEIC,EAFAC,EAAe,GACfC,GAAAA,EAGKV,EAAIW,UAAUV,OAAS,EAAGD,IAAM,IAAMU,EAAkBV,IAAK,CACpE,IAAIX,EACAW,GAAK,EACPX,EAAOsB,UAAUX,SAAAA,IAEbQ,IACFA,EAAMK,QAAQL,OAChBnB,EAAOmB,GAGTpB,EAAWC,GAGS,IAAhBA,EAAKY,SAITQ,EAAepB,EAAO,IAAMoB,EAC5BC,EAA0C,KAAvBrB,EAAKa,WAAW,GASrC,QAFAO,EAAehB,EAAqBgB,GAAeC,GAE/CA,EACED,EAAaR,OAAS,EACjB,IAAMQ,EAEN,IACAA,EAAaR,OAAS,EACxBQ,EAEA,GAEX,EAEAK,UAAW,SAAmBzB,GAG5B,GAFAD,EAAWC,GAES,IAAhBA,EAAKY,OAAc,MAAO,IAE9B,IAAIc,EAAoC,KAAvB1B,EAAKa,WAAW,GAC7Bc,EAAyD,KAArC3B,EAAKa,WAAWb,EAAKY,OAAS,GAQtD,OAHoB,KAFpBZ,EAAOI,EAAqBJ,GAAO0B,IAE1Bd,QAAiBc,IAAY1B,EAAO,KACzCA,EAAKY,OAAS,GAAKe,IAAmB3B,GAAQ,KAE9C0B,EAAmB,IAAM1B,EACtBA,CACT,EAEA0B,WAAY,SAAoB1B,GAE9B,OADAD,EAAWC,GACJA,EAAKY,OAAS,GAA4B,KAAvBZ,EAAKa,WAAW,EAC5C,EAEAe,KAAM,WACJ,GAAyB,IAArBN,UAAUV,OACZ,MAAO,IAET,IADA,IAAIiB,EACKlB,EAAI,EAAGA,EAAIW,UAAUV,SAAUD,EAAG,CACzC,IAAImB,EAAMR,UAAUX,GACpBZ,EAAW+B,GACPA,EAAIlB,OAAS,aACXiB,EACFA,EAASC,EAETD,GAAU,IAAMC,EAGtB,iBAAID,EACK,IACFZ,EAAMQ,UAAUI,EACzB,EAEAE,SAAU,SAAkBC,EAAMC,GAIhC,GAHAlC,EAAWiC,GACXjC,EAAWkC,GAEPD,IAASC,EAAI,MAAO,GAKxB,IAHAD,EAAOf,EAAMC,QAAQc,OACrBC,EAAKhB,EAAMC,QAAQe,IAEF,MAAO,GAIxB,IADA,IAAIC,EAAY,EACTA,EAAYF,EAAKpB,QACa,KAA/BoB,EAAKnB,WAAWqB,KADYA,GASlC,IALA,IAAIC,EAAUH,EAAKpB,OACfwB,EAAUD,EAAUD,EAGpBG,EAAU,EACPA,EAAUJ,EAAGrB,QACa,KAA3BqB,EAAGpB,WAAWwB,KADUA,GAW9B,IAPA,IACIC,EADQL,EAAGrB,OACKyB,EAGhBzB,EAASwB,EAAUE,EAAQF,EAAUE,EACrCC,GAAiB,EACjB5B,EAAI,EACDA,GAAKC,IAAUD,EAAG,CACvB,GAAIA,IAAMC,EAAQ,CAChB,GAAI0B,EAAQ1B,EAAQ,CAClB,GAAmC,KAA/BqB,EAAGpB,WAAWwB,EAAU1B,GAG1B,OAAOsB,EAAGjB,MAAMqB,EAAU1B,EAAI,GACzB,GAAU,IAANA,EAGT,OAAOsB,EAAGjB,MAAMqB,EAAU1B,EAE9B,MAAWyB,EAAUxB,IACoB,KAAnCoB,EAAKnB,WAAWqB,EAAYvB,GAG9B4B,EAAgB5B,EACD,IAANA,IAGT4B,EAAgB,IAGpB,KAEF,KAAIC,EAAWR,EAAKnB,WAAWqB,EAAYvB,GAE3C,GAAI6B,IADSP,EAAGpB,WAAWwB,EAAU1B,GAEnC,MACoB,KAAb6B,IACPD,EAAgB5B,EAGpB,KAAI8B,EAAM,GAGV,IAAK9B,EAAIuB,EAAYK,EAAgB,EAAG5B,GAAKwB,IAAWxB,EAClDA,IAAMwB,GAAkC,KAAvBH,EAAKnB,WAAWF,KAChB,IAAf8B,EAAI7B,OACN6B,GAAO,KAEPA,GAAO,OAMb,OAAIA,EAAI7B,OAAS,EACR6B,EAAMR,EAAGjB,MAAMqB,EAAUE,IAEhCF,GAAWE,EACoB,KAA3BN,EAAGpB,WAAWwB,MACdA,EACGJ,EAAGjB,MAAMqB,GAEpB,EAEAK,UAAW,SAAmB1C,GAC5B,OAAOA,CACT,EAEA2C,QAAS,SAAiB3C,GAExB,GADAD,EAAWC,GACS,IAAhBA,EAAKY,OAAc,MAAO,IAK9B,IAJA,IAAIN,EAAON,EAAKa,WAAW,GACvB+B,EAAmB,KAATtC,EACVuC,GAAO,EACPC,GAAAA,EACKnC,EAAIX,EAAKY,OAAS,EAAGD,GAAK,IAAKA,EAEtC,GAAa,MADbL,EAAON,EAAKa,WAAWF,KAEnB,IAAKmC,EAAc,CACjBD,EAAMlC,EACN,KACF,OAGFmC,GAAAA,EAIJ,OAAa,IAATD,EAAmBD,EAAU,IAAM,IACnCA,GAAmB,IAARC,EAAkB,KAC1B7C,EAAKgB,MAAM,EAAG6B,EACvB,EAEAE,SAAU,SAAkB/C,EAAMgD,GAChC,YAAIA,GAAoC,iBAARA,EAAkB,MAAM,IAAI/C,UAAU,mCACtEF,EAAWC,GAEX,IAGIW,EAHAsC,EAAQ,EACRJ,GAAO,EACPC,GAAAA,EAGJ,YAAIE,GAAqBA,EAAIpC,OAAS,GAAKoC,EAAIpC,QAAUZ,EAAKY,OAAQ,CACpE,GAAIoC,EAAIpC,SAAWZ,EAAKY,QAAUoC,IAAQhD,EAAM,MAAO,GACvD,IAAIkD,EAASF,EAAIpC,OAAS,EACtBuC,GAAoB,EACxB,IAAKxC,EAAIX,EAAKY,OAAS,EAAGD,GAAK,IAAKA,EAAG,CACrC,IAAIL,EAAON,EAAKa,WAAWF,GAC3B,GAAa,KAATL,GAGA,IAAKwC,EAAc,CACjBG,EAAQtC,EAAI,EACZ,KACF,OAEwB,IAAtBwC,IAGFL,GAAAA,EACAK,EAAmBxC,EAAI,GAErBuC,GAAU,IAER5C,IAAS0C,EAAInC,WAAWqC,IACR,KAAZA,IAGJL,EAAMlC,IAKRuC,GAAU,EACVL,EAAMM,GAOd,QADIF,IAAUJ,EAAKA,EAAMM,GAAmC,IAATN,IAAYA,EAAM7C,EAAKY,QACnEZ,EAAKgB,MAAMiC,EAAOJ,EAEzB,KAAKlC,EAAIX,EAAKY,OAAS,EAAGD,GAAK,IAAKA,EAClC,GAA2B,KAAvBX,EAAKa,WAAWF,IAGhB,IAAKmC,EAAc,CACjBG,EAAQtC,EAAI,EACZ,KACF,OACkB,IAATkC,IAGXC,GAAAA,EACAD,EAAMlC,EAAI,GAId,OAAa,IAATkC,EAAmB,GAChB7C,EAAKgB,MAAMiC,EAAOJ,EAE7B,EAEAO,QAAS,SAAiBpD,GACxBD,EAAWC,GAQX,IAPA,IAAIqD,GAAY,EACZC,EAAY,EACZT,GAAO,EACPC,GAAAA,EAGAS,EAAc,EACT5C,EAAIX,EAAKY,OAAS,EAAGD,GAAK,IAAKA,EAAG,CACzC,IAAIL,EAAON,EAAKa,WAAWF,GAC3B,GAAa,KAATL,GASS,IAATuC,IAGFC,GAAAA,EACAD,EAAMlC,EAAI,GAEC,KAATL,GAEkB,IAAd+C,EACFA,EAAW1C,EACY,IAAhB4C,IACPA,EAAc,IACK,IAAdF,IAGTE,GAAe,QArBb,IAAKT,EAAc,CACjBQ,EAAY3C,EAAI,EAChB,KAqBR,CAEA,QAAkB,IAAd0C,IAA4B,IAATR,GAEH,IAAhBU,GAEgB,IAAhBA,GAAqBF,IAAaR,EAAM,GAAKQ,IAAaC,EAAY,EACjE,GAEFtD,EAAKgB,MAAMqC,EAAUR,EAC9B,EAEAW,OAAQ,SAAgBC,GACtB,GAAmB,OAAfA,GAA6C,iBAAfA,EAChC,MAAM,IAAIxD,UAAU,0EAA4EwD,GAElG,OAvVJ,SAAiBC,EAAKD,GACpB,IAAIE,EAAMF,EAAWE,KAAOF,EAAWG,KACnCC,EAAOJ,EAAWI,OAASJ,EAAWK,MAAQ,KAAOL,EAAWT,KAAO,IAC3E,OAAKW,EAGDA,IAAQF,EAAWG,KACdD,EAAME,EAERF,EA8UU,IA9UEE,EALVA,CAmVAE,CAvVX,CAuVmB,EAAKN,EACtB,EAEAO,MAAO,SAAehE,GACpBD,EAAWC,GAEX,IAAIiE,EAAM,CAAEL,KAAM,GAAID,IAAK,GAAIE,KAAM,GAAIb,IAAK,GAAIc,KAAM,IACxD,GAAoB,IAAhB9D,EAAKY,OAAc,OAAOqD,EAC9B,IAEIhB,EAFA3C,EAAON,EAAKa,WAAW,GACvBa,EAAsB,KAATpB,EAEboB,GACFuC,EAAIL,KAAO,IACXX,EAAQ,GAERA,EAAQ,EAaV,IAXA,IAAII,GAAY,EACZC,EAAY,EACZT,GAAO,EACPC,GAAAA,EACAnC,EAAIX,EAAKY,OAAS,EAIlB2C,EAAc,EAGX5C,GAAKsC,IAAStC,EAEnB,GAAa,MADbL,EAAON,EAAKa,WAAWF,KAUV,IAATkC,IAGFC,GAAAA,EACAD,EAAMlC,EAAI,GAEC,KAATL,GAEkB,IAAd+C,EAAiBA,EAAW1C,EAA2B,IAAhB4C,IAAmBA,EAAc,IACrD,IAAdF,IAGXE,GAAe,QAlBb,IAAKT,EAAc,CACjBQ,EAAY3C,EAAI,EAChB,KAyCR,QArBkB,IAAd0C,IAA4B,IAATR,GAEP,IAAhBU,GAEgB,IAAhBA,GAAqBF,IAAaR,EAAM,GAAKQ,IAAaC,EAAY,GACvD,IAATT,IACiCoB,EAAIJ,KAAOI,EAAIH,KAAhC,IAAdR,GAAmB5B,EAAkC1B,EAAKgB,MAAM,EAAG6B,GAAgC7C,EAAKgB,MAAMsC,EAAWT,KAG7G,IAAdS,GAAmB5B,GACrBuC,EAAIH,KAAO9D,EAAKgB,MAAM,EAAGqC,GACzBY,EAAIJ,KAAO7D,EAAKgB,MAAM,EAAG6B,KAEzBoB,EAAIH,KAAO9D,EAAKgB,MAAMsC,EAAWD,GACjCY,EAAIJ,KAAO7D,EAAKgB,MAAMsC,EAAWT,IAEnCoB,EAAIjB,IAAMhD,EAAKgB,MAAMqC,EAAUR,IAG7BS,EAAY,EAAGW,EAAIN,IAAM3D,EAAKgB,MAAM,EAAGsC,EAAY,GAAY5B,IAAYuC,EAAIN,IAAM,KAElFM,CACT,EAEAP,IAAK,IACLQ,UAAW,IACXC,MAAO,KACPlD,MAAO,MAGTA,EAAMA,MAAQA,EAEdmD,EAAOC,QAAUpD,IC/gBbqD,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,YAAIC,EACH,OAAOA,EAAaJ,QAGrB,IAAID,EAASE,EAAyBE,GAAY,CAGjDH,QAAS,CAAC,GAOX,OAHAK,EAAoBF,GAAUJ,EAAQA,EAAOC,QAASE,GAG/CH,EAAOC,OCpBfE,CAAAA,EAAoBI,EAAI,SAACN,EAASO,GACjC,IAAI,IAAIC,KAAOD,EACXL,EAAoBO,EAAEF,EAAYC,KAASN,EAAoBO,EAAET,EAASQ,IAC5EE,OAAOC,eAAeX,EAASQ,EAAK,CAAEI,YAAAA,EAAkBC,IAAKN,EAAWC,IAE1E,ECNDN,EAAoBO,EAAI,SAACW,EAAKC,GAAN,OAAgBX,OAAOY,UAAUC,eAAeC,KAAKJ,EAAKC,EAA1D,ECCxBnB,EAAoBuB,EAAKzB,SAAAA,GACH,oBAAX0B,QAA0BA,OAAOC,aAC1CjB,OAAOC,eAAeX,EAAS0B,OAAOC,YAAa,CAAEC,MAAO,WAE7DlB,OAAOC,eAAeX,EAAS,aAAc,CAAE4B,OAAAA,GAAc,uBCQvD,IAAIwe,EAEX,uEAAuB,iBAAZjjB,QACVijB,EAAiC,UAArBjjB,QAAQmiB,cACd,GAAyB,iBAAdD,UAAwB,CACzC,IAAIU,EAAYV,UAAUU,UAC1BK,EAAYL,EAAU/Q,QAAQ,YAAc,6cCVvCgoB,EAAiB,iBACjBC,EAAoB,MACpBC,EAAoB,QAE1B,SAASY,EAAal4B,EAAU83B,GAG/B,IAAK93B,EAAI+3B,QAAUD,EAClB,MAAM,IAAIryB,MAAM,2DAAAyL,OAA2DlR,EAAI23B,UAAS,cAAAzmB,OAAalR,EAAIjE,KAAI,eAAAmV,OAAclR,EAAI43B,MAAK,kBAAA1mB,OAAiBlR,EAAI63B,SAAQ,OAKlK,GAAI73B,EAAI+3B,SAAWX,EAAevqB,KAAK7M,EAAI+3B,QAC1C,MAAM,IAAItyB,MAAM,mDAQjB,GAAIzF,EAAIjE,KACP,GAAIiE,EAAI23B,WACP,IAAKN,EAAkBxqB,KAAK7M,EAAIjE,MAC/B,MAAM,IAAI0J,MAAM,iJAGjB,GAAI6xB,EAAkBzqB,KAAK7M,EAAIjE,MAC9B,MAAM,IAAI0J,MAAM,4HAsCpB,KAAM4L,EAAS,GACTkmB,EAAS,IACTC,EAAU,+DAkBhBt2B,EAAA,WA2DC,SAAAI,EAAsBo2B,EAAsCC,EAAoB57B,EAAe67B,EAAgBC,EAAmBC,QAAAA,IAAAA,IAAAA,GAAAA,GAErG,iBAAjBJ,GACVt2B,KAAK22B,OAASL,EAAaK,QAAU1mB,EACrCjQ,KAAKu2B,UAAYD,EAAaC,WAAatmB,EAC3CjQ,KAAKrF,KAAO27B,EAAa37B,MAAQsV,EACjCjQ,KAAKw2B,MAAQF,EAAaE,OAASvmB,EACnCjQ,KAAKy2B,SAAWH,EAAaG,UAAYxmB,IAKzCjQ,KAAK22B,OAvHR,SAAoBA,EAAgBD,GACnC,OAAKC,GAAWD,EAGTC,EAFC,MAqHQC,CAvHjB,CAuH4BN,EAAcI,GACvC12B,KAAKu2B,UAAYA,GAAatmB,EAC9BjQ,KAAKrF,KAjHR,SAA8Bg8B,EAAgBh8B,GAM7C,OAAQg8B,GACP,IAAK,QACL,IAAK,OACL,IAAK,OACCh8B,EAEMA,EAAK,KAAOw7B,IACtBx7B,EAAOw7B,EAASx7B,GAFhBA,EAAOw7B,EAMV,OAAOx7B,CAgGOk8B,CAjHf,CAiHoC72B,KAAK22B,OAAQh8B,GAAQsV,GACtDjQ,KAAKw2B,MAAQA,GAASvmB,EACtBjQ,KAAKy2B,SAAWA,GAAYxmB,EAE5B6mB,EAAa92B,KAAM02B,GA4MtB,QAvRQx2B,EAAA63E,MAAP,SAAa/nE,GACZ,OAAIA,aAAiBqmB,KAGhBrmB,GAGoC,iBAArBA,EAAOumB,WACU,iBAApBvmB,EAAOymB,UACS,iBAAhBzmB,EAAOrV,MACU,iBAAjBqV,EAAOwmB,OACW,iBAAlBxmB,EAAO2mB,QACW,iBAAlB3mB,EAAOknB,QACS,mBAAhBlnB,EAAOmnB,MACa,mBAApBnnB,EAAOxE,QACzB,EA0FA9L,OAAAC,eAAIO,EAAAI,UAAA,SAAM,KAAV,WAIC,OAAOy2B,EAAY/2B,MAAAA,EACpB,kCAIAE,EAAAI,UAAA62B,KAAA,SAAKvG,GAEJ,IAAKA,EACJ,OAAO5wB,KAGF,IAAA22B,EAA6C/F,EAAM+F,OAA3CJ,EAAqC3F,EAAM2F,UAAhC57B,EAA0Bi2B,EAAMj2B,KAA1B67B,EAAoB5F,EAAM4F,MAAnBC,EAAa7F,EAAM6F,SA2BzD,gBA1BIE,EACHA,EAAS32B,KAAK22B,OACO,OAAXA,IACVA,EAAS1mB,QAAAA,IAENsmB,EACHA,EAAYv2B,KAAKu2B,UACO,OAAdA,IACVA,EAAYtmB,QAAAA,IAETtV,EACHA,EAAOqF,KAAKrF,KACO,OAATA,IACVA,EAAOsV,QAAAA,IAEJumB,EACHA,EAAQx2B,KAAKw2B,MACO,OAAVA,IACVA,EAAQvmB,QAAAA,IAELwmB,EACHA,EAAWz2B,KAAKy2B,SACO,OAAbA,IACVA,EAAWxmB,GAGR0mB,IAAW32B,KAAK22B,QAChBJ,IAAcv2B,KAAKu2B,WACnB57B,IAASqF,KAAKrF,MACd67B,IAAUx2B,KAAKw2B,OACfC,IAAaz2B,KAAKy2B,SAEdz2B,KAGD,IAAIg3B,EAAIL,EAAQJ,EAAW57B,EAAM67B,EAAOC,EAChD,EAUOv2B,EAAAvB,MAAP,SAAaiC,EAAe81B,QAAAA,IAAAA,IAAAA,GAAAA,GAC3B,IAAMvZ,EAAQiZ,EAAQgB,KAAKx2B,GAC3B,OAAKuc,EAGE,IAAI6Z,EACV7Z,EAAM,IAAMlN,EACZonB,EAAcla,EAAM,IAAMlN,GAC1BonB,EAAcla,EAAM,IAAMlN,GAC1BonB,EAAcla,EAAM,IAAMlN,GAC1BonB,EAAcla,EAAM,IAAMlN,GAC1BymB,GARO,IAAIM,EAAI/mB,EAAQA,EAAQA,EAAQA,EAAQA,EAUjD,EAuBO/P,EAAA23B,KAAP,SAAYl9B,GAEX,IAAI47B,EAAYtmB,EAWhB,GANImP,IACHzkB,EAAOA,EAAKuiB,QAAQ,MAAOiZ,IAKxBx7B,EAAK,KAAOw7B,GAAUx7B,EAAK,KAAOw7B,EAAQ,CAC7C,IAAMmB,EAAM38B,EAAKqT,QAAQmoB,EAAQ,IACpB,IAATmB,GACHf,EAAY57B,EAAK48B,UAAU,GAC3B58B,EAAOw7B,IAEPI,EAAY57B,EAAK48B,UAAU,EAAGD,GAC9B38B,EAAOA,EAAK48B,UAAUD,IAAQnB,EAIhC,QAAO,IAAIa,EAAI,OAAQT,EAAW57B,EAAMsV,EAAQA,EACjD,EAEO/P,EAAAvD,KAAP,SAAY66B,GACX,IAAM3zB,EAAS,IAAImzB,EAClBQ,EAAWb,OACXa,EAAWjB,UACXiB,EAAW78B,KACX68B,EAAWhB,MACXgB,EAAWf,UAGZ,OADAK,EAAajzB,GAAAA,GACNA,CACR,EAeA3D,EAAAI,UAAAkL,SAAA,SAASwtB,GACR,gBADQA,IAAAA,GAAAA,GACD/B,EAAaj3B,KAAMg5B,EAC3B,EAEA94B,EAAAI,UAAA03E,OAAA,WACC,OAAOh4E,IACR,EAMOE,EAAA+3E,OAAP,SAAc36D,GACb,GAAKA,EAEE,IAAIA,aAAgB+Y,EAC1B,OAAO/Y,EAEP,IAAMzZ,EAAS,IAAImzB,EAAI1Z,GAGvB,OAFAzZ,EAAOi0B,WAAwBxa,EAAMya,SACrCl0B,EAAOm0B,QAAqB1a,EAAM2a,OAASC,EAA4B5a,EAAM4Z,OAAS,KAC/ErzB,CAPP,QAAYyZ,CASd,EACDpd,CAzRA,IA0SMg4B,EAAiB9Y,EAAY,SAGnC6d,EAAA,SAAA5K,GAAA,SAAAnyB,IAAA,IAAAA,EAAA,OAAAmyB,GAAAA,EAAA3pB,MAAA,KAAAzM,YAAA,YAECiE,EAAA43B,WAA4B,KAC5B53B,EAAA83B,QAAyB,KADzB,CAoDD,QAtDkBpuB,EAAA1J,EAAAmyB,GAKjB3yB,OAAAC,eAAaO,EAAAI,UAAA,SAAM,KAAnB,WAIC,OAHKN,KAAKg4B,UACTh4B,KAAKg4B,QAAUjB,EAAY/2B,MAAAA,IAErBA,KAAKg4B,OACb,kCAES93B,EAAAI,UAAAkL,SAAT,SAAkBwtB,GACjB,gBADiBA,IAAAA,GAAAA,GACZA,EAOG/B,EAAaj3B,MAAAA,IANfA,KAAK83B,aACT93B,KAAK83B,WAAab,EAAaj3B,MAAAA,IAEzBA,KAAK83B,WAKd,EAES53B,EAAAI,UAAA03E,OAAT,WACC,IAAM98E,EAAgB,CACrBi9B,KAAM,GA0BP,OAvBIn4B,KAAKg4B,UACR98B,EAAIg8B,OAASl3B,KAAKg4B,QAClB98B,EAAI+8B,KAAOC,GAERl4B,KAAK83B,aACR58B,EAAI68B,SAAW/3B,KAAK83B,YAGjB93B,KAAKrF,OACRO,EAAIP,KAAOqF,KAAKrF,MAEbqF,KAAK22B,SACRz7B,EAAIy7B,OAAS32B,KAAK22B,QAEf32B,KAAKu2B,YACRr7B,EAAIq7B,UAAYv2B,KAAKu2B,WAElBv2B,KAAKw2B,QACRt7B,EAAIs7B,MAAQx2B,KAAKw2B,OAEdx2B,KAAKy2B,WACRv7B,EAAIu7B,SAAWz2B,KAAKy2B,UAEdv7B,CACR,EACDgF,CAtDA,EAAkBm2B,GAyDZ+B,IAAW98B,EAAA,IAChB,IAAkB,MAClBA,EAAC,IAAiB,MAClBA,EAAC,IAAwB,MACzBA,EAAC,IAAgB,MACjBA,EAAC,IAA6B,MAC9BA,EAAC,IAA8B,MAC/BA,EAAC,IAAkB,MAEnBA,EAAC,IAA2B,MAC5BA,EAAC,IAAsB,MACvBA,EAAC,IAAqB,MACtBA,EAAC,IAAuB,MACxBA,EAAC,IAAqB,MACtBA,EAAC,IAAsB,MACvBA,EAAC,IAAoB,MACrBA,EAAC,IAAgB,MACjBA,EAAC,IAAiB,MAClBA,EAAC,IAAqB,MACtBA,EAAC,IAAkB,MAEnBA,EAAC,IAAiB,MArBb88B,GAwBN,SAASC,EAAuBC,EAAsBC,EAAiBC,GAItE,IAHA,IAAIt9B,OAAAA,EACAu9B,GAAmB,EAEdC,EAAM,EAAGA,EAAMJ,EAAa/8B,OAAQm9B,IAAO,CACnD,IAAMz9B,EAAOq9B,EAAa98B,WAAWk9B,GAGrC,GACEz9B,GAAQ,IAAcA,GAAQ,KAC3BA,GAAQ,IAAcA,GAAQ,IAC9BA,GAAQ,IAAmBA,GAAQ,IAC3B,KAATA,GACS,KAATA,GACS,KAATA,GACS,MAATA,GACCs9B,GAAmB,KAATt9B,GACVu9B,GAAwB,KAATv9B,GACfu9B,GAAwB,KAATv9B,GACfu9B,GAAwB,KAATv9B,GAGM,IAArBw9B,IACHv9B,GAAOy9B,mBAAmBL,EAAaf,UAAUkB,EAAiBC,IAClED,GAAmB,YAGhBv9B,IACHA,GAAOo9B,EAAajxB,OAAOqxB,QAGtB,UAEFx9B,IACHA,EAAMo9B,EAAaM,OAAO,EAAGF,IAI9B,IAAMG,EAAUT,EAAYn9B,QAAAA,IACxB49B,IAGsB,IAArBJ,IACHv9B,GAAOy9B,mBAAmBL,EAAaf,UAAUkB,EAAiBC,IAClED,GAAmB,GAIpBv9B,GAAO29B,IAEwB,IAArBJ,IAEVA,EAAkBC,GASrB,QAJyB,IAArBD,IACHv9B,GAAOy9B,mBAAmBL,EAAaf,UAAUkB,UAAAA,IAG3Cv9B,EAAoBA,EAAMo9B,CAGlC,UAASQ,EAA0Bn+B,GAElC,IADA,IAAIO,OAAAA,EACKw9B,EAAM,EAAGA,EAAM/9B,EAAKY,OAAQm9B,IAAO,CAC3C,IAAMz9B,EAAON,EAAKa,WAAWk9B,GAChB,KAATz9B,GAAmC,KAATA,QAAAA,IACzBC,IACHA,EAAMP,EAAKi+B,OAAO,EAAGF,IAEtBx9B,GAAOk9B,EAAYn9B,SAAAA,IAEfC,IACHA,GAAOP,EAAK+9B,GAIf,iBAAOx9B,EAAoBA,EAAMP,CAM3B,UAASo8B,EAAYW,EAAUqB,GAErC,IAAIn4B,EAsBJ,OAnBCA,EAFG82B,EAAInB,WAAamB,EAAI/8B,KAAKY,OAAS,GAAoB,SAAfm8B,EAAIf,OAEvC,KAAA7mB,OAAK4nB,EAAInB,WAASzmB,OAAG4nB,EAAI/8B,MAEN,KAA3B+8B,EAAI/8B,KAAKa,WAAW,KAChBk8B,EAAI/8B,KAAKa,WAAW,IAAM,IAAck8B,EAAI/8B,KAAKa,WAAW,IAAM,IAAck8B,EAAI/8B,KAAKa,WAAW,IAAM,IAAck8B,EAAI/8B,KAAKa,WAAW,IAAM,MACxH,KAA3Bk8B,EAAI/8B,KAAKa,WAAW,GAElBu9B,EAIIrB,EAAI/8B,KAAKi+B,OAAO,GAFhBlB,EAAI/8B,KAAK,GAAGu6B,cAAgBwC,EAAI/8B,KAAKi+B,OAAO,GAM7ClB,EAAI/8B,KAETykB,IACHxe,EAAQA,EAAMsc,QAAQ,MAAO,OAEvBtc,CAMR,UAASq2B,EAAaS,EAAUsB,GAE/B,IAAMC,EAAWD,EAEdF,EADAT,EAGCn9B,EAAM,GACJy7B,EAA6Ce,EAAGf,OAAxCJ,EAAqCmB,EAAGnB,UAA7B57B,EAA0B+8B,EAAG/8B,KAAvB67B,EAAoBkB,EAAGlB,MAAhBC,EAAaiB,EAAGjB,SAStD,GARIE,IACHz7B,GAAOy7B,EACPz7B,GAAO,MAEJq7B,GAAwB,SAAXI,KAChBz7B,GAAOi7B,EACPj7B,GAAOi7B,GAEJI,EAAW,CACd,IAAIe,EAAMf,EAAUvoB,QAAQ,KAC5B,IAAa,IAATspB,EAAY,CAEf,IAAM4B,EAAW3C,EAAUqC,OAAO,EAAGtB,GACrCf,EAAYA,EAAUqC,OAAOtB,EAAM,IAEtB,KADbA,EAAM4B,EAASx9B,YAAY,MAE1BR,GAAO+9B,EAAQC,GAAAA,GAAU,IAGzBh+B,GAAO+9B,EAAQC,EAASN,OAAO,EAAGtB,IAAAA,GAAM,GACxCp8B,GAAO,IACPA,GAAO+9B,EAAQC,EAASN,OAAOtB,EAAM,OAAI,IAE1Cp8B,GAAO,KAIK,KADbo8B,GADAf,EAAYA,EAAUrB,eACNx5B,YAAY,MAE3BR,GAAO+9B,EAAQ1C,GAAAA,GAAW,IAG1Br7B,GAAO+9B,EAAQ1C,EAAUqC,OAAO,EAAGtB,IAAAA,GAAM,GACzCp8B,GAAOq7B,EAAUqC,OAAOtB,GAG1B,IAAI38B,EAAM,CAET,GAAIA,EAAKY,QAAU,GAA4B,KAAvBZ,EAAKa,WAAW,IAAgD,KAAvBb,EAAKa,WAAW,IAC1EP,EAAON,EAAKa,WAAW,KACjB,IAAcP,GAAQ,KACjCN,EAAO,IAAAmV,OAAI3F,OAAOkX,aAAapmB,EAAO,IAAG,KAAA6U,OAAInV,EAAKi+B,OAAO,UAEpD,GAAIj+B,EAAKY,QAAU,GAA4B,KAAvBZ,EAAKa,WAAW,GAAuB,CACrE,IAAMP,GAAAA,EAAON,EAAKa,WAAW,KACjB,IAAcP,GAAQ,KACjCN,EAAO,GAAAmV,OAAG3F,OAAOkX,aAAapmB,EAAO,IAAG,KAAA6U,OAAInV,EAAKi+B,OAAO,IAI1D19B,CAAAA,GAAO+9B,EAAQt+B,GAAAA,GAAM,EAUtB,QARI67B,IACHt7B,GAAO,IACPA,GAAO+9B,EAAQzC,GAAAA,GAAO,IAEnBC,IACHv7B,GAAO,IACPA,GAAQ89B,EAAgEvC,EAAjD4B,EAAuB5B,GAAAA,GAAU,IAElDv7B,CAKR,UAASi+B,EAA2BlY,GACnC,IACC,OAAOmY,mBAAmBnY,EACzB,OAAA/gB,GACD,OAAI+gB,EAAI1lB,OAAS,EACT0lB,EAAI2X,OAAO,EAAG,GAAKO,EAA2BlY,EAAI2X,OAAO,IAEzD3X,CAGV,CAEA,KAAMoY,EAAiB,8BAEvB,SAAShC,EAAcpW,GACtB,OAAKA,EAAI9D,MAAMkc,GAGRpY,EAAI/D,QAAQmc,GAAgB,SAAClc,GAAU,OAAAgc,EAA2Bhc,EAA3B,IAFtC8D,MC3pBQi3D,6MAHXC,EAAYluB,EAAAruD,OAAkBquD,EAC9BmuB,EAAQ,KAEd,SAAiBF,GAeG7lD,EAAAgmD,SAAhB,SAAyB3gD,OAAU,IAAAx3B,EAAA,GAAAO,EAAA,EAAAA,EAAAxE,UAAAV,OAAAkF,IAAAP,EAAAO,EAAA,GAAAxE,UAAAwE,GAC/B,OAAOi3B,EAAIP,KAAK,CAAEx8B,KAAMw9E,EAAU57E,KAAImM,MAAdyvE,EAASzuD,EAAA,CAAMgO,EAAI/8B,MAAS0rB,GAAAA,KACxD,EAgBgBgM,EAAAimD,YAAhB,SAA4B5gD,OAAU,IAAAx3B,EAAA,GAAAO,EAAA,EAAAA,EAAAxE,UAAAV,OAAAkF,IAAAP,EAAAO,EAAA,GAAAxE,UAAAwE,GAClC,IAAI9F,EAAO+8B,EAAI/8B,KACX49E,GAAAA,EACA59E,EAAK,KAAOy9E,IACZz9E,EAAOy9E,EAAQz9E,EACf49E,GAAAA,GAEJ,IAAIx8E,EAAeo8E,EAAUt8E,QAAO6M,MAAjByvE,EAASzuD,EAAA,CAAS/uB,GAAS0rB,GAAAA,IAI9C,OAHIkyD,GAAcx8E,EAAa,KAAOq8E,IAAU1gD,EAAInB,YAChDx6B,EAAeA,EAAaw7B,UAAU,IAEnCG,EAAIP,KAAK,CAAEx8B,KAAMoB,GAC5B,EAUgBs2B,EAAA/0B,QAAhB,SAAwBo6B,GACpB,GAAwB,IAApBA,EAAI/8B,KAAKY,QAAgBm8B,EAAI/8B,OAASy9E,EACtC,OAAO1gD,EAEX,IAAI/8B,EAAOw9E,EAAU76E,QAAQo6B,EAAI/8B,MAIjC,OAHoB,IAAhBA,EAAKY,QAAuC,KAAvBZ,EAAKa,WAAW,KACrCb,EAAO,IAEJ+8B,EAAIP,KAAK,CAAEx8B,KAAIuF,GAC1B,EAUgBmyB,EAAA30B,SAAhB,SAAyBg6B,GACrB,OAAOygD,EAAUz6E,SAASg6B,EAAI/8B,KAClC,EAUgB03B,EAAAt0B,QAAhB,SAAwB25B,GACpB,OAAOygD,EAAUp6E,QAAQ25B,EAAI/8B,KAEpC,CAzFD,EAAiBu9E,IAAAA,EAAK,qBCTXM,GAOAniD,GAOAoiD,GASAC,GAaAn/C,GA8BAY,GA2BAw+C,GAwBAC,GA4BAlS,GA8BAmS,GAyBAC,GA2BAtsB,GAmBAusB,GAyCAC,GAwBAC,GAwBAC,GAqBAC,GAYAC,GA2CA9sB,GA8BA+sB,GAoCAC,GAqBAC,GAQAC,GA4CAC,GAiBAC,GAuBAC,GAwBAC,GAuBAC,6BA5nBX,SAAWrB,GAIPA,EAAYzoE,GAHZ,SAAYnP,GACR,MAAwB,kBAAVA,CACjB,CAHL,EAKG43E,KAAgBA,GAAc,CAAC,IAElC,SAAWniD,GAIPA,EAAItmB,GAHJ,SAAYnP,GACR,MAAwB,kBAAVA,CACjB,CAHL,EAKGy1B,KAAQA,GAAM,CAAC,IAElB,SAAWoiD,GACPA,EAAQqB,WAAa,WACrBrB,EAAQsB,UAAY,WAIpBtB,EAAQ1oE,GAHR,SAAYnP,GACR,MAAwB,kBAAVA,GAAsB63E,EAAQqB,WAAal5E,GAASA,GAAS63E,EAAQsB,SACtF,CALL,EAOGtB,KAAYA,GAAU,CAAC,IAE1B,SAAWC,GACPA,EAASoB,UAAY,EACrBpB,EAASqB,UAAY,WAIrBrB,EAAS3oE,GAHT,SAAYnP,GACR,MAAwB,kBAAVA,GAAsB83E,EAASoB,WAAal5E,GAASA,GAAS83E,EAASqB,SACxF,CALL,EAOGrB,KAAaA,GAAW,CAAC,IAM5B,SAAWn/C,GAePA,EAASn3B,OATT,SAAgB6gC,EAAMqwB,GAOlB,OANIrwB,IAAS74B,OAAO2vE,YAChB92C,EAAOy1C,GAASqB,WAEhBzmB,IAAclpD,OAAO2vE,YACrBzmB,EAAYolB,GAASqB,WAElB,CAAE92C,KAAMA,EAAMqwB,UAAWA,EACnC,EASD/5B,EAASxpB,GAJT,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGC,cAAct6D,IAAcq6D,GAAGtB,SAAS/4D,EAAUsjB,OAAS+2C,GAAGtB,SAAS/4D,EAAU2zC,UAC9F,CAtBL,EAwBG/5B,KAAaA,GAAW,CAAC,IAM5B,SAAWY,GAYPA,EAAM/3B,OAXN,SAAgB83E,EAAKC,EAAKC,EAAOC,GAC7B,GAAIL,GAAGtB,SAASwB,IAAQF,GAAGtB,SAASyB,IAAQH,GAAGtB,SAAS0B,IAAUJ,GAAGtB,SAAS2B,GAC1E,MAAO,CAAEz8E,MAAO27B,GAASn3B,OAAO83E,EAAKC,GAAM38E,IAAK+7B,GAASn3B,OAAOg4E,EAAOC,IAEtE,GAAI9gD,GAASxpB,GAAGmqE,IAAQ3gD,GAASxpB,GAAGoqE,GACrC,MAAO,CAAEv8E,MAAOs8E,EAAK18E,IAAK28E,GAG1B,MAAM,IAAI91E,MAAM,8CAA8CyL,OAAOoqE,EAAK,MAAMpqE,OAAOqqE,EAAK,MAAMrqE,OAAOsqE,EAAO,MAAMtqE,OAAOuqE,EAAM,KAE1I,EASDlgD,EAAMpqB,GAJN,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGC,cAAct6D,IAAc4Z,GAASxpB,GAAG4P,EAAU/hB,QAAU27B,GAASxpB,GAAG4P,EAAUniB,IAC/F,CAnBL,EAqBG28B,KAAUA,GAAQ,CAAC,IAMtB,SAAWw+C,GASPA,EAASv2E,OAHT,SAAgBs1B,EAAKgD,GACjB,MAAO,CAAEhD,IAAKA,EAAKgD,MAAOA,EAC7B,EASDi+C,EAAS5oE,GAJT,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGC,cAAct6D,IAAcwa,GAAMpqB,GAAG4P,EAAU+a,SAAWs/C,GAAGM,OAAO36D,EAAU+X,MAAQsiD,GAAG99E,UAAUyjB,EAAU+X,KAC1H,CAhBL,EAkBGihD,KAAaA,GAAW,CAAC,IAM5B,SAAWC,GAWPA,EAAax2E,OAHb,SAAgBm4E,EAAWC,EAAaC,EAAsBC,GAC1D,MAAO,CAAEH,UAAWA,EAAWC,YAAaA,EAAaC,qBAAsBA,EAAsBC,qBAAsBA,EAC9H,EAWD9B,EAAa7oE,GANb,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGC,cAAct6D,IAAcwa,GAAMpqB,GAAG4P,EAAU66D,cAAgBR,GAAGM,OAAO36D,EAAU46D,YACtFpgD,GAAMpqB,GAAG4P,EAAU86D,wBAClBtgD,GAAMpqB,GAAG4P,EAAU+6D,uBAAyBV,GAAG99E,UAAUyjB,EAAU+6D,sBAC9E,CApBL,EAsBG9B,KAAiBA,GAAe,CAAC,IAMpC,SAAWlS,GAYPA,EAAMtkE,OARN,SAAgBslE,EAAKe,EAAOD,EAAME,GAC9B,MAAO,CACHhB,IAAKA,EACLe,MAAOA,EACPD,KAAMA,EACNE,MAAOA,EAEd,EAYDhC,EAAM32D,GAPN,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGC,cAAct6D,IAAcq6D,GAAGW,YAAYh7D,EAAU+nD,IAAK,EAAG,IAChEsS,GAAGW,YAAYh7D,EAAU8oD,MAAO,EAAG,IACnCuR,GAAGW,YAAYh7D,EAAU6oD,KAAM,EAAG,IAClCwR,GAAGW,YAAYh7D,EAAU+oD,MAAO,EAAG,EAC7C,CAtBL,EAwBGhC,KAAUA,GAAQ,CAAC,IAMtB,SAAWmS,GAUPA,EAAiBz2E,OANjB,SAAgBs4B,EAAOitC,GACnB,MAAO,CACHjtC,MAAOA,EACPitC,MAAOA,EAEd,EASDkR,EAAiB9oE,GAJjB,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGC,cAAct6D,IAAcwa,GAAMpqB,GAAG4P,EAAU+a,QAAUgsC,GAAM32D,GAAG4P,EAAUgoD,MACzF,CAjBL,EAmBGkR,KAAqBA,GAAmB,CAAC,IAM5C,SAAWC,GAWPA,EAAkB12E,OAPlB,SAAgBw4E,EAAOpI,EAAUqI,GAC7B,MAAO,CACHD,MAAOA,EACPpI,SAAUA,EACVqI,oBAAqBA,EAE5B,EAWD/B,EAAkB/oE,GANlB,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGC,cAAct6D,IAAcq6D,GAAGM,OAAO36D,EAAUi7D,SAClDZ,GAAG99E,UAAUyjB,EAAU6yD,WAAa6G,GAAStpE,GAAG4P,MAChDq6D,GAAG99E,UAAUyjB,EAAUk7D,sBAAwBb,GAAGc,WAAWn7D,EAAUk7D,oBAAqBxB,GAAStpE,IAChH,CApBL,EAsBG+oE,KAAsBA,GAAoB,CAAC,IAK9C,SAAWtsB,GAIPA,EAAiBC,QAAU,UAI3BD,EAAiBE,QAAU,UAI3BF,EAAiBG,OAAS,QAZ9B,EAaGH,KAAqBA,GAAmB,CAAC,IAM5C,SAAWusB,GAuBPA,EAAa32E,OAnBb,SAAgB6uD,EAAWC,EAAS6pB,EAAgBC,EAAchvB,EAAMivB,GACpE,IAAIp3E,EAAS,CACTotD,UAAWA,EACXC,QAASA,GAcb,OAZI8oB,GAAGkB,QAAQH,KACXl3E,EAAOk3E,eAAiBA,GAExBf,GAAGkB,QAAQF,KACXn3E,EAAOm3E,aAAeA,GAEtBhB,GAAGkB,QAAQlvB,KACXnoD,EAAOmoD,KAAOA,GAEdguB,GAAGkB,QAAQD,KACXp3E,EAAOo3E,cAAgBA,GAEpBp3E,CACV,EAYDk1E,EAAahpE,GAPb,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGC,cAAct6D,IAAcq6D,GAAGtB,SAAS/4D,EAAUsxC,YAAc+oB,GAAGtB,SAAS/4D,EAAUsxC,aACxF+oB,GAAG99E,UAAUyjB,EAAUo7D,iBAAmBf,GAAGtB,SAAS/4D,EAAUo7D,mBAChEf,GAAG99E,UAAUyjB,EAAUq7D,eAAiBhB,GAAGtB,SAAS/4D,EAAUq7D,iBAC9DhB,GAAG99E,UAAUyjB,EAAUqsC,OAASguB,GAAGM,OAAO36D,EAAUqsC,MAC/D,CAjCL,EAmCG+sB,KAAiBA,GAAe,CAAC,IAMpC,SAAWC,GAUPA,EAA6B52E,OAN7B,SAAgB4a,EAAUrO,GACtB,MAAO,CACHqO,SAAUA,EACVrO,QAASA,EAEhB,EASDqqE,EAA6BjpE,GAJ7B,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGkB,QAAQv7D,IAAcg5D,GAAS5oE,GAAG4P,EAAU3C,WAAag9D,GAAGM,OAAO36D,EAAUhR,QAC1F,CAjBL,EAmBGqqE,KAAiCA,GAA+B,CAAC,IAKpE,SAAWC,GAIPA,EAAmB50E,MAAQ,EAI3B40E,EAAmBkC,QAAU,EAI7BlC,EAAmBmC,YAAc,EAIjCnC,EAAmBoC,KAAO,CAhB9B,EAiBGpC,KAAuBA,GAAqB,CAAC,IAOhD,SAAWC,GAOPA,EAAcoC,YAAc,EAM5BpC,EAAcqC,WAAa,CAb/B,EAcGrC,KAAkBA,GAAgB,CAAC,IAOtC,SAAWC,GAKPA,EAAgBppE,GAJhB,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGC,cAAct6D,IAAcq6D,GAAGM,OAAO36D,EAAU67D,KAC7D,CAJL,EAMGrC,KAAoBA,GAAkB,CAAC,IAM1C,SAAWC,GAoBPA,EAAWh3E,OAhBX,SAAgBs4B,EAAO/rB,EAAS8sE,EAAUxgF,EAAM2P,EAAQ8wE,GACpD,IAAI73E,EAAS,CAAE62B,MAAOA,EAAO/rB,QAASA,GAatC,OAZIqrE,GAAGkB,QAAQO,KACX53E,EAAO43E,SAAWA,GAElBzB,GAAGkB,QAAQjgF,KACX4I,EAAO5I,KAAOA,GAEd++E,GAAGkB,QAAQtwE,KACX/G,EAAO+G,OAASA,GAEhBovE,GAAGkB,QAAQQ,KACX73E,EAAO63E,mBAAqBA,GAEzB73E,CACV,EAiBDu1E,EAAWrpE,GAZX,SAAYnP,GACR,IAAI6Z,EACAkF,EAAY/e,EAChB,OAAOo5E,GAAGkB,QAAQv7D,IACXwa,GAAMpqB,GAAG4P,EAAU+a,QACnBs/C,GAAGM,OAAO36D,EAAUhR,WACnBqrE,GAAGxU,OAAO7lD,EAAU87D,WAAazB,GAAG99E,UAAUyjB,EAAU87D,aACxDzB,GAAGvB,QAAQ94D,EAAU1kB,OAAS++E,GAAGM,OAAO36D,EAAU1kB,OAAS++E,GAAG99E,UAAUyjB,EAAU1kB,SAClF++E,GAAG99E,UAAUyjB,EAAUg8D,kBAAqB3B,GAAGM,OAA4C,QAApC7/D,EAAKkF,EAAUg8D,uBAAoC,IAAPlhE,OAAgB,EAASA,EAAG+gE,SAC/HxB,GAAGM,OAAO36D,EAAU/U,SAAWovE,GAAG99E,UAAUyjB,EAAU/U,WACtDovE,GAAG99E,UAAUyjB,EAAU+7D,qBAAuB1B,GAAGc,WAAWn7D,EAAU+7D,mBAAoB1C,GAA6BjpE,IAClI,CAnCL,EAqCGqpE,KAAeA,GAAa,CAAC,IAMhC,SAAW9sB,GAePA,EAAQlqD,OAXR,SAAgBwqD,EAAOgvB,GAEnB,IADA,IAAInzE,EAAO,GACF6E,EAAK,EAAGA,EAAKrR,UAAUV,OAAQ+R,IACpC7E,EAAK6E,EAAK,GAAKrR,UAAUqR,GAE7B,IAAIzJ,EAAS,CAAE+oD,MAAOA,EAAOgvB,QAASA,GAItC,OAHI5B,GAAGkB,QAAQzyE,IAASA,EAAKlN,OAAS,IAClCsI,EAAO5H,UAAYwM,GAEhB5E,CACV,EASDyoD,EAAQv8C,GAJR,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGkB,QAAQv7D,IAAcq6D,GAAGM,OAAO36D,EAAUitC,QAAUotB,GAAGM,OAAO36D,EAAUi8D,QACrF,CAtBL,EAwBGtvB,KAAYA,GAAU,CAAC,IAM1B,SAAW+sB,GASPA,EAASn8D,QAHT,SAAiBwd,EAAO+3C,GACpB,MAAO,CAAE/3C,MAAOA,EAAO+3C,QAASA,EACnC,EAUD4G,EAAS1wB,OAHT,SAAgBnuB,EAAUi4C,GACtB,MAAO,CAAE/3C,MAAO,CAAE98B,MAAO48B,EAAUh9B,IAAKg9B,GAAYi4C,QAASA,EAChE,EASD4G,EAASwC,IAHT,SAAanhD,GACT,MAAO,CAAEA,MAAOA,EAAO+3C,QAAS,GACnC,EAQD4G,EAAStpE,GANT,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGC,cAAct6D,IACjBq6D,GAAGM,OAAO36D,EAAU8yD,UACpBt4C,GAAMpqB,GAAG4P,EAAU+a,MAC7B,CAhCL,EAkCG2+C,KAAaA,GAAW,CAAC,IAE5B,SAAWC,GAWPA,EAAiBl3E,OAVjB,SAAgBw4E,EAAOkB,EAAmBC,GACtC,IAAIl4E,EAAS,CAAE+2E,MAAOA,GAOtB,YAN0B1+E,IAAtB4/E,IACAj4E,EAAOi4E,kBAAoBA,QAEX5/E,IAAhB6/E,IACAl4E,EAAOk4E,YAAcA,GAElBl4E,CACV,EAQDy1E,EAAiBvpE,GANjB,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGC,cAAct6D,IAAcq6D,GAAGM,OAAO36D,EAAUi7D,SACrDZ,GAAGgC,QAAQr8D,EAAUm8D,yBAAsD5/E,IAAhCyjB,EAAUm8D,qBACrD9B,GAAGM,OAAO36D,EAAUo8D,mBAA0C7/E,IAA1ByjB,EAAUo8D,YACtD,CAjBL,EAmBGzC,KAAqBA,GAAmB,CAAC,IAE5C,SAAWC,GAKPA,EAA2BxpE,GAJ3B,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGM,OAAO36D,EACpB,CAJL,EAMG45D,KAA+BA,GAA6B,CAAC,IAEhE,SAAWC,GAWPA,EAAkBt8D,QAHlB,SAAiBwd,EAAO+3C,EAASwJ,GAC7B,MAAO,CAAEvhD,MAAOA,EAAO+3C,QAASA,EAASyJ,aAAcD,EAC1D,EAYDzC,EAAkB7wB,OAHlB,SAAgBnuB,EAAUi4C,EAASwJ,GAC/B,MAAO,CAAEvhD,MAAO,CAAE98B,MAAO48B,EAAUh9B,IAAKg9B,GAAYi4C,QAASA,EAASyJ,aAAcD,EACvF,EAWDzC,EAAkBqC,IAHlB,SAAanhD,EAAOuhD,GAChB,MAAO,CAAEvhD,MAAOA,EAAO+3C,QAAS,GAAIyJ,aAAcD,EACrD,EAMDzC,EAAkBzpE,GAJlB,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOy4E,GAAStpE,GAAG4P,KAAe25D,GAAiBvpE,GAAG4P,EAAUu8D,eAAiB3C,GAA2BxpE,GAAG4P,EAAUu8D,cAC5H,CApCL,EAsCG1C,KAAsBA,GAAoB,CAAC,IAM9C,SAAWC,GAOPA,EAAiBr3E,OAHjB,SAAgB+5E,EAActO,GAC1B,MAAO,CAAEsO,aAAcA,EAActO,MAAOA,EAC/C,EAQD4L,EAAiB1pE,GANjB,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGkB,QAAQv7D,IACXy8D,GAAwCrsE,GAAG4P,EAAUw8D,eACrDhxE,MAAMQ,QAAQgU,EAAUkuD,MAClC,CAbL,EAeG4L,KAAqBA,GAAmB,CAAC,IAE5C,SAAWC,GAcPA,EAAWt3E,OAbX,SAAgBs1B,EAAKviB,EAAS8mE,GAC1B,IAAIp4E,EAAS,CACTmoD,KAAM,SACNt0B,IAAKA,GAQT,YANgBx7B,IAAZiZ,QAAgDjZ,IAAtBiZ,EAAQknE,gBAAsDngF,IAA3BiZ,EAAQmnE,iBACrEz4E,EAAOsR,QAAUA,QAEFjZ,IAAf+/E,IACAp4E,EAAOq4E,aAAeD,GAEnBp4E,CACV,EAOD61E,EAAW3pE,GALX,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAO+e,GAAgC,WAAnBA,EAAUqsC,MAAqBguB,GAAGM,OAAO36D,EAAU+X,YAA+Bx7B,IAAtByjB,EAAUxK,eACpDjZ,IAAhCyjB,EAAUxK,QAAQknE,WAA2BrC,GAAGgC,QAAQr8D,EAAUxK,QAAQknE,mBAAqDngF,IAArCyjB,EAAUxK,QAAQmnE,gBAAgCtC,GAAGgC,QAAQr8D,EAAUxK,QAAQmnE,yBAAkDpgF,IAA3ByjB,EAAUu8D,cAA8B3C,GAA2BxpE,GAAG4P,EAAUu8D,cACzR,CAnBL,EAqBGxC,KAAeA,GAAa,CAAC,IAEhC,SAAWC,GAePA,EAAWv3E,OAdX,SAAgBm6E,EAAQC,EAAQrnE,EAAS8mE,GACrC,IAAIp4E,EAAS,CACTmoD,KAAM,SACNuwB,OAAQA,EACRC,OAAQA,GAQZ,YANgBtgF,IAAZiZ,QAAgDjZ,IAAtBiZ,EAAQknE,gBAAsDngF,IAA3BiZ,EAAQmnE,iBACrEz4E,EAAOsR,QAAUA,QAEFjZ,IAAf+/E,IACAp4E,EAAOq4E,aAAeD,GAEnBp4E,CACV,EAOD81E,EAAW5pE,GALX,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAO+e,GAAgC,WAAnBA,EAAUqsC,MAAqBguB,GAAGM,OAAO36D,EAAU48D,SAAWvC,GAAGM,OAAO36D,EAAU68D,eAAkCtgF,IAAtByjB,EAAUxK,eACtFjZ,IAAhCyjB,EAAUxK,QAAQknE,WAA2BrC,GAAGgC,QAAQr8D,EAAUxK,QAAQknE,mBAAqDngF,IAArCyjB,EAAUxK,QAAQmnE,gBAAgCtC,GAAGgC,QAAQr8D,EAAUxK,QAAQmnE,yBAAkDpgF,IAA3ByjB,EAAUu8D,cAA8B3C,GAA2BxpE,GAAG4P,EAAUu8D,cACzR,CApBL,EAsBGvC,KAAeA,GAAa,CAAC,IAEhC,SAAWC,GAcPA,EAAWx3E,OAbX,SAAgBs1B,EAAKviB,EAAS8mE,GAC1B,IAAIp4E,EAAS,CACTmoD,KAAM,SACNt0B,IAAKA,GAQT,YANgBx7B,IAAZiZ,QAAgDjZ,IAAtBiZ,EAAQsnE,gBAAyDvgF,IAA9BiZ,EAAQunE,oBACrE74E,EAAOsR,QAAUA,QAEFjZ,IAAf+/E,IACAp4E,EAAOq4E,aAAeD,GAEnBp4E,CACV,EAOD+1E,EAAW7pE,GALX,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAO+e,GAAgC,WAAnBA,EAAUqsC,MAAqBguB,GAAGM,OAAO36D,EAAU+X,YAA+Bx7B,IAAtByjB,EAAUxK,eACpDjZ,IAAhCyjB,EAAUxK,QAAQsnE,WAA2BzC,GAAGgC,QAAQr8D,EAAUxK,QAAQsnE,mBAAwDvgF,IAAxCyjB,EAAUxK,QAAQunE,mBAAmC1C,GAAGgC,QAAQr8D,EAAUxK,QAAQunE,4BAAqDxgF,IAA3ByjB,EAAUu8D,cAA8B3C,GAA2BxpE,GAAG4P,EAAUu8D,cAC/R,CAnBL,EAqBGtC,KAAeA,GAAa,CAAC,IAEhC,SAAWC,GAcPA,EAAc9pE,GAbd,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAO+e,SACoBzjB,IAAtByjB,EAAU4K,cAAuDruB,IAA9ByjB,EAAUg9D,wBACfzgF,IAA9ByjB,EAAUg9D,iBAAiCh9D,EAAUg9D,gBAAgBC,OAAM,SAAUhsD,GAClF,OAAIopD,GAAGM,OAAO1pD,EAAOo7B,MACV0tB,GAAW3pE,GAAG6gB,IAAW+oD,GAAW5pE,GAAG6gB,IAAWgpD,GAAW7pE,GAAG6gB,GAGhE6oD,GAAiB1pE,GAAG6gB,EAElC,IACR,CAbL,EAeGipD,KAAkBA,GAAgB,CAAC,IACtC,IAmTWgD,GAuBAC,GAwBAV,GAwBAW,GA6BAC,GAmBAC,GAcAjwB,GAgCAkwB,GAwBAjwB,GAYAkwB,GAwBAC,GAqBAC,GAaAC,GAeAC,GAaAC,GAoBAC,GAiBAC,GAiBAC,GAwBAxxB,GAmBAyxB,GAmBAlvB,GAkCAC,GAOAkvB,GAwBAC,GAkBAC,GA4CAC,GA2EAC,GAkBAC,GA2BAC,GAqCAC,GA0BAC,GAsBAC,GAsBAC,GAwBAC,GAwCAC,GAgBAC,GAcAC,GAoBAC,GAqBAC,GAsBAC,GAuBAvyB,GAeAwyB,GAeAC,GAsBAC,GAhxCPC,GAAoC,WACpC,SAASA,EAAmBrR,EAAOsR,GAC/Bn/E,KAAK6tE,MAAQA,EACb7tE,KAAKm/E,kBAAoBA,CAC5B,CA2ED,OA1EAD,EAAmB5+E,UAAUqoD,OAAS,SAAUnuB,EAAUi4C,EAASwJ,GAC/D,IAAIrvC,EACAh1B,EAcJ,QAbmB1b,IAAf+/E,EACArvC,EAAOysC,GAAS1wB,OAAOnuB,EAAUi4C,GAE5B8G,GAA2BxpE,GAAGksE,IACnCrkE,EAAKqkE,EACLrvC,EAAO4sC,GAAkB7wB,OAAOnuB,EAAUi4C,EAASwJ,KAGnDj8E,KAAKo/E,wBAAwBp/E,KAAKm/E,mBAClCvnE,EAAK5X,KAAKm/E,kBAAkBE,OAAOpD,GACnCrvC,EAAO4sC,GAAkB7wB,OAAOnuB,EAAUi4C,EAAS76D,IAEvD5X,KAAK6tE,MAAMjoE,KAAKgnC,QACL1wC,IAAP0b,EACA,OAAOA,CAEd,EACDsnE,EAAmB5+E,UAAU4c,QAAU,SAAUwd,EAAO+3C,EAASwJ,GAC7D,IAAIrvC,EACAh1B,EAcJ,QAbmB1b,IAAf+/E,EACArvC,EAAOysC,GAASn8D,QAAQwd,EAAO+3C,GAE1B8G,GAA2BxpE,GAAGksE,IACnCrkE,EAAKqkE,EACLrvC,EAAO4sC,GAAkBt8D,QAAQwd,EAAO+3C,EAASwJ,KAGjDj8E,KAAKo/E,wBAAwBp/E,KAAKm/E,mBAClCvnE,EAAK5X,KAAKm/E,kBAAkBE,OAAOpD,GACnCrvC,EAAO4sC,GAAkBt8D,QAAQwd,EAAO+3C,EAAS76D,IAErD5X,KAAK6tE,MAAMjoE,KAAKgnC,QACL1wC,IAAP0b,EACA,OAAOA,CAEd,EACDsnE,EAAmB5+E,UAAU0jB,OAAS,SAAU0W,EAAOuhD,GACnD,IAAIrvC,EACAh1B,EAcJ,QAbmB1b,IAAf+/E,EACArvC,EAAOysC,GAASwC,IAAInhD,GAEf6+C,GAA2BxpE,GAAGksE,IACnCrkE,EAAKqkE,EACLrvC,EAAO4sC,GAAkBqC,IAAInhD,EAAOuhD,KAGpCj8E,KAAKo/E,wBAAwBp/E,KAAKm/E,mBAClCvnE,EAAK5X,KAAKm/E,kBAAkBE,OAAOpD,GACnCrvC,EAAO4sC,GAAkBqC,IAAInhD,EAAO9iB,IAExC5X,KAAK6tE,MAAMjoE,KAAKgnC,QACL1wC,IAAP0b,EACA,OAAOA,CAEd,EACDsnE,EAAmB5+E,UAAUwS,IAAM,SAAU85B,GACzC5sC,KAAK6tE,MAAMjoE,KAAKgnC,EACnB,EACDsyC,EAAmB5+E,UAAU2Z,IAAM,WAC/B,OAAOja,KAAK6tE,KACf,EACDqR,EAAmB5+E,UAAUmS,MAAQ,WACjCzS,KAAK6tE,MAAMjuD,OAAO,EAAG5f,KAAK6tE,MAAMtyE,OACnC,EACD2jF,EAAmB5+E,UAAU8+E,wBAA0B,SAAUx+E,GAC7D,QAAc1E,IAAV0E,EACA,MAAM,IAAIyD,MAAM,mEAEvB,EACM66E,CACV,CAhFuC,GAoFpCI,GAAmC,WACnC,SAASA,EAAkBC,GACvBv/E,KAAKw/E,kBAA+BtjF,IAAhBqjF,EAA4B7/E,OAAO0C,OAAO,MAAQm9E,EACtEv/E,KAAK0Y,SAAW,EAChB1Y,KAAKwT,MAAQ,CAChB,CAkCD,OAjCA8rE,EAAkBh/E,UAAU2Z,IAAM,WAC9B,OAAOja,KAAKw/E,YACf,EACD9/E,OAAOC,eAAe2/E,EAAkBh/E,UAAW,OAAQ,CACvDT,IAAK,WACD,OAAOG,KAAKwT,KACf,EACD5T,YAAY,EACZ6B,cAAc,IAElB69E,EAAkBh/E,UAAU++E,OAAS,SAAUI,EAAgBxD,GAC3D,IAAIrkE,EAQJ,GAPI2hE,GAA2BxpE,GAAG0vE,GAC9B7nE,EAAK6nE,GAGL7nE,EAAK5X,KAAK0/E,SACVzD,EAAawD,QAEavjF,IAA1B8D,KAAKw/E,aAAa5nE,GAClB,MAAM,IAAIvT,MAAM,MAAMyL,OAAO8H,EAAI,wBAErC,QAAmB1b,IAAf+/E,EACA,MAAM,IAAI53E,MAAM,iCAAiCyL,OAAO8H,IAI5D,OAFA5X,KAAKw/E,aAAa5nE,GAAMqkE,EACxBj8E,KAAKwT,QACEoE,CACV,EACD0nE,EAAkBh/E,UAAUo/E,OAAS,WAEjC,OADA1/E,KAAK0Y,WACE1Y,KAAK0Y,SAASlN,UACxB,EACM8zE,CACV,CAxCsC,IA4CF,WACjC,SAASK,EAAgBC,GACrB,IAAIlwE,EAAQ1P,KACZA,KAAK6/E,iBAAmBngF,OAAO0C,OAAO,WAChBlG,IAAlB0jF,GACA5/E,KAAK8/E,eAAiBF,EAClBA,EAAcjD,iBACd38E,KAAK+/E,mBAAqB,IAAIT,GAAkBM,EAAcT,mBAC9DS,EAAcT,kBAAoBn/E,KAAK+/E,mBAAmB9lE,MAC1D2lE,EAAcjD,gBAAgBt5E,SAAQ,SAAUutB,GAC5C,GAAI6oD,GAAiB1pE,GAAG6gB,GAAS,CAC7B,IAAIovD,EAAiB,IAAId,GAAmBtuD,EAAOi9C,MAAOn+D,EAAMqwE,oBAChErwE,EAAMmwE,iBAAiBjvD,EAAOurD,aAAazkD,KAAOsoD,CACrD,CACJ,KAEIJ,EAAcr1D,SACnB7qB,OAAOoH,KAAK84E,EAAcr1D,SAASlnB,SAAQ,SAAU7D,GACjD,IAAIwgF,EAAiB,IAAId,GAAmBU,EAAcr1D,QAAQ/qB,IAClEkQ,EAAMmwE,iBAAiBrgF,GAAOwgF,CACjC,KAILhgF,KAAK8/E,eAAiB,CAAC,CAE9B,CACDpgF,OAAOC,eAAeggF,EAAgBr/E,UAAW,OAAQ,CAKrDT,IAAK,WAUD,OATAG,KAAKigF,2BAC2B/jF,IAA5B8D,KAAK+/E,qBACgC,IAAjC//E,KAAK+/E,mBAAmBrtE,KACxB1S,KAAK8/E,eAAeX,uBAAoBjjF,EAGxC8D,KAAK8/E,eAAeX,kBAAoBn/E,KAAK+/E,mBAAmB9lE,OAGjEja,KAAK8/E,cACf,EACDlgF,YAAY,EACZ6B,cAAc,IAElBk+E,EAAgBr/E,UAAU4/E,kBAAoB,SAAU1gF,GACpD,GAAI48E,GAAwCrsE,GAAGvQ,GAAM,CAEjD,GADAQ,KAAKigF,2BACuC/jF,IAAxC8D,KAAK8/E,eAAenD,gBACpB,MAAM,IAAIt4E,MAAM,0DAEpB,IAAI83E,EAAe,CAAEzkD,IAAKl4B,EAAIk4B,IAAKq5C,QAASvxE,EAAIuxE,SAEhD,KADIltE,EAAS7D,KAAK6/E,iBAAiB1D,EAAazkD,MACnC,CACT,IACIyoD,EAAmB,CACnBhE,aAAcA,EACdtO,MAHAA,EAAQ,IAKZ7tE,KAAK8/E,eAAenD,gBAAgB/2E,KAAKu6E,GACzCt8E,EAAS,IAAIq7E,GAAmBrR,EAAO7tE,KAAK+/E,oBAC5C//E,KAAK6/E,iBAAiB1D,EAAazkD,KAAO7zB,CAC7C,CACD,OAAOA,CACV,CAGG,GADA7D,KAAKogF,mBAC+BlkF,IAAhC8D,KAAK8/E,eAAev1D,QACpB,MAAM,IAAIlmB,MAAM,kEAEpB,IAAIR,EACJ,KADIA,EAAS7D,KAAK6/E,iBAAiBrgF,IACtB,CACT,IAAIquE,EAAQ,GACZ7tE,KAAK8/E,eAAev1D,QAAQ/qB,GAAOquE,EACnChqE,EAAS,IAAIq7E,GAAmBrR,GAChC7tE,KAAK6/E,iBAAiBrgF,GAAOqE,CAChC,CACD,OAAOA,CAEd,EACD87E,EAAgBr/E,UAAU2/E,oBAAsB,gBACA/jF,IAAxC8D,KAAK8/E,eAAenD,sBAAiEzgF,IAAhC8D,KAAK8/E,eAAev1D,UACzEvqB,KAAK+/E,mBAAqB,IAAIT,GAC9Bt/E,KAAK8/E,eAAenD,gBAAkB,GACtC38E,KAAK8/E,eAAeX,kBAAoBn/E,KAAK+/E,mBAAmB9lE,MAEvE,EACD0lE,EAAgBr/E,UAAU8/E,YAAc,gBACQlkF,IAAxC8D,KAAK8/E,eAAenD,sBAAiEzgF,IAAhC8D,KAAK8/E,eAAev1D,UACzEvqB,KAAK8/E,eAAev1D,QAAU7qB,OAAO0C,OAAO,MAEnD,EACDu9E,EAAgBr/E,UAAU+/E,WAAa,SAAU3oD,EAAK4oD,EAAqBnrE,GAEvE,GADAnV,KAAKigF,2BACuC/jF,IAAxC8D,KAAK8/E,eAAenD,gBACpB,MAAM,IAAIt4E,MAAM,0DAEpB,IAAI43E,EAOAsE,EACA3oE,EASJ,GAhBI0hE,GAAiBvpE,GAAGuwE,IAAwB/G,GAA2BxpE,GAAGuwE,GAC1ErE,EAAaqE,EAGbnrE,EAAUmrE,OAIKpkF,IAAf+/E,EACAsE,EAAY7G,GAAWt3E,OAAOs1B,EAAKviB,IAGnCyC,EAAK2hE,GAA2BxpE,GAAGksE,GAAcA,EAAaj8E,KAAK+/E,mBAAmBV,OAAOpD,GAC7FsE,EAAY7G,GAAWt3E,OAAOs1B,EAAKviB,EAASyC,IAEhD5X,KAAK8/E,eAAenD,gBAAgB/2E,KAAK26E,QAC9BrkF,IAAP0b,EACA,OAAOA,CAEd,EACD+nE,EAAgBr/E,UAAUkgF,WAAa,SAAUjE,EAAQC,EAAQ8D,EAAqBnrE,GAElF,GADAnV,KAAKigF,2BACuC/jF,IAAxC8D,KAAK8/E,eAAenD,gBACpB,MAAM,IAAIt4E,MAAM,0DAEpB,IAAI43E,EAOAsE,EACA3oE,EASJ,GAhBI0hE,GAAiBvpE,GAAGuwE,IAAwB/G,GAA2BxpE,GAAGuwE,GAC1ErE,EAAaqE,EAGbnrE,EAAUmrE,OAIKpkF,IAAf+/E,EACAsE,EAAY5G,GAAWv3E,OAAOm6E,EAAQC,EAAQrnE,IAG9CyC,EAAK2hE,GAA2BxpE,GAAGksE,GAAcA,EAAaj8E,KAAK+/E,mBAAmBV,OAAOpD,GAC7FsE,EAAY5G,GAAWv3E,OAAOm6E,EAAQC,EAAQrnE,EAASyC,IAE3D5X,KAAK8/E,eAAenD,gBAAgB/2E,KAAK26E,QAC9BrkF,IAAP0b,EACA,OAAOA,CAEd,EACD+nE,EAAgBr/E,UAAUmgF,WAAa,SAAU/oD,EAAK4oD,EAAqBnrE,GAEvE,GADAnV,KAAKigF,2BACuC/jF,IAAxC8D,KAAK8/E,eAAenD,gBACpB,MAAM,IAAIt4E,MAAM,0DAEpB,IAAI43E,EAOAsE,EACA3oE,EASJ,GAhBI0hE,GAAiBvpE,GAAGuwE,IAAwB/G,GAA2BxpE,GAAGuwE,GAC1ErE,EAAaqE,EAGbnrE,EAAUmrE,OAIKpkF,IAAf+/E,EACAsE,EAAY3G,GAAWx3E,OAAOs1B,EAAKviB,IAGnCyC,EAAK2hE,GAA2BxpE,GAAGksE,GAAcA,EAAaj8E,KAAK+/E,mBAAmBV,OAAOpD,GAC7FsE,EAAY3G,GAAWx3E,OAAOs1B,EAAKviB,EAASyC,IAEhD5X,KAAK8/E,eAAenD,gBAAgB/2E,KAAK26E,QAC9BrkF,IAAP0b,EACA,OAAOA,CAEd,CAEJ,CA7KoC,IAoLrC,SAAWilE,GAQPA,EAAuBz6E,OAHvB,SAAgBs1B,GACZ,MAAO,CAAEA,IAAKA,EACjB,EASDmlD,EAAuB9sE,GAJvB,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGkB,QAAQv7D,IAAcq6D,GAAGM,OAAO36D,EAAU+X,IACvD,CAfL,EAiBGmlD,KAA2BA,GAAyB,CAAC,IAMxD,SAAWC,GASPA,EAAgC16E,OAHhC,SAAgBs1B,EAAKq5C,GACjB,MAAO,CAAEr5C,IAAKA,EAAKq5C,QAASA,EAC/B,EASD+L,EAAgC/sE,GAJhC,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGkB,QAAQv7D,IAAcq6D,GAAGM,OAAO36D,EAAU+X,MAAQsiD,GAAGvB,QAAQ94D,EAAUoxD,QACpF,CAhBL,EAkBG+L,KAAoCA,GAAkC,CAAC,IAM1E,SAAWV,GASPA,EAAwCh6E,OAHxC,SAAgBs1B,EAAKq5C,GACjB,MAAO,CAAEr5C,IAAKA,EAAKq5C,QAASA,EAC/B,EASDqL,EAAwCrsE,GAJxC,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGkB,QAAQv7D,IAAcq6D,GAAGM,OAAO36D,EAAU+X,OAA+B,OAAtB/X,EAAUoxD,SAAoBiJ,GAAGvB,QAAQ94D,EAAUoxD,SACnH,CAhBL,EAkBGqL,KAA4CA,GAA0C,CAAC,IAM1F,SAAWW,GAWPA,EAAiB36E,OAHjB,SAAgBs1B,EAAKmzB,EAAYkmB,EAASxxC,GACtC,MAAO,CAAE7H,IAAKA,EAAKmzB,WAAYA,EAAYkmB,QAASA,EAASxxC,KAAMA,EACtE,EASDw9C,EAAiBhtE,GAJjB,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGkB,QAAQv7D,IAAcq6D,GAAGM,OAAO36D,EAAU+X,MAAQsiD,GAAGM,OAAO36D,EAAUkrC,aAAemvB,GAAGvB,QAAQ94D,EAAUoxD,UAAYiJ,GAAGM,OAAO36D,EAAU4f,KACvJ,CAlBL,EAoBGw9C,KAAqBA,GAAmB,CAAC,IAS5C,SAAWC,GAIPA,EAAW0D,UAAY,YAIvB1D,EAAW2D,SAAW,WAQtB3D,EAAWjtE,GAJX,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAO+e,IAAcq9D,EAAW0D,WAAa/gE,IAAcq9D,EAAW2D,QACzE,CAfL,EAiBG3D,KAAeA,GAAa,CAAC,IAEhC,SAAWC,GAQPA,EAAcltE,GAJd,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGC,cAAcr5E,IAAUo8E,GAAWjtE,GAAG4P,EAAUqsC,OAASguB,GAAGM,OAAO36D,EAAU/e,MAC1F,CAPL,EASGq8E,KAAkBA,GAAgB,CAAC,IAKtC,SAAWjwB,GACPA,EAAmB4zB,KAAO,EAC1B5zB,EAAmB6zB,OAAS,EAC5B7zB,EAAmB/sD,SAAW,EAC9B+sD,EAAmB5gD,YAAc,EACjC4gD,EAAmB8zB,MAAQ,EAC3B9zB,EAAmB+zB,SAAW,EAC9B/zB,EAAmBrjD,MAAQ,EAC3BqjD,EAAmBg0B,UAAY,EAC/Bh0B,EAAmBi0B,OAAS,EAC5Bj0B,EAAmBk0B,SAAW,GAC9Bl0B,EAAmBm0B,KAAO,GAC1Bn0B,EAAmBo0B,MAAQ,GAC3Bp0B,EAAmBq0B,KAAO,GAC1Br0B,EAAmBs0B,QAAU,GAC7Bt0B,EAAmBu0B,QAAU,GAC7Bv0B,EAAmB0Z,MAAQ,GAC3B1Z,EAAmBw0B,KAAO,GAC1Bx0B,EAAmBy0B,UAAY,GAC/Bz0B,EAAmB00B,OAAS,GAC5B10B,EAAmB20B,WAAa,GAChC30B,EAAmB40B,SAAW,GAC9B50B,EAAmB60B,OAAS,GAC5B70B,EAAmB55C,MAAQ,GAC3B45C,EAAmB80B,SAAW,GAC9B90B,EAAmB+0B,cAAgB,EAzBvC,EA0BG/0B,KAAuBA,GAAqB,CAAC,IAMhD,SAAWkwB,GAIPA,EAAiBwD,UAAY,EAW7BxD,EAAiBqE,QAAU,CAf/B,EAgBGrE,KAAqBA,GAAmB,CAAC,IAQ5C,SAAWjwB,GAIPA,EAAkBsuB,WAAa,CAJnC,EAKGtuB,KAAsBA,GAAoB,CAAC,IAO9C,SAAWkwB,GAOPA,EAAkB/6E,OAHlB,SAAgBqwE,EAAS9pB,EAAQzrC,GAC7B,MAAO,CAAEu1D,QAASA,EAAS9pB,OAAQA,EAAQzrC,QAASA,EACvD,EASDigE,EAAkBptE,GAJlB,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAO+e,GAAaq6D,GAAGM,OAAO36D,EAAU8yD,UAAYt4C,GAAMpqB,GAAG4P,EAAUgpC,SAAWxuB,GAAMpqB,GAAG4P,EAAUzC,QACxG,CAdL,EAgBGigE,KAAsBA,GAAoB,CAAC,IAQ9C,SAAWC,GAQPA,EAAe4E,KAAO,EAUtB5E,EAAe6E,kBAAoB,CAlBvC,EAmBG7E,KAAmBA,GAAiB,CAAC,IAExC,SAAWC,GAMPA,EAA2BttE,GAL3B,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAO+e,IAAcq6D,GAAGM,OAAO36D,EAAUgF,cAAgCzoB,IAArByjB,EAAUgF,UACzDq1D,GAAGM,OAAO36D,EAAUo8D,mBAA0C7/E,IAA1ByjB,EAAUo8D,YACtD,CALL,EAOGsB,KAA+BA,GAA6B,CAAC,IAMhE,SAAWC,GAQPA,EAAel7E,OAHf,SAAgBw4E,GACZ,MAAO,CAAEA,MAAOA,EACnB,CAPL,EASG0C,KAAmBA,GAAiB,CAAC,IAMxC,SAAWC,GAUPA,EAAen7E,OAHf,SAAgB2uD,EAAOmxB,GACnB,MAAO,CAAEnxB,MAAOA,GAAgB,GAAImxB,eAAgBA,EACvD,CATL,EAWG3E,KAAmBA,GAAiB,CAAC,IAExC,SAAWC,GASPA,EAAa2E,cAHb,SAAuBC,GACnB,OAAOA,EAAUllE,QAAQ,wBAAyB,OACrD,EASDsgE,EAAaztE,GAJb,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGM,OAAO36D,IAAeq6D,GAAGC,cAAct6D,IAAcq6D,GAAGM,OAAO36D,EAAUR,WAAa66D,GAAGM,OAAO36D,EAAU/e,MACvH,CAhBL,EAkBG48E,KAAiBA,GAAe,CAAC,IAEpC,SAAWC,GAUPA,EAAM1tE,GANN,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,QAAS+e,GAAaq6D,GAAGC,cAAct6D,KAAes9D,GAAcltE,GAAG4P,EAAU0iE,WAC7E7E,GAAaztE,GAAG4P,EAAU0iE,WAC1BrI,GAAGc,WAAWn7D,EAAU0iE,SAAU7E,GAAaztE,YAAyB7T,IAAhB0E,EAAM85B,OAAuBP,GAAMpqB,GAAGnP,EAAM85B,OAC3G,CATL,EAWG+iD,KAAUA,GAAQ,CAAC,IAMtB,SAAWC,GAUPA,EAAqBt7E,OAHrB,SAAgBw4E,EAAO0H,GACnB,OAAOA,EAAgB,CAAE1H,MAAOA,EAAO0H,cAAeA,GAAkB,CAAE1H,MAAOA,EACpF,CATL,EAWG8C,KAAyBA,GAAuB,CAAC,IAMpD,SAAWC,GAkBPA,EAAqBv7E,OAjBrB,SAAgBw4E,EAAO0H,GAEnB,IADA,IAAIC,EAAa,GACRj1E,EAAK,EAAGA,EAAKrR,UAAUV,OAAQ+R,IACpCi1E,EAAWj1E,EAAK,GAAKrR,UAAUqR,GAEnC,IAAIzJ,EAAS,CAAE+2E,MAAOA,GAUtB,OATIZ,GAAGkB,QAAQoH,KACXz+E,EAAOy+E,cAAgBA,GAEvBtI,GAAGkB,QAAQqH,GACX1+E,EAAO0+E,WAAaA,EAGpB1+E,EAAO0+E,WAAa,GAEjB1+E,CACV,CAjBL,EAmBG85E,KAAyBA,GAAuB,CAAC,IAKpD,SAAWxxB,GAIPA,EAAsBy0B,KAAO,EAI7Bz0B,EAAsBq2B,KAAO,EAI7Br2B,EAAsBs2B,MAAQ,CAZlC,EAaGt2B,KAA0BA,GAAwB,CAAC,IAMtD,SAAWyxB,GAaPA,EAAkBx7E,OAPlB,SAAgBs4B,EAAOsxB,GACnB,IAAInoD,EAAS,CAAE62B,MAAOA,GAItB,OAHIs/C,GAAGxU,OAAOxZ,KACVnoD,EAAOmoD,KAAOA,GAEXnoD,CACV,CAZL,EAcG+5E,KAAsBA,GAAoB,CAAC,IAK9C,SAAWlvB,GACPA,EAAW8yB,KAAO,EAClB9yB,EAAWuyB,OAAS,EACpBvyB,EAAWg0B,UAAY,EACvBh0B,EAAWi0B,QAAU,EACrBj0B,EAAW/kD,MAAQ,EACnB+kD,EAAWmyB,OAAS,EACpBnyB,EAAWwyB,SAAW,EACtBxyB,EAAWoyB,MAAQ,EACnBpyB,EAAWtiD,YAAc,EACzBsiD,EAAW2yB,KAAO,GAClB3yB,EAAWsyB,UAAY,GACvBtyB,EAAWzuD,SAAW,GACtByuD,EAAWqyB,SAAW,GACtBryB,EAAWkzB,SAAW,GACtBlzB,EAAWvkD,OAAS,GACpBukD,EAAWtkD,OAAS,GACpBskD,EAAWnlD,QAAU,GACrBmlD,EAAWvjD,MAAQ,GACnBujD,EAAWhvD,OAAS,GACpBgvD,EAAWk0B,IAAM,GACjBl0B,EAAWm0B,KAAO,GAClBn0B,EAAWizB,WAAa,GACxBjzB,EAAWmzB,OAAS,GACpBnzB,EAAWt7C,MAAQ,GACnBs7C,EAAWozB,SAAW,GACtBpzB,EAAWqzB,cAAgB,EA1B/B,EA2BGrzB,KAAeA,GAAa,CAAC,IAOhC,SAAWC,GAIPA,EAAU4sB,WAAa,CAJ3B,EAKG5sB,KAAcA,GAAY,CAAC,IAE9B,SAAWkvB,GAqBPA,EAAkBz7E,OAXlB,SAAgB3D,EAAMutD,EAAMtxB,EAAOhD,EAAKorD,GACpC,IAAIj/E,EAAS,CACTpF,KAAMA,EACNutD,KAAMA,EACNhvC,SAAU,CAAE0a,IAAKA,EAAKgD,MAAOA,IAKjC,OAHIooD,IACAj/E,EAAOi/E,cAAgBA,GAEpBj/E,CACV,CApBL,EAsBGg6E,KAAsBA,GAAoB,CAAC,IAE9C,SAAWC,GAePA,EAAgB17E,OALhB,SAAgB3D,EAAMutD,EAAMt0B,EAAKgD,GAC7B,YAAiBx+B,IAAVw+B,EACD,CAAEj8B,KAAMA,EAAMutD,KAAMA,EAAMhvC,SAAU,CAAE0a,IAAKA,EAAKgD,MAAOA,IACvD,CAAEj8B,KAAMA,EAAMutD,KAAMA,EAAMhvC,SAAU,CAAE0a,IAAKA,GACpD,CAdL,EAgBGomD,KAAoBA,GAAkB,CAAC,IAE1C,SAAWC,GAwBPA,EAAe37E,OAbf,SAAgB3D,EAAMkmB,EAAQqnC,EAAMtxB,EAAOqoD,EAAgB5wE,GACvD,IAAItO,EAAS,CACTpF,KAAMA,EACNkmB,OAAQA,EACRqnC,KAAMA,EACNtxB,MAAOA,EACPqoD,eAAgBA,GAKpB,YAHiB7mF,IAAbiW,IACAtO,EAAOsO,SAAWA,GAEftO,CACV,EAeDk6E,EAAehuE,GAVf,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAO+e,GACHq6D,GAAGM,OAAO36D,EAAUlhB,OAASu7E,GAAGxU,OAAO7lD,EAAUqsC,OACjD7xB,GAAMpqB,GAAG4P,EAAU+a,QAAUP,GAAMpqB,GAAG4P,EAAUojE,uBAC1B7mF,IAArByjB,EAAUgF,QAAwBq1D,GAAGM,OAAO36D,EAAUgF,gBAC7BzoB,IAAzByjB,EAAUqjE,YAA4BhJ,GAAGgC,QAAQr8D,EAAUqjE,oBACpC9mF,IAAvByjB,EAAUxN,UAA0BhH,MAAMQ,QAAQgU,EAAUxN,kBACzCjW,IAAnByjB,EAAUsjE,MAAsB93E,MAAMQ,QAAQgU,EAAUsjE,MAChE,CArCL,EAuCGlF,KAAmBA,GAAiB,CAAC,IAKxC,SAAWC,GAIPA,EAAekF,MAAQ,GAIvBlF,EAAemF,SAAW,WAI1BnF,EAAeoF,SAAW,WAY1BpF,EAAeqF,gBAAkB,mBAWjCrF,EAAesF,eAAiB,kBAahCtF,EAAeuF,gBAAkB,mBAMjCvF,EAAewF,OAAS,SAIxBxF,EAAeyF,sBAAwB,yBASvCzF,EAAe0F,aAAe,eAnElC,EAoEG1F,KAAmBA,GAAiB,CAAC,IAOxC,SAAWC,GAIPA,EAAsB0F,QAAU,EAOhC1F,EAAsB2F,UAAY,CAXtC,EAYG3F,KAA0BA,GAAwB,CAAC,IAMtD,SAAWC,GAcPA,EAAkB97E,OAVlB,SAAgByhF,EAAaC,EAAMC,GAC/B,IAAIlgF,EAAS,CAAEggF,YAAaA,GAO5B,YANa3nF,IAAT4nF,GAA+B,OAATA,IACtBjgF,EAAOigF,KAAOA,QAEE5nF,IAAhB6nF,GAA6C,OAAhBA,IAC7BlgF,EAAOkgF,YAAcA,GAElBlgF,CACV,EAWDq6E,EAAkBnuE,GANlB,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGkB,QAAQv7D,IAAcq6D,GAAGc,WAAWn7D,EAAUkkE,YAAazK,GAAWrpE,WACrD7T,IAAnByjB,EAAUmkE,MAAsB9J,GAAGc,WAAWn7D,EAAUmkE,KAAM9J,GAAGM,gBACvCp+E,IAA1ByjB,EAAUokE,aAA6BpkE,EAAUokE,cAAgB9F,GAAsB0F,SAAWhkE,EAAUokE,cAAgB9F,GAAsB2F,UAC7J,CAvBL,EAyBG1F,KAAsBA,GAAoB,CAAC,IAE9C,SAAWC,GAmBPA,EAAW/7E,OAlBX,SAAgBwqD,EAAOo3B,EAAqBh4B,GACxC,IAAInoD,EAAS,CAAE+oD,MAAOA,GAClBq3B,GAAY,EAchB,MAbmC,kBAAxBD,GACPC,GAAY,EACZpgF,EAAOmoD,KAAOg4B,GAET13B,GAAQv8C,GAAGi0E,GAChBngF,EAAO+3E,QAAUoI,EAGjBngF,EAAO+oC,KAAOo3C,EAEdC,QAAsB/nF,IAAT8vD,IACbnoD,EAAOmoD,KAAOA,GAEXnoD,CACV,EAYDs6E,EAAWpuE,GAVX,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAO+e,GAAaq6D,GAAGM,OAAO36D,EAAUitC,cACT1wD,IAA1ByjB,EAAUkkE,aAA6B7J,GAAGc,WAAWn7D,EAAUkkE,YAAazK,GAAWrpE,YACpE7T,IAAnByjB,EAAUqsC,MAAsBguB,GAAGM,OAAO36D,EAAUqsC,cACjC9vD,IAAnByjB,EAAUitB,WAA4C1wC,IAAtByjB,EAAUi8D,gBACpB1/E,IAAtByjB,EAAUi8D,SAAyBtvB,GAAQv8C,GAAG4P,EAAUi8D,iBAC9B1/E,IAA1ByjB,EAAUukE,aAA6BlK,GAAGgC,QAAQr8D,EAAUukE,qBACzChoF,IAAnByjB,EAAUitB,MAAsBitC,GAAc9pE,GAAG4P,EAAUitB,MACnE,CA7BL,EA+BGuxC,KAAeA,GAAa,CAAC,IAMhC,SAAWC,GAWPA,EAASh8E,OAPT,SAAgBs4B,EAAOpd,GACnB,IAAIzZ,EAAS,CAAE62B,MAAOA,GAItB,OAHIs/C,GAAGkB,QAAQ59D,KACXzZ,EAAOyZ,KAAOA,GAEXzZ,CACV,EASDu6E,EAASruE,GAJT,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGkB,QAAQv7D,IAAcwa,GAAMpqB,GAAG4P,EAAU+a,SAAWs/C,GAAG99E,UAAUyjB,EAAUi8D,UAAYtvB,GAAQv8C,GAAG4P,EAAUi8D,SACzH,CAlBL,EAoBGwC,KAAaA,GAAW,CAAC,IAM5B,SAAWC,GAOPA,EAAkBj8E,OAHlB,SAAgB+hF,EAASC,GACrB,MAAO,CAAED,QAASA,EAASC,aAAcA,EAC5C,EASD/F,EAAkBtuE,GAJlB,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGkB,QAAQv7D,IAAcq6D,GAAGtB,SAAS/4D,EAAUwkE,UAAYnK,GAAGgC,QAAQr8D,EAAUykE,aAC1F,CAdL,EAgBG/F,KAAsBA,GAAoB,CAAC,IAM9C,SAAWC,GAOPA,EAAal8E,OAHb,SAAgBs4B,EAAO7xB,EAAQyU,GAC3B,MAAO,CAAEod,MAAOA,EAAO7xB,OAAQA,EAAQyU,KAAMA,EAChD,EASDghE,EAAavuE,GAJb,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGkB,QAAQv7D,IAAcwa,GAAMpqB,GAAG4P,EAAU+a,SAAWs/C,GAAG99E,UAAUyjB,EAAU9W,SAAWmxE,GAAGM,OAAO36D,EAAU9W,QACvH,CAdL,EAgBGy1E,KAAiBA,GAAe,CAAC,IAMpC,SAAWC,GASPA,EAAen8E,OAHf,SAAgBs4B,EAAO/oB,GACnB,MAAO,CAAE+oB,MAAOA,EAAO/oB,OAAQA,EAClC,EAMD4sE,EAAexuE,GAJf,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGC,cAAct6D,IAAcwa,GAAMpqB,GAAG4P,EAAU+a,cAAgCx+B,IAArByjB,EAAUhO,QAAwB4sE,EAAexuE,GAAG4P,EAAUhO,QACrI,CAbL,EAeG4sE,KAAmBA,GAAiB,CAAC,IASxC,SAAWC,GACPA,EAAkB,UAAgB,YAKlCA,EAAkB,KAAW,OAC7BA,EAAkB,MAAY,QAC9BA,EAAkB,KAAW,OAC7BA,EAAkB,UAAgB,YAClCA,EAAkB,OAAa,SAC/BA,EAAkB,cAAoB,gBACtCA,EAAkB,UAAgB,YAClCA,EAAkB,SAAe,WACjCA,EAAkB,SAAe,WACjCA,EAAkB,WAAiB,aACnCA,EAAkB,MAAY,QAC9BA,EAAkB,SAAe,WACjCA,EAAkB,OAAa,SAC/BA,EAAkB,MAAY,QAC9BA,EAAkB,QAAc,UAChCA,EAAkB,SAAe,WACjCA,EAAkB,QAAc,UAChCA,EAAkB,OAAa,SAC/BA,EAAkB,OAAa,SAC/BA,EAAkB,OAAa,SAC/BA,EAAkB,SAAe,WAIjCA,EAAkB,UAAgB,WA9BtC,EA+BGA,KAAuBA,GAAqB,CAAC,IAShD,SAAWC,GACPA,EAAsB,YAAkB,cACxCA,EAAsB,WAAiB,aACvCA,EAAsB,SAAe,WACrCA,EAAsB,OAAa,SACnCA,EAAsB,WAAiB,aACvCA,EAAsB,SAAe,WACrCA,EAAsB,MAAY,QAClCA,EAAsB,aAAmB,eACzCA,EAAsB,cAAoB,gBAC1CA,EAAsB,eAAqB,gBAV/C,EAWGA,KAA2BA,GAAyB,CAAC,IAKxD,SAAWC,GAMPA,EAAe3uE,GALf,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGC,cAAct6D,UAAsCzjB,IAAvByjB,EAAU0kE,UAAwD,kBAAvB1kE,EAAU0kE,WACxFl5E,MAAMQ,QAAQgU,EAAUrC,QAAoC,IAA1BqC,EAAUrC,KAAK/hB,QAA6C,kBAAtBokB,EAAUrC,KAAK,GAC9F,CALL,EAOGohE,KAAmBA,GAAiB,CAAC,IAOxC,SAAWC,GAOPA,EAAgBv8E,OAHhB,SAAgBs4B,EAAO6E,GACnB,MAAO,CAAE7E,MAAOA,EAAO6E,KAAMA,EAChC,EAMDo/C,EAAgB5uE,GAJhB,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,YAAqB1E,IAAdyjB,GAAyC,OAAdA,GAAsBwa,GAAMpqB,GAAG4P,EAAU+a,QAAUs/C,GAAGM,OAAO36D,EAAU4f,KAC5G,CAXL,EAaGo/C,KAAoBA,GAAkB,CAAC,IAO1C,SAAWC,GAOPA,EAA0Bx8E,OAH1B,SAAgBs4B,EAAO4pD,EAAcC,GACjC,MAAO,CAAE7pD,MAAOA,EAAO4pD,aAAcA,EAAcC,oBAAqBA,EAC3E,EAOD3F,EAA0B7uE,GAL1B,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,YAAqB1E,IAAdyjB,GAAyC,OAAdA,GAAsBwa,GAAMpqB,GAAG4P,EAAU+a,QAAUs/C,GAAGgC,QAAQr8D,EAAU4kE,uBAClGvK,GAAGM,OAAO36D,EAAU2kE,oBAA4CpoF,IAA3ByjB,EAAU2kE,aAC1D,CAZL,EAcG1F,KAA8BA,GAA4B,CAAC,IAO9D,SAAWC,GAOPA,EAAiCz8E,OAHjC,SAAgBs4B,EAAO8pD,GACnB,MAAO,CAAE9pD,MAAOA,EAAO8pD,WAAYA,EACtC,EAOD3F,EAAiC9uE,GALjC,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,YAAqB1E,IAAdyjB,GAAyC,OAAdA,GAAsBwa,GAAMpqB,GAAG4P,EAAU+a,SACnEs/C,GAAGM,OAAO36D,EAAU6kE,kBAAwCtoF,IAAzByjB,EAAU6kE,WACxD,CAZL,EAcG3F,KAAqCA,GAAmC,CAAC,IAQ5E,SAAWC,GAOPA,EAAmB18E,OAHnB,SAAgBqiF,EAASC,GACrB,MAAO,CAAED,QAASA,EAASC,gBAAiBA,EAC/C,EASD5F,EAAmB/uE,GAJnB,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGkB,QAAQv7D,IAAcwa,GAAMpqB,GAAGnP,EAAM8jF,gBAClD,CAdL,EAgBG5F,KAAuBA,GAAqB,CAAC,IAOhD,SAAWvyB,GAIPA,EAAco4B,KAAO,EAIrBp4B,EAAcq4B,UAAY,EAI1Br4B,EAAcx8C,GAHd,SAAYnP,GACR,OAAiB,IAAVA,GAAyB,IAAVA,CACzB,CAXL,EAaG2rD,KAAkBA,GAAgB,CAAC,IAEtC,SAAWwyB,GAIPA,EAAmB38E,OAHnB,SAAgBxB,GACZ,MAAO,CAAEA,MAAOA,EACnB,EASDm+E,EAAmBhvE,GAPnB,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGC,cAAct6D,UACMzjB,IAAtByjB,EAAUklE,SAAyB7K,GAAGM,OAAO36D,EAAUklE,UAAY5H,GAAcltE,GAAG4P,EAAUklE,iBACvE3oF,IAAvByjB,EAAU3C,UAA0B27D,GAAS5oE,GAAG4P,EAAU3C,kBACpC9gB,IAAtByjB,EAAUi8D,SAAyBtvB,GAAQv8C,GAAG4P,EAAUi8D,SACnE,CAXL,EAaGmD,KAAuBA,GAAqB,CAAC,IAEhD,SAAWC,GAQPA,EAAU58E,OAPV,SAAgBo4B,EAAUogD,EAAO5uB,GAC7B,IAAInoD,EAAS,CAAE22B,SAAUA,EAAUogD,MAAOA,GAI1C,YAHa1+E,IAAT8vD,IACAnoD,EAAOmoD,KAAOA,GAEXnoD,CACV,EAYDm7E,EAAUjvE,GAVV,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGC,cAAct6D,IAAc4Z,GAASxpB,GAAG4P,EAAU6a,YACpDw/C,GAAGM,OAAO36D,EAAUi7D,QAAUZ,GAAGc,WAAWn7D,EAAUi7D,MAAOmE,GAAmBhvE,YAC7D7T,IAAnByjB,EAAUqsC,MAAsBO,GAAcx8C,GAAG4P,EAAUqsC,aACnC9vD,IAAxByjB,EAAUmlE,WAA4B9K,GAAGc,WAAWn7D,EAAUmlE,UAAWzL,GAAStpE,WAC5D7T,IAAtByjB,EAAUklE,SAAyB7K,GAAGM,OAAO36D,EAAUklE,UAAY5H,GAAcltE,GAAG4P,EAAUklE,iBACpE3oF,IAA1ByjB,EAAUolE,aAA6B/K,GAAGgC,QAAQr8D,EAAUolE,qBACjC7oF,IAA3ByjB,EAAUqlE,cAA8BhL,GAAGgC,QAAQr8D,EAAUqlE,cACxE,CAlBL,EAoBGhG,KAAcA,GAAY,CAAC,IAE9B,SAAWC,GAKPA,EAAgBlvE,GAJhB,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,OAAOo5E,GAAGC,cAAct6D,IAAc0W,GAAItmB,GAAG4P,EAAU+X,MAAQsiD,GAAGM,OAAO36D,EAAUlhB,KACtF,CAJL,EAMGwgF,KAAoBA,GAAkB,CAAC,IACnC,IAIIzO,IACX,SAAWA,GA8CP,SAASyB,EAAU30D,EAAM40D,GACrB,GAAI50D,EAAK/hB,QAAU,EAEf,OAAO+hB,EAEX,IAAIpU,EAAKoU,EAAK/hB,OAAS,EAAK,EACxB43B,EAAO7V,EAAK3hB,MAAM,EAAGuN,GACrBkqB,EAAQ9V,EAAK3hB,MAAMuN,GACvB+oE,EAAU9+C,EAAM++C,GAChBD,EAAU7+C,EAAO8+C,GAIjB,IAHA,IAAIC,EAAU,EACVC,EAAW,EACX92E,EAAI,EACD62E,EAAUh/C,EAAK53B,QAAU62E,EAAWh/C,EAAM73B,QAAQ,CACrD,IAAIqD,EAAMszE,EAAQ/+C,EAAKg/C,GAAU/+C,EAAMg/C,IAGnC90D,EAAKhiB,KAFLsD,GAAO,EAEKu0B,EAAKg/C,KAIL/+C,EAAMg/C,IAEzB,CACD,KAAOD,EAAUh/C,EAAK53B,QAClB+hB,EAAKhiB,KAAO63B,EAAKg/C,KAErB,KAAOC,EAAWh/C,EAAM73B,QACpB+hB,EAAKhiB,KAAO83B,EAAMg/C,KAEtB,OAAO90D,CACV,CAlEDkzD,EAAapuE,OAHb,SAAgBs1B,EAAKmzB,EAAYkmB,EAAShF,GACtC,OAAO,IAAI+E,GAAiBp5C,EAAKmzB,EAAYkmB,EAAShF,EACzD,EAUDyE,EAAazgE,GALb,SAAYnP,GACR,IAAI+e,EAAY/e,EAChB,SAAOo5E,GAAGkB,QAAQv7D,IAAcq6D,GAAGM,OAAO36D,EAAU+X,OAASsiD,GAAG99E,UAAUyjB,EAAUkrC,aAAemvB,GAAGM,OAAO36D,EAAUkrC,cAAgBmvB,GAAGtB,SAAS/4D,EAAUyb,YACtJ4+C,GAAGiL,KAAKtlE,EAAUurD,UAAY8O,GAAGiL,KAAKtlE,EAAUkpD,aAAemR,GAAGiL,KAAKtlE,EAAUyrD,UAC3F,EA0BDoF,EAAaoG,WAxBb,SAAoB75D,EAAU8wD,GAU1B,IATA,IAAItuC,EAAOxiB,EAASmuD,UAChB2L,EAAc5E,EAAUpE,GAAO,SAAUjkE,EAAG6M,GAC5C,IAAIq/B,EAAOlsC,EAAE8wB,MAAM98B,MAAMqlC,KAAOxsB,EAAEikB,MAAM98B,MAAMqlC,KAC9C,OAAa,IAAT6S,EACOlsC,EAAE8wB,MAAM98B,MAAM01D,UAAY78C,EAAEikB,MAAM98B,MAAM01D,UAE5Cxd,CACV,IACGghC,EAAqBv3C,EAAKhkC,OACrBD,EAAIu7E,EAAYt7E,OAAS,EAAGD,GAAK,EAAGA,IAAK,CAC9C,IAAI4E,EAAI22E,EAAYv7E,GAChBi2E,EAAcx0D,EAASquD,SAASlrE,EAAEw6B,MAAM98B,OACxC4zE,EAAYz0D,EAASquD,SAASlrE,EAAEw6B,MAAMl9B,KAC1C,KAAIg0E,GAAasF,GAIb,MAAM,IAAIzyE,MAAM,oBAHhBk7B,EAAOA,EAAKhI,UAAU,EAAGg6C,GAAerxE,EAAEuyE,QAAUlzC,EAAKhI,UAAUi6C,EAAWjyC,EAAKhkC,QAKvFu7E,EAAqBvF,CACxB,CACD,OAAOhyC,CACV,CA5CL,EA8EGixC,KAAiBA,GAAe,CAAC,IAIpC,IA2GIwJ,GA3GAlJ,GAAkC,WAClC,SAASA,EAAiBp5C,EAAKmzB,EAAYkmB,EAAShF,GAChD/rE,KAAK++B,KAAOrH,EACZ13B,KAAKsrD,YAAcT,EACnB7qD,KAAKgxE,SAAWD,EAChB/wE,KAAKixE,SAAWlF,EAChB/rE,KAAKkxE,kBAAeh1E,CACvB,CAkGD,OAjGAwD,OAAOC,eAAemxE,EAAiBxwE,UAAW,MAAO,CACrDT,IAAK,WACD,OAAOG,KAAK++B,IACf,EACDn/B,YAAY,EACZ6B,cAAc,IAElB/B,OAAOC,eAAemxE,EAAiBxwE,UAAW,aAAc,CAC5DT,IAAK,WACD,OAAOG,KAAKsrD,WACf,EACD1rD,YAAY,EACZ6B,cAAc,IAElB/B,OAAOC,eAAemxE,EAAiBxwE,UAAW,UAAW,CACzDT,IAAK,WACD,OAAOG,KAAKgxE,QACf,EACDpxE,YAAY,EACZ6B,cAAc,IAElBqvE,EAAiBxwE,UAAU4qE,QAAU,SAAUxwC,GAC3C,GAAIA,EAAO,CACP,IAAI98B,EAAQoC,KAAKorE,SAAS1wC,EAAM98B,OAC5BJ,EAAMwC,KAAKorE,SAAS1wC,EAAMl9B,KAC9B,OAAOwC,KAAKixE,SAAS15C,UAAU35B,EAAOJ,EACzC,CACD,OAAOwC,KAAKixE,QACf,EACDH,EAAiBxwE,UAAU6wE,OAAS,SAAUx8D,EAAOo8D,GACjD/wE,KAAKixE,SAAWt8D,EAAM4qB,KACtBv/B,KAAKgxE,SAAWD,EAChB/wE,KAAKkxE,kBAAeh1E,CACvB,EACD40E,EAAiBxwE,UAAUuxE,eAAiB,WACxC,QAA0B31E,IAAtB8D,KAAKkxE,aAA4B,CAIjC,IAHA,IAAIO,EAAc,GACdlyC,EAAOv/B,KAAKixE,SACZiU,GAAc,EACT5pF,EAAI,EAAGA,EAAIikC,EAAKhkC,OAAQD,IAAK,CAC9B4pF,IACAzT,EAAY7rE,KAAKtK,GACjB4pF,GAAc,GAElB,IAAI5S,EAAK/yC,EAAKl4B,OAAO/L,GACrB4pF,EAAsB,OAAP5S,GAAsB,OAAPA,EACnB,OAAPA,GAAeh3E,EAAI,EAAIikC,EAAKhkC,QAAiC,OAAvBgkC,EAAKl4B,OAAO/L,EAAI,IACtDA,GAEP,CACG4pF,GAAe3lD,EAAKhkC,OAAS,GAC7Bk2E,EAAY7rE,KAAK25B,EAAKhkC,QAE1ByE,KAAKkxE,aAAeO,CACvB,CACD,OAAOzxE,KAAKkxE,YACf,EACDJ,EAAiBxwE,UAAUuoE,WAAa,SAAU3nD,GAC9CA,EAAS5G,KAAKuV,IAAIvV,KAAKkR,IAAItK,EAAQlhB,KAAKixE,SAAS11E,QAAS,GAC1D,IAAIk2E,EAAczxE,KAAK6xE,iBACnB1zC,EAAM,EAAGC,EAAOqzC,EAAYl2E,OAChC,GAAa,IAAT6iC,EACA,OAAO7E,GAASn3B,OAAO,EAAG8e,GAE9B,KAAOid,EAAMC,GAAM,CACf,IAAIC,EAAM/jB,KAAKiP,OAAO4U,EAAMC,GAAQ,GAChCqzC,EAAYpzC,GAAOnd,EACnBkd,EAAOC,EAGPF,EAAME,EAAM,CAEnB,CAGD,IAAI4E,EAAO9E,EAAM,EACjB,OAAO5E,GAASn3B,OAAO6gC,EAAM/hB,EAASuwD,EAAYxuC,GACrD,EACD6tC,EAAiBxwE,UAAU8qE,SAAW,SAAU5wC,GAC5C,IAAIi3C,EAAczxE,KAAK6xE,iBACvB,GAAIr3C,EAASyI,MAAQwuC,EAAYl2E,OAC7B,OAAOyE,KAAKixE,SAAS11E,OAEpB,GAAIi/B,EAASyI,KAAO,EACrB,OAAO,EAEX,IAAI6uC,EAAaL,EAAYj3C,EAASyI,MAClC8uC,EAAkBv3C,EAASyI,KAAO,EAAIwuC,EAAYl2E,OAAUk2E,EAAYj3C,EAASyI,KAAO,GAAKjjC,KAAKixE,SAAS11E,OAC/G,OAAO+e,KAAKuV,IAAIvV,KAAKkR,IAAIsmD,EAAat3C,EAAS84B,UAAWye,GAAiBD,EAC9E,EACDpyE,OAAOC,eAAemxE,EAAiBxwE,UAAW,YAAa,CAC3DT,IAAK,WACD,OAAOG,KAAK6xE,iBAAiBt2E,MAChC,EACDqE,YAAY,EACZ6B,cAAc,IAEXqvE,CACV,CA1GqC,IA4GtC,SAAWkJ,GACP,IAAIxuE,EAAW9L,OAAOY,UAAUkL,SAIhCwuE,EAAGkB,QAHH,SAAiBt6E,GACb,MAAwB,qBAAVA,CACjB,EAKDo5E,EAAG99E,UAHH,SAAmB0E,GACf,MAAwB,qBAAVA,CACjB,EAKDo5E,EAAGgC,QAHH,SAAiBp7E,GACb,OAAiB,IAAVA,IAA4B,IAAVA,CAC5B,EAKDo5E,EAAGM,OAHH,SAAgB15E,GACZ,MAAgC,oBAAzB4K,EAAShL,KAAKI,EACxB,EAKDo5E,EAAGxU,OAHH,SAAgB5kE,GACZ,MAAgC,oBAAzB4K,EAAShL,KAAKI,EACxB,EAKDo5E,EAAGW,YAHH,SAAqB/5E,EAAO4qB,EAAKqE,GAC7B,MAAgC,oBAAzBrkB,EAAShL,KAAKI,IAAgC4qB,GAAO5qB,GAASA,GAASivB,CACjF,EAKDmqD,EAAGvB,QAHH,SAAiB73E,GACb,MAAgC,oBAAzB4K,EAAShL,KAAKI,KAAiC,YAAcA,GAASA,GAAS,UACzF,EAKDo5E,EAAGtB,SAHH,SAAkB93E,GACd,MAAgC,oBAAzB4K,EAAShL,KAAKI,IAAgC,GAAKA,GAASA,GAAS,UAC/E,EAKDo5E,EAAGiL,KAHH,SAAcrkF,GACV,MAAgC,sBAAzB4K,EAAShL,KAAKI,EACxB,EAQDo5E,EAAGC,cANH,SAAuBr5E,GAInB,OAAiB,OAAVA,GAAmC,kBAAVA,CACnC,EAKDo5E,EAAGc,WAHH,SAAoBl6E,EAAOmb,GACvB,OAAO5Q,MAAMQ,QAAQ/K,IAAUA,EAAMg8E,MAAM7gE,EAC9C,CA/CL,EAiDGi+D,KAAOA,GAAK,CAAC,IC/pEhB,IAAMmL,GAAQzkF,OAAO0kF,IAAI,cACnBC,GAAM3kF,OAAO0kF,IAAI,iBACjBE,GAAM5kF,OAAO0kF,IAAI,YACjBG,GAAO7kF,OAAO0kF,IAAI,aAClBI,GAAS9kF,OAAO0kF,IAAI,eACpBK,GAAM/kF,OAAO0kF,IAAI,YACjBM,GAAYhlF,OAAO0kF,IAAI,kBACvBO,GAAU,SAAClyE,GAAD,QAAYA,GAAwB,kBAATA,GAAqBA,EAAKiyE,MAAeP,EAApE,EACVS,GAAa,SAACnyE,GAAD,QAAYA,GAAwB,kBAATA,GAAqBA,EAAKiyE,MAAeL,EAApE,EACbQ,GAAQ,SAACpyE,GAAD,QAAYA,GAAwB,kBAATA,GAAqBA,EAAKiyE,MAAeJ,EAApE,EACRQ,GAAS,SAACryE,GAAD,QAAYA,GAAwB,kBAATA,GAAqBA,EAAKiyE,MAAeH,EAApE,EACTQ,GAAW,SAACtyE,GAAD,QAAYA,GAAwB,kBAATA,GAAqBA,EAAKiyE,MAAeF,EAApE,EACXQ,GAAQ,SAACvyE,GAAD,QAAYA,GAAwB,kBAATA,GAAqBA,EAAKiyE,MAAeD,EAApE,EACd,SAASQ,GAAaxyE,GAClB,GAAIA,GAAwB,kBAATA,EACf,OAAQA,EAAKiyE,KACT,KAAKJ,GACL,KAAKG,GACD,OAAO,EAEnB,OAAO,CACV,CACD,SAASS,GAAOzyE,GACZ,GAAIA,GAAwB,kBAATA,EACf,OAAQA,EAAKiyE,KACT,KAAKP,GACL,KAAKG,GACL,KAAKE,GACL,KAAKC,GACD,OAAO,EAEnB,OAAO,CACV,CACD,IAAMU,GAAY,SAAC1yE,GAAD,OAAWsyE,GAAStyE,IAASwyE,GAAaxyE,OAAYA,EAAKQ,MAA3D,EC/BZmyE,GAAQ1lF,OAAO,eACf2lF,GAAO3lF,OAAO,iBACd4lF,GAAS5lF,OAAO,eA+BtB,SAASg0E,GAAMjhE,EAAMkhE,GACjB,IAAM4R,EAAWC,GAAY7R,GACzBiR,GAAWnyE,GACAgzE,GAAO,KAAMhzE,EAAK4uE,SAAUkE,EAAU7mF,OAAOwQ,OAAO,CAACuD,OACrD6yE,KACP7yE,EAAK4uE,SAAW,MAGpBoE,GAAO,KAAMhzE,EAAM8yE,EAAU7mF,OAAOwQ,OAAO,IAClD,CAUD,SAASu2E,GAAOjnF,EAAKiU,EAAMkhE,EAASh6E,GAChC,IAAM+rF,EAAOC,GAAYnnF,EAAKiU,EAAMkhE,EAASh6E,GAC7C,GAAIurF,GAAOQ,IAASZ,GAAOY,GAEvB,OADAE,GAAYpnF,EAAK7E,EAAM+rF,GAChBD,GAAOjnF,EAAKknF,EAAM/R,EAASh6E,GAEtC,GAAoB,kBAAT+rF,EACP,GAAIT,GAAaxyE,GAAO,CACpB9Y,EAAO+E,OAAOwQ,OAAOvV,EAAKmV,OAAO2D,IACjC,IAAK,IAAInY,EAAI,EAAGA,EAAImY,EAAKs9C,MAAMx1D,SAAUD,EAAG,CACxC,IAAMurF,EAAKJ,GAAOnrF,EAAGmY,EAAKs9C,MAAMz1D,GAAIq5E,EAASh6E,GAC7C,GAAkB,kBAAPksF,EACPvrF,EAAIurF,EAAK,MACR,IAAIA,IAAOT,GACZ,OAAOA,GACFS,IAAOP,KACZ7yE,EAAKs9C,MAAMnxC,OAAOtkB,EAAG,GACrBA,GAAK,EACR,CACJ,CACJ,MACI,GAAIwqF,GAAOryE,GAAO,CACnB9Y,EAAO+E,OAAOwQ,OAAOvV,EAAKmV,OAAO2D,IACjC,IAAMqzE,EAAKL,GAAO,MAAOhzE,EAAKjU,IAAKm1E,EAASh6E,GAC5C,GAAImsF,IAAOV,GACP,OAAOA,GACFU,IAAOR,KACZ7yE,EAAKjU,IAAM,MACf,IAAMunF,EAAKN,GAAO,QAAShzE,EAAK7S,MAAO+zE,EAASh6E,GAChD,GAAIosF,IAAOX,GACP,OAAOA,GACFW,IAAOT,KACZ7yE,EAAK7S,MAAQ,KACpB,CAEL,OAAO8lF,CACV,UAgCcM,GAAW,EAAXA,uEAAf,WAA0BvzE,EAAMkhE,GAAhC,0EACU4R,EAAWC,GAAY7R,IACzBiR,GAAWnyE,GAFnB,gCAGyBwzE,GAAY,KAAMxzE,EAAK4uE,SAAUkE,EAAU7mF,OAAOwQ,OAAO,CAACuD,KAHnF,gBAImB6yE,KACP7yE,EAAK4uE,SAAW,MAL5B,wCAQc4E,GAAY,KAAMxzE,EAAM8yE,EAAU7mF,OAAOwQ,OAAO,KAR9D,4EAmBe+2E,GAAY,EAAZA,EAAAA,EAAAA,uEAAf,WAA2BznF,EAAKiU,EAAMkhE,EAASh6E,GAA/C,+FACuBgsF,GAAYnnF,EAAKiU,EAAMkhE,EAASh6E,GADvD,WAEQurF,GADEQ,EADV,UAEwBZ,GAAOY,GAF/B,uBAGQE,GAAYpnF,EAAK7E,EAAM+rF,GAH/B,kBAIeO,GAAYznF,EAAKknF,EAAM/R,EAASh6E,IAJ/C,UAMwB,kBAAT+rF,EANf,qBAOYT,GAAaxyE,GAPzB,iBAQY9Y,EAAO+E,OAAOwQ,OAAOvV,EAAKmV,OAAO2D,IACxBnY,EAAI,EATzB,aAS4BA,EAAImY,EAAKs9C,MAAMx1D,QAT3C,kCAUiC0rF,GAAY3rF,EAAGmY,EAAKs9C,MAAMz1D,GAAIq5E,EAASh6E,GAVxE,WAWkC,kBADZksF,EAVtB,yBAYoBvrF,EAAIurF,EAAK,EAZ7B,2BAayBA,IAAOT,GAbhC,0CAc2BA,IAd3B,QAeyBS,IAAOP,KACZ7yE,EAAKs9C,MAAMnxC,OAAOtkB,EAAG,GACrBA,GAAK,GAjBzB,UASqDA,EATrD,oDAqBiBwqF,GAAOryE,GArBxB,wBAsBY9Y,EAAO+E,OAAOwQ,OAAOvV,EAAKmV,OAAO2D,IAtB7C,UAuB6BwzE,GAAY,MAAOxzE,EAAKjU,IAAKm1E,EAASh6E,GAvBnE,YAuBkBmsF,EAvBlB,UAwBuBV,GAxBvB,0CAyBuBA,IAzBvB,QA0BqBU,IAAOR,KACZ7yE,EAAKjU,IAAM,MA3B3B,yBA4B6BynF,GAAY,QAASxzE,EAAK7S,MAAO+zE,EAASh6E,GA5BvE,YA4BkBosF,EA5BlB,UA6BuBX,GA7BvB,0CA8BuBA,IA9BvB,QA+BqBW,IAAOT,KACZ7yE,EAAK7S,MAAQ,MAhC7B,iCAmCW8lF,GAnCX,qEAqCA,SAASF,GAAY7R,GACjB,MAAuB,kBAAZA,IACNA,EAAQuS,YAAcvS,EAAQzhE,MAAQyhE,EAAQyM,OACxC1hF,OAAOynF,OAAO,CACjBC,MAAOzS,EAAQzhE,KACfnF,IAAK4mE,EAAQzhE,KACbm0E,OAAQ1S,EAAQzhE,KAChBo0E,IAAK3S,EAAQzhE,MACdyhE,EAAQyM,OAAS,CAChBrzE,IAAK4mE,EAAQyM,MACbiG,OAAQ1S,EAAQyM,MAChBkG,IAAK3S,EAAQyM,OACdzM,EAAQuS,YAAc,CACrBn5E,IAAK4mE,EAAQuS,WACbI,IAAK3S,EAAQuS,YACdvS,GAEAA,CACV,CACD,SAASgS,GAAYnnF,EAAKiU,EAAMkhE,EAASh6E,GAAM,cAC3C,MAAuB,oBAAZg6E,EACAA,EAAQn1E,EAAKiU,EAAM9Y,GAC1BkrF,GAAMpyE,GACN,UAAOkhE,EAAQ5mE,WAAf,aAAO,OAAA4mE,EAAcn1E,EAAKiU,EAAM9Y,GAChCqrF,GAAMvyE,GACN,UAAOkhE,EAAQ2S,WAAf,aAAO,OAAA3S,EAAcn1E,EAAKiU,EAAM9Y,GAChCmrF,GAAOryE,GACP,UAAOkhE,EAAQ4S,YAAf,aAAO,OAAA5S,EAAen1E,EAAKiU,EAAM9Y,GACjCorF,GAAStyE,GACT,UAAOkhE,EAAQ0S,cAAf,aAAO,OAAA1S,EAAiBn1E,EAAKiU,EAAM9Y,GACnCgrF,GAAQlyE,GACR,UAAOkhE,EAAQyS,aAAf,aAAO,OAAAzS,EAAgBn1E,EAAKiU,EAAM9Y,QADtC,CAGH,CACD,SAASisF,GAAYpnF,EAAK7E,EAAM8Y,GAC5B,IAAM9B,EAAShX,EAAKA,EAAKY,OAAS,GAClC,GAAI0qF,GAAat0E,GACbA,EAAOo/C,MAAMvxD,GAAOiU,OAEnB,GAAIqyE,GAAOn0E,GACA,QAARnS,EACAmS,EAAOnS,IAAMiU,EAEb9B,EAAO/Q,MAAQ6S,MAElB,KAAImyE,GAAWj0E,GAGf,CACD,IAAM61E,EAAK7B,GAAQh0E,GAAU,QAAU,SACvC,MAAM,IAAItN,MAAJ,mCAAsCmjF,EAAtC,WACT,CALG71E,EAAO0wE,SAAW5uE,CAKrB,CACJ,CArLDihE,GAAM0R,MAAQA,GAEd1R,GAAM2R,KAAOA,GAEb3R,GAAM4R,OAASA,GAmFfU,GAAWZ,MAAQA,GAEnBY,GAAWX,KAAOA,GAElBW,GAAWV,OAASA,GCzIpB,IAAMmB,GAAc,CAChB,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,OAGHC,GAAAA,WACF,WAAYC,EAAM1E,GAAM,UAKpBjjF,KAAK4nF,SAAW,KAEhB5nF,KAAK6nF,QAAS,EACd7nF,KAAK2nF,KAAOjoF,OAAOynF,OAAO,CAAC,EAAGO,EAAWI,YAAaH,GACtD3nF,KAAKijF,KAAOvjF,OAAOynF,OAAO,CAAC,EAAGO,EAAWK,YAAa9E,EACzD,gCACD,WACI,IAAMx+B,EAAO,IAAIijC,EAAW1nF,KAAK2nF,KAAM3nF,KAAKijF,MAE5C,OADAx+B,EAAKmjC,SAAW5nF,KAAK4nF,SACdnjC,CACV,2BAKD,WACI,IAAMvpD,EAAM,IAAIwsF,EAAW1nF,KAAK2nF,KAAM3nF,KAAKijF,MAC3C,OAAQjjF,KAAK2nF,KAAK5W,SACd,IAAK,MACD/wE,KAAKgoF,gBAAiB,EACtB,MACJ,IAAK,MACDhoF,KAAKgoF,gBAAiB,EACtBhoF,KAAK2nF,KAAO,CACRM,SAAUP,EAAWI,YAAYG,SACjClX,QAAS,OAEb/wE,KAAKijF,KAAOvjF,OAAOynF,OAAO,CAAC,EAAGO,EAAWK,aAGjD,OAAO7sF,CACV,oBAKD,SAAI+nC,EAAM2yC,GACF51E,KAAKgoF,iBACLhoF,KAAK2nF,KAAO,CAAEM,SAAUP,EAAWI,YAAYG,SAAUlX,QAAS,OAClE/wE,KAAKijF,KAAOvjF,OAAOynF,OAAO,CAAC,EAAGO,EAAWK,aACzC/nF,KAAKgoF,gBAAiB,GAE1B,IAAME,EAAQjlD,EAAKq8B,OAAOpoD,MAAM,UAC1BzY,EAAOypF,EAAMtlB,QACnB,OAAQnkE,GACJ,IAAK,OACD,GAAqB,IAAjBypF,EAAM3sF,SACNq6E,EAAQ,EAAG,mDACPsS,EAAM3sF,OAAS,GACf,OAAO,EAEf,QAAyB2sF,EAAzB,GAAOxgF,EAAP,KAAeygF,EAAf,KAEA,OADAnoF,KAAKijF,KAAKv7E,GAAUygF,GACb,EAEX,IAAK,QAED,GADAnoF,KAAK2nF,KAAKM,UAAW,EACA,IAAjBC,EAAM3sF,OAEN,OADAq6E,EAAQ,EAAG,oDACJ,EAEX,IAAO7E,EAAP,EAAkBmX,EAAlB,MACA,GAAgB,QAAZnX,GAAiC,QAAZA,EAErB,OADA/wE,KAAK2nF,KAAK5W,QAAUA,GACb,EAGP,IAAM9U,EAAU,aAAaxwD,KAAKslE,GAElC,OADA6E,EAAQ,EAAD,mCAAgC7E,GAAW9U,IAC3C,EAGf,QAEI,OADA2Z,EAAQ,EAAD,4BAAyBn3E,IAAQ,IACjC,EAElB,wBAOD,SAAQmM,EAAQgrE,GACZ,GAAe,MAAXhrE,EACA,MAAO,IACX,GAAkB,MAAdA,EAAO,GAEP,OADAgrE,EAAQ,oBAAD,OAAqBhrE,IACrB,KAEX,GAAkB,MAAdA,EAAO,GAAY,CACnB,IAAMw9E,EAAWx9E,EAAOjP,MAAM,GAAI,GAClC,MAAiB,MAAbysF,GAAiC,OAAbA,GACpBxS,EAAQ,qCAAD,OAAsChrE,EAAtC,iBACA,OAEuB,MAA9BA,EAAOA,EAAOrP,OAAS,IACvBq6E,EAAQ,mCACLwS,EACV,CACD,QAA2Bx9E,EAAOuS,MAAM,kBAAxC,GAASzV,EAAT,KAAiB2gF,EAAjB,KACKA,GACDzS,EAAQ,OAAD,OAAQhrE,EAAR,uBACX,IAAMu9E,EAASnoF,KAAKijF,KAAKv7E,GACzB,OAAIygF,EACOA,EAAS/uD,mBAAmBivD,GACxB,MAAX3gF,EACOkD,GACXgrE,EAAQ,0BAAD,OAA2BhrE,IAC3B,KACV,0BAKD,SAAU4/B,GACN,cAA+B9qC,OAAO4oF,QAAQtoF,KAAKijF,MAAnD,eAA0D,CAArD,gBAAOv7E,EAAP,KAAeygF,EAAf,KACD,GAAI39C,EAAIjoB,WAAW4lE,GACf,OAAOzgF,EAAuB8iC,EAAIjT,UAAU4wD,EAAO5sF,QA7HlC2hB,QAAQ,cAAc,SAAAo1D,GAAE,OAAImV,GAAYnV,EAAhB,GA8HhD,CACD,MAAkB,MAAX9nC,EAAI,GAAaA,EAAjB,YAA4BA,EAA5B,IACV,yBACD,SAAS+9C,GACL,IAIIC,EAJE5pD,EAAQ5+B,KAAK2nF,KAAKM,SAClB,CAAC,SAAD,OAAUjoF,KAAK2nF,KAAK5W,SAAW,QAC/B,GACA0X,EAAa/oF,OAAO4oF,QAAQtoF,KAAKijF,MAEvC,GAAIsF,GAAOE,EAAWltF,OAAS,GAAK2qF,GAAOqC,EAAIlG,UAAW,CACtD,IAAMY,EAAO,CAAC,EACdvO,GAAM6T,EAAIlG,UAAU,SAACqG,EAAMj1E,GACnByyE,GAAOzyE,IAASA,EAAK+2B,MACrBy4C,EAAKxvE,EAAK+2B,MAAO,EACxB,IACDg+C,EAAW9oF,OAAOoH,KAAKm8E,EAC1B,MAEGuF,EAAW,GACf,IAhBU,iBAgBL,gBAAO9gF,EAAP,KAAeygF,EAAf,KACD,GAAe,OAAXzgF,GAA8B,uBAAXygF,EACnB,iBACCI,IAAOC,EAAS73E,MAAK,SAAAg4E,GAAE,OAAIA,EAAGpmE,WAAW4lE,EAAlB,KACxBvpD,EAAMh5B,KAAN,eAAmB8B,EAAnB,YAA6BygF,GApB3B,EAgBV,MAA+BM,EAA/B,eAA2C,IAM3C,OAAO7pD,EAAMriC,KAAK,KACrB,OAvJCmrF,GCJN,SAASkB,GAAc30E,GACnB,GAAI,sBAAsBxI,KAAKwI,GAAS,CACpC,IAAM40E,EAAKhuF,KAAKC,UAAUmZ,GACpB1E,EAAM,6DAAH,OAAgEs5E,GACzE,MAAM,IAAIxkF,MAAMkL,EACnB,CACD,OAAO,CACV,CACD,SAASu5E,GAAYvqF,GACjB,IAAMwqF,EAAU,IAAIx2E,IAOpB,OANAmiE,GAAMn2E,EAAM,CACR6iF,MADQ,SACFsH,EAAMj1E,GACJA,EAAKQ,QACL80E,EAAQj2E,IAAIW,EAAKQ,OACxB,IAEE80E,CACV,CAED,SAASC,GAAcb,EAAQjyC,GAC3B,IAAK,IAAI56C,EAAI,KAAWA,EAAG,CACvB,IAAMmD,EAAO,GAAH,OAAM0pF,GAAN,OAAe7sF,GACzB,IAAK46C,EAAQjoC,IAAIxP,GACb,OAAOA,CACd,CACJ,CC1BD,SAASwqF,GAAaC,EAAS9oF,EAAKZ,EAAKuH,GACrC,GAAIA,GAAsB,kBAARA,EACd,GAAIoE,MAAMQ,QAAQ5E,GACd,IAAK,IAAIzL,EAAI,EAAG2P,EAAMlE,EAAIxL,OAAQD,EAAI2P,IAAO3P,EAAG,CAC5C,IAAM6tF,EAAKpiF,EAAIzL,GACT8tF,EAAKH,GAAaC,EAASniF,EAAKoD,OAAO7O,GAAI6tF,QACtCjtF,IAAPktF,SACOriF,EAAIzL,GACN8tF,IAAOD,IACZpiF,EAAIzL,GAAK8tF,EAChB,MAEA,GAAIriF,aAAegH,IACpB,cAAgB5C,MAAMxO,KAAKoK,EAAID,QAA/B,eAAwC,CAAnC,IAAM4b,EAAC,KACFymE,EAAKpiF,EAAIlH,IAAI6iB,GACb0mE,EAAKH,GAAaC,EAASniF,EAAK2b,EAAGymE,QAC9BjtF,IAAPktF,EACAriF,EAAIid,OAAOtB,GACN0mE,IAAOD,GACZpiF,EAAImH,IAAIwU,EAAG0mE,EAClB,MAEA,GAAIriF,aAAewL,IACpB,cAAiBpH,MAAMxO,KAAKoK,GAA5B,eAAkC,CAA7B,IAAMoiF,EAAE,KACHC,EAAKH,GAAaC,EAASniF,EAAKoiF,EAAIA,QAC/BjtF,IAAPktF,EACAriF,EAAIid,OAAOmlE,GACNC,IAAOD,IACZpiF,EAAIid,OAAOmlE,GACXpiF,EAAI+L,IAAIs2E,GAEf,MAGD,cAAsB1pF,OAAO4oF,QAAQvhF,GAArC,eAA2C,CAAtC,gBAAO2b,EAAP,KAAUymE,EAAV,KACKC,EAAKH,GAAaC,EAASniF,EAAK2b,EAAGymE,QAC9BjtF,IAAPktF,SACOriF,EAAI2b,GACN0mE,IAAOD,IACZpiF,EAAI2b,GAAK0mE,EAChB,CAGT,OAAOF,EAAQ1oF,KAAKJ,EAAKZ,EAAKuH,EACjC,CCvCD,SAASsiF,GAAKzoF,EAAOnE,EAAK6yE,GAEtB,GAAInkE,MAAMQ,QAAQ/K,GACd,OAAOA,EAAMiP,KAAI,SAACotB,EAAG3hC,GAAJ,OAAU+tF,GAAKpsD,EAAG9yB,OAAO7O,GAAIg0E,EAA7B,IACrB,GAAI1uE,GAAiC,oBAAjBA,EAAMo3E,OAAuB,CAE7C,IAAK1I,IAAQ6W,GAAUvlF,GACnB,OAAOA,EAAMo3E,OAAOv7E,EAAK6yE,GAC7B,IAAMhyD,EAAO,CAAEgsE,WAAY,EAAGlwE,MAAO,EAAGle,SAAKgB,GAC7CozE,EAAIyZ,QAAQ76E,IAAItN,EAAO0c,GACvBgyD,EAAIia,SAAW,SAAAruF,GACXoiB,EAAKpiB,IAAMA,SACJo0E,EAAIia,QACd,EACD,IAAMruF,EAAM0F,EAAMo3E,OAAOv7E,EAAK6yE,GAG9B,OAFIA,EAAIia,UACJja,EAAIia,SAASruF,GACVA,CACV,CACD,MAAqB,kBAAV0F,GAAsB,OAAC0uE,QAAD,IAACA,GAAAA,EAAKka,KAEhC5oF,EADIwJ,OAAOxJ,EAErB,CHmID8mF,GAAWI,YAAc,CAAEG,UAAU,EAAOlX,QAAS,OACrD2W,GAAWK,YAAc,CAAE,KAAM,0BIlK3B0B,GAAAA,WACF,WAAY/mF,GAAM,UACdhD,OAAOC,eAAeK,KAAM0lF,GAAW,CAAE9kF,MAAO8B,GACnD,gCAED,WACI,IAAM+hD,EAAO/kD,OAAO0C,OAAO1C,OAAOsD,eAAehD,MAAON,OAAOmL,0BAA0B7K,OAGzF,OAFIA,KAAK06B,QACL+pB,EAAK/pB,MAAQ16B,KAAK06B,MAAM/+B,SACrB8oD,CACV,qBAED,SAAK8jC,GAA0D,6DAAJ,CAAC,EAAhDmB,EAAmD,EAAnDA,SAAUC,EAAyC,EAAzCA,cAAeC,EAA0B,EAA1BA,SAAUV,EAAgB,EAAhBA,QAC3C,IAAKtD,GAAW2C,GACZ,MAAM,IAAI3tF,UAAU,mCACxB,IAAM00E,EAAM,CACRyZ,QAAS,IAAIh7E,IACbw6E,IAAAA,EACAiB,MAAM,EACNE,UAAuB,IAAbA,EACVG,cAAc,EACdF,cAAwC,kBAAlBA,EAA6BA,EAAgB,KAEjEzuF,EAAMmuF,GAAKrpF,KAAM,GAAIsvE,GAC3B,GAAwB,oBAAbsa,EAAX,WACiCta,EAAIyZ,QAAQ7lF,UAD7C,IACI,2BACI,eADSkW,EACT,EADSA,MACTwwE,EAAA,EADgB1uF,IACFke,EAAO,CAF7B,gCAGA,MAA0B,oBAAZ8vE,EACRD,GAAaC,EAAS,CAAE,GAAIhuF,GAAO,GAAIA,GACvCA,CACT,OA9BCuuF,GCEArC,GAAAA,SAAAA,qBACF,WAAYx8E,GAAQ,wBAChB,cAAMu6E,KACDv6E,OAASA,EACdlL,OAAOC,eAAP,KAA4B,MAAO,CAC/BuO,IAD+B,WAE3B,MAAM,IAAI7J,MAAM,+BACnB,IANW,CAQnB,kCAKD,SAAQkkF,GAAK,WACLuB,OAAQ5tF,EASZ,OARAw4E,GAAM6T,EAAK,CACPr1E,KAAM,SAACw1E,EAAMj1E,GACT,GAAIA,IAAS,EACT,OAAOihE,GAAAA,MACPjhE,EAAKQ,SAAW,EAAKrJ,SACrBk/E,EAAQr2E,EACf,IAEEq2E,CACV,uBACD,SAAOC,EAAMza,GACT,IAAKA,EACD,MAAO,CAAE1kE,OAAQ5K,KAAK4K,QAC1B,IAAQm+E,EAAgCzZ,EAAhCyZ,QAASR,EAAuBjZ,EAAvBiZ,IAAKoB,EAAkBra,EAAlBqa,cAChB/+E,EAAS5K,KAAKnE,QAAQ0sF,GAC5B,IAAK39E,EAAQ,CACT,IAAM2E,EAAM,+DAAH,OAAkEvP,KAAK4K,QAChF,MAAM,IAAImB,eAAewD,EAC5B,CACD,IAAI+N,EAAOyrE,EAAQlpF,IAAI+K,GAOvB,GANK0S,IAED+rE,GAAKz+E,EAAQ,KAAM0kE,GACnBhyD,EAAOyrE,EAAQlpF,IAAI+K,KAGlB0S,QAAqBphB,IAAbohB,EAAKpiB,IAAmB,CAEjC,MAAM,IAAI6Q,eADE,yDAEf,CACD,GAAI49E,GAAiB,IACjBrsE,EAAKlE,OAAS,EACU,IAApBkE,EAAKgsE,aACLhsE,EAAKgsE,WAAaU,GAAczB,EAAK39E,EAAQm+E,IAC7CzrE,EAAKlE,MAAQkE,EAAKgsE,WAAaK,GAAe,CAE9C,MAAM,IAAI59E,eADE,+DAEf,CAEL,OAAOuR,EAAKpiB,GACf,yBACD,SAASo0E,EAAK2a,EAAYC,GACtB,IAAMz4B,EAAM,IAAH,OAAOzxD,KAAK4K,QACrB,GAAI0kE,EAAK,CAEL,GADAsZ,GAAc5oF,KAAK4K,QACf0kE,EAAIn6D,QAAQg1E,mBAAqB7a,EAAIyZ,QAAQ96E,IAAIjO,KAAK4K,QAAS,CAC/D,IAAM2E,EAAM,+DAAH,OAAkEvP,KAAK4K,QAChF,MAAM,IAAIvG,MAAMkL,EACnB,CACD,GAAI+/D,EAAI8a,YACJ,MAAO,GAAP,OAAU34B,EAAV,IACP,CACD,OAAOA,CACV,OArEC21B,CAAcqC,IAuEpB,SAASO,GAAczB,EAAK90E,EAAMs1E,GAC9B,GAAIpD,GAAQlyE,GAAO,CACf,IAAM7I,EAAS6I,EAAK5X,QAAQ0sF,GACtBt0E,EAAS80E,GAAWn+E,GAAUm+E,EAAQlpF,IAAI+K,GAChD,OAAOqJ,EAASA,EAAOmF,MAAQnF,EAAOq1E,WAAa,CACtD,CACI,GAAIrD,GAAaxyE,GAAO,CACzB,IADyB,EACrB2F,EAAQ,EADa,IAEN3F,EAAKs9C,OAFC,IAEzB,2BAA+B,KACrBlnC,EAAImgE,GAAczB,EADG,QACQQ,GAC/Bl/D,EAAIzQ,IACJA,EAAQyQ,EACf,CANwB,+BAOzB,OAAOzQ,CACV,CACI,GAAI0sE,GAAOryE,GAAO,CACnB,IAAM42E,EAAKL,GAAczB,EAAK90E,EAAKjU,IAAKupF,GAClCuB,EAAKN,GAAczB,EAAK90E,EAAK7S,MAAOmoF,GAC1C,OAAOzuE,KAAKuV,IAAIw6D,EAAIC,EACvB,CACD,OAAO,CACV,CC9Fc,SAASC,GAASv/E,GAC/B,OAAO,EAAeA,IAAQ,EAAgBA,IAAQ,EAA2BA,IAAQ,GAC3F,CCFA,IAAMw/E,GAAgB,SAAC5pF,GAAD,OAAYA,GAA2B,oBAAVA,GAAyC,kBAAVA,CAA5D,EAChBymF,GAAAA,SAAAA,qBACF,WAAYzmF,GAAO,wBACf,cAAM4kF,KACD5kF,MAAQA,EAFE,CAGlB,iCACD,SAAOnE,EAAK6yE,GACR,OAAU,OAAHA,QAAG,IAAHA,GAAAA,EAAKka,KAAOxpF,KAAKY,MAAQyoF,GAAKrpF,KAAKY,MAAOnE,EAAK6yE,EACzD,yBACD,WACI,OAAOnlE,OAAOnK,KAAKY,MACtB,OAVCymF,CAAeoC,IAYrBpC,GAAOoD,aAAe,eACtBpD,GAAOqD,cAAgB,gBACvBrD,GAAOsD,MAAQ,QACftD,GAAOuD,aAAe,eACtBvD,GAAOwD,aAAe,eCjBtB,IAAMC,GAAmB,qBAWzB,SAASC,GAAWnqF,EAAOoqF,EAAS1b,GAAK,YAGrC,GAFIsW,GAAWhlF,KACXA,EAAQA,EAAMyhF,UACd6D,GAAOtlF,GACP,OAAOA,EACX,GAAIklF,GAAOllF,GAAQ,SACTiP,EAAG,WAAG,EAAAy/D,EAAI2b,OAAO3F,KAAKyF,kBAAnB,aAAG,SAA6Bzb,EAAI2b,OAAQ,KAAM3b,GAE3D,OADAz/D,EAAIkhD,MAAMnrD,KAAKhF,GACRiP,CACV,EACGjP,aAAiBuJ,QACjBvJ,aAAiBwJ,QACjBxJ,aAAiB2I,SACE,qBAAX2hF,QAA0BtqF,aAAiBsqF,UAGnDtqF,EAAQA,EAAM4I,WAElB,IAAQ2hF,EAAqE7b,EAArE6b,sBAAuBvB,EAA8Cta,EAA9Csa,SAAUwB,EAAoC9b,EAApC8b,SAAUH,EAA0B3b,EAA1B2b,OAAQI,EAAkB/b,EAAlB+b,cAGvDC,OAAMpvF,EACV,GAAIivF,GAAyBvqF,GAA0B,kBAAVA,EAAoB,CAE7D,GADA0qF,EAAMD,EAAcxrF,IAAIe,GAIpB,OAFK0qF,EAAIr3E,SACLq3E,EAAIr3E,OAAS21E,EAAShpF,IACnB,IAAIwmF,GAAMkE,EAAIr3E,QAGrBq3E,EAAM,CAAEr3E,OAAQ,KAAMR,KAAM,MAC5B43E,EAAcn9E,IAAItN,EAAO0qF,EAEhC,CACD,UAAIN,SAAJ,OAAI,EAASzoE,WAAW,QACpByoE,EAAUF,GAAmBE,EAAQrvF,MAAM,IAC/C,IAAI4vF,EA9CR,SAAuB3qF,EAAOoqF,EAAS/H,GACnC,GAAI+H,EAAS,OACH7tE,EAAQ8lE,EAAKx4E,QAAO,SAAA4nB,GAAC,OAAIA,EAAEmY,MAAQwgD,CAAd,IACrBO,EAAM,UAAGpuE,EAAMvM,MAAK,SAAAyhB,GAAC,OAAKA,EAAEl0B,MAAP,WAAf,QAAiCgf,EAAM,GACnD,IAAKouE,EACD,MAAM,IAAIlnF,MAAJ,cAAiB2mF,EAAjB,eACV,OAAOO,CACV,CACD,OAAOtI,EAAKryE,MAAK,SAAAyhB,GAAC,aAAI,UAAAA,EAAEm5D,gBAAF,oBAAAn5D,EAAazxB,MAAWyxB,EAAEl0B,MAA9B,GACrB,CAqCgBstF,CAAc7qF,EAAOoqF,EAASC,EAAOhI,MAClD,IAAKsI,EAAQ,CAKT,GAJI3qF,GAAiC,oBAAjBA,EAAMo3E,SAEtBp3E,EAAQA,EAAMo3E,WAEbp3E,GAA0B,kBAAVA,EAAoB,CACrC,IAAM6S,EAAO,IAAI4zE,GAAOzmF,GAGxB,OAFI0qF,IACAA,EAAI73E,KAAOA,GACRA,CACV,CACD83E,EACI3qF,aAAiBmN,IACXk9E,EAAO3F,IACP5kF,OAAOI,YAAYpB,OAAOkB,GACtBqqF,EAAOxF,IACPwF,EAAO3F,GACxB,CACG8F,IACAA,EAASG,UACFjc,EAAI8b,UAEf,IAAM33E,EAAa,QAAN,EAAA83E,SAAA,SAAQR,WACfQ,EAAOR,WAAWzb,EAAI2b,OAAQrqF,EAAO0uE,GACF,oBAAnC,UAAOic,SAAP,iBAAO,EAAQG,iBAAf,aAAO,EAAmB/uF,MACtB4uF,EAAOG,UAAU/uF,KAAK2yE,EAAI2b,OAAQrqF,EAAO0uE,GACzC,IAAI+X,GAAOzmF,GAOrB,OANIoqF,EACAv3E,EAAK+2B,IAAMwgD,EACLO,EAAOI,UACbl4E,EAAK+2B,IAAM+gD,EAAO/gD,KAClB8gD,IACAA,EAAI73E,KAAOA,GACRA,CACV,CClFD,SAASm4E,GAAmBX,EAAQtwF,EAAMiG,GAEtC,IADA,IAAIq8B,EAAIr8B,EACCtF,EAAIX,EAAKY,OAAS,EAAGD,GAAK,IAAKA,EAAG,CACvC,IAAMonB,EAAI/nB,EAAKW,GACf,GAAiB,kBAANonB,GAAkBtY,OAAOyhF,UAAUnpE,IAAMA,GAAK,EAAG,CACxD,IAAM9Y,EAAI,GACVA,EAAE8Y,GAAKua,EACPA,EAAIrzB,CACP,MAEGqzB,EAAI,IAAIlvB,IAAI,CAAC,CAAC2U,EAAGua,IAExB,CACD,OAAO8tD,GAAW9tD,OAAG/gC,EAAW,CAC5BivF,uBAAuB,EACvBW,eAAe,EACflC,SAAU,WACN,MAAM,IAAIvlF,MAAM,+CACnB,EACD4mF,OAAAA,EACAI,cAAe,IAAIt9E,KAE1B,CAGD,IAAMg+E,GAAc,SAACpxF,GAAD,OAAkB,MAARA,GACT,kBAATA,KAAuBA,EAAK+F,OAAOI,YAAYoE,OAAOJ,IAD9C,EAEdoiF,GAAAA,SAAAA,qBACF,WAAYxkF,EAAMuoF,GAAQ,uBACtB,cAAMvoF,GACNhD,OAAOC,eAAP,KAA4B,SAAU,CAClCiB,MAAOqqF,EACPxpF,cAAc,EACd7B,YAAY,EACZ8B,UAAU,IANQ,CAQzB,gCAMD,SAAMupF,GACF,IAAMxmC,EAAO/kD,OAAO0C,OAAO1C,OAAOsD,eAAehD,MAAON,OAAOmL,0BAA0B7K,OAMzF,OALIirF,IACAxmC,EAAKwmC,OAASA,GAClBxmC,EAAKsM,MAAQtM,EAAKsM,MAAMlhD,KAAI,SAAAlD,GAAE,OAAIu5E,GAAOv5E,IAAOm5E,GAAOn5E,GAAMA,EAAG4gC,MAAM09C,GAAUt+E,CAAlD,IAC1B3M,KAAK06B,QACL+pB,EAAK/pB,MAAQ16B,KAAK06B,MAAM/+B,SACrB8oD,CACV,sBAMD,SAAM9pD,EAAMiG,GACR,GAAImrF,GAAYpxF,GACZqF,KAAK8S,IAAIlS,OACR,CACD,SAAuBjG,GAAhB6E,EAAP,KAAe4d,EAAf,WACM3J,EAAOzT,KAAKH,IAAIL,GAAK,GAC3B,GAAIymF,GAAaxyE,GACbA,EAAKu4E,MAAM5uE,EAAMxc,OAChB,SAAa1E,IAATuX,IAAsBzT,KAAKirF,OAGhC,MAAM,IAAI5mF,MAAJ,sCAAyC7E,EAAzC,6BAAiE4d,IAFvEpd,KAAKkO,IAAI1O,EAAKosF,GAAmB5rF,KAAKirF,OAAQ7tE,EAAMxc,GAEpD,CACP,CACJ,yBAKD,SAASjG,GACL,SAAuBA,GAAhB6E,EAAP,KAAe4d,EAAf,WACA,GAAoB,IAAhBA,EAAK7hB,OACL,OAAOyE,KAAKgkB,OAAOxkB,GACvB,IAAMiU,EAAOzT,KAAKH,IAAIL,GAAK,GAC3B,GAAIymF,GAAaxyE,GACb,OAAOA,EAAKw4E,SAAS7uE,GAErB,MAAM,IAAI/Y,MAAJ,sCAAyC7E,EAAzC,6BAAiE4d,GAC9E,sBAMD,SAAMziB,EAAMuxF,GACR,SAAuBvxF,GAAhB6E,EAAP,KAAe4d,EAAf,WACM3J,EAAOzT,KAAKH,IAAIL,GAAK,GAC3B,OAAoB,IAAhB4d,EAAK7hB,QACG2wF,GAAcnG,GAAStyE,GAAQA,EAAK7S,MAAQ6S,EAE7CwyE,GAAaxyE,GAAQA,EAAK04E,MAAM/uE,EAAM8uE,QAAchwF,CAClE,iCACD,SAAiBkwF,GACb,OAAOpsF,KAAK+wD,MAAM6rB,OAAM,SAAAnpE,GACpB,IAAKqyE,GAAOryE,GACR,OAAO,EACX,IAAMlI,EAAIkI,EAAK7S,MACf,OAAa,MAAL2K,GACH6gF,GACGrG,GAASx6E,IACE,MAAXA,EAAE3K,QACD2K,EAAE8gF,gBACF9gF,EAAE2T,UACF3T,EAAEi/B,GACd,GACJ,sBAID,SAAM7vC,GACF,SAAuBA,GAAhB6E,EAAP,KAAe4d,EAAf,WACA,GAAoB,IAAhBA,EAAK7hB,OACL,OAAOyE,KAAKiO,IAAIzO,GACpB,IAAMiU,EAAOzT,KAAKH,IAAIL,GAAK,GAC3B,QAAOymF,GAAaxyE,IAAQA,EAAK64E,MAAMlvE,EAC1C,sBAKD,SAAMziB,EAAMiG,GACR,SAAuBjG,GAAhB6E,EAAP,KAAe4d,EAAf,WACA,GAAoB,IAAhBA,EAAK7hB,OACLyE,KAAKkO,IAAI1O,EAAKoB,OAEb,CACD,IAAM6S,EAAOzT,KAAKH,IAAIL,GAAK,GAC3B,GAAIymF,GAAaxyE,GACbA,EAAK84E,MAAMnvE,EAAMxc,OAChB,SAAa1E,IAATuX,IAAsBzT,KAAKirF,OAGhC,MAAM,IAAI5mF,MAAJ,sCAAyC7E,EAAzC,6BAAiE4d,IAFvEpd,KAAKkO,IAAI1O,EAAKosF,GAAmB5rF,KAAKirF,OAAQ7tE,EAAMxc,GAEpD,CACP,CACJ,OAhHCsmF,CAAmBuC,IAkHzBvC,GAAWsF,8BAAgC,GC1I3C,IAAMC,GAAmB,SAACxrE,GAAD,OAASA,EAAI/D,QAAQ,kBAAmB,IAAxC,EACzB,SAASwvE,GAAcxtE,EAASsoC,GAC5B,MAAI,QAAQ/7C,KAAKyT,GACNA,EAAQqY,UAAU,GACtBiwB,EAAStoC,EAAQhC,QAAQ,aAAcsqC,GAAUtoC,CAC3D,CACD,IAAMytE,GAAc,SAAC1rE,EAAKumC,EAAQtoC,GAAd,OAA0B+B,EAAI2rE,SAAS,MACrDF,GAAcxtE,EAASsoC,GACvBtoC,EAAQ2tE,SAAS,MACb,KAAOH,GAAcxtE,EAASsoC,IAC7BvmC,EAAI2rE,SAAS,KAAO,GAAK,KAAO1tE,CAJvB,ECbd4tE,GAAY,OACZC,GAAa,QACbC,GAAc,SAMpB,SAASC,GAAc1tD,EAAMioB,GAAyG,IAAjG0lC,EAAiG,uDAA1F,OAA0F,yDAAJ,CAAC,EAA7EC,EAAgF,EAAhFA,cAAgF,IAAjEC,UAAAA,OAAiE,MAArD,GAAqD,MAAjDC,gBAAAA,OAAiD,MAA/B,GAA+B,EAA3BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,WAC/G,IAAKH,GAAaA,EAAY,EAC1B,OAAO7tD,EACX,IAAMiuD,EAAUlzE,KAAKuV,IAAI,EAAIw9D,EAAiB,EAAID,EAAY5lC,EAAOjsD,QACrE,GAAIgkC,EAAKhkC,QAAUiyF,EACf,OAAOjuD,EACX,IAAMkuD,EAAQ,GACRC,EAAe,CAAC,EAClBlwF,EAAM4vF,EAAY5lC,EAAOjsD,OACA,kBAAlB4xF,IACHA,EAAgBC,EAAY9yE,KAAKuV,IAAI,EAAGw9D,GACxCI,EAAM7nF,KAAK,GAEXpI,EAAM4vF,EAAYD,GAE1B,IAWS7a,EAXLp7D,OAAQhb,EACRkL,OAAOlL,EACPyxF,GAAW,EACXryF,GAAK,EACLsyF,GAAY,EACZC,GAAU,EAMd,IALIX,IAASH,KAEE,KADXzxF,EAAIwyF,GAAyBvuD,EAAMjkC,MAE/BkC,EAAMlC,EAAIkyF,GAEJlb,EAAK/yC,EAAMjkC,GAAK,IAAO,CACjC,GAAI4xF,IAASF,IAAsB,OAAP1a,EAAa,CAErC,OADAsb,EAAWtyF,EACHikC,EAAKjkC,EAAI,IACb,IAAK,IACDA,GAAK,EACL,MACJ,IAAK,IACDA,GAAK,EACL,MACJ,IAAK,IACDA,GAAK,EACL,MACJ,QACIA,GAAK,EAEbuyF,EAASvyF,CACZ,CACD,GAAW,OAAPg3E,EACI4a,IAASH,KACTzxF,EAAIwyF,GAAyBvuD,EAAMjkC,IACvCkC,EAAMlC,EAAIkyF,EACVt2E,OAAQhb,MAEP,CACD,GAAW,MAAPo2E,GACAlrE,GACS,MAATA,GACS,OAATA,GACS,OAATA,EAAe,CAEf,IAAMlC,EAAOq6B,EAAKjkC,EAAI,GAClB4J,GAAiB,MAATA,GAAyB,OAATA,GAA0B,OAATA,IACzCgS,EAAQ5b,EACf,CACD,GAAIA,GAAKkC,EACL,GAAI0Z,EACAu2E,EAAM7nF,KAAKsR,GACX1Z,EAAM0Z,EAAQs2E,EACdt2E,OAAQhb,OAEP,GAAIgxF,IAASF,GAAa,CAE3B,KAAgB,MAAT5lF,GAAyB,OAATA,GACnBA,EAAOkrE,EACPA,EAAK/yC,EAAMjkC,GAAK,GAChBqyF,GAAW,EAGf,IAAMjkE,EAAIpuB,EAAIuyF,EAAS,EAAIvyF,EAAI,EAAIsyF,EAAW,EAE9C,GAAIF,EAAahkE,GACb,OAAO6V,EACXkuD,EAAM7nF,KAAK8jB,GACXgkE,EAAahkE,IAAK,EAClBlsB,EAAMksB,EAAI8jE,EACVt2E,OAAQhb,CACX,MAEGyxF,GAAW,CAGtB,CACDvmF,EAAOkrE,CACV,CAGD,GAFIqb,GAAYJ,GACZA,IACiB,IAAjBE,EAAMlyF,OACN,OAAOgkC,EACP+tD,GACAA,IAEJ,IADA,IAAIpyF,EAAMqkC,EAAK5jC,MAAM,EAAG8xF,EAAM,IACrBnyF,EAAI,EAAGA,EAAImyF,EAAMlyF,SAAUD,EAAG,CACnC,IAAM27C,EAAOw2C,EAAMnyF,GACbkC,EAAMiwF,EAAMnyF,EAAI,IAAMikC,EAAKhkC,OACpB,IAAT07C,EACA/7C,EAAM,KAAH,OAAQssD,GAAR,OAAiBjoB,EAAK5jC,MAAM,EAAG6B,KAE9B0vF,IAASF,IAAeU,EAAaz2C,KACrC/7C,GAAO,GAAJ,OAAOqkC,EAAK0X,GAAZ,OACP/7C,GAAO,KAAJ,OAASssD,GAAT,OAAkBjoB,EAAK5jC,MAAMs7C,EAAO,EAAGz5C,IAEjD,CACD,OAAOtC,CACV,CAKD,SAAS4yF,GAAyBvuD,EAAMjkC,GAEpC,IADA,IAAIg3E,EAAK/yC,EAAKjkC,EAAI,GACJ,MAAPg3E,GAAqB,OAAPA,GAAa,CAC9B,GACIA,EAAK/yC,EAAMjkC,GAAK,SACXg3E,GAAa,OAAPA,GACfA,EAAK/yC,EAAKjkC,EAAI,EACjB,CACD,OAAOA,CACV,CCjID,IAmJIyyF,GAnJEC,GAAiB,SAAC1e,EAAK2e,GAAN,MAAmB,CACtCd,cAAec,EAAU3e,EAAI9nB,OAAOjsD,OAAS+zE,EAAI6d,cACjDC,UAAW9d,EAAIn6D,QAAQi4E,UACvBC,gBAAiB/d,EAAIn6D,QAAQk4E,gBAHV,EAOjBa,GAAyB,SAACjtE,GAAD,MAAS,mBAAmBxV,KAAKwV,EAAjC,EAmB/B,SAASktE,GAAmBvtF,EAAO0uE,GAC/B,IAAM32B,EAAO99C,KAAKC,UAAU8F,GAC5B,GAAI0uE,EAAIn6D,QAAQi5E,mBACZ,OAAOz1C,EAMX,IALA,IAAQyxC,EAAgB9a,EAAhB8a,YACFiE,EAAqB/e,EAAIn6D,QAAQm5E,+BACjC9mC,EAAS8nB,EAAI9nB,SAAW0mC,GAAuBttF,GAAS,KAAO,IACjEqgB,EAAM,GACNrjB,EAAQ,EACHtC,EAAI,EAAGg3E,EAAK35B,EAAKr9C,GAAIg3E,EAAIA,EAAK35B,IAAOr9C,GAQ1C,GAPW,MAAPg3E,GAA8B,OAAhB35B,EAAKr9C,EAAI,IAA+B,MAAhBq9C,EAAKr9C,EAAI,KAE/C2lB,GAAO03B,EAAKh9C,MAAMiC,EAAOtC,GAAK,MAE9BsC,EADAtC,GAAK,EAELg3E,EAAK,MAEE,OAAPA,EACA,OAAQ35B,EAAKr9C,EAAI,IACb,IAAK,IAEG2lB,GAAO03B,EAAKh9C,MAAMiC,EAAOtC,GACzB,IAAML,EAAO09C,EAAK/f,OAAOt9B,EAAI,EAAG,GAChC,OAAQL,GACJ,IAAK,OACDgmB,GAAO,MACP,MACJ,IAAK,OACDA,GAAO,MACP,MACJ,IAAK,OACDA,GAAO,MACP,MACJ,IAAK,OACDA,GAAO,MACP,MACJ,IAAK,OACDA,GAAO,MACP,MACJ,IAAK,OACDA,GAAO,MACP,MACJ,IAAK,OACDA,GAAO,MACP,MACJ,IAAK,OACDA,GAAO,MACP,MACJ,QAC8B,OAAtBhmB,EAAK29B,OAAO,EAAG,GACf3X,GAAO,MAAQhmB,EAAK29B,OAAO,GAE3B3X,GAAO03B,EAAK/f,OAAOt9B,EAAG,GAGlCsC,GADAtC,GAAK,GACO,EAEhB,MACJ,IAAK,IACD,GAAI8uF,GACgB,MAAhBzxC,EAAKr9C,EAAI,IACTq9C,EAAKp9C,OAAS8yF,EACd/yF,GAAK,MAEJ,CAGD,IADA2lB,GAAO03B,EAAKh9C,MAAMiC,EAAOtC,GAAK,OACP,OAAhBq9C,EAAKr9C,EAAI,IACI,MAAhBq9C,EAAKr9C,EAAI,IACO,MAAhBq9C,EAAKr9C,EAAI,IACT2lB,GAAO,KACP3lB,GAAK,EAET2lB,GAAOumC,EAEa,MAAhB7O,EAAKr9C,EAAI,KACT2lB,GAAO,MAEXrjB,GADAtC,GAAK,GACO,CACf,CACD,MACJ,QACIA,GAAK,EAIrB,OADA2lB,EAAMrjB,EAAQqjB,EAAM03B,EAAKh9C,MAAMiC,GAAS+6C,EACjCyxC,EACDnpE,EACAgsE,GAAchsE,EAAKumC,EAAQwlC,GAAagB,GAAe1e,GAAK,GACrE,CACD,SAASif,GAAmB3tF,EAAO0uE,GAC/B,IAAgC,IAA5BA,EAAIn6D,QAAQq5E,aACXlf,EAAI8a,aAAexpF,EAAMisF,SAAS,OACnC,kBAAkBphF,KAAK7K,GAEvB,OAAOutF,GAAmBvtF,EAAO0uE,GACrC,IAAM9nB,EAAS8nB,EAAI9nB,SAAW0mC,GAAuBttF,GAAS,KAAO,IAC/D1F,EAAM,IAAM0F,EAAMsc,QAAQ,KAAM,MAAMA,QAAQ,OAAlC,cAAiDsqC,IAAY,IAC/E,OAAO8nB,EAAI8a,YACLlvF,EACA+xF,GAAc/xF,EAAKssD,EAAQslC,GAAWkB,GAAe1e,GAAK,GACnE,CACD,SAASmf,GAAa7tF,EAAO0uE,GACzB,IACIof,EADIF,EAAgBlf,EAAIn6D,QAApBq5E,YAER,IAAoB,IAAhBA,EACAE,EAAKP,OACJ,CACD,IAAMQ,EAAY/tF,EAAMisF,SAAS,KAC3B+B,EAAYhuF,EAAMisF,SAAS,KAE7B6B,EADAC,IAAcC,EACTL,GACAK,IAAcD,EACdR,GAEAK,EAAcD,GAAqBJ,EAC/C,CACD,OAAOO,EAAG9tF,EAAO0uE,EACpB,CAID,IACIye,GAAmB,IAAI1tD,OAAO,yBAA0B,IAC3D,CACD,UACI0tD,GAAmB,cACtB,CACD,SAASc,GAAT,EAA+Cvf,EAAKqG,EAAWmZ,GAAa,IAArD5vE,EAAqD,EAArDA,QAASxc,EAA4C,EAA5CA,KAAM9B,EAAsC,EAAtCA,MAClC,EAAiD0uE,EAAIn6D,QAA7C45E,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,cAAe5B,EAAnC,EAAmCA,UAGnC,IAAK2B,GAAc,YAAYtjF,KAAK7K,IAAU,QAAQ6K,KAAK7K,GACvD,OAAO6tF,GAAa7tF,EAAO0uE,GAE/B,IAYI2f,EACAC,EAbE1nC,EAAS8nB,EAAI9nB,SACd8nB,EAAI6f,kBAAoBjB,GAAuBttF,GAAS,KAAO,IAC9DwuF,EAAyB,YAAfL,GAEK,WAAfA,GAA2BrsF,IAAS2kF,GAAOoD,eAEvC/nF,IAAS2kF,GAAOqD,gBA/J9B,SAA6BzpE,EAAKmsE,EAAWiC,GACzC,IAAKjC,GAAaA,EAAY,EAC1B,OAAO,EACX,IAAMkC,EAAQlC,EAAYiC,EACpBvmE,EAAS7H,EAAI1lB,OACnB,GAAIutB,GAAUwmE,EACV,OAAO,EACX,IAAK,IAAIh0F,EAAI,EAAGsC,EAAQ,EAAGtC,EAAIwtB,IAAUxtB,EACrC,GAAe,OAAX2lB,EAAI3lB,GAAa,CACjB,GAAIA,EAAIsC,EAAQ0xF,EACZ,OAAO,EAEX,GAAIxmE,GADJlrB,EAAQtC,EAAI,IACUg0F,EAClB,OAAO,CACd,CAEL,OAAO,CACV,CAgJkBC,CAAoB3uF,EAAOwsF,EAAW5lC,EAAOjsD,SAC5D,IAAKqF,EACD,OAAOwuF,EAAU,MAAQ,MAI7B,IAAKF,EAAWtuF,EAAMrF,OAAQ2zF,EAAW,IAAKA,EAAU,CACpD,IAAM5c,EAAK1xE,EAAMsuF,EAAW,GAC5B,GAAW,OAAP5c,GAAsB,OAAPA,GAAsB,MAAPA,EAC9B,KACP,CACD,IAAI90E,EAAMoD,EAAM22B,UAAU23D,GACpBM,EAAWhyF,EAAIwQ,QAAQ,OACX,IAAdwhF,EACAP,EAAQ,IAEHruF,IAAUpD,GAAOgyF,IAAahyF,EAAIjC,OAAS,GAChD0zF,EAAQ,IACJH,GACAA,KAGJG,EAAQ,GAERzxF,IACAoD,EAAQA,EAAMjF,MAAM,GAAI6B,EAAIjC,QACA,OAAxBiC,EAAIA,EAAIjC,OAAS,KACjBiC,EAAMA,EAAI7B,MAAM,GAAI,IACxB6B,EAAMA,EAAI0f,QAAQ6wE,GAAZ,YAAmCvmC,KAG7C,IACIioC,EADAC,GAAiB,EAEjBC,GAAc,EAClB,IAAKF,EAAW,EAAGA,EAAW7uF,EAAMrF,SAAUk0F,EAAU,CACpD,IAAMnd,EAAK1xE,EAAM6uF,GACjB,GAAW,MAAPnd,EACAod,GAAiB,MAChB,IAAW,OAAPpd,EAGL,MAFAqd,EAAaF,CAER,CACZ,CACD,IAAI7xF,EAAQgD,EAAM22B,UAAU,EAAGo4D,EAAaF,EAAWE,EAAa,EAAIF,GACpE7xF,IACAgD,EAAQA,EAAM22B,UAAU35B,EAAMrC,QAC9BqC,EAAQA,EAAMsf,QAAQ,OAAd,YAA2BsqC,KAEvC,IACIooC,GAAUR,EAAU,IAAM,MAAQM,EADnBloC,EAAS,IAAM,IACkC,IAAMynC,EAM1E,GALI/vE,IACA0wE,GAAU,IAAMZ,EAAc9vE,EAAQhC,QAAQ,aAAc,MACxDy4D,GACAA,KAEJyZ,EAEA,OADAxuF,EAAQA,EAAMsc,QAAQ,OAAd,YAA2BsqC,IACnC,UAAUooC,EAAV,aAAqBpoC,GAArB,OAA8B5pD,GAA9B,OAAsCgD,GAAtC,OAA8CpD,GAElDoD,EAAQA,EACHsc,QAAQ,OAAQ,QAChBA,QAAQ,iDAAkD,QAE1DA,QAAQ,OAJL,YAIkBsqC,IAC1B,IAAMqoC,EAAO5C,GAAc,GAAD,OAAIrvF,GAAJ,OAAYgD,GAAZ,OAAoBpD,GAAOgqD,EAAQulC,GAAYiB,GAAe1e,GAAK,IAC7F,gBAAUsgB,EAAV,aAAqBpoC,GAArB,OAA8BqoC,EACjC,CAkDD,SAASC,GAAgBlzD,EAAM0yC,EAAKqG,EAAWmZ,GAC3C,IAAQ1E,EAAwB9a,EAAxB8a,YAAa2F,EAAWzgB,EAAXygB,OACfC,EAA2B,kBAAfpzD,EAAKh8B,MACjBg8B,EACAl9B,OAAOynF,OAAO,CAAC,EAAGvqD,EAAM,CAAEh8B,MAAOuJ,OAAOyyB,EAAKh8B,SAC7C8B,EAASk6B,EAATl6B,KACFA,IAAS2kF,GAAOuD,cAEZ,2GAAkDn/E,KAAKukF,EAAGpvF,SAC1D8B,EAAO2kF,GAAOuD,cAEtB,IAAMqF,EAAa,SAACC,GAChB,OAAQA,GACJ,KAAK7I,GAAOoD,aACZ,KAAKpD,GAAOqD,cACR,OAAON,GAAe2F,EAChBtB,GAAauB,EAAGpvF,MAAO0uE,GACvBuf,GAAYmB,EAAI1gB,EAAKqG,EAAWmZ,GAC1C,KAAKzH,GAAOuD,aACR,OAAOuD,GAAmB6B,EAAGpvF,MAAO0uE,GACxC,KAAK+X,GAAOwD,aACR,OAAO0D,GAAmByB,EAAGpvF,MAAO0uE,GACxC,KAAK+X,GAAOsD,MACR,OAxEhB,SAAqB/tD,EAAM0yC,EAAKqG,EAAWmZ,GACvC,IAAQpsF,EAAgBk6B,EAAhBl6B,KAAM9B,EAAUg8B,EAAVh8B,MACNuvF,EAA0D7gB,EAA1D6gB,aAAc/F,EAA4C9a,EAA5C8a,YAAa5iC,EAA+B8nB,EAA/B9nB,OAAQ4oC,EAAuB9gB,EAAvB8gB,WAAYL,EAAWzgB,EAAXygB,OACvD,GAAK3F,GAAe,aAAa3+E,KAAK7K,IACjCmvF,GAAU,WAAWtkF,KAAK7K,GAC3B,OAAO6tF,GAAa7tF,EAAO0uE,GAE/B,IAAK1uE,GACD,oFAAoF6K,KAAK7K,GAOzF,OAAOwpF,GAAe2F,IAAWnvF,EAAMisF,SAAS,MAC1C4B,GAAa7tF,EAAO0uE,GACpBuf,GAAYjyD,EAAM0yC,EAAKqG,EAAWmZ,GAE5C,IAAK1E,IACA2F,GACDrtF,IAAS2kF,GAAOsD,OAChB/pF,EAAMisF,SAAS,MAEf,OAAOgC,GAAYjyD,EAAM0yC,EAAKqG,EAAWmZ,GAE7C,GAAIZ,GAAuBttF,GAAQ,CAC/B,GAAe,KAAX4mD,EAEA,OADA8nB,EAAI6f,kBAAmB,EAChBN,GAAYjyD,EAAM0yC,EAAKqG,EAAWmZ,GAExC,GAAI1E,GAAe5iC,IAAW4oC,EAC/B,OAAO3B,GAAa7tF,EAAO0uE,EAElC,CACD,IAAMruD,EAAMrgB,EAAMsc,QAAQ,OAAd,cAA6BsqC,IAIzC,GAAI2oC,EAAc,CACd,IAAM1kF,EAAO,SAAC++B,GAAD,aAASA,EAAImhD,SAAuB,0BAAZnhD,EAAIA,MAAnB,UAAsDA,EAAI/+B,YAA1D,aAAsD,EAAUA,KAAKwV,GAA9E,EACb,EAAyBquD,EAAIiZ,IAAI0C,OAAzBoF,EAAR,EAAQA,OACR,GADA,EAAgBpN,KACPtyE,KAAKlF,IAAV,OAAmB4kF,QAAnB,IAAmBA,GAAAA,EAAQ1/E,KAAKlF,GAChC,OAAOgjF,GAAa7tF,EAAO0uE,EAClC,CACD,OAAO8a,EACDnpE,EACAgsE,GAAchsE,EAAKumC,EAAQslC,GAAWkB,GAAe1e,GAAK,GACnE,CAwBsBghB,CAAYN,EAAI1gB,EAAKqG,EAAWmZ,GAC3C,QACI,OAAO,KAElB,EACG5zF,EAAM+0F,EAAWvtF,GACrB,GAAY,OAARxH,EAAc,CACd,MAA8Co0E,EAAIn6D,QAA1Co7E,EAAR,EAAQA,eAAgBC,EAAxB,EAAwBA,kBAClBn+D,EAAK+3D,GAAemG,GAAmBC,EAE7C,GAAY,QADZt1F,EAAM+0F,EAAW59D,IAEb,MAAM,IAAIhuB,MAAJ,0CAA6CguB,GAC1D,CACD,OAAOn3B,CACV,CChUD,SAASu1F,GAAuBlI,EAAKpzE,GACjC,IAmBI46E,EAnBEW,EAAMhxF,OAAOynF,OAAO,CACtB4H,YAAY,EACZC,cAAevC,GACf8D,eAAgB,KAChBC,kBAAmB,QACnBG,WAAY,KACZvC,oBAAoB,EACpBE,+BAAgC,GAChCsC,SAAU,QACVC,uBAAuB,EACvBC,WAAW,EACX1D,UAAW,GACXC,gBAAiB,GACjB0D,QAAS,OACTC,YAAY,EACZxC,YAAa,KACbyC,QAAS,OACT9G,kBAAkB,GACnB5B,EAAI0C,OAAOiG,gBAAiB/7E,GAE/B,OAAQu7E,EAAIS,iBACR,IAAK,QACDpB,GAAS,EACT,MACJ,IAAK,OACDA,GAAS,EACT,MACJ,QACIA,EAAS,KAEjB,MAAO,CACHhH,QAAS,IAAIx2E,IACbg2E,IAAAA,EACAsI,sBAAuBH,EAAIG,sBAAwB,IAAM,GACzDrpC,OAAQ,GACR4oC,WAAkC,kBAAfM,EAAIlpC,OAAsB,IAAI4pC,OAAOV,EAAIlpC,QAAU,KACtEuoC,OAAAA,EACA56E,QAASu7E,EAEhB,CAwCD,SAAS51F,GAAU8hC,EAAM0yC,EAAKqG,EAAWmZ,GAAa,MAClD,GAAIhJ,GAAOlpD,GACP,OAAOA,EAAKpxB,SAAS8jE,EAAKqG,EAAWmZ,GACzC,GAAInJ,GAAQ/oD,GAAO,OACf,GAAI0yC,EAAIiZ,IAAIoI,WACR,OAAO/zD,EAAKpxB,SAAS8jE,GACzB,aAAIA,EAAI+hB,uBAAR,OAAI,EAAqBpjF,IAAI2uB,GACzB,MAAM,IAAIhiC,UAAJ,2DAGF00E,EAAI+hB,gBACJ/hB,EAAI+hB,gBAAgBv+E,IAAI8pB,GAExB0yC,EAAI+hB,gBAAkB,IAAI9+E,IAAI,CAACqqB,IACnCA,EAAOA,EAAK/gC,QAAQyzE,EAAIiZ,IAE/B,CACD,IAAIgD,OAASrvF,EACPuX,EAAOyyE,GAAOtpD,GACdA,EACA0yC,EAAIiZ,IAAIwC,WAAWnuD,EAAM,CAAEwuD,SAAU,SAAA3rF,GAAC,OAAK8rF,EAAS9rF,CAAd,IACvC8rF,IACDA,EA7DR,SAAsBtI,EAAMrmD,GACxB,GAAIA,EAAK4N,IAAK,OACJrtB,EAAQ8lE,EAAKx4E,QAAO,SAAA4nB,GAAC,OAAIA,EAAEmY,MAAQ5N,EAAK4N,GAAnB,IAC3B,GAAIrtB,EAAM5hB,OAAS,EACf,iBAAO4hB,EAAMvM,MAAK,SAAAyhB,GAAC,OAAIA,EAAEl0B,SAAWy+B,EAAKz+B,MAAtB,WAAnB,QAAoDgf,EAAM,EACjE,CACD,IACI/c,EADAmrF,OAASrvF,EAEb,GAAI6pF,GAASnpD,GAAO,OAChBx8B,EAAMw8B,EAAKh8B,MACX,IAAMuc,EAAQ8lE,EAAKx4E,QAAO,SAAA4nB,GAAC,uBAAIA,EAAEm5D,gBAAN,aAAI,OAAAn5D,EAAajyB,EAAjB,IAC3BmrF,EAAM,UACFpuE,EAAMvM,MAAK,SAAAyhB,GAAC,OAAIA,EAAEl0B,SAAWy+B,EAAKz+B,MAAtB,WADV,QAC2Cgf,EAAMvM,MAAK,SAAAyhB,GAAC,OAAKA,EAAEl0B,MAAP,GAChE,MAEGiC,EAAMw8B,EACN2uD,EAAStI,EAAKryE,MAAK,SAAAyhB,GAAC,OAAIA,EAAEq5D,WAAatrF,aAAeiyB,EAAEq5D,SAApC,IAExB,IAAKH,EAAQ,WACH9sF,EAAI,oBAAG2B,SAAH,iBAAG,EAAKW,mBAAR,aAAG,EAAkBtC,YAArB,eAAoC2B,EAC9C,MAAM,IAAIiE,MAAJ,+BAAkC5F,EAAlC,UACT,CACD,OAAO8sF,CACV,CAsCgB+F,CAAahiB,EAAIiZ,IAAI0C,OAAOhI,KAAMxvE,IAC/C,IAAMnH,EArCV,SAAwBmH,EAAM83E,EAA9B,GAAwD,IAAhBxC,EAAgB,EAAhBA,QAASR,EAAO,EAAPA,IAC7C,IAAKA,EAAIoI,WACL,MAAO,GACX,IAAMrkF,EAAQ,GACR2H,GAAU8xE,GAAStyE,IAASwyE,GAAaxyE,KAAUA,EAAKQ,OAC1DA,GAAU20E,GAAc30E,KACxB80E,EAAQj2E,IAAImB,GACZ3H,EAAM1G,KAAN,WAAeqO,KAEnB,IAAMu2B,EAAM/2B,EAAK+2B,IAAM/2B,EAAK+2B,IAAM+gD,EAAOI,QAAU,KAAOJ,EAAO/gD,IAGjE,OAFIA,GACAl+B,EAAM1G,KAAK2iF,EAAIoI,WAAWY,UAAU/mD,IACjCl+B,EAAM/P,KAAK,IACrB,CAwBiBi1F,CAAe/9E,EAAM83E,EAAQjc,GACvChjE,EAAM/Q,OAAS,IACf+zE,EAAI6d,eAAgB,UAAC7d,EAAI6d,qBAAL,QAAsB,GAAK7gF,EAAM/Q,OAAS,GAClE,IAAM0lB,EAAkC,oBAArBsqE,EAAOzwF,UACpBywF,EAAOzwF,UAAU2Y,EAAM67D,EAAKqG,EAAWmZ,GACvC/I,GAAStyE,GACLq8E,GAAgBr8E,EAAM67D,EAAKqG,EAAWmZ,GACtCr7E,EAAKjI,SAAS8jE,EAAKqG,EAAWmZ,GACxC,OAAKxiF,EAEEy5E,GAAStyE,IAAoB,MAAXwN,EAAI,IAAyB,MAAXA,EAAI,GAAxC,UACE3U,EADF,YACW2U,GADX,UAEE3U,EAFF,aAEYgjE,EAAI9nB,QAFhB,OAEyBvmC,GAHrBA,CAId,CCrHD,SAASpO,GAAK4+E,EAAU9lD,GACH,UAAb8lD,GAAqC,SAAbA,IACD,qBAAZt1F,SAA2BA,QAAQu1F,YAC1Cv1F,QAAQu1F,YAAY/lD,GAEpB/4B,QAAQC,KAAK84B,GAExB,CCJD,SAASgmD,GAAeriB,EAAKz/D,EAA7B,GAAkD,IAAdrQ,EAAc,EAAdA,IAAKoB,EAAS,EAATA,MACrC,GAAO,OAAH0uE,QAAG,IAAHA,GAAAA,EAAKiZ,IAAI0C,OAAOj2E,OAAS48E,GAAWpyF,GAEpC,GADAoB,EAAQ+kF,GAAQ/kF,GAASA,EAAM/E,QAAQyzE,EAAIiZ,KAAO3nF,EAC9ColF,GAAMplF,GAAV,WACqBA,EAAMmwD,OAD3B,IACI,2BACI,CAAA8gC,GAAaviB,EAAKz/D,EAAlB,QAA2B,CAFnC,qCAGK,GAAI1E,MAAMQ,QAAQ/K,GAAlB,WACgBA,GADhB,IACD,2BACI,CAAAixF,GAAaviB,EAAKz/D,EAAlB,QAA2B,CAF9B,qCAIDgiF,GAAaviB,EAAKz/D,EAAKjP,OAE1B,CACD,IAAMkxF,EAAQzI,GAAK7pF,EAAK,GAAI8vE,GAC5B,GAAIz/D,aAAe9B,IACf8B,EAAI3B,IAAI4jF,EAAOzI,GAAKzoF,EAAOkxF,EAAOxiB,SAEjC,GAAIz/D,aAAe0C,IACpB1C,EAAIiD,IAAIg/E,OAEP,CACD,IAAMC,EAkDlB,SAAsBvyF,EAAKsyF,EAAOxiB,GAC9B,GAAc,OAAVwiB,EACA,MAAO,GACX,GAAqB,kBAAVA,EACP,OAAO3nF,OAAO2nF,GAClB,GAAI5L,GAAO1mF,IAAQ8vE,GAAOA,EAAIiZ,IAAK,CAC/B,IAAMyJ,EAASvB,GAAuBnhB,EAAIiZ,IAAK,CAAC,GAChDyJ,EAAOjJ,QAAU,IAAIx2E,IAFU,UAGZ+8D,EAAIyZ,QAAQjiF,QAHA,IAG/B,2BACI,KADO2M,EACP,QAAAu+E,EAAOjJ,QAAQj2E,IAAIW,EAAKQ,OAAQ,CAJL,+BAK/B+9E,EAAOjC,QAAS,EAChBiC,EAAOC,gBAAiB,EACxB,IAAMC,EAAS1yF,EAAIgM,SAASwmF,GAC5B,IAAK1iB,EAAIua,aAAc,CACnB,IAAIsI,EAAUt3F,KAAKC,UAAUo3F,GACzBC,EAAQ52F,OAAS,KACjB42F,EAAUA,EAAQ56D,UAAU,EAAG,IAAM,QACzC1kB,GAAKy8D,EAAIiZ,IAAIpzE,QAAQs8E,SAAjB,yFAA6GU,EAA7G,6CACJ7iB,EAAIua,cAAe,CACtB,CACD,OAAOqI,CACV,CACD,OAAOr3F,KAAKC,UAAUg3F,EACzB,CAzE6BM,CAAa5yF,EAAKsyF,EAAOxiB,GACrC+iB,EAAUhJ,GAAKzoF,EAAOmxF,EAAWziB,GACnCyiB,KAAaliF,EACbnQ,OAAOC,eAAekQ,EAAKkiF,EAAW,CAClCnxF,MAAOyxF,EACP3wF,UAAU,EACV9B,YAAY,EACZ6B,cAAc,IAGlBoO,EAAIkiF,GAAaM,CACxB,CACJ,CACD,OAAOxiF,CACV,CACD,IAAM+hF,GAAa,SAACpyF,GAAD,MArCD,OAqCUA,GACvBumF,GAASvmF,IAtCI,OAuCVA,EAAIoB,SACFpB,EAAIkD,MAAQlD,EAAIkD,OAAS2kF,GAAOsD,MAHvB,EAWnB,SAASkH,GAAaviB,EAAKz/D,EAAKjP,GAC5B,IAAMgK,EAAS0kE,GAAOqW,GAAQ/kF,GAASA,EAAM/E,QAAQyzE,EAAIiZ,KAAO3nF,EAChE,IAAKilF,GAAMj7E,GACP,MAAM,IAAIvG,MAAM,6CACpB,IAJmC,MAIpBuG,EAAOotE,OAAO,KAAM1I,EAAKvhE,MAJL,IAKnC,2BAAmC,oBAAvBvO,EAAuB,KAAlBoB,EAAkB,KAC3BiP,aAAe9B,IACV8B,EAAI5B,IAAIzO,IACTqQ,EAAI3B,IAAI1O,EAAKoB,GAEZiP,aAAe0C,IACpB1C,EAAIiD,IAAItT,GAEFE,OAAOY,UAAUC,eAAeC,KAAKqP,EAAKrQ,IAChDE,OAAOC,eAAekQ,EAAKrQ,EAAK,CAC5BoB,MAAAA,EACAc,UAAU,EACV9B,YAAY,EACZ6B,cAAc,GAGzB,CArBkC,+BAsBnC,OAAOoO,CACV,CCxED,SAASyiF,GAAW9yF,EAAKoB,EAAO0uE,GAC5B,IAAM5sD,EAAIqoE,GAAWvrF,OAAKtD,EAAWozE,GAC/BryC,EAAI8tD,GAAWnqF,OAAO1E,EAAWozE,GACvC,OAAO,IAAIiY,GAAK7kE,EAAGua,EACtB,KACKsqD,GAAAA,WACF,WAAY/nF,GAAmB,IAAdoB,EAAc,uDAAN,KAAM,UAC3BlB,OAAOC,eAAeK,KAAM0lF,GAAW,CAAE9kF,MAAO2kF,KAChDvlF,KAAKR,IAAMA,EACXQ,KAAKY,MAAQA,CAChB,gCACD,SAAMqqF,GACF,IAAMzrF,EAAeQ,KAAfR,IAAKoB,EAAUZ,KAAVY,MAKX,OAJIslF,GAAO1mF,KACPA,EAAMA,EAAI+tC,MAAM09C,IAChB/E,GAAOtlF,KACPA,EAAQA,EAAM2sC,MAAM09C,IACjB,IAAI1D,EAAK/nF,EAAKoB,EACxB,uBACD,SAAO2xF,EAAGjjB,GAEN,OAAOqiB,GAAeriB,EADN,OAAHA,QAAG,IAAHA,GAAAA,EAAKoa,SAAW,IAAI37E,IAAQ,CAAC,EACT/N,KACpC,yBACD,SAASsvE,EAAKqG,EAAWmZ,GACrB,OAAU,OAAHxf,QAAG,IAAHA,GAAAA,EAAKiZ,ICxBpB,WAAuCjZ,EAAKqG,EAAWmZ,GAAa,IAA3CtvF,EAA2C,EAA3CA,IAAKoB,EAAsC,EAAtCA,MAC1B,EAAsG0uE,EAA9FkjB,EAAR,EAAQA,cAAejK,EAAvB,EAAuBA,IAAK/gC,EAA5B,EAA4BA,OAAQ4oC,EAApC,EAAoCA,WAApC,IAAgDj7E,QAAW65E,EAA3D,EAA2DA,cAAe8B,EAA1E,EAA0EA,UAAWE,EAArF,EAAqFA,WACjFyB,EAAcvM,GAAO1mF,IAAQA,EAAI0f,SAAY,KACjD,GAAI8xE,EAAY,CACZ,GAAIyB,EACA,MAAM,IAAIpuF,MAAM,oDAEpB,GAAI4hF,GAAazmF,GAEb,MAAM,IAAI6E,MADE,6DAGnB,CACD,IAAIquF,GAAe1B,KACbxxF,GACGizF,GAAuB,MAAT7xF,IAAkB0uE,EAAIygB,QACrC9J,GAAazmF,KACZumF,GAASvmF,GACJA,EAAIkD,OAAS2kF,GAAOoD,cAAgBjrF,EAAIkD,OAAS2kF,GAAOqD,cACzC,kBAARlrF,IACrB8vE,EAAM5vE,OAAOynF,OAAO,CAAC,EAAG7X,EAAK,CACzBkjB,eAAe,EACfpI,aAAcsI,IAAgB1B,IAAewB,GAC7ChrC,OAAQA,EAAS4oC,IAErB,IAoCIuC,EAAKC,EAAKC,EApCVC,GAAiB,EACjBC,GAAY,EACZ9xE,EAAMnmB,GAAU0E,EAAK8vE,GAAK,kBAAOwjB,GAAiB,CAAxB,IAA+B,kBAAOC,GAAY,CAAnB,IAC7D,IAAKL,IAAgBpjB,EAAIygB,QAAU9uE,EAAI1lB,OAAS,KAAM,CAClD,GAAIy1F,EACA,MAAM,IAAI3sF,MAAM,gFACpBquF,GAAc,CACjB,CACD,GAAIpjB,EAAIygB,QACJ,GAAIyC,GAA0B,MAAT5xF,EAGjB,OAFIkyF,GAAkBnd,GAClBA,IACW,KAAR10D,EAAa,IAAMyxE,EAAc,KAAH,OAAQzxE,GAAQA,OAGxD,GAAKuxE,IAAkBxB,GAAyB,MAATpwF,GAAiB8xF,EAOzD,OANAzxE,EAAM,KAAH,OAAQA,GACPwxE,IAAeK,EACf7xE,GAAO0rE,GAAY1rE,EAAKquD,EAAI9nB,OAAQwnC,EAAcyD,IAE7CM,GAAajE,GAClBA,IACG7tE,EAEP6xE,IACAL,EAAa,MACbC,GACID,IACAxxE,GAAO0rE,GAAY1rE,EAAKquD,EAAI9nB,OAAQwnC,EAAcyD,KACtDxxE,EAAM,KAAH,OAAQA,EAAR,aAAgBumC,EAAhB,OAGHvmC,EAAM,GAAH,OAAMA,EAAN,KACCwxE,IACAxxE,GAAO0rE,GAAY1rE,EAAKquD,EAAI9nB,OAAQwnC,EAAcyD,MAGtDvM,GAAOtlF,IACP+xF,IAAQ/xF,EAAMoyF,YACdJ,EAAMhyF,EAAMyrF,cACZwG,EAAejyF,EAAMse,UAGrByzE,GAAM,EACNC,EAAM,KACNC,EAAe,KACXjyF,GAA0B,kBAAVA,IAChBA,EAAQ2nF,EAAIwC,WAAWnqF,KAE/B0uE,EAAI8a,aAAc,EACbsI,GAAgBD,IAAc1M,GAASnlF,KACxC0uE,EAAI6d,cAAgBlsE,EAAI1lB,OAAS,GACrCw3F,GAAY,EACPjC,KACDV,EAAW70F,QAAU,IACpB+zE,EAAIygB,QACJ2C,IACD1M,GAAMplF,IACLA,EAAMqyF,MACNryF,EAAM4pC,KACN5pC,EAAMqT,SAEPq7D,EAAI9nB,OAAS8nB,EAAI9nB,OAAOjwB,UAAU,IAEtC,IAAI27D,GAAmB,EACjBC,EAAWr4F,GAAU8F,EAAO0uE,GAAK,kBAAO4jB,GAAmB,CAA1B,IAAiC,kBAAOH,GAAY,CAAnB,IACpEK,EAAK,IACT,GAAIX,GAAcE,GAAOC,EAAK,CAE1B,GADAQ,EAAKT,EAAM,KAAO,GACdC,EAAK,CACL,IAAMS,EAAKrE,EAAc4D,GACzBQ,GAAM,KAAJ,OAAS1G,GAAc2G,EAAI/jB,EAAI9nB,QACpC,CACgB,KAAb2rC,GAAoB7jB,EAAIygB,OAKxBqD,GAAM,KAAJ,OAAS9jB,EAAI9nB,QAJJ,OAAP4rC,IACAA,EAAK,OAKhB,MACI,IAAKV,GAAezM,GAAarlF,GAAQ,SACpC0yF,EAAMH,EAAS,GACfI,EAAMJ,EAASnlF,QAAQ,MACvBwlF,GAAsB,IAATD,EACbN,EAAI,oBAAG3jB,EAAIygB,cAAP,QAAiBnvF,EAAMqyF,YAAvB,QAAsD,IAAvBryF,EAAMmwD,MAAMx1D,OACrD,GAAIi4F,IAAeP,EAAM,CACrB,IAAIQ,GAAe,EACnB,GAAID,IAAuB,MAARF,GAAuB,MAARA,GAAc,CAC5C,IAAII,EAAMP,EAASnlF,QAAQ,KACf,MAARslF,IACS,IAATI,GACAA,EAAMH,GACgB,MAAtBJ,EAASO,EAAM,KACfA,EAAMP,EAASnlF,QAAQ,IAAK0lF,EAAM,MAEzB,IAATA,GAAcH,EAAMG,KACpBD,GAAe,EACtB,CACIA,IACDL,EAAK,KAAH,OAAQ9jB,EAAI9nB,QACrB,CACJ,KACqB,KAAb2rC,GAAmC,OAAhBA,EAAS,KACjCC,EAAK,IAaT,OAXAnyE,GAAOmyE,EAAKD,EACR7jB,EAAIygB,OACAmD,GAAoBvd,GACpBA,IAECkd,IAAiBK,EACtBjyE,GAAO0rE,GAAY1rE,EAAKquD,EAAI9nB,OAAQwnC,EAAc6D,IAE7CE,GAAajE,GAClBA,IAEG7tE,CACV,CDrHa0yE,CAAc3zF,KAAMsvE,EAAKqG,EAAWmZ,GACpCj0F,KAAKC,UAAUkF,KACxB,OAtBCunF,GELN,SAASqM,GAAoBC,EAAYvkB,EAAKn6D,GAAS,MAGnD,QAFU,UAAGm6D,EAAIygB,cAAP,QAAiB8D,EAAWZ,MACba,GAA0BC,IAClCF,EAAYvkB,EAAKn6D,EACrC,CACD,SAAS4+E,GAAT,EAAsDzkB,EAAtD,GAKI,IAL2H,IA+BvHruD,EA/B4B/B,EAA2F,EAA3FA,QAAS6xC,EAAkF,EAAlFA,MAAgBijC,EAAkE,EAAlEA,gBAAiBC,EAAiD,EAAjDA,UAAWC,EAAsC,EAAtCA,WAAYpF,EAA0B,EAA1BA,YAAanZ,EAAa,EAAbA,UACtGnuB,EAAuC8nB,EAAvC9nB,OAAmBwnC,EAAoB1f,EAA/Bn6D,QAAW65E,cACrBmF,EAAUz0F,OAAOynF,OAAO,CAAC,EAAG7X,EAAK,CAAE9nB,OAAQ0sC,EAAYxxF,KAAM,OAC/DqwF,GAAY,EACVn0D,EAAQ,GACLtjC,EAAI,EAAGA,EAAIy1D,EAAMx1D,SAAUD,EAAG,CACnC,IAAMshC,EAAOm0B,EAAMz1D,GACf4jB,EAAU,KACd,GAAIgnE,GAAOtpD,IACFm2D,GAAan2D,EAAKo2D,aACnBp0D,EAAMh5B,KAAK,IACfwuF,GAAiB9kB,EAAK1wC,EAAOhC,EAAKyvD,cAAe0G,GAC7Cn2D,EAAK1d,UACLA,EAAU0d,EAAK1d,cAElB,GAAI4mE,GAAOlpD,GAAO,CACnB,IAAMy3D,EAAKnO,GAAOtpD,EAAKp9B,KAAOo9B,EAAKp9B,IAAM,KACrC60F,KACKtB,GAAasB,EAAGrB,aACjBp0D,EAAMh5B,KAAK,IACfwuF,GAAiB9kB,EAAK1wC,EAAOy1D,EAAGhI,cAAe0G,GAEtD,CACDA,GAAY,EACZ,IAAI9xE,EAAMnmB,GAAU8hC,EAAMu3D,GAAS,kBAAOj1E,EAAU,IAAjB,IAAwB,kBAAO6zE,GAAY,CAAnB,IACvD7zE,IACA+B,GAAO0rE,GAAY1rE,EAAKizE,EAAYlF,EAAc9vE,KAClD6zE,GAAa7zE,IACb6zE,GAAY,GAChBn0D,EAAMh5B,KAAKouF,EAAkB/yE,EAChC,CAED,GAAqB,IAAjB2d,EAAMrjC,OACN0lB,EAAMgzE,EAAUr2F,MAAQq2F,EAAUz2F,QAEjC,CACDyjB,EAAM2d,EAAM,GACZ,IAAK,IAAItjC,EAAI,EAAGA,EAAIsjC,EAAMrjC,SAAUD,EAAG,CACnC,IAAM2nC,EAAOrE,EAAMtjC,GACnB2lB,GAAOgiB,EAAO,KAAH,OAAQukB,GAAR,OAAiBvkB,GAAS,IACxC,CACJ,CAQD,OAPI/jB,GACA+B,GAAO,KAAOyrE,GAAcsC,EAAc9vE,GAAUsoC,GAChDmuB,GACAA,KAECod,GAAajE,GAClBA,IACG7tE,CACV,CACD,SAAS6yE,GAAT,EAAqDxkB,EAArD,GAAgG,IAA7DpwD,EAA6D,EAA7DA,QAAS6xC,EAAoD,EAApDA,MAAgBkjC,EAAoC,EAApCA,UAAWC,EAAyB,EAAzBA,WAAYve,EAAa,EAAbA,UACvEnuB,EAAqF8nB,EAArF9nB,OAAQ4oC,EAA6E9gB,EAA7E8gB,WAAmCkE,EAA0ChlB,EAAjEuhB,sBAA6C7B,EAAoB1f,EAA/Bn6D,QAAW65E,cACzEkF,GAAc9D,EASd,IARA,IAkDInvE,EAlDEkzE,EAAUz0F,OAAOynF,OAAO,CAAC,EAAG7X,EAAK,CACnC9nB,OAAQ0sC,EACRnE,QAAQ,EACRrtF,KAAM,OAEN6xF,GAAa,EACbC,EAAe,EACb51D,EAAQ,GACLtjC,EAAI,EAAGA,EAAIy1D,EAAMx1D,SAAUD,EAAG,CACnC,IAAMshC,EAAOm0B,EAAMz1D,GACf4jB,EAAU,KACd,GAAIgnE,GAAOtpD,GACHA,EAAKo2D,aACLp0D,EAAMh5B,KAAK,IACfwuF,GAAiB9kB,EAAK1wC,EAAOhC,EAAKyvD,eAAe,GAC7CzvD,EAAK1d,UACLA,EAAU0d,EAAK1d,cAElB,GAAI4mE,GAAOlpD,GAAO,CACnB,IAAMy3D,EAAKnO,GAAOtpD,EAAKp9B,KAAOo9B,EAAKp9B,IAAM,KACrC60F,IACIA,EAAGrB,aACHp0D,EAAMh5B,KAAK,IACfwuF,GAAiB9kB,EAAK1wC,EAAOy1D,EAAGhI,eAAe,GAC3CgI,EAAGn1E,UACHq1E,GAAa,IAErB,IAAME,EAAKvO,GAAOtpD,EAAKh8B,OAASg8B,EAAKh8B,MAAQ,KACzC6zF,GACIA,EAAGv1E,UACHA,EAAUu1E,EAAGv1E,SACbu1E,EAAGpI,gBACHkI,GAAa,IAEE,MAAd33D,EAAKh8B,OAAiByzF,GAAMA,EAAGn1E,UACpCA,EAAUm1E,EAAGn1E,QAEpB,CACGA,IACAq1E,GAAa,GACjB,IAAItzE,EAAMnmB,GAAU8hC,EAAMu3D,GAAS,kBAAOj1E,EAAU,IAAjB,IAC/B5jB,EAAIy1D,EAAMx1D,OAAS,IACnB0lB,GAAO,KACP/B,IACA+B,GAAO0rE,GAAY1rE,EAAKizE,EAAYlF,EAAc9vE,MACjDq1E,IAAe31D,EAAMrjC,OAASi5F,GAAgBvzE,EAAI4rE,SAAS,SAC5D0H,GAAa,GACjB31D,EAAMh5B,KAAKqb,GACXuzE,EAAe51D,EAAMrjC,MACxB,CAED,IAAQqC,EAAeq2F,EAAfr2F,MAAOJ,EAAQy2F,EAARz2F,IACf,GAAqB,IAAjBohC,EAAMrjC,OACN0lB,EAAMrjB,EAAQJ,MAEb,CACD,IAAK+2F,EAAY,CACb,IAAMtpF,EAAM2zB,EAAM/tB,QAAO,SAACotB,EAAKgF,GAAN,OAAehF,EAAMgF,EAAK1nC,OAAS,CAAnC,GAAsC,GAC/Dg5F,EAAatpF,EAAMi8E,GAAWsF,6BACjC,CACD,GAAI+H,EAAY,CACZtzE,EAAMrjB,EADM,UAEOghC,GAFP,IAEZ,2BACI,KADOqE,EACP,QAAAhiB,GAAOgiB,EAAO,KAAH,OAAQmtD,GAAR,OAAqB5oC,GAArB,OAA8BvkB,GAAS,IAAK,CAH/C,+BAIZhiB,GAAO,KAAJ,OAASumC,GAAT,OAAkBhqD,EACxB,MAEGyjB,EAAM,GAAH,OAAMrjB,GAAN,OAAc02F,GAAd,OAA0B11D,EAAMriC,KAAK,MAArC,OAA4C+3F,GAA5C,OAAwD92F,EAElE,CAMD,OALI0hB,IACA+B,GAAO0rE,GAAY1rE,EAAKumC,EAAQwnC,EAAc9vE,IAC1Cy2D,GACAA,KAED10D,CACV,CACD,SAASmzE,GAAT,EAAkEx1D,EAAO1f,EAAS6zE,GAAW,IAAjEvrC,EAAiE,EAAjEA,OAAmBwnC,EAA8C,EAAzD75E,QAAW65E,cAG3C,GAFI9vE,GAAW6zE,IACX7zE,EAAUA,EAAQhC,QAAQ,OAAQ,KAClCgC,EAAS,CACT,IAAMw1E,EAAKhI,GAAcsC,EAAc9vE,GAAUsoC,GACjD5oB,EAAMh5B,KAAK8uF,EAAGvwB,YACjB,CACJ,CC7ID,SAASwwB,GAAS5jC,EAAOvxD,GACrB,IAD0B,EACpBkjB,EAAIqjE,GAASvmF,GAAOA,EAAIoB,MAAQpB,EADZ,IAETuxD,GAFS,IAE1B,2BAAwB,KAAbpkD,EAAa,QACpB,GAAIm5E,GAAOn5E,GAAK,CACZ,GAAIA,EAAGnN,MAAQA,GAAOmN,EAAGnN,MAAQkjB,EAC7B,OAAO/V,EACX,GAAIo5E,GAASp5E,EAAGnN,MAAQmN,EAAGnN,IAAIoB,QAAU8hB,EACrC,OAAO/V,CACd,CACJ,CATyB,+BAW7B,KACKioF,GAAAA,SAAAA,qBAIF,WAAY3J,GAAQ,wBAChB,cAAM3F,GAAK2F,IACNl6B,MAAQ,GAFG,CAGnB,8BAmCD,SAAI8jC,EAAMxY,GAAW,MACbyY,EAEAA,EADAhP,GAAO+O,GACCA,EACFA,GAAwB,kBAATA,GAAuB,QAASA,EAK7C,IAAItN,GAAKsN,EAAKr1F,IAAKq1F,EAAKj0F,OAHxB,IAAI2mF,GAAKsN,EAAT,OAAeA,QAAf,IAAeA,OAAf,EAAeA,EAAMj0F,OAIjC,IAAMwG,EAAOutF,GAAS30F,KAAK+wD,MAAO+jC,EAAMt1F,KAClCu1F,EAAW,UAAG/0F,KAAKirF,cAAR,aAAG,EAAa+J,eACjC,GAAI5tF,EAAM,CACN,IAAKi1E,EACD,MAAM,IAAIh4E,MAAJ,cAAiBywF,EAAMt1F,IAAvB,iBAENumF,GAAS3+E,EAAKxG,QAAU4pF,GAAcsK,EAAMl0F,OAC5CwG,EAAKxG,MAAMA,MAAQk0F,EAAMl0F,MAEzBwG,EAAKxG,MAAQk0F,EAAMl0F,KAC1B,MACI,GAAIm0F,EAAa,CAClB,IAAMz5F,EAAI0E,KAAK+wD,MAAMkkC,WAAU,SAAAr4D,GAAI,OAAIm4D,EAAYD,EAAOl4D,GAAQ,CAA/B,KACxB,IAAPthC,EACA0E,KAAK+wD,MAAMnrD,KAAKkvF,GAEhB90F,KAAK+wD,MAAMnxC,OAAOtkB,EAAG,EAAGw5F,EAC/B,MAEG90F,KAAK+wD,MAAMnrD,KAAKkvF,EAEvB,uBACD,SAAOt1F,GACH,IAAMmN,EAAKgoF,GAAS30F,KAAK+wD,MAAOvxD,GAChC,QAAKmN,GAEO3M,KAAK+wD,MAAMnxC,OAAO5f,KAAK+wD,MAAM/iD,QAAQrB,GAAK,GAC3CpR,OAAS,CACvB,oBACD,SAAIiE,EAAK0sF,GAAY,MACXv/E,EAAKgoF,GAAS30F,KAAK+wD,MAAOvxD,GAC1BiU,EAAI,OAAG9G,QAAH,IAAGA,OAAH,EAAGA,EAAI/L,MACjB,kBAASsrF,GAAcnG,GAAStyE,GAAQA,EAAK7S,MAAQ6S,SAArD,aAA8DvX,CACjE,oBACD,SAAIsD,GACA,QAASm1F,GAAS30F,KAAK+wD,MAAOvxD,EACjC,oBACD,SAAIA,EAAKoB,GACLZ,KAAK8S,IAAI,IAAIy0E,GAAK/nF,EAAKoB,IAAQ,EAClC,uBAMD,SAAO2xF,EAAGjjB,EAAKqV,GACX,IAAM90E,EAAM80E,EAAO,IAAIA,EAAY,OAAHrV,QAAG,IAAHA,GAAAA,EAAKoa,SAAW,IAAI37E,IAAQ,CAAC,EAC7D,OAAIuhE,QAAJ,IAAIA,GAAAA,EAAKia,UACLja,EAAIia,SAAS15E,GAHA,UAIE7P,KAAK+wD,OAJP,IAIjB,2BACI,CAAA4gC,GAAeriB,EAAKz/D,EAApB,QAA+B,CALlB,+BAMjB,OAAOA,CACV,yBACD,SAASy/D,EAAKqG,EAAWmZ,GACrB,IAAKxf,EACD,OAAOz0E,KAAKC,UAAUkF,MAFQ,UAGfA,KAAK+wD,OAHU,IAGlC,2BAA+B,KAApBn0B,EAAoB,QAC3B,IAAKkpD,GAAOlpD,GACR,MAAM,IAAIv4B,MAAJ,6CAAgDxJ,KAAKC,UAAU8hC,GAA/D,YACb,CANiC,+BASlC,OAFK0yC,EAAIkjB,eAAiBxyF,KAAKk1F,kBAAiB,KAC5C5lB,EAAM5vE,OAAOynF,OAAO,CAAC,EAAG7X,EAAK,CAAEkjB,eAAe,KAC3CoB,GAAoB5zF,KAAMsvE,EAAK,CAClC0kB,gBAAiB,GACjBC,UAAW,CAAEr2F,MAAO,IAAKJ,IAAK,KAC9B02F,WAAY5kB,EAAI9nB,QAAU,GAC1BsnC,YAAAA,EACAnZ,UAAAA,GAEP,wBAxHD,WACI,MAAO,uBACV,qBASD,SAAYsV,EAAQ7qF,EAAKkvE,GACrB,IAAQwc,EAA4Bxc,EAA5Bwc,cAAeqJ,EAAa7lB,EAAb6lB,SACjBtlF,EAAM,IAAI7P,KAAKirF,GACfn4E,EAAM,SAACtT,EAAKoB,GACd,GAAwB,oBAAbu0F,EACPv0F,EAAQu0F,EAAS30F,KAAKJ,EAAKZ,EAAKoB,QAC/B,GAAIuK,MAAMQ,QAAQwpF,KAAcA,EAAStI,SAASrtF,GACnD,aACUtD,IAAV0E,GAAuBkrF,IACvBj8E,EAAIkhD,MAAMnrD,KAAK0sF,GAAW9yF,EAAKoB,EAAO0uE,GAC7C,EACD,GAAIlvE,aAAe2N,IAAK,WACO3N,GADP,IACpB,2BACI,oBAAA0S,EAAA,UAAgB,CAFA,+BAGvB,MACI,GAAI1S,GAAsB,kBAARA,EACnB,cAAkBV,OAAOoH,KAAK1G,GAA9B,gBAAK,IAAMZ,EAAG,KACVsT,EAAItT,EAAKY,EAAIZ,GADjB,CAMJ,MAHqC,oBAA1ByrF,EAAO+J,gBACdnlF,EAAIkhD,MAAMgd,KAAKkd,EAAO+J,gBAEnBnlF,CACV,OAnCC+kF,CAAgB1N,IChBhBr3E,GAAM,CACRgkF,WAAY,MACZlI,SAAS,EACTD,UAAWkJ,GACXpqD,IAAK,wBACL3uC,QALQ,SAKAgU,EAAK+lE,GAGT,OAFKiQ,GAAMh2E,IACP+lE,EAAQ,mCACL/lE,CACV,EACDk7E,WAAY,SAACE,EAAQ7qF,EAAKkvE,GAAd,OAAsBslB,GAAQj4F,KAAKsuF,EAAQ7qF,EAAKkvE,EAAhD,GCNV8lB,GAAAA,SAAAA,qBAIF,WAAYnK,GAAQ,wBAChB,cAAMxF,GAAKwF,IACNl6B,MAAQ,GAFG,CAGnB,8BACD,SAAInwD,GACAZ,KAAK+wD,MAAMnrD,KAAKhF,EACnB,uBASD,SAAOpB,GACH,IAAM83B,EAAM+9D,GAAY71F,GACxB,MAAmB,kBAAR83B,GAECt3B,KAAK+wD,MAAMnxC,OAAO0X,EAAK,GACxB/7B,OAAS,CACvB,oBACD,SAAIiE,EAAK0sF,GACL,IAAM50D,EAAM+9D,GAAY71F,GACxB,GAAmB,kBAAR83B,EAAX,CAEA,IAAM3qB,EAAK3M,KAAK+wD,MAAMz5B,GACtB,OAAQ40D,GAAcnG,GAASp5E,GAAMA,EAAG/L,MAAQ+L,CAF5C,CAGP,oBAOD,SAAInN,GACA,IAAM83B,EAAM+9D,GAAY71F,GACxB,MAAsB,kBAAR83B,GAAoBA,EAAMt3B,KAAK+wD,MAAMx1D,MACtD,oBAQD,SAAIiE,EAAKoB,GACL,IAAM02B,EAAM+9D,GAAY71F,GACxB,GAAmB,kBAAR83B,EACP,MAAM,IAAIjzB,MAAJ,sCAAyC7E,EAAzC,MACV,IAAM4H,EAAOpH,KAAK+wD,MAAMz5B,GACpByuD,GAAS3+E,IAASojF,GAAc5pF,GAChCwG,EAAKxG,MAAQA,EAEbZ,KAAK+wD,MAAMz5B,GAAO12B,CACzB,uBACD,SAAO2xF,EAAGjjB,GACN,IAAMnsD,EAAM,GACZ,OAAImsD,QAAJ,IAAIA,GAAAA,EAAKia,UACLja,EAAIia,SAASpmE,GACjB,IAJW,EAIP7nB,EAAI,EAJG,IAKQ0E,KAAK+wD,OALb,IAKX,2BACI,KADOn0B,EACP,QAAAzZ,EAAIvd,KAAKyjF,GAAKzsD,EAAMzyB,OAAO7O,KAAMg0E,GAAM,CANhC,+BAOX,OAAOnsD,CACV,yBACD,SAASmsD,EAAKqG,EAAWmZ,GACrB,OAAKxf,EAEEskB,GAAoB5zF,KAAMsvE,EAAK,CAClC0kB,gBAAiB,KACjBC,UAAW,CAAEr2F,MAAO,IAAKJ,IAAK,KAC9B02F,YAAa5kB,EAAI9nB,QAAU,IAAM,KACjCsnC,YAAAA,EACAnZ,UAAAA,IANO96E,KAAKC,UAAUkF,KAQ7B,wBA9ED,WACI,MAAO,uBACV,qBA6ED,SAAYirF,EAAQ7qF,EAAKkvE,GACrB,IAAQ6lB,EAAa7lB,EAAb6lB,SACFhyE,EAAM,IAAInjB,KAAKirF,GACrB,GAAI7qF,GAAOM,OAAOI,YAAYpB,OAAOU,GAAM,CACvC,IADuC,EACnC9E,EAAI,EAD+B,IAExB8E,GAFwB,IAEvC,2BAAoB,KAAXuM,EAAW,QAChB,GAAwB,oBAAbwoF,EAAyB,CAChC,IAAM31F,EAAMY,aAAemS,IAAM5F,EAAKxC,OAAO7O,KAC7CqR,EAAKwoF,EAAS30F,KAAKJ,EAAKZ,EAAKmN,EAChC,CACDwW,EAAI4tC,MAAMnrD,KAAKmlF,GAAWp+E,OAAIzQ,EAAWozE,GAC5C,CARsC,+BAS1C,CACD,OAAOnsD,CACV,OA9FCiyE,CAAgBlO,IAgGtB,SAASmO,GAAY71F,GACjB,IAAI83B,EAAMyuD,GAASvmF,GAAOA,EAAIoB,MAAQpB,EAGtC,OAFI83B,GAAsB,kBAARA,IACdA,EAAMltB,OAAOktB,IACK,kBAARA,GAAoBltB,OAAOyhF,UAAUv0D,IAAQA,GAAO,EAC5DA,EACA,IACT,CC3GD,IAAMnU,GAAM,CACR0wE,WAAY,MACZlI,SAAS,EACTD,UAAW0J,GACX5qD,IAAK,wBACL3uC,QALQ,SAKAsnB,EAAKyyD,GAGT,OAFKoQ,GAAM7iE,IACPyyD,EAAQ,oCACLzyD,CACV,EACD4nE,WAAY,SAACE,EAAQ7qF,EAAKkvE,GAAd,OAAsB8lB,GAAQz4F,KAAKsuF,EAAQ7qF,EAAKkvE,EAAhD,GCXVgL,GAAS,CACXkR,SAAU,SAAA5qF,GAAK,MAAqB,kBAAVA,CAAX,EACf+qF,SAAS,EACTnhD,IAAK,wBACL3uC,QAAS,SAAAolB,GAAG,OAAIA,CAAJ,EACZnmB,UALW,SAKD8hC,EAAM0yC,EAAKqG,EAAWmZ,GAE5B,OAAOgB,GAAgBlzD,EADvB0yC,EAAM5vE,OAAOynF,OAAO,CAAEgJ,cAAc,GAAQ7gB,GACVqG,EAAWmZ,EAChD,GCRCwG,GAAU,CACZ9J,SAAU,SAAA5qF,GAAK,OAAa,MAATA,CAAJ,EACfmqF,WAAY,kBAAM,IAAI1D,GAAO,KAAjB,EACZsE,SAAS,EACTnhD,IAAK,yBACL/+B,KAAM,wBACN5P,QAAS,kBAAM,IAAIwrF,GAAO,KAAjB,EACTvsF,UAAW,WAAaw0E,GAAb,IAAG1kE,EAAH,EAAGA,OAAH,MAAuC,kBAAXA,GAAuB0qF,GAAQ7pF,KAAKA,KAAKb,GAC1EA,EACA0kE,EAAIn6D,QAAQ47E,OAFP,GCPTwE,GAAU,CACZ/J,SAAU,SAAA5qF,GAAK,MAAqB,mBAAVA,CAAX,EACf+qF,SAAS,EACTnhD,IAAK,yBACL/+B,KAAM,oCACN5P,QAAS,SAAAolB,GAAG,OAAI,IAAIomE,GAAkB,MAAXpmE,EAAI,IAAyB,MAAXA,EAAI,GAArC,EACZnmB,UANY,WAMiBw0E,GAAK,IAAtB1kE,EAAsB,EAAtBA,OAAQhK,EAAc,EAAdA,MAChB,GAAIgK,GAAU2qF,GAAQ9pF,KAAKA,KAAKb,IAExBhK,KADqB,MAAdgK,EAAO,IAA4B,MAAdA,EAAO,IAEnC,OAAOA,EAEf,OAAOhK,EAAQ0uE,EAAIn6D,QAAQ87E,QAAU3hB,EAAIn6D,QAAQy7E,QACpD,GCfL,SAAS4E,GAAT,GAAoE,IAAzCr3F,EAAyC,EAAzCA,OAAQs3F,EAAiC,EAAjCA,kBAAmBjrD,EAAc,EAAdA,IAAK5pC,EAAS,EAATA,MACvD,GAAqB,kBAAVA,EACP,OAAOuJ,OAAOvJ,GAClB,IAAM80F,EAAuB,kBAAV90F,EAAqBA,EAAQwJ,OAAOxJ,GACvD,IAAK+0F,SAASD,GACV,OAAOxvF,MAAMwvF,GAAO,OAASA,EAAM,EAAI,QAAU,OACrD,IAAInqF,EAAI1Q,KAAKC,UAAU8F,GACvB,IAAKzC,GACDs3F,KACEjrD,GAAe,4BAARA,IACT,MAAM/+B,KAAKF,GAAI,CACf,IAAIjQ,EAAIiQ,EAAEyC,QAAQ,KACd1S,EAAI,IACJA,EAAIiQ,EAAEhQ,OACNgQ,GAAK,KAGT,IADA,IAAIjM,EAAIm2F,GAAqBlqF,EAAEhQ,OAASD,EAAI,GACrCgE,KAAM,GACTiM,GAAK,GACZ,CACD,OAAOA,CACV,CClBD,IAAMqqF,GAAW,CACbpK,SAAU,SAAA5qF,GAAK,MAAqB,kBAAVA,CAAX,EACf+qF,SAAS,EACTnhD,IAAK,0BACL/+B,KAAM,2CACN5P,QAAS,SAAAolB,GAAG,MAAoC,QAAhCA,EAAItlB,OAAO,GAAGu5B,cACxB2gE,IACW,MAAX50E,EAAI,GACA7W,OAAO0rF,kBACP1rF,OAAO8G,iBAJL,EAKZpW,UAAW06F,IAETO,GAAW,CACbvK,SAAU,SAAA5qF,GAAK,MAAqB,kBAAVA,CAAX,EACf+qF,SAAS,EACTnhD,IAAK,0BACLrsC,OAAQ,MACRsN,KAAM,yDACN5P,QAAS,SAAAolB,GAAG,OAAIukB,WAAWvkB,EAAf,EACZnmB,UAPa,SAOH2Y,GACN,IAAMiiF,EAAMtrF,OAAOqJ,EAAK7S,OACxB,OAAO+0F,SAASD,GAAOA,EAAIM,gBAAkBR,GAAgB/hF,EAChE,GAECwiF,GAAQ,CACVzK,SAAU,SAAA5qF,GAAK,MAAqB,kBAAVA,CAAX,EACf+qF,SAAS,EACTnhD,IAAK,0BACL/+B,KAAM,qCACN5P,QALU,SAKFolB,GACJ,IAAMxN,EAAO,IAAI4zE,GAAO7hD,WAAWvkB,IAC7Bi1E,EAAMj1E,EAAIjT,QAAQ,KAGxB,OAFa,IAATkoF,GAAsC,MAAxBj1E,EAAIA,EAAI1lB,OAAS,KAC/BkY,EAAKgiF,kBAAoBx0E,EAAI1lB,OAAS26F,EAAM,GACzCziF,CACV,EACD3Y,UAAW06F,ICrCTW,GAAc,SAACv1F,GAAD,MAA4B,kBAAVA,GAAsBwJ,OAAOyhF,UAAUjrF,EAAzD,EACdw1F,GAAa,SAACn1E,EAAKC,EAAQm1E,EAAd,YAAuBC,YAAiCpL,OAAOjqE,GAAOs1E,SAASt1E,EAAIsW,UAAUrW,GAASm1E,EAAtG,EACnB,SAASG,GAAa/iF,EAAM4iF,EAAOlO,GAC/B,IAAQvnF,EAAU6S,EAAV7S,MACR,OAAIu1F,GAAYv1F,IAAUA,GAAS,EACxBunF,EAASvnF,EAAM4K,SAAS6qF,GAC5Bb,GAAgB/hF,EAC1B,CACD,IAAMgjF,GAAS,CACXjL,SAAU,SAAA5qF,GAAK,OAAIu1F,GAAYv1F,IAAUA,GAAS,CAAnC,EACf+qF,SAAS,EACTnhD,IAAK,wBACLrsC,OAAQ,MACRsN,KAAM,aACN5P,QAAS,SAAColB,EAAKy1E,EAAUhG,GAAhB,OAAwB0F,GAAWn1E,EAAK,EAAG,EAAGyvE,EAA9C,EACT51F,UAAW,SAAA2Y,GAAI,OAAI+iF,GAAa/iF,EAAM,EAAG,KAA1B,GAEbkjF,GAAM,CACRnL,SAAU2K,GACVxK,SAAS,EACTnhD,IAAK,wBACL/+B,KAAM,gBACN5P,QAAS,SAAColB,EAAKy1E,EAAUhG,GAAhB,OAAwB0F,GAAWn1E,EAAK,EAAG,GAAIyvE,EAA/C,EACT51F,UAAW06F,IAEToB,GAAS,CACXpL,SAAU,SAAA5qF,GAAK,OAAIu1F,GAAYv1F,IAAUA,GAAS,CAAnC,EACf+qF,SAAS,EACTnhD,IAAK,wBACLrsC,OAAQ,MACRsN,KAAM,mBACN5P,QAAS,SAAColB,EAAKy1E,EAAUhG,GAAhB,OAAwB0F,GAAWn1E,EAAK,EAAG,GAAIyvE,EAA/C,EACT51F,UAAW,SAAA2Y,GAAI,OAAI+iF,GAAa/iF,EAAM,GAAI,KAA3B,GC1Bbw3E,GAAS,CACXp7E,GACAsT,GACAm3D,GACAgb,GACAC,GACAkB,GACAE,GACAC,GACAhB,GACAG,GACAE,ICfJ,SAASE,GAAYv1F,GACjB,MAAwB,kBAAVA,GAAsBwJ,OAAOyhF,UAAUjrF,EACxD,CACD,IAAMi2F,GAAgB,SAAC,GAAD,IAAGj2F,EAAH,EAAGA,MAAH,OAAe/F,KAAKC,UAAU8F,EAA9B,EAoDhBqqF,GAAS,CAACp7E,GAAKsT,IAAKrT,OAnDN,CAChB,CACI07E,SAAU,SAAA5qF,GAAK,MAAqB,kBAAVA,CAAX,EACf+qF,SAAS,EACTnhD,IAAK,wBACL3uC,QAAS,SAAAolB,GAAG,OAAIA,CAAJ,EACZnmB,UAAW+7F,IAEf,CACIrL,SAAU,SAAA5qF,GAAK,OAAa,MAATA,CAAJ,EACfmqF,WAAY,kBAAM,IAAI1D,GAAO,KAAjB,EACZsE,SAAS,EACTnhD,IAAK,yBACL/+B,KAAM,SACN5P,QAAS,kBAAM,IAAN,EACTf,UAAW+7F,IAEf,CACIrL,SAAU,SAAA5qF,GAAK,MAAqB,mBAAVA,CAAX,EACf+qF,SAAS,EACTnhD,IAAK,yBACL/+B,KAAM,eACN5P,QAAS,SAAAolB,GAAG,MAAY,SAARA,CAAJ,EACZnmB,UAAW+7F,IAEf,CACIrL,SAAU2K,GACVxK,SAAS,EACTnhD,IAAK,wBACL/+B,KAAM,wBACN5P,QAAS,SAAColB,EAAKy1E,EAAN,YAAkBJ,YAAgCpL,OAAOjqE,GAAOs1E,SAASt1E,EAAK,GAA9E,EACTnmB,UAAW,gBAAG8F,EAAH,EAAGA,MAAH,OAAeu1F,GAAYv1F,GAASA,EAAM4K,WAAa3Q,KAAKC,UAAU8F,EAAtE,GAEf,CACI4qF,SAAU,SAAA5qF,GAAK,MAAqB,kBAAVA,CAAX,EACf+qF,SAAS,EACTnhD,IAAK,0BACL/+B,KAAM,yDACN5P,QAAS,SAAAolB,GAAG,OAAIukB,WAAWvkB,EAAf,EACZnmB,UAAW+7F,KAGD,CACdlL,SAAS,EACTnhD,IAAK,GACL/+B,KAAM,IACN5P,QAJc,SAINolB,EAAK20D,GAET,OADAA,EAAQ,2BAAD,OAA4B/6E,KAAKC,UAAUmmB,KAC3CA,CACV,ICtDC61E,GAAS,CACXtL,SAAU,SAAA5qF,GAAK,OAAIA,aAAiBinB,UAArB,EACf8jE,SAAS,EACTnhD,IAAK,2BASL3uC,QAZW,SAYH41D,EAAKmkB,GACT,GAAsB,oBAAXmhB,OACP,OAAOA,OAAOp6F,KAAK80D,EAAK,UAEvB,GAAoB,oBAATulC,KAAqB,CAIjC,IAFA,IAAM/1E,EAAM+1E,KAAKvlC,EAAIv0C,QAAQ,UAAW,KAClC9F,EAAS,IAAIyQ,WAAW5G,EAAI1lB,QACzBD,EAAI,EAAGA,EAAI2lB,EAAI1lB,SAAUD,EAC9B8b,EAAO9b,GAAK2lB,EAAIzlB,WAAWF,GAC/B,OAAO8b,CACV,CAGG,OADAw+D,EAAQ,4FACDnkB,CAEd,EACD32D,UA7BW,WA6ByBw0E,EAAKqG,EAAWmZ,GAAa,IAEzD7tE,EAFI/B,EAAqD,EAArDA,QAASxc,EAA4C,EAA5CA,KACXu0F,EADuD,EAAtCr2F,MAGvB,GAAsB,oBAAXm2F,OACP91E,EACIg2E,aAAeF,OACTE,EAAIzrF,SAAS,UACburF,OAAOp6F,KAAKs6F,EAAI7/E,QAAQ5L,SAAS,cAE1C,IAAoB,oBAAT0rF,KAOZ,MAAM,IAAI7yF,MAAM,4FALhB,IADA,IAAIwI,EAAI,GACCvR,EAAI,EAAGA,EAAI27F,EAAI17F,SAAUD,EAC9BuR,GAAK1C,OAAOkX,aAAa41E,EAAI37F,IACjC2lB,EAAMi2E,KAAKrqF,EAId,CAGD,GAFKnK,IACDA,EAAO2kF,GAAOqD,eACdhoF,IAAS2kF,GAAOuD,aAAc,CAI9B,IAHA,IAAMwC,EAAY9yE,KAAKuV,IAAIy/C,EAAIn6D,QAAQi4E,UAAY9d,EAAI9nB,OAAOjsD,OAAQ+zE,EAAIn6D,QAAQk4E,iBAC5E9hF,EAAI+O,KAAKwB,KAAKmF,EAAI1lB,OAAS6xF,GAC3BxuD,EAAQ,IAAIzzB,MAAMI,GACfjQ,EAAI,EAAGmE,EAAI,EAAGnE,EAAIiQ,IAAKjQ,EAAGmE,GAAK2tF,EACpCxuD,EAAMtjC,GAAK2lB,EAAI2X,OAAOn5B,EAAG2tF,GAE7BnsE,EAAM2d,EAAMriC,KAAKmG,IAAS2kF,GAAOqD,cAAgB,KAAO,IAC3D,CACD,OAAOoF,GAAgB,CAAE5wE,QAAAA,EAASxc,KAAAA,EAAM9B,MAAOqgB,GAAOquD,EAAKqG,EAAWmZ,EACzE,GCzDL,SAASqI,GAAah0E,EAAKyyD,GACvB,GAAIoQ,GAAM7iE,GACN,IAAK,IAAI7nB,EAAI,EAAGA,EAAI6nB,EAAI4tC,MAAMx1D,SAAUD,EAAG,CACvC,IAAIshC,EAAOzZ,EAAI4tC,MAAMz1D,GACrB,IAAIwqF,GAAOlpD,GAAX,CAEK,GAAIipD,GAAMjpD,GAAO,CACdA,EAAKm0B,MAAMx1D,OAAS,GACpBq6E,EAAQ,kDACZ,IAAMif,EAAOj4D,EAAKm0B,MAAM,IAAM,IAAIw2B,GAAK,IAAIF,GAAO,OAKlD,GAJIzqD,EAAKyvD,gBACLwI,EAAKr1F,IAAI6sF,cAAgBwI,EAAKr1F,IAAI6sF,cAAT,UAChBzvD,EAAKyvD,cADW,aACOwI,EAAKr1F,IAAI6sF,eACnCzvD,EAAKyvD,eACXzvD,EAAK1d,QAAS,OACRk4E,EAAE,UAAGvC,EAAKj0F,aAAR,QAAiBi0F,EAAKr1F,IAC9B43F,EAAGl4E,QAAUk4E,EAAGl4E,QAAH,UACJ0d,EAAK1d,QADD,aACak4E,EAAGl4E,SACvB0d,EAAK1d,OACd,CACD0d,EAAOi4D,CACV,CACD1xE,EAAI4tC,MAAMz1D,GAAKwqF,GAAOlpD,GAAQA,EAAO,IAAI2qD,GAAK3qD,EAD7C,CAEJ,MAGDg5C,EAAQ,oCACZ,OAAOzyD,CACV,CACD,SAASk0E,GAAYpM,EAAQjlF,EAAUspE,GACnC,IAAQ6lB,EAAa7lB,EAAb6lB,SACFmC,EAAQ,IAAIlC,GAAQnK,GAC1BqM,EAAM9sD,IAAM,0BACZ,IAAIlvC,EAAI,EACR,GAAI0K,GAAYtF,OAAOI,YAAYpB,OAAOsG,GAA1C,WACmBA,GADnB,IACI,2BAAyB,KAAhB2G,EAAgB,QACG,oBAAbwoF,IACPxoF,EAAKwoF,EAAS30F,KAAKwF,EAAUmE,OAAO7O,KAAMqR,IAC9C,IAAInN,OAAG,EAAEoB,OAAK,EACd,GAAIuK,MAAMQ,QAAQgB,GAAK,CACnB,GAAkB,IAAdA,EAAGpR,OAKH,MAAM,IAAIX,UAAJ,uCAA8C+R,IAJpDnN,EAAMmN,EAAG,GACT/L,EAAQ+L,EAAG,EAIlB,MACI,GAAIA,GAAMA,aAAcjN,OAAQ,CACjC,IAAMoH,EAAOpH,OAAOoH,KAAK6F,GACzB,GAAoB,IAAhB7F,EAAKvL,OAKL,MAAM,IAAIX,UAAJ,yCAAgD+R,IAHtD/L,EAAQ+L,EADRnN,EAAMsH,EAAK,GAKlB,MAEGtH,EAAMmN,EAEV2qF,EAAMvmC,MAAMnrD,KAAK0sF,GAAW9yF,EAAKoB,EAAO0uE,GAC3C,CA1BL,gCA2BA,OAAOgoB,CACV,CACD,IAAMA,GAAQ,CACVzD,WAAY,MACZlI,SAAS,EACTnhD,IAAK,0BACL3uC,QAASs7F,GACTpM,WAAYsM,ICnEVE,GAAAA,SAAAA,qBACF,aAAc,wBACV,gBACKzkF,IAAM8hF,GAAQt0F,UAAUwS,IAAInK,KAAtB,MACX,EAAKqb,OAAS4wE,GAAQt0F,UAARs0F,OAAAA,KAAA,MACd,EAAK/0F,IAAM+0F,GAAQt0F,UAAUT,IAAI8I,KAAtB,MACX,EAAKsF,IAAM2mF,GAAQt0F,UAAU2N,IAAItF,KAAtB,MACX,EAAKuF,IAAM0mF,GAAQt0F,UAAU4N,IAAIvF,KAAtB,MACX,EAAK6hC,IAAM+sD,EAAS/sD,IAPV,CAQb,iCAKD,SAAO+nD,EAAGjjB,GACN,IAAKA,EACD,OAAO,0CAAaijB,GACxB,IAAM1iF,EAAM,IAAI9B,IAChB,OAAIuhE,QAAJ,IAAIA,GAAAA,EAAKia,UACLja,EAAIia,SAAS15E,GALN,UAMQ7P,KAAK+wD,OANb,IAMX,2BAA+B,KAApB8jC,EAAoB,QACvBr1F,OAAG,EAAEoB,OAAK,EAQd,GAPIklF,GAAO+O,IACPr1F,EAAM6pF,GAAKwL,EAAKr1F,IAAK,GAAI8vE,GACzB1uE,EAAQyoF,GAAKwL,EAAKj0F,MAAOpB,EAAK8vE,IAG9B9vE,EAAM6pF,GAAKwL,EAAM,GAAIvlB,GAErBz/D,EAAI5B,IAAIzO,GACR,MAAM,IAAI6E,MAAM,gDACpBwL,EAAI3B,IAAI1O,EAAKoB,EAChB,CAlBU,+BAmBX,OAAOiP,CACV,uBACD,SAAYo7E,EAAQjlF,EAAUspE,GAC1B,IAAMgoB,EAAQD,GAAYpM,EAAQjlF,EAAUspE,GACtCkoB,EAAO,IAAIx3F,KAEjB,OADAw3F,EAAKzmC,MAAQumC,EAAMvmC,MACZymC,CACV,OAxCCD,CAAiBnC,IA0CvBmC,GAAS/sD,IAAM,yBACf,IAAMgtD,GAAO,CACT3D,WAAY,MACZrI,SAAU,SAAA5qF,GAAK,OAAIA,aAAiBmN,GAArB,EACf29E,UAAW6L,GACX5L,SAAS,EACTnhD,IAAK,yBACL3uC,QANS,SAMDsnB,EAAKyyD,GACT,IADkB,EACZ0hB,EAAQH,GAAah0E,EAAKyyD,GAC1B6hB,EAAW,GAFC,IAGIH,EAAMvmC,OAHV,IAGlB,2BAAmC,KAAtBvxD,EAAsB,QAAtBA,IACLumF,GAASvmF,KACLi4F,EAAS5K,SAASrtF,EAAIoB,OACtBg1E,EAAQ,iDAAD,OAAkDp2E,EAAIoB,QAG7D62F,EAAS7xF,KAAKpG,EAAIoB,OAG7B,CAZiB,+BAalB,OAAOlB,OAAOynF,OAAO,IAAIoQ,GAAYD,EACxC,EACDvM,WAAY,SAACE,EAAQjlF,EAAUspE,GAAnB,OAA2BioB,GAAS56F,KAAKsuF,EAAQjlF,EAAUspE,EAA3D,GCpEhB,SAASooB,GAAT,EAA0CpoB,GAAK,IAAtB1uE,EAAsB,EAAtBA,MAAOgK,EAAe,EAAfA,OAE5B,OAAIA,IADYhK,EAAQ+2F,GAAUC,IACZnsF,KAAKA,KAAKb,GACrBA,EACJhK,EAAQ0uE,EAAIn6D,QAAQ87E,QAAU3hB,EAAIn6D,QAAQy7E,QACpD,CACD,IAAM+G,GAAU,CACZnM,SAAU,SAAA5qF,GAAK,OAAc,IAAVA,CAAJ,EACf+qF,SAAS,EACTnhD,IAAK,yBACL/+B,KAAM,6CACN5P,QAAS,kBAAM,IAAIwrF,IAAO,EAAjB,EACTvsF,UAAW48F,IAETE,GAAW,CACbpM,SAAU,SAAA5qF,GAAK,OAAc,IAAVA,CAAJ,EACf+qF,SAAS,EACTnhD,IAAK,yBACL/+B,KAAM,gDACN5P,QAAS,kBAAM,IAAIwrF,IAAO,EAAjB,EACTvsF,UAAW48F,ICnBT9B,GAAW,CACbpK,SAAU,SAAA5qF,GAAK,MAAqB,kBAAVA,CAAX,EACf+qF,SAAS,EACTnhD,IAAK,0BACL/+B,KAAM,uCACN5P,QAAS,SAAColB,GAAD,MAAyC,QAAhCA,EAAItlB,OAAO,GAAGu5B,cAC1B2gE,IACW,MAAX50E,EAAI,GACA7W,OAAO0rF,kBACP1rF,OAAO8G,iBAJR,EAKTpW,UAAW06F,IAETO,GAAW,CACbvK,SAAU,SAAA5qF,GAAK,MAAqB,kBAAVA,CAAX,EACf+qF,SAAS,EACTnhD,IAAK,0BACLrsC,OAAQ,MACRsN,KAAM,wDACN5P,QAAS,SAAColB,GAAD,OAASukB,WAAWvkB,EAAI/D,QAAQ,KAAM,IAAtC,EACTpiB,UAPa,SAOH2Y,GACN,IAAMiiF,EAAMtrF,OAAOqJ,EAAK7S,OACxB,OAAO+0F,SAASD,GAAOA,EAAIM,gBAAkBR,GAAgB/hF,EAChE,GAECwiF,GAAQ,CACVzK,SAAU,SAAA5qF,GAAK,MAAqB,kBAAVA,CAAX,EACf+qF,SAAS,EACTnhD,IAAK,0BACL/+B,KAAM,oCACN5P,QALU,SAKFolB,GACJ,IAAMxN,EAAO,IAAI4zE,GAAO7hD,WAAWvkB,EAAI/D,QAAQ,KAAM,MAC/Cg5E,EAAMj1E,EAAIjT,QAAQ,KACxB,IAAa,IAATkoF,EAAY,CACZ,IAAMnpF,EAAIkU,EAAIsW,UAAU2+D,EAAM,GAAGh5E,QAAQ,KAAM,IACvB,MAApBnQ,EAAEA,EAAExR,OAAS,KACbkY,EAAKgiF,kBAAoB1oF,EAAExR,OAClC,CACD,OAAOkY,CACV,EACD3Y,UAAW06F,ICxCTW,GAAc,SAACv1F,GAAD,MAA4B,kBAAVA,GAAsBwJ,OAAOyhF,UAAUjrF,EAAzD,EACpB,SAASw1F,GAAWn1E,EAAKC,EAAQm1E,EAAjC,GAAyD,IAAfC,EAAe,EAAfA,YAChCuB,EAAO52E,EAAI,GAIjB,GAHa,MAAT42E,GAAyB,MAATA,IAChB32E,GAAU,GACdD,EAAMA,EAAIsW,UAAUrW,GAAQhE,QAAQ,KAAM,IACtCo5E,EAAa,CACb,OAAQD,GACJ,KAAK,EACDp1E,EAAM,KAAH,OAAQA,GACX,MACJ,KAAK,EACDA,EAAM,KAAH,OAAQA,GACX,MACJ,KAAK,GACDA,EAAM,KAAH,OAAQA,GAGnB,IAAM1V,EAAI2/E,OAAOjqE,GACjB,MAAgB,MAAT42E,EAAe3M,QAAQ,GAAK3/E,EAAIA,CAC1C,CACD,IAAMA,EAAIgrF,SAASt1E,EAAKo1E,GACxB,MAAgB,MAATwB,GAAgB,EAAItsF,EAAIA,CAClC,CACD,SAASirF,GAAa/iF,EAAM4iF,EAAOlO,GAC/B,IAAQvnF,EAAU6S,EAAV7S,MACR,GAAIu1F,GAAYv1F,GAAQ,CACpB,IAAMqgB,EAAMrgB,EAAM4K,SAAS6qF,GAC3B,OAAOz1F,EAAQ,EAAI,IAAMunF,EAASlnE,EAAI2X,OAAO,GAAKuvD,EAASlnE,CAC9D,CACD,OAAOu0E,GAAgB/hF,EAC1B,CACD,IAAMqkF,GAAS,CACXtM,SAAU2K,GACVxK,SAAS,EACTnhD,IAAK,wBACLrsC,OAAQ,MACRsN,KAAM,mBACN5P,QAAS,SAAColB,EAAKy1E,EAAUhG,GAAhB,OAAwB0F,GAAWn1E,EAAK,EAAG,EAAGyvE,EAA9C,EACT51F,UAAW,SAAA2Y,GAAI,OAAI+iF,GAAa/iF,EAAM,EAAG,KAA1B,GAEbgjF,GAAS,CACXjL,SAAU2K,GACVxK,SAAS,EACTnhD,IAAK,wBACLrsC,OAAQ,MACRsN,KAAM,kBACN5P,QAAS,SAAColB,EAAKy1E,EAAUhG,GAAhB,OAAwB0F,GAAWn1E,EAAK,EAAG,EAAGyvE,EAA9C,EACT51F,UAAW,SAAA2Y,GAAI,OAAI+iF,GAAa/iF,EAAM,EAAG,IAA1B,GAEbkjF,GAAM,CACRnL,SAAU2K,GACVxK,SAAS,EACTnhD,IAAK,wBACL/+B,KAAM,sBACN5P,QAAS,SAAColB,EAAKy1E,EAAUhG,GAAhB,OAAwB0F,GAAWn1E,EAAK,EAAG,GAAIyvE,EAA/C,EACT51F,UAAW06F,IAEToB,GAAS,CACXpL,SAAU2K,GACVxK,SAAS,EACTnhD,IAAK,wBACLrsC,OAAQ,MACRsN,KAAM,yBACN5P,QAAS,SAAColB,EAAKy1E,EAAUhG,GAAhB,OAAwB0F,GAAWn1E,EAAK,EAAG,GAAIyvE,EAA/C,EACT51F,UAAW,SAAA2Y,GAAI,OAAI+iF,GAAa/iF,EAAM,GAAI,KAA3B,GC/DbskF,GAAAA,SAAAA,qBACF,WAAY9M,GAAQ,wBAChB,cAAMA,IACDzgD,IAAMutD,EAAQvtD,IAFH,CAGnB,8BACD,SAAIhrC,GACA,IAAIq1F,EAEAA,EADA/O,GAAOtmF,GACAA,EACFA,GACU,kBAARA,GACP,QAASA,GACT,UAAWA,GACG,OAAdA,EAAIoB,MACG,IAAI2mF,GAAK/nF,EAAIA,IAAK,MAElB,IAAI+nF,GAAK/nF,EAAK,MACZm1F,GAAS30F,KAAK+wD,MAAO8jC,EAAKr1F,MAEnCQ,KAAK+wD,MAAMnrD,KAAKivF,EACvB,oBAKD,SAAIr1F,EAAKw4F,GACL,IAAMnD,EAAOF,GAAS30F,KAAK+wD,MAAOvxD,GAClC,OAAQw4F,GAAYlS,GAAO+O,GACrB9O,GAAS8O,EAAKr1F,KACVq1F,EAAKr1F,IAAIoB,MACTi0F,EAAKr1F,IACTq1F,CACT,oBACD,SAAIr1F,EAAKoB,GACL,GAAqB,mBAAVA,EACP,MAAM,IAAIyD,MAAJ,+EAAkFzD,IAC5F,IAAMwG,EAAOutF,GAAS30F,KAAK+wD,MAAOvxD,GAC9B4H,IAASxG,EACTZ,KAAK+wD,MAAMnxC,OAAO5f,KAAK+wD,MAAM/iD,QAAQ5G,GAAO,IAEtCA,GAAQxG,GACdZ,KAAK+wD,MAAMnrD,KAAK,IAAI2hF,GAAK/nF,GAEhC,uBACD,SAAO+yF,EAAGjjB,GACN,iDAAoBijB,EAAGjjB,EAAK/8D,IAC/B,yBACD,SAAS+8D,EAAKqG,EAAWmZ,GACrB,IAAKxf,EACD,OAAOz0E,KAAKC,UAAUkF,MAC1B,GAAIA,KAAKk1F,kBAAiB,GACtB,OAAO,4CAAex1F,OAAOynF,OAAO,CAAC,EAAG7X,EAAK,CAAEkjB,eAAe,IAAS7c,EAAWmZ,GAElF,MAAM,IAAIzqF,MAAM,sCACvB,uBACD,SAAY4mF,EAAQjlF,EAAUspE,GAC1B,IAAQ6lB,EAAa7lB,EAAb6lB,SACFjnF,EAAM,IAAIlO,KAAKirF,GACrB,GAAIjlF,GAAYtF,OAAOI,YAAYpB,OAAOsG,GAA1C,WACsBA,GADtB,IACI,2BAA4B,KAAnBpF,EAAmB,QACA,oBAAbu0F,IACPv0F,EAAQu0F,EAAS30F,KAAKwF,EAAUpF,EAAOA,IAC3CsN,EAAI6iD,MAAMnrD,KAAK0sF,GAAW1xF,EAAO,KAAM0uE,GAC1C,CALL,gCAMA,OAAOphE,CACV,OAjEC6pF,CAAgBnD,IAmEtBmD,GAAQvtD,IAAM,wBACd,IAAMt8B,GAAM,CACR2lF,WAAY,MACZrI,SAAU,SAAA5qF,GAAK,OAAIA,aAAiB2R,GAArB,EACfm5E,UAAWqM,GACXpM,SAAS,EACTnhD,IAAK,wBACLugD,WAAY,SAACE,EAAQjlF,EAAUspE,GAAnB,OAA2ByoB,GAAQp7F,KAAKsuF,EAAQjlF,EAAUspE,EAA1D,EACZzzE,QAPQ,SAOAgU,EAAK+lE,GACT,GAAIiQ,GAAMh2E,GAAM,CACZ,GAAIA,EAAIqlF,kBAAiB,GACrB,OAAOx1F,OAAOynF,OAAO,IAAI4Q,GAAWloF,GAEpC+lE,EAAQ,sCACf,MAEGA,EAAQ,mCACZ,OAAO/lE,CACV,GCtFL,SAASooF,GAAiBh3E,EAAKi3E,GAC3B,IAAML,EAAO52E,EAAI,GACXinE,EAAiB,MAAT2P,GAAyB,MAATA,EAAe52E,EAAIsW,UAAU,GAAKtW,EAC1Dy0E,EAAM,SAACnqF,GAAD,OAAO2sF,EAAWhN,OAAO3/E,GAAKnB,OAAOmB,EAArC,EACNrQ,EAAMgtF,EACPhrE,QAAQ,KAAM,IACdhG,MAAM,KACNrG,QAAO,SAAC3V,EAAKgO,GAAN,OAAYhO,EAAMw6F,EAAI,IAAMA,EAAIxsF,EAAhC,GAAoCwsF,EAAI,IACpD,MAAiB,MAATmC,EAAenC,GAAK,GAAKx6F,EAAMA,CAC1C,CAMD,SAASi9F,GAAqB1kF,GAC1B,IAAM7S,EAAU6S,EAAV7S,MACF80F,EAAM,SAACnqF,GAAD,OAAOA,CAAP,EACV,GAAqB,kBAAV3K,EACP80F,EAAM,SAAAnqF,GAAC,OAAI2/E,OAAO3/E,EAAX,OACN,GAAIrF,MAAMtF,KAAW+0F,SAAS/0F,GAC/B,OAAO40F,GAAgB/hF,GAC3B,IAAIokF,EAAO,GACPj3F,EAAQ,IACRi3F,EAAO,IACPj3F,GAAS80F,GAAK,IAElB,IAAM0C,EAAM1C,EAAI,IACVxN,EAAQ,CAACtnF,EAAQw3F,GAYvB,OAXIx3F,EAAQ,GACRsnF,EAAM3mD,QAAQ,IAGd3gC,GAASA,EAAQsnF,EAAM,IAAMkQ,EAC7BlQ,EAAM3mD,QAAQ3gC,EAAQw3F,GAClBx3F,GAAS,KACTA,GAASA,EAAQsnF,EAAM,IAAMkQ,EAC7BlQ,EAAM3mD,QAAQ3gC,KAGdi3F,EACJ3P,EACKr4E,KAAI,SAAAtE,GAAC,OAAIpB,OAAOoB,GAAGuc,SAAS,EAAG,IAA1B,IACLvrB,KAAK,KACL2gB,QAAQ,aAAc,GAElC,CACD,IAAMm7E,GAAU,CACZ7M,SAAU,SAAA5qF,GAAK,MAAqB,kBAAVA,GAAsBwJ,OAAOyhF,UAAUjrF,EAAlD,EACf+qF,SAAS,EACTnhD,IAAK,wBACLrsC,OAAQ,OACRsN,KAAM,uCACN5P,QAAS,SAAColB,EAAKy1E,EAAN,UAAoCuB,GAAiBh3E,EAArD,EAAkBq1E,YAAlB,EACTx7F,UAAWq9F,IAETG,GAAY,CACd9M,SAAU,SAAA5qF,GAAK,MAAqB,kBAAVA,CAAX,EACf+qF,SAAS,EACTnhD,IAAK,0BACLrsC,OAAQ,OACRsN,KAAM,gDACN5P,QAAS,SAAAolB,GAAG,OAAIg3E,GAAiBh3E,GAAK,EAA1B,EACZnmB,UAAWq9F,IAETI,GAAY,CACd/M,SAAU,SAAA5qF,GAAK,OAAIA,aAAiB4T,IAArB,EACfm3E,SAAS,EACTnhD,IAAK,8BAIL/+B,KAAM40B,OAAO,6JAMbxkC,QAbc,SAaNolB,GACJ,IAAM9D,EAAQ8D,EAAI9D,MAAMo7E,GAAU9sF,MAClC,IAAK0R,EACD,MAAM,IAAI9Y,MAAM,wDACpB,QAAmD8Y,EAAMtN,IAAIzF,QAA7D,GAASouF,EAAT,KAAeC,EAAf,KAAsBC,EAAtB,KAA2BC,EAA3B,KAAiCC,EAAjC,KAAyCC,EAAzC,KACMC,EAAW37E,EAAM,GAAK/S,QAAQ+S,EAAM,GAAK,MAAMyb,OAAO,EAAG,IAAM,EACjEmgE,EAAOvkF,KAAKwkF,IAAIR,EAAMC,EAAQ,EAAGC,EAAKC,GAAQ,EAAGC,GAAU,EAAGC,GAAU,EAAGC,GACzEG,EAAK97E,EAAM,GACjB,GAAI87E,GAAa,MAAPA,EAAY,CAClB,IAAI35F,EAAI24F,GAAiBgB,GAAI,GACzB3+E,KAAKkW,IAAIlxB,GAAK,KACdA,GAAK,IACTy5F,GAAQ,IAAQz5F,CACnB,CACD,OAAO,IAAIkV,KAAKukF,EACnB,EACDj+F,UAAW,qBAAG8F,MAAkBs4F,cAAch8E,QAAQ,yBAA0B,GAArE,GCpFT+tE,GAAS,CACXp7E,GACAsT,GACAm3D,GACAgb,GACAqC,GACAC,GACAE,GACArB,GACAE,GACAC,GACAhB,GACAG,GACAE,GACAa,GACAU,GACAF,GACAppF,GACAmqF,GACAC,GACAC,ICjBEY,GAAU,IAAIprF,IAAI,CACpB,CAAC,OAAQk9E,IACT,CAAC,WAAY,CAACp7E,GAAKsT,GAAKm3D,KACxB,CAAC,OAAQ8e,IACT,CAAC,SAAUC,IACX,CAAC,WAAYA,MAEXC,GAAa,CACfxC,OAAAA,GACAyC,KAAMhE,GACNU,MAAAA,GACAF,SAAAA,GACAH,SAAAA,GACA0C,UAAAA,GACA3B,IAAAA,GACAC,OAAAA,GACAH,OAAAA,GACA4B,QAAAA,GACAxoF,IAAAA,GACA2pF,KAAMlE,GACNkC,KAAAA,GACAF,MAAAA,GACAn0E,IAAAA,GACAjV,IAAAA,GACAqqF,UAAAA,IAEEkB,GAAgB,CAClB,2BAA4B3C,GAC5B,yBAA0BU,GAC1B,0BAA2BF,GAC3B,wBAAyBppF,GACzB,8BAA+BqqF,IAEnC,SAASmB,GAAQC,EAAYC,GACzB,IAAI3W,EAAOkW,GAAQt5F,IAAI+5F,GACvB,IAAK3W,EAAM,CACP,IAAI93E,MAAMQ,QAAQguF,GAEb,CACD,IAAM7yF,EAAOqE,MAAMxO,KAAKw8F,GAAQryF,QAC3B2D,QAAO,SAAAjL,GAAG,MAAY,WAARA,CAAJ,IACVqQ,KAAI,SAAArQ,GAAG,OAAI3E,KAAKC,UAAU0E,EAAnB,IACPjD,KAAK,MACV,MAAM,IAAI8H,MAAJ,0BAA6Bu1F,EAA7B,yBAAwD9yF,EAAxD,+BACT,CAPGm8E,EAAO,EAQd,CACD,GAAI93E,MAAMQ,QAAQguF,GAAa,WACTA,GADS,IAC3B,2BACI,KADOnvD,EACP,QAAAy4C,EAAOA,EAAKnzE,OAAO06B,EAAK,CAFD,+BAG9B,KAC8B,oBAAfmvD,IACZ1W,EAAO0W,EAAW1W,EAAKtnF,UAE3B,OAAOsnF,EAAKpzE,KAAI,SAAA26B,GACZ,GAAmB,kBAARA,EACP,OAAOA,EACX,IAAM+gD,EAAS+N,GAAW9uD,GAC1B,GAAI+gD,EACA,OAAOA,EACX,IAAMzkF,EAAOpH,OAAOoH,KAAKwyF,IACpBzpF,KAAI,SAAArQ,GAAG,OAAI3E,KAAKC,UAAU0E,EAAnB,IACPjD,KAAK,MACV,MAAM,IAAI8H,MAAJ,8BAAiCmmC,EAAjC,yBAAqD1jC,GAC9D,GACJ,CC1ED,IAAM+yF,GAAsB,SAACjwF,EAAG6M,GAAJ,OAAU7M,EAAEpK,IAAMiX,EAAEjX,KAAO,EAAIoK,EAAEpK,IAAMiX,EAAEjX,IAAM,EAAI,CAAnD,EACtBs6F,GAAAA,WACF,cAAuG,IAAzFzJ,EAAyF,EAAzFA,OAAQsJ,EAAiF,EAAjFA,WAAY3kF,EAAqE,EAArEA,MAAO+kF,EAA8D,EAA9DA,iBAAkB9O,EAA4C,EAA5CA,OAAQ+J,EAAoC,EAApCA,eAAgBgF,EAAoB,EAApBA,iBAAoB,UACnGh6F,KAAKqwF,OAASllF,MAAMQ,QAAQ0kF,GACtBqJ,GAAQrJ,EAAQ,UAChBA,EACIqJ,GAAQ,KAAMrJ,GACd,KACVrwF,KAAKgV,QAAUA,EACfhV,KAAKvB,KAA0B,kBAAXwsF,GAAuBA,GAAW,OACtDjrF,KAAKi6F,UAAYF,EAAmBN,GAAgB,CAAC,EACrDz5F,KAAKijF,KAAOyW,GAAQC,EAAY35F,KAAKvB,MACrCuB,KAAKkxF,gBAAL,OAAuB8I,QAAvB,IAAuBA,EAAAA,EAAoB,KAC3Ct6F,OAAOC,eAAeK,KAAMslF,GAAK,CAAE1kF,MAAOiP,KAC1CnQ,OAAOC,eAAeK,KAAMwlF,GAAQ,CAAE5kF,MAAO05E,KAC7C56E,OAAOC,eAAeK,KAAMylF,GAAK,CAAE7kF,MAAOuiB,KAE1CnjB,KAAKg1F,eACyB,oBAAnBA,EACDA,GACmB,IAAnBA,EACI6E,GACA,IACjB,gCACD,WACI,IAAMp1C,EAAO/kD,OAAO0C,OAAO03F,EAAOx5F,UAAWZ,OAAOmL,0BAA0B7K,OAE9E,OADAykD,EAAKw+B,KAAOjjF,KAAKijF,KAAKtnF,QACf8oD,CACV,OA3BCq1C,OCKAI,GAAAA,WACF,WAAYt5F,EAAOu0F,EAAUhgF,GAAS,gBAElCnV,KAAKqsF,cAAgB,KAErBrsF,KAAKkf,QAAU,KAEflf,KAAK8R,OAAS,GAEd9R,KAAKm6F,SAAW,GAChBz6F,OAAOC,eAAeK,KAAM0lF,GAAW,CAAE9kF,MAAOykF,KAChD,IAAI+U,EAAY,KACQ,oBAAbjF,GAA2BhqF,MAAMQ,QAAQwpF,GAChDiF,EAAYjF,OAEKj5F,IAAZiZ,GAAyBggF,IAC9BhgF,EAAUggF,EACVA,OAAWj5F,GAEf,IAAMw0F,EAAMhxF,OAAOynF,OAAO,CACtBmP,aAAa,EACb+D,kBAAkB,EAClB5I,SAAU,OACV6I,cAAc,EACd7iE,QAAQ,EACR8iE,YAAY,EACZxpB,QAAS,OACV57D,GACHnV,KAAKmV,QAAUu7E,EACf,IAAM3f,EAAY2f,EAAZ3f,QACN,UAAI57D,SAAJ,OAAI,EAASqlF,aACTx6F,KAAK2wF,WAAax7E,EAAQqlF,YAAYC,aAClCz6F,KAAK2wF,WAAWhJ,KAAKM,WACrBlX,EAAU/wE,KAAK2wF,WAAWhJ,KAAK5W,UAGnC/wE,KAAK2wF,WAAa,IAAIjJ,GAAW,CAAE3W,QAAAA,IACvC/wE,KAAK06F,UAAU3pB,EAAS57D,GAExBnV,KAAKqiF,cACSnmF,IAAV0E,EAAsB,KAAOZ,KAAK+qF,WAAWnqF,EAAOw5F,EAAWjlF,EACtE,gCAMD,WACI,IAAMsvC,EAAO/kD,OAAO0C,OAAO83F,EAAS55F,UAAvB,KACRolF,GAAY,CAAE9kF,MAAOykF,MAgB1B,OAdA5gC,EAAK4nC,cAAgBrsF,KAAKqsF,cAC1B5nC,EAAKvlC,QAAUlf,KAAKkf,QACpBulC,EAAK3yC,OAAS9R,KAAK8R,OAAOnW,QAC1B8oD,EAAK01C,SAAWn6F,KAAKm6F,SAASx+F,QAC9B8oD,EAAKtvC,QAAUzV,OAAOynF,OAAO,CAAC,EAAGnnF,KAAKmV,SAClCnV,KAAK2wF,aACLlsC,EAAKksC,WAAa3wF,KAAK2wF,WAAWpjD,SACtCkX,EAAKwmC,OAASjrF,KAAKirF,OAAO19C,QAE1BkX,EAAK49B,SAAW6D,GAAOlmF,KAAKqiF,UACtBriF,KAAKqiF,SAAS90C,MAAMkX,EAAKwmC,QACzBjrF,KAAKqiF,SACPriF,KAAK06B,QACL+pB,EAAK/pB,MAAQ16B,KAAK06B,MAAM/+B,SACrB8oD,CACV,oBAED,SAAI7jD,GACI+5F,GAAiB36F,KAAKqiF,WACtBriF,KAAKqiF,SAASvvE,IAAIlS,EACzB,sBAED,SAAMjG,EAAMiG,GACJ+5F,GAAiB36F,KAAKqiF,WACtBriF,KAAKqiF,SAAS2J,MAAMrxF,EAAMiG,EACjC,4BAUD,SAAY6S,EAAMhV,GACd,IAAKgV,EAAKQ,OAAQ,CACd,IAAM7M,EAAO0hF,GAAY9oF,MACzByT,EAAKQ,QAEAxV,GAAQ2I,EAAK6G,IAAIxP,GAAQuqF,GAAcvqF,GAAQ,IAAK2I,GAAQ3I,CACpE,CACD,OAAO,IAAI2oF,GAAM3zE,EAAKQ,OACzB,2BACD,SAAWrT,EAAOu0F,EAAUhgF,GAAS,MAC7BilF,OAAYl+F,EAChB,GAAwB,oBAAbi5F,EACPv0F,EAAQu0F,EAAS30F,KAAK,CAAE,GAAII,GAAS,GAAIA,GACzCw5F,EAAYjF,OAEX,GAAIhqF,MAAMQ,QAAQwpF,GAAW,CAC9B,IACMyF,EAAQzF,EAAS1qF,QADN,SAACwyB,GAAD,MAAoB,kBAANA,GAAkBA,aAAa9yB,QAAU8yB,aAAa7yB,MAApE,IACuByF,IAAI1F,QACxCywF,EAAMr/F,OAAS,IACf45F,EAAWA,EAASrlF,OAAO8qF,IAC/BR,EAAYjF,CACf,WACoBj5F,IAAZiZ,GAAyBggF,IAC9BhgF,EAAUggF,EACVA,OAAWj5F,GAEf,gBAAoFiZ,SAApF,QAA+F,CAAC,EAAxFg2E,EAAR,EAAQA,sBAAuB0P,EAA/B,EAA+BA,aAAc5H,EAA7C,EAA6CA,KAAMnH,EAAnD,EAAmDA,cAAeV,EAAlE,EAAkEA,SAAU5gD,EAA5E,EAA4EA,IAC5E,EzC3FR,SAA2B+9C,EAAKJ,GAC5B,IAAM2S,EAAe,GACfzP,EAAgB,IAAIt9E,IACtBgtF,EAAc,KAClB,MAAO,CACHnR,SAAU,SAACh/E,GACPkwF,EAAal1F,KAAKgF,GACbmwF,IACDA,EAAcjS,GAAYP,IAC9B,IAAMt0E,EAAS+0E,GAAcb,EAAQ4S,GAErC,OADAA,EAAYjoF,IAAImB,GACTA,CACV,EAMD+mF,WAAY,WAAM,UACOF,GADP,IACd,2BAAmC,KAAxBlwF,EAAwB,QACzB0gF,EAAMD,EAAcxrF,IAAI+K,GAC9B,GAAmB,kBAAR0gF,IACPA,EAAIr3E,SACH8xE,GAASuF,EAAI73E,QAASwyE,GAAaqF,EAAI73E,MAGvC,CACD,IAAMxP,EAAQ,IAAII,MAAM,8DAExB,MADAJ,EAAM2G,OAASA,EACT3G,CACT,CANGqnF,EAAI73E,KAAKQ,OAASq3E,EAAIr3E,MAO7B,CAba,+BAcjB,EACDo3E,cAAAA,EAEP,CyCwDuD4P,CAAkBj7F,KAElE66F,GAAgB,KAFRjR,EAAR,EAAQA,SAAUoR,EAAlB,EAAkBA,WAAY3P,EAA9B,EAA8BA,cAYxB53E,EAAOs3E,GAAWnqF,EAAO4pC,EATnB,CACR2gD,sBAAqB,OAAEA,QAAF,IAAEA,GAAAA,EACvBW,cAAa,OAAEA,QAAF,IAAEA,GAAAA,EACflC,SAAAA,EACAwB,SAAAA,EACA+J,SAAUiF,EACVnP,OAAQjrF,KAAKirF,OACbI,cAAAA,IAMJ,OAHI4H,GAAQhN,GAAaxyE,KACrBA,EAAKw/E,MAAO,GAChB+H,IACOvnF,CACV,2BAKD,SAAWjU,EAAKoB,GAAqB,IAAduU,EAAc,uDAAJ,CAAC,EACxBuN,EAAI1iB,KAAK+qF,WAAWvrF,EAAK,KAAM2V,GAC/B8nB,EAAIj9B,KAAK+qF,WAAWnqF,EAAO,KAAMuU,GACvC,OAAO,IAAIoyE,GAAK7kE,EAAGua,EACtB,uBAKD,SAAOz9B,GACH,QAAOm7F,GAAiB36F,KAAKqiF,WAAYriF,KAAKqiF,SAASr+D,OAAOxkB,EACjE,yBAKD,SAAS7E,GACL,OAAIoxF,GAAYpxF,GACS,MAAjBqF,KAAKqiF,WAGTriF,KAAKqiF,SAAW,MACT,KAEJsY,GAAiB36F,KAAKqiF,WACvBriF,KAAKqiF,SAAS4J,SAAStxF,EAEhC,oBAMD,SAAI6E,EAAK0sF,GACL,OAAOjG,GAAajmF,KAAKqiF,UACnBriF,KAAKqiF,SAASxiF,IAAIL,EAAK0sF,QACvBhwF,CACT,sBAMD,SAAMvB,EAAMuxF,GACR,OAAIH,GAAYpxF,IACJuxF,GAAcnG,GAAS/lF,KAAKqiF,UAC9BriF,KAAKqiF,SAASzhF,MACdZ,KAAKqiF,SACR4D,GAAajmF,KAAKqiF,UACnBriF,KAAKqiF,SAAS8J,MAAMxxF,EAAMuxF,QAC1BhwF,CACT,oBAID,SAAIsD,GACA,QAAOymF,GAAajmF,KAAKqiF,WAAYriF,KAAKqiF,SAASp0E,IAAIzO,EAC1D,sBAID,SAAM7E,GACF,OAAIoxF,GAAYpxF,QACauB,IAAlB8D,KAAKqiF,WACT4D,GAAajmF,KAAKqiF,WAAYriF,KAAKqiF,SAASiK,MAAM3xF,EAC5D,oBAKD,SAAI6E,EAAKoB,GACgB,MAAjBZ,KAAKqiF,SAELriF,KAAKqiF,SAAWuJ,GAAmB5rF,KAAKirF,OAAQ,CAACzrF,GAAMoB,GAElD+5F,GAAiB36F,KAAKqiF,WAC3BriF,KAAKqiF,SAASn0E,IAAI1O,EAAKoB,EAE9B,sBAKD,SAAMjG,EAAMiG,GACJmrF,GAAYpxF,GAEZqF,KAAKqiF,SAAWzhF,EAEM,MAAjBZ,KAAKqiF,SAEVriF,KAAKqiF,SAAWuJ,GAAmB5rF,KAAKirF,OAAQ9/E,MAAMxO,KAAKhC,GAAOiG,GAE7D+5F,GAAiB36F,KAAKqiF,WAC3BriF,KAAKqiF,SAASkK,MAAM5xF,EAAMiG,EAEjC,0BAQD,SAAUmwE,GAAuB,IAGzB2f,EAHWv7E,EAAc,uDAAJ,CAAC,EAI1B,OAHuB,kBAAZ47D,IACPA,EAAU5mE,OAAO4mE,IAEbA,GACJ,IAAK,MACG/wE,KAAK2wF,WACL3wF,KAAK2wF,WAAWhJ,KAAK5W,QAAU,MAE/B/wE,KAAK2wF,WAAa,IAAIjJ,GAAW,CAAE3W,QAAS,QAChD2f,EAAM,CAAE17E,OAAO,EAAM+kF,kBAAkB,EAAO9O,OAAQ,YACtD,MACJ,IAAK,MACL,IAAK,OACGjrF,KAAK2wF,WACL3wF,KAAK2wF,WAAWhJ,KAAK5W,QAAUA,EAE/B/wE,KAAK2wF,WAAa,IAAIjJ,GAAW,CAAE3W,QAAAA,IACvC2f,EAAM,CAAE17E,OAAO,EAAO+kF,kBAAkB,EAAM9O,OAAQ,QACtD,MACJ,KAAK,KACGjrF,KAAK2wF,mBACE3wF,KAAK2wF,WAChBD,EAAM,KACN,MACJ,QACI,IAAMwK,EAAKrgG,KAAKC,UAAUi2E,GAC1B,MAAM,IAAI1sE,MAAJ,sEAAyE62F,IAIvF,GAAI/lF,EAAQ81E,kBAAkBvrF,OAC1BM,KAAKirF,OAAS91E,EAAQ81E,WACrB,KAAIyF,EAGL,MAAM,IAAIrsF,MAAJ,uEAFNrE,KAAKirF,OAAS,IAAI6O,GAAOp6F,OAAOynF,OAAOuJ,EAAKv7E,GAE5C,CACP,qBAED,WAAyE,6DAAJ,CAAC,EAA/DwjC,EAAkE,EAAlEA,KAAMwiD,EAA4D,EAA5DA,QAASzR,EAAmD,EAAnDA,SAAUC,EAAyC,EAAzCA,cAAeC,EAA0B,EAA1BA,SAAUV,EAAgB,EAAhBA,QAC/C5Z,EAAM,CACRyZ,QAAS,IAAIh7E,IACbw6E,IAAKvoF,KACLwpF,MAAO7wC,EACP+wC,UAAuB,IAAbA,EACVG,cAAc,EACdF,cAAwC,kBAAlBA,EAA6BA,EAAgB,KAEjEzuF,EAAMmuF,GAAKrpF,KAAKqiF,SAAN,OAAgB8Y,QAAhB,IAAgBA,EAAAA,EAAW,GAAI7rB,GAC/C,GAAwB,oBAAbsa,EAAX,WACiCta,EAAIyZ,QAAQ7lF,UAD7C,IACI,2BACI,eADSkW,EACT,EADSA,MACTwwE,EAAA,EADgB1uF,IACFke,EAAO,CAF7B,gCAGA,MAA0B,oBAAZ8vE,EACRD,GAAaC,EAAS,CAAE,GAAIhuF,GAAO,GAAIA,GACvCA,CACT,uBAOD,SAAOigG,EAASvR,GACZ,OAAO5pF,KAAKqpF,KAAK,CAAE1wC,MAAM,EAAMwiD,QAAAA,EAASzR,UAAU,EAAOE,SAAAA,GAC5D,yBAED,WAAuB,IAAdz0E,EAAc,uDAAJ,CAAC,EAChB,GAAInV,KAAK8R,OAAOvW,OAAS,EACrB,MAAM,IAAI8I,MAAM,8CACpB,GAAI,WAAY8Q,KACV/K,OAAOyhF,UAAU12E,EAAQqyC,SAAWp9C,OAAO+K,EAAQqyC,SAAW,GAAI,CACpE,IAAM36C,EAAIhS,KAAKC,UAAUqa,EAAQqyC,QACjC,MAAM,IAAInjD,MAAJ,0DAA6DwI,GACtE,CACD,OChUR,SAA2B07E,EAAKpzE,GAAS,MAC/BypB,EAAQ,GACVw8D,GAAuC,IAAvBjmF,EAAQw7E,WAC5B,IAA2B,IAAvBx7E,EAAQw7E,YAAwBpI,EAAIoI,WAAY,CAChD,IAAMryF,EAAMiqF,EAAIoI,WAAWnlF,SAAS+8E,GAChCjqF,GACAsgC,EAAMh5B,KAAKtH,GACX88F,GAAgB,GAEX7S,EAAIoI,WAAW/I,WACpBwT,GAAgB,EACvB,CACGA,GACAx8D,EAAMh5B,KAAK,OACf,IAAM0pE,EAAMmhB,GAAuBlI,EAAKpzE,GAChC65E,EAAkB1f,EAAIn6D,QAAtB65E,cACR,GAAIzG,EAAI8D,cAAe,CACE,IAAjBztD,EAAMrjC,QACNqjC,EAAM2C,QAAQ,IAClB,IAAM8xD,EAAKrE,EAAczG,EAAI8D,eAC7BztD,EAAM2C,QAAQmrD,GAAc2G,EAAI,IACnC,CACD,IAAIN,GAAY,EACZsI,EAAiB,KACrB,GAAI9S,EAAIlG,SAAU,CACd,GAAI6D,GAAOqC,EAAIlG,UAAW,CAGtB,GAFIkG,EAAIlG,SAAS2Q,aAAeoI,GAC5Bx8D,EAAMh5B,KAAK,IACX2iF,EAAIlG,SAASgK,cAAe,CAC5B,IAAMgH,EAAKrE,EAAczG,EAAIlG,SAASgK,eACtCztD,EAAMh5B,KAAK8mF,GAAc2G,EAAI,IAChC,CAED/jB,EAAI6f,mBAAqB5G,EAAIrpE,QAC7Bm8E,EAAiB9S,EAAIlG,SAASnjE,OACjC,CACD,IAAM4vE,EAAcuM,OAAiBn/F,EAAY,kBAAO62F,GAAY,CAAnB,EAC7ClD,EAAO/0F,GAAUytF,EAAIlG,SAAU/S,GAAK,kBAAO+rB,EAAiB,IAAxB,GAA+BvM,GACnEuM,IACAxL,GAAQlD,GAAYkD,EAAM,GAAIb,EAAcqM,KAC/B,MAAZxL,EAAK,IAA0B,MAAZA,EAAK,IACG,QAA5BjxD,EAAMA,EAAMrjC,OAAS,GAMrBqjC,EAAMh5B,KAAKiqF,GAHXjxD,EAAMA,EAAMrjC,OAAS,GAArB,cAAiCs0F,EAIxC,MAEGjxD,EAAMh5B,KAAK9K,GAAUytF,EAAIlG,SAAU/S,IAEvC,aAAIiZ,EAAIoI,kBAAR,OAAI,EAAgB9I,OAChB,GAAIU,EAAIrpE,QAAS,CACb,IAAMm0E,EAAKrE,EAAczG,EAAIrpE,SACzBm0E,EAAGxG,SAAS,OACZjuD,EAAMh5B,KAAK,OACXg5B,EAAMh5B,KAAK8mF,GAAc2G,EAAI,MAG7Bz0D,EAAMh5B,KAAN,cAAkBytF,GAEzB,MAEGz0D,EAAMh5B,KAAK,WAGd,CACD,IAAI01F,EAAK/S,EAAIrpE,QACTo8E,GAAMvI,IACNuI,EAAKA,EAAGp+E,QAAQ,OAAQ,KACxBo+E,IACMvI,IAAasI,GAA+C,KAA5Bz8D,EAAMA,EAAMrjC,OAAS,IACvDqjC,EAAMh5B,KAAK,IACfg5B,EAAMh5B,KAAK8mF,GAAcsC,EAAcsM,GAAK,KAEnD,CACD,OAAO18D,EAAMriC,KAAK,MAAQ,IAC7B,CDkPcg/F,CAAkBv7F,KAAMmV,EAClC,OAzTC+kF,GA2TN,SAASS,GAAiBtY,GACtB,GAAI4D,GAAa5D,GACb,OAAO,EACX,MAAM,IAAIh+E,MAAM,kDACnB,KE3UKm3F,GAAAA,SAAAA,qBACF,WAAY/8F,EAAMi6B,EAAKz9B,EAAM0T,GAAS,wBAClC,gBACKlQ,KAAOA,EACZ,EAAKxD,KAAOA,EACZ,EAAK0T,QAAUA,EACf,EAAK+pB,IAAMA,EALuB,CAMrC,aAPC8iE,GAAkBn3F,QASlBo3F,GAAAA,SAAAA,qBACF,WAAY/iE,EAAKz9B,EAAM0T,GAAS,6BACtB,iBAAkB+pB,EAAKz9B,EAAM0T,EACtC,aAHC8sF,CAAuBD,IAKvBE,GAAAA,SAAAA,qBACF,WAAYhjE,EAAKz9B,EAAM0T,GAAS,6BACtB,cAAe+pB,EAAKz9B,EAAM0T,EACnC,aAHC+sF,CAAoBF,IAKpBG,GAAgB,SAAClqC,EAAKmqC,GAAN,OAAa,SAAC33F,GAChC,IAAsB,IAAlBA,EAAMy0B,IAAI,GAAd,CAEAz0B,EAAM43F,QAAU53F,EAAMy0B,IAAI7oB,KAAI,SAAA6oB,GAAG,OAAIkjE,EAAGC,QAAQnjE,EAAf,IACjC,MAAsBz0B,EAAM43F,QAAQ,GAA5B54D,EAAR,EAAQA,KAAMd,EAAd,EAAcA,IACdl+B,EAAM0K,SAAN,mBAA6Bs0B,EAA7B,oBAA6Cd,GAC7C,IAAI0kD,EAAK1kD,EAAM,EACX25D,EAAUrqC,EACTl6B,UAAUqkE,EAAGG,WAAW94D,EAAO,GAAI24D,EAAGG,WAAW94D,IACjD/lB,QAAQ,WAAY,IAEzB,GAAI2pE,GAAM,IAAMiV,EAAQvgG,OAAS,GAAI,CACjC,IAAM4oE,EAAY7pD,KAAKkR,IAAIq7D,EAAK,GAAIiV,EAAQvgG,OAAS,IACrDugG,EAAU,SAAMA,EAAQvkE,UAAU4sC,GAClC0iB,GAAM1iB,EAAY,CACrB,CAID,GAHI23B,EAAQvgG,OAAS,KACjBugG,EAAUA,EAAQvkE,UAAU,EAAG,IAAM,UAErC0L,EAAO,GAAK,OAAOx3B,KAAKqwF,EAAQvkE,UAAU,EAAGsvD,IAAM,CAEnD,IAAIz/E,EAAOqqD,EAAIl6B,UAAUqkE,EAAGG,WAAW94D,EAAO,GAAI24D,EAAGG,WAAW94D,EAAO,IACnE77B,EAAK7L,OAAS,KACd6L,EAAOA,EAAKmwB,UAAU,EAAG,IAAM,YACnCukE,EAAU10F,EAAO00F,CACpB,CACD,GAAI,OAAOrwF,KAAKqwF,GAAU,CACtB,IAAI1iF,EAAQ,EACN5b,EAAMyG,EAAM43F,QAAQ,GACtBr+F,GAAOA,EAAIylC,OAASA,GAAQzlC,EAAI2kC,IAAMA,IACtC/oB,EAAQkB,KAAKuV,IAAI,EAAGvV,KAAKkR,IAAIhuB,EAAI2kC,IAAMA,EAAK,GAAK0kD,KAErD,IAAMmV,EAAU,IAAI5K,OAAOvK,GAAM,IAAIuK,OAAOh4E,GAC5CnV,EAAM0K,SAAN,eAAyBmtF,EAAzB,aAAqCE,EAArC,KACH,CAhCS,CAiCb,CAnCqB,ECnBtB,SAASC,GAAaC,EAAtB,GAA0F,QAA1DjJ,EAA0D,EAA1DA,KAAMkJ,EAAoD,EAApDA,UAAWj3F,EAAyC,EAAzCA,KAAMgc,EAAmC,EAAnCA,OAAQ00D,EAA2B,EAA3BA,QAASwmB,EAAkB,EAAlBA,eAChEpJ,GAAc,EACdqJ,EAAYD,EACZE,EAAWF,EACXl9E,EAAU,GACVq9E,EAAa,GACb/I,GAAa,EACbgJ,GAAsB,EACtBC,GAAW,EACXxoF,EAAS,KACTu2B,EAAM,KACNkyD,EAAQ,KACR5S,EAAQ,KACRlsF,EAAQ,KAb0E,IAclEs+F,GAdkE,IActF,2BAA4B,KAAjBrpB,EAAiB,QAQxB,OAPI4pB,IACmB,UAAf5pB,EAAMnwE,MACS,YAAfmwE,EAAMnwE,MACS,UAAfmwE,EAAMnwE,MACNkzE,EAAQ/C,EAAM3xD,OAAQ,eAAgB,yEAC1Cu7E,GAAW,GAEP5pB,EAAMnwE,MACV,IAAK,SAIIuwF,GACDoJ,GACc,cAAdF,GACoB,OAApBtpB,EAAMjoE,OAAO,IACbgrE,EAAQ/C,EAAO,gBAAiB,uCACpCypB,GAAW,EACX,MACJ,IAAK,UACIA,GACD1mB,EAAQ/C,EAAO,eAAgB,0EACnC,IAAMh2C,EAAKg2C,EAAMjoE,OAAO2sB,UAAU,IAAM,IACnCrY,EAGDA,GAAWq9E,EAAa1/D,EAFxB3d,EAAU2d,EAGd0/D,EAAa,GACbF,GAAY,EACZ,MAEJ,IAAK,UACGA,EACIn9E,EACAA,GAAW2zD,EAAMjoE,OAEjBooF,GAAc,EAGlBuJ,GAAc1pB,EAAMjoE,OACxByxF,GAAY,EACZ7I,GAAa,GACTv/E,GAAUu2B,KACVgyD,GAAsB,GAC1BF,GAAW,EACX,MACJ,IAAK,SACGroF,GACA2hE,EAAQ/C,EAAO,mBAAoB,sCACnCA,EAAMjoE,OAAOgiF,SAAS,MACtBhX,EAAQ/C,EAAM3xD,OAAS2xD,EAAMjoE,OAAOrP,OAAS,EAAG,YAAa,mCAAmC,GACpG0Y,EAAS4+D,EACK,OAAVj1E,IACAA,EAAQi1E,EAAM3xD,QAClBm7E,GAAY,EACZC,GAAW,EACXG,GAAW,EACX,MACJ,IAAK,MACGjyD,GACAorC,EAAQ/C,EAAO,gBAAiB,mCACpCroC,EAAMqoC,EACQ,OAAVj1E,IACAA,EAAQi1E,EAAM3xD,QAClBm7E,GAAY,EACZC,GAAW,EACXG,GAAW,EACX,MAEJ,KAAKN,GAEGloF,GAAUu2B,IACVorC,EAAQ/C,EAAO,iBAAR,6CAAgEA,EAAMjoE,OAAtE,eACPk/E,GACAlU,EAAQ/C,EAAO,mBAAR,qBAA0CA,EAAMjoE,OAAhD,sBAA6DqoF,QAA7D,IAA6DA,EAAAA,EAAQ,eAChFnJ,EAAQjX,EACRwpB,GAAY,EACZC,GAAW,EACX,MACJ,IAAK,QACD,GAAIrJ,EAAM,CACFyJ,GACA9mB,EAAQ/C,EAAO,mBAAR,0BAA+CogB,IAC1DyJ,EAAQ7pB,EACRwpB,GAAY,EACZC,GAAW,EACX,KACH,CAEL,QACI1mB,EAAQ/C,EAAO,mBAAR,qBAA0CA,EAAMnwE,KAAhD,WACP25F,GAAY,EACZC,GAAW,EAEtB,CA7GqF,+BA8GtF,IAAMrlF,EAAOilF,EAAOA,EAAO3gG,OAAS,GAC9BiC,EAAMyZ,EAAOA,EAAKiK,OAASjK,EAAKrM,OAAOrP,OAAS2lB,EAQtD,OAPIu7E,GACAv3F,GACc,UAAdA,EAAKxC,MACS,YAAdwC,EAAKxC,MACS,UAAdwC,EAAKxC,OACU,WAAdwC,EAAKxC,MAAqC,KAAhBwC,EAAK0F,SAChCgrE,EAAQ1wE,EAAKgc,OAAQ,eAAgB,yEAClC,CACHw7E,MAAAA,EACA5S,MAAAA,EACAkJ,YAAAA,EACA9zE,QAAAA,EACAs0E,WAAAA,EACAgJ,oBAAAA,EACAvoF,OAAAA,EACAu2B,IAAAA,EACAhtC,IAAAA,EACAI,MAAK,UAAEA,SAAF,QAAWJ,EAEvB,CCnID,SAASm/F,GAAgBn9F,GACrB,IAAKA,EACD,OAAO,KACX,OAAQA,EAAIkD,MACR,IAAK,QACL,IAAK,SACL,IAAK,uBACL,IAAK,uBACD,GAAIlD,EAAIoL,OAAOiiF,SAAS,MACpB,OAAO,EACX,GAAIrtF,EAAIhC,IAAR,WACqBgC,EAAIhC,KADzB,IACI,2BACI,IAAgB,YAAhB,QAAOkF,KACH,OAAO,CAAK,CAHxB,gCAIA,OAAO,EACX,IAAK,kBAAL,UACqBlD,EAAIuxD,OADzB,IACI,2BAA4B,OAAjBpkD,EAAiB,YACPA,EAAG/O,OADI,IACxB,2BACI,IAAgB,YAAhB,QAAO8E,KACH,OAAO,CAAK,CAHI,+BAIxB,GAAIiK,EAAGtO,IAAP,WACqBsO,EAAGtO,KADxB,IACI,2BACI,IAAgB,YAAhB,QAAOqE,KACH,OAAO,CAAK,CAHxB,gCAIA,GAAIi6F,GAAgBhwF,EAAGnN,MAAQm9F,GAAgBhwF,EAAG/L,OAC9C,OAAO,CACd,CAXL,+BAYI,OAAO,EACX,QACI,OAAO,EAElB,CC7BD,SAASg8F,GAAgBp1C,EAAQq1C,EAAIjnB,GACjC,GAAiB,qBAAX,OAAFinB,QAAE,IAAFA,OAAA,EAAAA,EAAIn6F,MAA4B,CAChC,IAAMlF,EAAMq/F,EAAGr/F,IAAI,GACnB,GAAIA,EAAIgqD,SAAWA,IACC,MAAfhqD,EAAIoN,QAAiC,MAAfpN,EAAIoN,SAC3B+xF,GAAgBE,GAAK,CAErBjnB,EAAQp4E,EAAK,aADD,0DACoB,EACnC,CACJ,CACJ,CCVD,SAASs/F,GAAYxtB,EAAKve,EAAOnlB,GAC7B,IAAQ2uD,EAAejrB,EAAIn6D,QAAnBolF,WACR,IAAmB,IAAfA,EACA,OAAO,EACX,IAAMwC,EAAgC,oBAAfxC,EACjBA,EACA,SAAC3wF,EAAG6M,GAAJ,OAAU7M,IAAM6M,GACbsvE,GAASn8E,IACNm8E,GAAStvE,IACT7M,EAAEhJ,QAAU6V,EAAE7V,SACA,OAAZgJ,EAAEhJ,OAAkB0uE,EAAI2b,OAAOj2E,MAJvC,EAKN,OAAO+7C,EAAMpgD,MAAK,SAAAkkF,GAAI,OAAIkI,EAAQlI,EAAKr1F,IAAKosC,EAAtB,GACzB,CCPD,IAAMoxD,GAAc,kDCPpB,SAASC,GAAWz/F,EAAK0jB,EAAQu7E,EAAU7mB,GACvC,IAAI12D,EAAU,GACd,GAAI1hB,EAAK,CACL,IADK,EACD8+F,GAAW,EACXj+F,EAAM,GAFL,IAGeb,GAHf,IAGL,2BAAyB,KAAdq1E,EAAc,QACbjoE,EAAiBioE,EAAjBjoE,OAAQlI,EAASmwE,EAATnwE,KAChB,OAAQA,GACJ,IAAK,QACD45F,GAAW,EACX,MACJ,IAAK,UACGG,IAAaH,GACb1mB,EAAQ/C,EAAO,eAAgB,0EACnC,IAAMh2C,EAAKjyB,EAAO2sB,UAAU,IAAM,IAC7BrY,EAGDA,GAAW7gB,EAAMw+B,EAFjB3d,EAAU2d,EAGdx+B,EAAM,GACN,MAEJ,IAAK,UACG6gB,IACA7gB,GAAOuM,GACX0xF,GAAW,EACX,MACJ,QACI1mB,EAAQ/C,EAAO,mBAAR,qBAA0CnwE,EAA1C,iBAEfwe,GAAUtW,EAAOrP,MACpB,CA7BI,+BA8BR,CACD,MAAO,CAAE2jB,QAAAA,EAASgC,OAAAA,EACrB,CCzBD,IAAMg8E,GAAW,4DACXjP,GAAU,SAACpb,GAAD,OAAWA,IAAyB,cAAfA,EAAMnwE,MAAuC,cAAfmwE,EAAMnwE,KAAzD,ECFhB,SAASy6F,GAAkBC,EAAI9tB,EAAKuD,EAAO+C,EAASoV,EAASxgD,GACzD,IAAM6yD,EAAsB,cAAfxqB,EAAMnwE,KHDvB,WAA4D4sE,EAAKguB,EAAI1nB,EAASprC,GAAK,QAAxD+yD,EAAwD,EAAxDA,YAAaC,EAA2C,EAA3CA,iBAE9B3tF,EAAM,IADG,iBAAG26B,QAAH,IAAGA,OAAH,EAAGA,EAAKkhD,iBAAR,QAAqBkJ,IACVtlB,EAAI2b,QAC1B3b,EAAImuB,SACJnuB,EAAImuB,QAAS,GACjB,IAL+E,EAK3Ev8E,EAASo8E,EAAGp8E,OACZw8E,EAAa,KAN8D,IAOxDJ,EAAGvsC,OAPqD,IAO/E,2BAAiC,OAAtB4sC,EAAsB,QACrB//F,EAA2B+/F,EAA3B//F,MAAO4B,EAAoBm+F,EAApBn+F,IAAKnB,EAAes/F,EAAft/F,IAAKuC,EAAU+8F,EAAV/8F,MAEnBg9F,EAAW3B,GAAar+F,EAAO,CACjCu+F,UAAW,mBACXj3F,KAAI,OAAE1F,QAAF,IAAEA,EAAAA,EAAF,OAASnB,QAAT,IAASA,OAAT,EAASA,EAAM,GACnB6iB,OAAAA,EACA00D,QAAAA,EACAwmB,gBAAgB,IAEdhS,GAAewT,EAAS9T,MAC9B,GAAIM,EAAa,CAOb,GANI5qF,IACiB,cAAbA,EAAIkD,KACJkzE,EAAQ10D,EAAQ,wBAAyB,2DACpC,WAAY1hB,GAAOA,EAAIgoD,SAAW81C,EAAG91C,QAC1CouB,EAAQ10D,EAAQ,aAAc87E,MAEjCY,EAAS3pF,SAAW2pF,EAASpzD,MAAQnsC,EAAK,CAC3Cq/F,EAAaE,EAASpgG,IAClBogG,EAAS1+E,UACLrP,EAAIqP,QACJrP,EAAIqP,SAAW,KAAO0+E,EAAS1+E,QAE/BrP,EAAIqP,QAAU0+E,EAAS1+E,SAE/B,QACH,EACG0+E,EAASpB,qBAAuBG,GAAgBn9F,KAChDo2E,EAAO,OAACp2E,QAAD,IAACA,EAAAA,EAAO5B,EAAMA,EAAMrC,OAAS,GAAI,yBAA0B,4CAEzE,MACQ,UAAAqiG,EAAS9T,aAAT,eAAgBtiC,UAAW81C,EAAG91C,QACnCouB,EAAQ10D,EAAQ,aAAc87E,IAGlC,IAAMa,EAAWD,EAASpgG,IACpBsgG,EAAUt+F,EACV+9F,EAAYjuB,EAAK9vE,EAAKo+F,EAAUhoB,GAChC4nB,EAAiBluB,EAAKuuB,EAAUjgG,EAAO,KAAMggG,EAAUhoB,GACzDtG,EAAI2b,OAAOoF,QACXuM,GAAgBU,EAAG91C,OAAQhoD,EAAKo2E,GAChCknB,GAAYxtB,EAAKz/D,EAAIkhD,MAAO+sC,IAC5BloB,EAAQioB,EAAU,gBAAiB,2BAEvC,IAAME,EAAa9B,GAAY,OAAC59F,QAAD,IAACA,EAAAA,EAAO,GAAI,CACvC89F,UAAW,gBACXj3F,KAAMtE,EACNsgB,OAAQ48E,EAAQpjE,MAAM,GACtBk7C,QAAAA,EACAwmB,gBAAiB58F,GAAoB,iBAAbA,EAAIkD,OAGhC,GADAwe,EAAS68E,EAAWvgG,IAChBugG,EAAWjU,MAAO,CACdM,IACoB,eAAX,OAALxpF,QAAK,IAALA,OAAA,EAAAA,EAAO8B,OAAyBq7F,EAAWvK,YAC3C5d,EAAQ10D,EAAQ,wBAAyB,uDACzCouD,EAAIn6D,QAAQsiB,QACZmmE,EAAShgG,MAAQmgG,EAAWjU,MAAM5oE,OAAS,MAC3C00D,EAAQkoB,EAAQpjE,MAAO,sBAAuB,gGAGtD,IAAMo9C,EAAYl3E,EACZ28F,EAAYjuB,EAAK1uE,EAAOm9F,EAAYnoB,GACpC4nB,EAAiBluB,EAAKpuD,EAAQ7iB,EAAK,KAAM0/F,EAAYnoB,GACvDtG,EAAI2b,OAAOoF,QACXuM,GAAgBU,EAAG91C,OAAQ5mD,EAAOg1E,GACtC10D,EAAS42D,EAAUp9C,MAAM,GACzB,IAAMm6D,EAAO,IAAItN,GAAKuW,EAAShmB,GAC3BxI,EAAIn6D,QAAQklF,mBACZxF,EAAKmJ,SAAWL,GACpB9tF,EAAIkhD,MAAMnrD,KAAKivF,EAClB,KACI,CAEGzK,GACAxU,EAAQkoB,EAAQpjE,MAAO,eAAgB,uDACvCqjE,EAAW7+E,UACP4+E,EAAQ5+E,QACR4+E,EAAQ5+E,SAAW,KAAO6+E,EAAW7+E,QAErC4+E,EAAQ5+E,QAAU6+E,EAAW7+E,SAErC,IAAM21E,EAAO,IAAItN,GAAKuW,GAClBxuB,EAAIn6D,QAAQklF,mBACZxF,EAAKmJ,SAAWL,GACpB9tF,EAAIkhD,MAAMnrD,KAAKivF,EAClB,CACJ,CA/F8E,+BAmG/E,OAHI6I,GAAcA,EAAax8E,GAC3B00D,EAAQ8nB,EAAY,aAAc,qCACtC7tF,EAAI6qB,MAAQ,CAAC4iE,EAAGp8E,OAAQA,EAAZ,UAAoBw8E,SAApB,QAAkCx8E,GACvCrR,CACV,CGlGSouF,CAAgBb,EAAI9tB,EAAKuD,EAAO+C,EAASprC,GAC1B,cAAfqoC,EAAMnwE,KCPhB,WAA4D4sE,EAAK4uB,EAAItoB,EAASprC,GAAK,QAAxD+yD,EAAwD,EAAxDA,YAAaC,EAA2C,EAA3CA,iBAE9Br6E,EAAM,IADG,iBAAGqnB,QAAH,IAAGA,OAAH,EAAGA,EAAKkhD,iBAAR,QAAqB0J,IACV9lB,EAAI2b,QAC1B3b,EAAImuB,SACJnuB,EAAImuB,QAAS,GACjB,IAL+E,EAK3Ev8E,EAASg9E,EAAGh9E,OACZw8E,EAAa,KAN8D,IAOhDQ,EAAGntC,OAP6C,IAO/E,2BAAyC,eAA5BnzD,EAA4B,EAA5BA,MAAOgD,EAAqB,EAArBA,MACV0L,EAAQ2vF,GAAar+F,EAAO,CAC9Bu+F,UAAW,eACXj3F,KAAMtE,EACNsgB,OAAAA,EACA00D,QAAAA,EACAwmB,gBAAgB,IAEpB,IAAK9vF,EAAMw9E,MAAO,CACd,KAAIx9E,EAAM2H,QAAU3H,EAAMk+B,KAAO5pC,GAM5B,CACD88F,EAAapxF,EAAM9O,IACf8O,EAAM4S,UACNiE,EAAIjE,QAAU5S,EAAM4S,SACxB,QACH,CAVOte,GAAwB,cAAfA,EAAM8B,KACfkzE,EAAQtpE,EAAM9O,IAAK,aAAc,oDAEjCo4E,EAAQ10D,EAAQ,eAAgB,oCAQ3C,CACD,IAAMzN,EAAO7S,EACP28F,EAAYjuB,EAAK1uE,EAAO0L,EAAOspE,GAC/B4nB,EAAiBluB,EAAKhjE,EAAM9O,IAAKI,EAAO,KAAM0O,EAAOspE,GACvDtG,EAAI2b,OAAOoF,QACXuM,GAAgBsB,EAAG12C,OAAQ5mD,EAAOg1E,GACtC10D,EAASzN,EAAKinB,MAAM,GACpBvX,EAAI4tC,MAAMnrD,KAAK6N,EAClB,CApC8E,+BAsC/E,OADA0P,EAAIuX,MAAQ,CAACwjE,EAAGh9E,OAAQA,EAAZ,UAAoBw8E,SAApB,QAAkCx8E,GACvCiC,CACV,CD/Bag7E,CAAgBf,EAAI9tB,EAAKuD,EAAO+C,EAASprC,GDDvD,WAAkE8kC,EAAKutB,EAAIjnB,EAASprC,GAAK,MAAxD+yD,EAAwD,EAAxDA,YAAaC,EAA2C,EAA3CA,iBACpC3X,EAA4B,MAApBgX,EAAGj/F,MAAMgN,OACjBwzF,EAASvY,EAAQ,WAAa,gBAE9BwX,EAAO,IADE,QAAI,EAAJ,OAAI7yD,QAAJ,IAAIA,OAAJ,EAAIA,EAAKkhD,iBAAT,QAAuB7F,EAAQ+O,GAAUQ,IAC7B9lB,EAAI2b,QAC/BoS,EAAKpK,MAAO,EACZ,IAAMwK,EAASnuB,EAAImuB,OACfA,IACAnuB,EAAImuB,QAAS,GAEjB,IADA,IAAIv8E,EAAS27E,EAAG37E,OAAS27E,EAAGj/F,MAAMgN,OAAOrP,OAChCD,EAAI,EAAGA,EAAIuhG,EAAG9rC,MAAMx1D,SAAUD,EAAG,CACtC,IAAMqiG,EAAWd,EAAG9rC,MAAMz1D,GAClBsC,EAA2B+/F,EAA3B//F,MAAO4B,EAAoBm+F,EAApBn+F,IAAKnB,EAAes/F,EAAft/F,IAAKuC,EAAU+8F,EAAV/8F,MACnB0L,EAAQ2vF,GAAar+F,EAAO,CAC9Bq1F,KAAMmL,EACNjC,UAAW,mBACXj3F,KAAI,OAAE1F,QAAF,IAAEA,EAAAA,EAAF,OAASnB,QAAT,IAASA,OAAT,EAASA,EAAM,GACnB6iB,OAAAA,EACA00D,QAAAA,EACAwmB,gBAAgB,IAEpB,IAAK9vF,EAAMw9E,MAAO,CACd,IAAKx9E,EAAM2H,SAAW3H,EAAMk+B,MAAQnsC,IAAQuC,EAAO,CACrC,IAANtF,GAAWgR,EAAMowF,MACjB9mB,EAAQtpE,EAAMowF,MAAO,mBAAd,0BAAqD0B,IACvD9iG,EAAIuhG,EAAG9rC,MAAMx1D,OAAS,GAC3Bq6E,EAAQtpE,EAAM1O,MAAO,mBAAd,mCAA8DwgG,IACrE9xF,EAAM4S,UACFm+E,EAAKn+E,QACLm+E,EAAKn+E,SAAW,KAAO5S,EAAM4S,QAE7Bm+E,EAAKn+E,QAAU5S,EAAM4S,SAE7BgC,EAAS5U,EAAM9O,IACf,QACH,EACIqoF,GAASvW,EAAIn6D,QAAQsiB,QAAUklE,GAAgBn9F,IAChDo2E,EAAQp2E,EACR,yBAA0B,mEACjC,CACD,GAAU,IAANlE,EACIgR,EAAMowF,OACN9mB,EAAQtpE,EAAMowF,MAAO,mBAAd,0BAAqD0B,SAKhE,GAFK9xF,EAAMowF,OACP9mB,EAAQtpE,EAAM1O,MAAO,eAAd,4BAAmDwgG,EAAnD,WACP9xF,EAAM4S,QAAS,CACf,IADe,EACXm/E,EAAkB,GADP,IAEQzgG,GAFR,IAEfugE,EAAM,IAAK,EAAL,qBAAwB,KAAbmgC,EAAa,QAC1B,OAAQA,EAAG57F,MACP,IAAK,QACL,IAAK,QACD,MACJ,IAAK,UACD27F,EAAkBC,EAAG1zF,OAAO2sB,UAAU,GACtC,MAAM4mC,EACV,QACI,MAAMA,EAEjB,CAbc,+BAcf,GAAIkgC,EAAiB,OACbj3F,EAAOi2F,EAAKtsC,MAAMssC,EAAKtsC,MAAMx1D,OAAS,GACtCuqF,GAAO1+E,KACPA,EAAI,UAAGA,EAAKxG,aAAR,QAAiBwG,EAAK5H,KAC1B4H,EAAK8X,QACL9X,EAAK8X,SAAW,KAAOm/E,EAEvBj3F,EAAK8X,QAAUm/E,EACnB/xF,EAAM4S,QAAU5S,EAAM4S,QAAQqY,UAAU8mE,EAAgB9iG,OAAS,EACpE,CACJ,CAEL,GAAKsqF,GAAUxnF,GAAQiO,EAAMw9E,MAWxB,CAGD,IAAM+T,EAAWvxF,EAAM9O,IACjBsgG,EAAUt+F,EACV+9F,EAAYjuB,EAAK9vE,EAAK8M,EAAOspE,GAC7B4nB,EAAiBluB,EAAKuuB,EAAUjgG,EAAO,KAAM0O,EAAOspE,GACtDqY,GAAQzuF,IACRo2E,EAAQkoB,EAAQpjE,MAAO,gBAAiBwiE,IAE5C,IAAMa,EAAa9B,GAAY,OAAC59F,QAAD,IAACA,EAAAA,EAAO,GAAI,CACvC40F,KAAMmL,EACNjC,UAAW,gBACXj3F,KAAMtE,EACNsgB,OAAQ48E,EAAQpjE,MAAM,GACtBk7C,QAAAA,EACAwmB,gBAAgB,IAEpB,GAAI2B,EAAWjU,OACX,IAAKjE,IAAUv5E,EAAMw9E,OAASxa,EAAIn6D,QAAQsiB,OAAQ,CAC9C,GAAIp5B,EAAJ,WACqBA,GADrB,IACI,2BAAsB,KAAXigG,EAAW,QAClB,GAAIA,IAAOP,EAAWjU,MAClB,MACJ,GAAgB,YAAZwU,EAAG57F,KAAoB,CACvBkzE,EAAQ0oB,EAAI,yBAA0B,oEACtC,KACH,CACJ,CARL,gCASIhyF,EAAM1O,MAAQmgG,EAAWjU,MAAM5oE,OAAS,MACxC00D,EAAQmoB,EAAWjU,MAAO,sBAAuB,8FACxD,OAEIlpF,IACD,WAAYA,GAASA,EAAMgK,QAA8B,MAApBhK,EAAMgK,OAAO,GAClDgrE,EAAQh1E,EAAO,eAAR,mCAAoDw9F,IAE3DxoB,EAAQmoB,EAAWngG,MAAO,eAAnB,iCAA6DwgG,EAA7D,YAGf,IAAMtmB,EAAYl3E,EACZ28F,EAAYjuB,EAAK1uE,EAAOm9F,EAAYnoB,GACpCmoB,EAAWjU,MACP0T,EAAiBluB,EAAKyuB,EAAWvgG,IAAKa,EAAK,KAAM0/F,EAAYnoB,GAC7D,KACNkC,EACImW,GAAQrtF,IACRg1E,EAAQkC,EAAUp9C,MAAO,gBAAiBwiE,IAEzCa,EAAW7+E,UACZ4+E,EAAQ5+E,QACR4+E,EAAQ5+E,SAAW,KAAO6+E,EAAW7+E,QAErC4+E,EAAQ5+E,QAAU6+E,EAAW7+E,SAErC,IAAM21E,EAAO,IAAItN,GAAKuW,EAAShmB,GAG/B,GAFIxI,EAAIn6D,QAAQklF,mBACZxF,EAAKmJ,SAAWL,GAChB9X,EAAO,CACP,IAAMh2E,EAAMwtF,EACRP,GAAYxtB,EAAKz/D,EAAIkhD,MAAO+sC,IAC5BloB,EAAQioB,EAAU,gBAAiB,2BACvChuF,EAAIkhD,MAAMnrD,KAAKivF,EAClB,KACI,CACD,IAAMhlF,EAAM,IAAI+kF,GAAQtlB,EAAI2b,QAC5Bp7E,EAAIojF,MAAO,EACXpjF,EAAIkhD,MAAMnrD,KAAKivF,GACfwI,EAAKtsC,MAAMnrD,KAAKiK,EACnB,CACDqR,EAAS42D,EAAYA,EAAUp9C,MAAM,GAAKqjE,EAAWvgG,GACxD,KAlFmC,CAGhC,IAAMs6E,EAAYl3E,EACZ28F,EAAYjuB,EAAK1uE,EAAO0L,EAAOspE,GAC/B4nB,EAAiBluB,EAAKhjE,EAAM9O,IAAKa,EAAK,KAAMiO,EAAOspE,GACzDynB,EAAKtsC,MAAMnrD,KAAKkyE,GAChB52D,EAAS42D,EAAUp9C,MAAM,GACrBuzD,GAAQrtF,IACRg1E,EAAQkC,EAAUp9C,MAAO,gBAAiBwiE,GACjD,CAyEJ,CACD,IAAMqB,EAAc1Y,EAAQ,IAAM,IAClC,KAAoBgX,EAAGr/F,KAAhBghG,EAAP,KAAcC,EAAd,WACIC,EAAQx9E,EACZ,GAAIs9E,GAAMA,EAAG5zF,SAAW2zF,EACpBG,EAAQF,EAAGt9E,OAASs9E,EAAG5zF,OAAOrP,WAC7B,CACD,IAAMkD,EAAO2/F,EAAO,GAAGO,cAAgBP,EAAO7mE,UAAU,GAIxDq+C,EAAQ10D,EAAQu8E,EAAS,eAAiB,aAH9BA,EAAM,UACTh/F,EADS,4BACe8/F,GADf,UAET9/F,EAFS,6EAEgE8/F,IAE9EC,GAA2B,IAArBA,EAAG5zF,OAAOrP,QAChBkjG,EAAGl9D,QAAQi9D,EAClB,CACD,GAAIC,EAAGljG,OAAS,EAAG,CACf,IAAMiC,EAAMy/F,GAAWwB,EAAIC,EAAOpvB,EAAIn6D,QAAQsiB,OAAQm+C,GAClDp4E,EAAI0hB,UACAm+E,EAAKn+E,QACLm+E,EAAKn+E,SAAW,KAAO1hB,EAAI0hB,QAE3Bm+E,EAAKn+E,QAAU1hB,EAAI0hB,SAE3Bm+E,EAAK3iE,MAAQ,CAACmiE,EAAG37E,OAAQw9E,EAAOlhG,EAAI0jB,OACvC,MAEGm8E,EAAK3iE,MAAQ,CAACmiE,EAAG37E,OAAQw9E,EAAOA,GAEpC,OAAOrB,CACV,CCvLauB,CAAsBxB,EAAI9tB,EAAKuD,EAAO+C,EAASprC,GACnDq0D,EAAOxB,EAAKt8F,YAGlB,MAAgB,MAAZiqF,GAAmBA,IAAY6T,EAAK7T,SACpCqS,EAAK7yD,IAAMq0D,EAAK7T,QACTqS,IAEPrS,IACAqS,EAAK7yD,IAAMwgD,GACRqS,EACV,CEtBD,SAASyB,GAAmBC,EAAQtnE,EAAQm+C,GACxC,IAAMh4E,EAAQmhG,EAAO79E,OACf0uE,EAkHV,WAAmDn4D,EAAQm+C,GAAS,IAAlC10D,EAAkC,EAAlCA,OAAQ5U,EAA0B,EAA1BA,MAEtC,GAAsB,wBAAlBA,EAAM,GAAG5J,KAET,OADAkzE,EAAQtpE,EAAM,GAAI,aAAc,iCACzB,KAOX,IALA,IAAQ1B,EAAW0B,EAAM,GAAjB1B,OACFsiF,EAAOtiF,EAAO,GAChB48C,EAAS,EACTynC,EAAQ,GACRhrF,GAAS,EACJ3I,EAAI,EAAGA,EAAIsP,EAAOrP,SAAUD,EAAG,CACpC,IAAMg3E,EAAK1nE,EAAOtP,GAClB,GAAK2zF,GAAiB,MAAP3c,GAAqB,MAAPA,EAExB,CACD,IAAM/mE,EAAInB,OAAOkoE,IACZ9qB,GAAUj8C,EACXi8C,EAASj8C,GACO,IAAXtH,IACLA,EAAQid,EAAS5lB,EACxB,MAPG2zF,EAAQ3c,CAQf,EACc,IAAXruE,GACA2xE,EAAQ3xE,EAAO,mBAAR,yDAA8E2G,IAIzF,IAHA,IAAI0xF,GAAW,EACXp9E,EAAU,GACV3jB,EAASqP,EAAOrP,OACXD,EAAI,EAAGA,EAAIgR,EAAM/Q,SAAUD,EAAG,CACnC,IAAMu3E,EAAQvmE,EAAMhR,GACpB,OAAQu3E,EAAMnwE,MACV,IAAK,QACD45F,GAAW,EAEf,IAAK,UACD/gG,GAAUs3E,EAAMjoE,OAAOrP,OACvB,MACJ,IAAK,UACD,GAAIk8B,IAAW6kE,EAEX1mB,EAAQ/C,EAAO,eADC,0EAGpBt3E,GAAUs3E,EAAMjoE,OAAOrP,OACvB2jB,EAAU2zD,EAAMjoE,OAAO2sB,UAAU,GACjC,MACJ,IAAK,QACDq+C,EAAQ/C,EAAO,mBAAoBA,EAAMlkE,SACzCpT,GAAUs3E,EAAMjoE,OAAOrP,OACvB,MAEJ,QAEIq6E,EAAQ/C,EAAO,mBADC,4CAAH,OAA+CA,EAAMnwE,OAElE,IAAMs8F,EAAKnsB,EAAMjoE,OACbo0F,GAAoB,kBAAPA,IACbzjG,GAAUyjG,EAAGzjG,QAG5B,CACD,MAAO,CAAE2xF,KAAAA,EAAM1lC,OAAAA,EAAQynC,MAAAA,EAAO/vE,QAAAA,EAAS3jB,OAAAA,EAC1C,CA9KkB0jG,CAAuBF,EAAQtnE,EAAQm+C,GACtD,IAAKga,EACD,MAAO,CAAEhvF,MAAO,GAAI8B,KAAM,KAAMwc,QAAS,GAAIwb,MAAO,CAAC98B,EAAOA,EAAOA,IAKvE,IAJA,IAAM8E,EAAuB,MAAhBktF,EAAO1C,KAAe7F,GAAOoD,aAAepD,GAAOqD,cAC1D9rD,EAAQmgE,EAAOn0F,OA4KzB,SAAoBA,GAQhB,IAPA,IAAMsM,EAAQtM,EAAOsM,MAAM,UACrBxG,EAAQwG,EAAM,GACdy5C,EAAIjgD,EAAMyM,MAAM,SAIhByhB,EAAQ,CAHC,OAAD+xB,QAAC,IAADA,GAAAA,EAAI,GACZ,CAACA,EAAE,GAAIjgD,EAAM/U,MAAMg1D,EAAE,GAAGp1D,SACxB,CAAC,GAAImV,IAEFpV,EAAI,EAAGA,EAAI4b,EAAM3b,OAAQD,GAAK,EACnCsjC,EAAMh5B,KAAK,CAACsR,EAAM5b,GAAI4b,EAAM5b,EAAI,KACpC,OAAOsjC,CACV,CAvLiCsgE,CAAWH,EAAOn0F,QAAU,GAEtDu0F,EAAavgE,EAAMrjC,OACdD,EAAIsjC,EAAMrjC,OAAS,EAAGD,GAAK,IAAKA,EAAG,CACxC,IAAMywE,EAAUntC,EAAMtjC,GAAG,GACzB,GAAgB,KAAZywE,GAA8B,OAAZA,EAGlB,MAFAozB,EAAa7jG,CAGpB,CAED,GAAmB,IAAf6jG,EAAkB,CAClB,IAAMv+F,EAAyB,MAAjBgvF,EAAOX,OAAiBrwD,EAAMrjC,OAAS,EAC/C,KAAK61F,OAAO92E,KAAKuV,IAAI,EAAG+O,EAAMrjC,OAAS,IACvC,GACFiC,EAAMI,EAAQgyF,EAAOr0F,OAGzB,OAFIwjG,EAAOn0F,SACPpN,GAAOuhG,EAAOn0F,OAAOrP,QAClB,CAAEqF,MAAAA,EAAO8B,KAAAA,EAAMwc,QAAS0wE,EAAO1wE,QAASwb,MAAO,CAAC98B,EAAOJ,EAAKA,GACtE,CAKD,IAHA,IAAI4hG,EAAaL,EAAOv3C,OAASooC,EAAOpoC,OACpCtmC,EAAS69E,EAAO79E,OAAS0uE,EAAOr0F,OAChC8jG,EAAe,EACV/jG,EAAI,EAAGA,EAAI6jG,IAAc7jG,EAAG,CACjC,QAA0BsjC,EAAMtjC,GAAhC,GAAOksD,EAAP,KAAeukB,EAAf,KACA,GAAgB,KAAZA,GAA8B,OAAZA,EAIjB,CACD,GAAIvkB,EAAOjsD,OAAS6jG,EAAY,CAE5BxpB,EAAQ10D,EAASsmC,EAAOjsD,OAAQ,eADhB,kGAEnB,CACqB,IAAlBq0F,EAAOpoC,SACP43C,EAAa53C,EAAOjsD,QACxB8jG,EAAe/jG,EACf,KACH,CAZyB,IAAlBs0F,EAAOpoC,QAAgBA,EAAOjsD,OAAS6jG,IACvCA,EAAa53C,EAAOjsD,QAY5B2lB,GAAUsmC,EAAOjsD,OAASwwE,EAAQxwE,OAAS,CAC9C,CAED,IAAK,IAAID,EAAIsjC,EAAMrjC,OAAS,EAAGD,GAAK6jG,IAAc7jG,EAC1CsjC,EAAMtjC,GAAG,GAAGC,OAAS6jG,IACrBD,EAAa7jG,EAAI,GAMzB,IAJA,IAAIsF,EAAQ,GACRvC,EAAM,GACNihG,GAAmB,EAEdhkG,EAAI,EAAGA,EAAI+jG,IAAgB/jG,EAChCsF,GAASg+B,EAAMtjC,GAAG,GAAGK,MAAMyjG,GAAc,KAC7C,IAAK,IAAI9jG,EAAI+jG,EAAc/jG,EAAI6jG,IAAc7jG,EAAG,CAC5C,QAAwBsjC,EAAMtjC,GAA9B,GAAKksD,EAAL,KAAaukB,EAAb,KACA7qD,GAAUsmC,EAAOjsD,OAASwwE,EAAQxwE,OAAS,EAC3C,IAAMgkG,EAAuC,OAAhCxzB,EAAQA,EAAQxwE,OAAS,GAItC,GAHIgkG,IACAxzB,EAAUA,EAAQpwE,MAAM,GAAI,IAE5BowE,GAAWvkB,EAAOjsD,OAAS6jG,EAAY,CACvC,IAAM3tC,EAAMm+B,EAAOpoC,OACb,iCACA,aACA74C,EAAU,2DAAH,OAA8D8iD,GAC3EmkB,EAAQ10D,EAAS6qD,EAAQxwE,QAAUgkG,EAAO,EAAI,GAAI,aAAc5wF,GAChE64C,EAAS,EACZ,CACG9kD,IAAS2kF,GAAOqD,eAChB9pF,GAASvC,EAAMmpD,EAAO7rD,MAAMyjG,GAAcrzB,EAC1C1tE,EAAM,MAEDmpD,EAAOjsD,OAAS6jG,GAA6B,OAAfrzB,EAAQ,IAE/B,MAAR1tE,EACAA,EAAM,KACAihG,GAA4B,OAARjhG,IAC1BA,EAAM,QACVuC,GAASvC,EAAMmpD,EAAO7rD,MAAMyjG,GAAcrzB,EAC1C1tE,EAAM,KACNihG,GAAmB,GAEF,KAAZvzB,EAEO,OAAR1tE,EACAuC,GAAS,KAETvC,EAAM,MAGVuC,GAASvC,EAAM0tE,EACf1tE,EAAM,IACNihG,GAAmB,EAE1B,CACD,OAAQ1P,EAAOX,OACX,IAAK,IACD,MACJ,IAAK,IACD,IAAK,IAAI3zF,EAAI6jG,EAAY7jG,EAAIsjC,EAAMrjC,SAAUD,EACzCsF,GAAS,KAAOg+B,EAAMtjC,GAAG,GAAGK,MAAMyjG,GACN,OAA5Bx+F,EAAMA,EAAMrF,OAAS,KACrBqF,GAAS,MACb,MACJ,QACIA,GAAS,KAEjB,IAAMpD,EAAMI,EAAQgyF,EAAOr0F,OAASwjG,EAAOn0F,OAAOrP,OAClD,MAAO,CAAEqF,MAAAA,EAAO8B,KAAAA,EAAMwc,QAAS0wE,EAAO1wE,QAASwb,MAAO,CAAC98B,EAAOJ,EAAKA,GACtE,CClHD,SAASgiG,GAAkBT,EAAQtnE,EAAQm+C,GACvC,IACIsa,EACAtvF,EAFIsgB,EAA8B69E,EAA9B79E,OAAQxe,EAAsBq8F,EAAtBr8F,KAAMkI,EAAgBm0F,EAAhBn0F,OAAQpN,EAAQuhG,EAARvhG,IAGxBk5F,EAAW,SAAC+I,EAAKxkG,EAAMsU,GAAZ,OAAoBqmE,EAAQ10D,EAASu+E,EAAKxkG,EAAMsU,EAAhD,EACjB,OAAQ7M,GACJ,IAAK,SACDwtF,EAAQ7I,GAAOsD,MACf/pF,EA6BZ,SAAoBgK,EAAQgrE,GACxB,IAAI8pB,EAAU,GACd,OAAQ90F,EAAO,IAEX,IAAK,KACD80F,EAAU,kBACV,MACJ,IAAK,IACDA,EAAU,6BACV,MACJ,IAAK,IACDA,EAAU,kCACV,MACJ,IAAK,IACL,IAAK,IACDA,EAAU,0BAAH,OAA6B90F,EAAO,IAC3C,MAEJ,IAAK,IACL,IAAK,IACD80F,EAAU,sBAAH,OAAyB90F,EAAO,IAI3C80F,GACA9pB,EAAQ,EAAG,mBAAJ,wCAAyD8pB,IACpE,OAAOC,GAAU/0F,EACpB,CAxDmBg1F,CAAWh1F,EAAQ8rF,GAC3B,MACJ,IAAK,uBACDxG,EAAQ7I,GAAOwD,aACfjqF,EAqDZ,SAA2BgK,EAAQgrE,GACG,MAA9BhrE,EAAOA,EAAOrP,OAAS,IAAgC,IAAlBqP,EAAOrP,QAC5Cq6E,EAAQhrE,EAAOrP,OAAQ,eAAgB,0BAC3C,OAAOokG,GAAU/0F,EAAOjP,MAAM,GAAI,IAAIuhB,QAAQ,MAAO,IACxD,CAzDmB2iF,CAAkBj1F,EAAQ8rF,GAClC,MACJ,IAAK,uBACDxG,EAAQ7I,GAAOuD,aACfhqF,EAgGZ,SAA2BgK,EAAQgrE,GAE/B,IADA,IAAI16E,EAAM,GACDI,EAAI,EAAGA,EAAIsP,EAAOrP,OAAS,IAAKD,EAAG,CACxC,IAAMg3E,EAAK1nE,EAAOtP,GAClB,GAAW,OAAPg3E,GAAiC,OAAlB1nE,EAAOtP,EAAI,GAE9B,GAAW,OAAPg3E,EAAa,CACb,MAAyBwtB,GAAYl1F,EAAQtP,GAC7CJ,GADA,EAAQ+7C,KAER37C,EAFA,EAAc4lB,MAGjB,MACI,GAAW,OAAPoxD,EAAa,CAClB,IAAIptE,EAAO0F,IAAStP,GACdykG,EAAKC,GAAY96F,GACvB,GAAI66F,EACA7kG,GAAO6kG,OACN,GAAa,OAAT76F,EAGL,IADAA,EAAO0F,EAAOtP,EAAI,GACF,MAAT4J,GAAyB,OAATA,GACnBA,EAAO0F,EAAa,KAAJtP,QAEnB,GAAa,OAAT4J,GAAmC,OAAlB0F,EAAOtP,EAAI,GAGjC,IADA4J,EAAO0F,EAAa,KAAJtP,GACA,MAAT4J,GAAyB,OAATA,GACnBA,EAAO0F,EAAa,KAAJtP,QAEnB,GAAa,MAAT4J,GAAyB,MAATA,GAAyB,MAATA,EAAc,CACnD,IAAM3J,EAAS,CAAE+V,EAAG,EAAG2uF,EAAG,EAAGC,EAAG,GAAIh7F,GACpChK,GAAOilG,GAAcv1F,EAAQtP,EAAI,EAAGC,EAAQq6E,GAC5Ct6E,GAAKC,CACR,KACI,CACD,IAAM6kG,EAAMx1F,EAAOguB,OAAOt9B,EAAI,EAAG,GACjCs6E,EAAQt6E,EAAI,EAAG,gBAAR,kCAAoD8kG,IAC3DllG,GAAOklG,CACV,CACJ,MACI,GAAW,MAAP9tB,GAAqB,OAAPA,EAAa,CAIhC,IAFA,IAAM+tB,EAAU/kG,EACZ4J,EAAO0F,EAAOtP,EAAI,GACN,MAAT4J,GAAyB,OAATA,GACnBA,EAAO0F,EAAa,KAAJtP,GACP,OAAT4J,GAA4B,OAATA,GAAmC,OAAlB0F,EAAOtP,EAAI,KAC/CJ,GAAOI,EAAI+kG,EAAUz1F,EAAOjP,MAAM0kG,EAAS/kG,EAAI,GAAKg3E,EAC3D,MAEGp3E,GAAOo3E,CAEd,CACiC,MAA9B1nE,EAAOA,EAAOrP,OAAS,IAAgC,IAAlBqP,EAAOrP,QAC5Cq6E,EAAQhrE,EAAOrP,OAAQ,eAAgB,0BAC3C,OAAOL,CACV,CAvJmBolG,CAAkB11F,EAAQ8rF,GAClC,MAEJ,QAEI,OADA9gB,EAAQmpB,EAAQ,mBAAT,mDAAyEr8F,IACzE,CACH9B,MAAO,GACP8B,KAAM,KACNwc,QAAS,GACTwb,MAAO,CAACxZ,EAAQA,EAAStW,EAAOrP,OAAQ2lB,EAAStW,EAAOrP,SAGpE,IAAMglG,EAAWr/E,EAAStW,EAAOrP,OAC3BilG,EAAKvD,GAAWz/F,EAAK+iG,EAAU9oE,EAAQm+C,GAC7C,MAAO,CACHh1E,MAAAA,EACA8B,KAAMwtF,EACNhxE,QAASshF,EAAGthF,QACZwb,MAAO,CAACxZ,EAAQq/E,EAAUC,EAAGt/E,QAEpC,CAkCD,SAASy+E,GAAU/0F,GAAQ,QAQnB8F,EAAOuyB,EACX,IACIvyB,EAAQ,IAAI2vB,OAAO,6BAA8B,MACjD4C,EAAO,IAAI5C,OAAO,wCAAyC,KAC9D,CACD,MAAOkyD,GACH7hF,EAAQ,IAAH,yCACLuyB,EAAO,IAAH,+CACP,CACD,IAAI9lB,EAAQzM,EAAM0mB,KAAKxsB,GACvB,IAAKuS,EACD,OAAOvS,EACX,IAAI1P,EAAMiiB,EAAM,GACZ9e,EAAM,IACNq6B,EAAMhoB,EAAMuwB,UAEhB,IADAgC,EAAKhC,UAAYvI,EACTvb,EAAQ8lB,EAAK7L,KAAKxsB,IACL,KAAbuS,EAAM,GACM,OAAR9e,EACAnD,GAAOmD,EAEPA,EAAM,MAGVnD,GAAOmD,EAAM8e,EAAM,GACnB9e,EAAM,KAEVq6B,EAAMuK,EAAKhC,UAEf,IAAMhqB,EAAO,IAAH,iCAGV,OAFAA,EAAKgqB,UAAYvI,EAEVx9B,EAAMmD,GAAN,oBADP8e,EAAQlG,EAAKmgB,KAAKxsB,UACX,aAAa,EAAQ,UAArB,QAA2B,GACrC,CA6DD,SAASk1F,GAAYl1F,EAAQsW,GAGzB,IAFA,IAAI+1B,EAAO,GACPq7B,EAAK1nE,EAAOsW,EAAS,IACX,MAAPoxD,GAAqB,OAAPA,GAAsB,OAAPA,GAAsB,OAAPA,KACpC,OAAPA,GAAsC,OAAvB1nE,EAAOsW,EAAS,KAExB,OAAPoxD,IACAr7B,GAAQ,MAEZq7B,EAAK1nE,GADLsW,GAAU,GACW,GAIzB,OAFK+1B,IACDA,EAAO,KACJ,CAAEA,KAAAA,EAAM/1B,OAAAA,EAClB,CACD,IAAM8+E,GAAc,CAChB,EAAK,KACLp2F,EAAG,OACH6M,EAAG,KACHvW,EAAG,OACH6M,EAAG,KACHxB,EAAG,KACH9K,EAAG,KACH4xB,EAAG,KACH4K,EAAG,KACHwjE,EAAG,OACHlO,EAAG,OACHmO,EAAG,SACHz2C,EAAG,SACH,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,KACN,KAAM,MAEV,SAASk2C,GAAcv1F,EAAQsW,EAAQ3lB,EAAQq6E,GAC3C,IAAMmqB,EAAKn1F,EAAOguB,OAAO1X,EAAQ3lB,GAE3BN,EADK8kG,EAAGxkG,SAAWA,GAAU,iBAAiBkQ,KAAKs0F,GACvCxJ,SAASwJ,EAAI,IAAMlK,IACrC,GAAI3vF,MAAMjL,GAAO,CACb,IAAMmlG,EAAMx1F,EAAOguB,OAAO1X,EAAS,EAAG3lB,EAAS,GAE/C,OADAq6E,EAAQ10D,EAAS,EAAG,gBAAb,kCAAyDk/E,IACzDA,CACV,CACD,OAAOj2F,OAAOunD,cAAcz2D,EAC/B,CCvND,SAAS0lG,GAAcrxB,EAAKuD,EAAO+tB,EAAUhrB,GACzC,IAWImpB,EAXJ,EAAuD,iBAAflsB,EAAMnwE,KACxCo8F,GAAmBjsB,EAAOvD,EAAIn6D,QAAQsiB,OAAQm+C,GAC9C4pB,GAAkB3sB,EAAOvD,EAAIn6D,QAAQsiB,OAAQm+C,GAF3Ch1E,EAAR,EAAQA,MAAO8B,EAAf,EAAeA,KAAMwc,EAArB,EAAqBA,QAASwb,EAA9B,EAA8BA,MAGxBswD,EAAU4V,EACVtxB,EAAIqhB,WAAW3F,QAAQ4V,EAASh2F,QAAQ,SAAA2E,GAAG,OAAIqmE,EAAQgrB,EAAU,qBAAsBrxF,EAA5C,IAC3C,KACAi7B,EAAMo2D,GAAY5V,EA2B5B,SAA6BC,EAAQrqF,EAAOoqF,EAAS4V,EAAUhrB,GAC3D,GAAgB,MAAZoV,EACA,OAAOC,EAAOzF,IAClB,IAHoE,EAG9Dqb,EAAgB,GAH8C,IAIlD5V,EAAOhI,MAJ2C,IAIpE,2BAA+B,KAApBz4C,EAAoB,QAC3B,IAAKA,EAAIqpD,YAAcrpD,EAAIA,MAAQwgD,EAAS,CACxC,IAAIxgD,EAAImhD,UAAWnhD,EAAI/+B,KAGnB,OAAO++B,EAFPq2D,EAAcj7F,KAAK4kC,EAG1B,CACJ,CAXmE,+BAYpE,cAAkBq2D,EAAlB,sBAAWr2D,EAAG,KACV,aAAIA,EAAI/+B,YAAR,OAAI,EAAUA,KAAK7K,GACf,OAAO4pC,CAFf,CAGA,IAAMs2D,EAAK7V,EAAOgP,UAAUjP,GAC5B,GAAI8V,IAAOA,EAAGjN,WAIV,OADA5I,EAAOhI,KAAKr9E,KAAKlG,OAAOynF,OAAO,CAAC,EAAG2Z,EAAI,CAAEnV,SAAS,EAAOlgF,UAAMvP,KACxD4kG,EAGX,OADAlrB,EAAQgrB,EAAU,qBAAX,0BAAoD5V,GAAuB,0BAAZA,GAC/DC,EAAOzF,GACjB,CAlDSub,CAAoBzxB,EAAI2b,OAAQrqF,EAAOoqF,EAAS4V,EAAUhrB,GAC3C,WAAf/C,EAAMnwE,KAkDhB,WAAqD9B,EAAOiyE,EAAO+C,GAAS,IAA7C+a,EAA6C,EAA7CA,WAAY1F,EAAiC,EAAjCA,OACjCzgD,EAAMygD,EAAOhI,KAAKryE,MAAK,SAAA45B,GAAG,aAAIA,EAAImhD,UAAJ,UAAenhD,EAAI/+B,YAAnB,aAAe,EAAUA,KAAK7K,GAAlC,KAA6CqqF,EAAOzF,IACpF,GAAIyF,EAAOoF,OAAQ,OACTA,EAAM,UAAGpF,EAAOoF,OAAOz/E,MAAK,SAAA45B,GAAG,aAAIA,EAAImhD,UAAJ,UAAenhD,EAAI/+B,YAAnB,aAAe,EAAUA,KAAK7K,GAAlC,WAAzB,QACRqqF,EAAOzF,IACX,GAAIh7C,EAAIA,MAAQ6lD,EAAO7lD,IAAK,CACxB,IAAMw0D,EAAKrO,EAAWY,UAAU/mD,EAAIA,KAC9B6oD,EAAK1C,EAAWY,UAAUlB,EAAO7lD,KAEvCorC,EAAQ/C,EAAO,qBADH,iCAAH,OAAoCmsB,EAApC,eAA6C3L,IACZ,EAC7C,CACJ,CACD,OAAO7oD,CACV,CA9Daw2D,CAAoB1xB,EAAK1uE,EAAOiyE,EAAO+C,GACvCtG,EAAI2b,OAAOzF,IAErB,IACI,IAAMtqF,EAAMsvC,EAAI3uC,QAAQ+E,GAAO,SAAA2O,GAAG,OAAIqmE,EAAO,OAACgrB,QAAD,IAACA,EAAAA,EAAY/tB,EAAO,qBAAsBtjE,EAArD,GAA2D+/D,EAAIn6D,SACjG4pF,EAAShZ,GAAS7qF,GAAOA,EAAM,IAAImsF,GAAOnsF,EAC7C,CACD,MAAO+I,GACH,IAAMsL,EAAMtL,aAAiBI,MAAQJ,EAAM0K,QAAUxE,OAAOlG,GAC5D2xE,EAAO,OAACgrB,QAAD,IAACA,EAAAA,EAAY/tB,EAAO,qBAAsBtjE,GACjDwvF,EAAS,IAAI1X,GAAOzmF,EACvB,CAWD,OAVAm+F,EAAOrkE,MAAQA,EACfqkE,EAAOn0F,OAAShK,EACZ8B,IACAq8F,EAAOr8F,KAAOA,GACdsoF,IACA+T,EAAOv0D,IAAMwgD,GACbxgD,EAAIrsC,SACJ4gG,EAAO5gG,OAASqsC,EAAIrsC,QACpB+gB,IACA6/E,EAAO7/E,QAAUA,GACd6/E,CACV,CCtCD,SAASkC,GAAoB//E,EAAQggF,EAAQxoE,GACzC,GAAIwoE,EAAQ,CACI,OAARxoE,IACAA,EAAMwoE,EAAO3lG,QACjB,IAAK,IAAID,EAAIo9B,EAAM,EAAGp9B,GAAK,IAAKA,EAAG,CAC/B,IAAIgjG,EAAK4C,EAAO5lG,GAChB,OAAQgjG,EAAG57F,MACP,IAAK,QACL,IAAK,UACL,IAAK,UACDwe,GAAUo9E,EAAG1zF,OAAOrP,OACpB,SAKR,IADA+iG,EAAK4C,IAAS5lG,GACM,WAAX,QAAF,EAAAgjG,SAAA,eAAI57F,OAAkB,OACzBwe,GAAUo9E,EAAG1zF,OAAOrP,OACpB+iG,EAAK4C,IAAS5lG,EACjB,CACD,KACH,CACJ,CACD,OAAO4lB,CACV,CClBD,IAAMk8E,GAAK,CAAEG,YAAAA,GAAaC,iBAAAA,IAC1B,SAASD,GAAYjuB,EAAKuD,EAAOvmE,EAAOspE,GACpC,IACIniE,EADIu/E,EAAsC1mF,EAAtC0mF,YAAa9zE,EAAyB5S,EAAzB4S,QAASjL,EAAgB3H,EAAhB2H,OAAQu2B,EAAQl+B,EAARk+B,IAElC22D,GAAa,EACjB,OAAQtuB,EAAMnwE,MACV,IAAK,QACD+Q,EAgEZ,aAA4DmiE,GAAS,IAA7CzgE,EAA6C,EAA7CA,QAAa+L,EAAgC,EAAhCA,OAAQtW,EAAwB,EAAxBA,OAAQpN,EAAgB,EAAhBA,IAC3C4jG,EAAQ,IAAIha,GAAMx8E,EAAO2sB,UAAU,IACpB,KAAjB6pE,EAAMx2F,QACNgrE,EAAQ10D,EAAQ,YAAa,mCAC7BkgF,EAAMx2F,OAAOgiF,SAAS,MACtBhX,EAAQ10D,EAAStW,EAAOrP,OAAS,EAAG,YAAa,kCAAkC,GACvF,IAAMglG,EAAWr/E,EAAStW,EAAOrP,OAC3BilG,EAAKvD,GAAWz/F,EAAK+iG,EAAUprF,EAAQsiB,OAAQm+C,GACrDwrB,EAAM1mE,MAAQ,CAACxZ,EAAQq/E,EAAUC,EAAGt/E,QAChCs/E,EAAGthF,UACHkiF,EAAMliF,QAAUshF,EAAGthF,SACvB,OAAOkiF,CACV,CA5EkBC,CAAa/xB,EAAKuD,EAAO+C,IAC5B3hE,GAAUu2B,IACVorC,EAAQ/C,EAAO,cAAe,iDAClC,MACJ,IAAK,SACL,IAAK,uBACL,IAAK,uBACL,IAAK,eACDp/D,EAAOktF,GAAcrxB,EAAKuD,EAAOroC,EAAKorC,GAClC3hE,IACAR,EAAKQ,OAASA,EAAOrJ,OAAO2sB,UAAU,IAC1C,MACJ,IAAK,YACL,IAAK,YACL,IAAK,kBACD9jB,ENHZ,SAA2B2pF,EAAI9tB,EAAKuD,EAAO+tB,EAAUhrB,GAAS,YACpDoV,EAAW4V,EAEXtxB,EAAIqhB,WAAW3F,QAAQ4V,EAASh2F,QAAQ,SAAA2E,GAAG,OAAIqmE,EAAQgrB,EAAU,qBAAsBrxF,EAA5C,IAD3C,KAEA+xF,EAAyB,cAAfzuB,EAAMnwE,KAChB,MACe,cAAfmwE,EAAMnwE,KACF,MACuB,MAAvBmwE,EAAMj1E,MAAMgN,OACR,MACA,MAGd,IAAKg2F,IACA5V,GACW,MAAZA,GACCA,IAAY4J,GAAQ5J,SAAuB,QAAZsW,GAC/BtW,IAAYoK,GAAQpK,SAAuB,QAAZsW,IAC/BA,EACD,OAAOnE,GAAkBC,EAAI9tB,EAAKuD,EAAO+C,EAASoV,GAEtD,IAAIxgD,EAAM8kC,EAAI2b,OAAOhI,KAAKryE,MAAK,SAAAyhB,GAAC,OAAIA,EAAEmY,MAAQwgD,GAAW34D,EAAEwhE,aAAeyN,CAA1C,IAChC,IAAK92D,EAAK,CACN,IAAMs2D,EAAKxxB,EAAI2b,OAAOgP,UAAUjP,GAChC,IAAI8V,GAAMA,EAAGjN,aAAeyN,EAWxB,OANA,OAAIR,QAAJ,IAAIA,GAAAA,EAAIjN,WACJje,EAAQgrB,EAAU,sBAAX,UAAqCE,EAAGt2D,IAAxC,qBAAwD82D,EAAxD,oCAA2FR,EAAGjN,aAAc,GAGnHje,EAAQgrB,EAAU,qBAAX,0BAAoD5V,IAAW,GAEnEmS,GAAkBC,EAAI9tB,EAAKuD,EAAO+C,EAASoV,GAVlD1b,EAAI2b,OAAOhI,KAAKr9E,KAAKlG,OAAOynF,OAAO,CAAC,EAAG2Z,EAAI,CAAEnV,SAAS,KACtDnhD,EAAMs2D,CAWb,CACD,IAAMzD,EAAOF,GAAkBC,EAAI9tB,EAAKuD,EAAO+C,EAASoV,EAASxgD,GAC3DtvC,EAAG,qBAAG,EAAAsvC,GAAI3uC,eAAP,aAAG,SAAcwhG,GAAM,SAAA9tF,GAAG,OAAIqmE,EAAQgrB,EAAU,qBAAsBrxF,EAA5C,GAAkD+/D,EAAIn6D,gBAAhF,QAA4FkoF,EAC/F5pF,EAAOyyE,GAAOhrF,GACdA,EACA,IAAImsF,GAAOnsF,GAKjB,OAJAuY,EAAKinB,MAAQ2iE,EAAK3iE,MAClBjnB,EAAK+2B,IAAMwgD,EACX,UAAIxgD,SAAJ,OAAI,EAAKrsC,SACLsV,EAAKtV,OAASqsC,EAAIrsC,QACfsV,CACV,CM7CkB8tF,CAAkBnE,GAAI9tB,EAAKuD,EAAOroC,EAAKorC,GAC1C3hE,IACAR,EAAKQ,OAASA,EAAOrJ,OAAO2sB,UAAU,IAC1C,MACJ,QAIIq+C,EAAQ/C,EAAO,mBAHgB,UAAfA,EAAMnwE,KAChBmwE,EAAMlkE,QADI,mCAEkBkkE,EAAMnwE,KAFxB,MAIhB+Q,EAAO+pF,GAAiBluB,EAAKuD,EAAM3xD,YAAQhlB,EAAW,KAAMoQ,EAAOspE,GACnEurB,GAAa,EAgBrB,OAbIltF,GAA0B,KAAhBR,EAAKQ,QACf2hE,EAAQ3hE,EAAQ,YAAa,oCAC7B++E,IACAv/E,EAAKu/E,aAAc,GACnB9zE,IACmB,WAAf2zD,EAAMnwE,MAAsC,KAAjBmwE,EAAMjoE,OACjC6I,EAAKyL,QAAUA,EAEfzL,EAAK44E,cAAgBntE,GAGzBowD,EAAIn6D,QAAQklF,kBAAoB8G,IAChC1tF,EAAKuqF,SAAWnrB,GACbp/D,CACV,CACD,SAAS+pF,GAAiBluB,EAAKpuD,EAAQggF,EAAQxoE,EAA/C,EAAgGk9C,GAAS,IAAnDod,EAAmD,EAAnDA,YAAa9zE,EAAsC,EAAtCA,QAASjL,EAA6B,EAA7BA,OAAQu2B,EAAqB,EAArBA,IAAKhtC,EAAgB,EAAhBA,IAO/EiW,EAAOktF,GAAcrxB,EANb,CACV5sE,KAAM,SACNwe,OAAQ+/E,GAAoB//E,EAAQggF,EAAQxoE,GAC5C8uB,QAAS,EACT58C,OAAQ,IAE2B4/B,EAAKorC,GAY5C,OAXI3hE,IACAR,EAAKQ,OAASA,EAAOrJ,OAAO2sB,UAAU,GAClB,KAAhB9jB,EAAKQ,QACL2hE,EAAQ3hE,EAAQ,YAAa,qCAEjC++E,IACAv/E,EAAKu/E,aAAc,GACnB9zE,IACAzL,EAAKyL,QAAUA,EACfzL,EAAKinB,MAAM,GAAKl9B,GAEbiW,CACV,CCvED,SAAS+tF,GAAWrsF,EAASw7E,EAA7B,EAAwE/a,GAAS,IAAtC10D,EAAsC,EAAtCA,OAAQtjB,EAA8B,EAA9BA,MAAOgD,EAAuB,EAAvBA,MAAOpD,EAAgB,EAAhBA,IACvDy7D,EAAOv5D,OAAOynF,OAAO,CAAEqT,YAAa7J,GAAcx7E,GAClDozE,EAAM,IAAI2R,QAASh+F,EAAW+8D,GAC9BqW,EAAM,CACRmuB,QAAQ,EACR9M,WAAYpI,EAAIoI,WAChBx7E,QAASozE,EAAIpzE,QACb81E,OAAQ1C,EAAI0C,QAEV3+E,EAAQ2vF,GAAar+F,EAAO,CAC9Bu+F,UAAW,YACXj3F,KAAI,OAAEtE,QAAF,IAAEA,EAAAA,EAAF,OAAWpD,QAAX,IAAWA,OAAX,EAAWA,EAAM,GACrB0jB,OAAAA,EACA00D,QAAAA,EACAwmB,gBAAgB,IAEhB9vF,EAAMw9E,QACNvB,EAAIoI,WAAW/I,UAAW,GACtBhnF,GACgB,cAAfA,EAAM8B,MAAuC,cAAf9B,EAAM8B,MACpC4J,EAAMknF,YACP5d,EAAQtpE,EAAM9O,IAAK,eAAgB,0EAG3C+qF,EAAIlG,SAAWzhF,EACT28F,GAAYjuB,EAAK1uE,EAAO0L,EAAOspE,GAC/B4nB,GAAiBluB,EAAKhjE,EAAM9O,IAAKI,EAAO,KAAM0O,EAAOspE,GAC3D,IAAM6rB,EAAalZ,EAAIlG,SAAS3nD,MAAM,GAChC8lE,EAAKvD,GAAWz/F,EAAKikG,GAAY,EAAO7rB,GAI9C,OAHI4qB,EAAGthF,UACHqpE,EAAIrpE,QAAUshF,EAAGthF,SACrBqpE,EAAI7tD,MAAQ,CAACxZ,EAAQugF,EAAYjB,EAAGt/E,QAC7BqnE,CACV,CC/BD,SAASmZ,GAAYjwC,GACjB,GAAmB,kBAARA,EACP,MAAO,CAACA,EAAKA,EAAM,GACvB,GAAItmD,MAAMQ,QAAQ8lD,GACd,OAAsB,IAAfA,EAAIl2D,OAAek2D,EAAM,CAACA,EAAI,GAAIA,EAAI,IACjD,IAAQvwC,EAAmBuwC,EAAnBvwC,OAAQtW,EAAW6mD,EAAX7mD,OAChB,MAAO,CAACsW,EAAQA,GAA4B,kBAAXtW,EAAsBA,EAAOrP,OAAS,GAC1E,CACD,SAASomG,GAAaC,GAIlB,IAJ2B,MACvB1iF,EAAU,GACV2iF,GAAY,EACZC,GAAiB,EACZxmG,EAAI,EAAGA,EAAIsmG,EAAQrmG,SAAUD,EAAG,CACrC,IAAMsP,EAASg3F,EAAQtmG,GACvB,OAAQsP,EAAO,IACX,IAAK,IACDsU,IACiB,KAAZA,EAAiB,GAAK4iF,EAAiB,OAAS,OAC5Cl3F,EAAO2sB,UAAU,IAAM,KAChCsqE,GAAY,EACZC,GAAiB,EACjB,MACJ,IAAK,IAC2B,OAAxB,UAAAF,EAAQtmG,EAAI,UAAZ,eAAiB,MACjBA,GAAK,GACTumG,GAAY,EACZ,MACJ,QAESA,IACDC,GAAiB,GACrBD,GAAY,EAEvB,CACD,MAAO,CAAE3iF,QAAAA,EAAS4iF,eAAAA,EACrB,KAYKC,GAAAA,WACF,aAA0B,WAAd5sF,EAAc,uDAAJ,CAAC,EAAG,UACtBnV,KAAKuoF,IAAM,KACXvoF,KAAKgiG,cAAe,EACpBhiG,KAAK4hG,QAAU,GACf5hG,KAAK8R,OAAS,GACd9R,KAAKm6F,SAAW,GAChBn6F,KAAK41E,QAAU,SAAChrE,EAAQ3P,EAAM0T,EAASg9B,GACnC,IAAMjT,EAAMgpE,GAAY92F,GACpB+gC,EACA,EAAKwuD,SAASv0F,KAAK,IAAI81F,GAAYhjE,EAAKz9B,EAAM0T,IAE9C,EAAKmD,OAAOlM,KAAK,IAAI61F,GAAe/iE,EAAKz9B,EAAM0T,GACtD,EAED3O,KAAK2wF,WAAa,IAAIjJ,GAAW,CAAE3W,QAAS57D,EAAQ47D,SAAW,QAC/D/wE,KAAKmV,QAAUA,CAClB,mCACD,SAASozE,EAAK0Z,GACV,MAAoCN,GAAa3hG,KAAK4hG,SAA9C1iF,EAAR,EAAQA,QAAS4iF,EAAjB,EAAiBA,eAEjB,GAAI5iF,EAAS,CACT,IAAMo8E,EAAK/S,EAAIlG,SACf,GAAI4f,EACA1Z,EAAIrpE,QAAUqpE,EAAIrpE,QAAJ,UAAiBqpE,EAAIrpE,QAArB,aAAiCA,GAAYA,OAE1D,GAAI4iF,GAAkBvZ,EAAIoI,WAAW/I,WAAa0T,EACnD/S,EAAI8D,cAAgBntE,OAEnB,GAAI+mE,GAAaqV,KAAQA,EAAGrI,MAAQqI,EAAGvqC,MAAMx1D,OAAS,EAAG,CAC1D,IAAIoR,EAAK2uF,EAAGvqC,MAAM,GACd+0B,GAAOn5E,KACPA,EAAKA,EAAGnN,KACZ,IAAMq9B,EAAKlwB,EAAG0/E,cACd1/E,EAAG0/E,cAAgBxvD,EAAK,GAAH,OAAM3d,EAAN,aAAkB2d,GAAO3d,CACjD,KACI,CACD,IAAM2d,EAAKy+D,EAAGjP,cACdiP,EAAGjP,cAAgBxvD,EAAK,GAAH,OAAM3d,EAAN,aAAkB2d,GAAO3d,CACjD,CACJ,CACG+iF,GACA92F,MAAM7K,UAAUsF,KAAK8C,MAAM6/E,EAAIz2E,OAAQ9R,KAAK8R,QAC5C3G,MAAM7K,UAAUsF,KAAK8C,MAAM6/E,EAAI4R,SAAUn6F,KAAKm6F,YAG9C5R,EAAIz2E,OAAS9R,KAAK8R,OAClBy2E,EAAI4R,SAAWn6F,KAAKm6F,UAExBn6F,KAAK4hG,QAAU,GACf5hG,KAAK8R,OAAS,GACd9R,KAAKm6F,SAAW,EACnB,2BAMD,WACI,MAAO,CACHj7E,QAASyiF,GAAa3hG,KAAK4hG,SAAS1iF,QACpCyxE,WAAY3wF,KAAK2wF,WACjB7+E,OAAQ9R,KAAK8R,OACbqoF,SAAUn6F,KAAKm6F,SAEtB,wBAOD,SAAS+B,GAAT,WAAiBgG,EAAjB,wDAAmC1wB,EAAnC,wDAAgD,EAAhD,6GACwB0qB,GADxB,wDAEQ,OADOrpB,EADf,QAEQ,gBAAO,EAAK3tE,KAAK2tE,GAAjB,QAFR,6IAGI,uBAAO,EAAKr1E,IAAI0kG,EAAU1wB,GAA1B,SAHJ,+FAMA,WAAMqB,GAAN,2FACYA,EAAMnwE,KADlB,OAEa,cAFb,OAWa,aAXb,OAsBa,oBAtBb,MAuBa,UAvBb,QAyBa,YAzBb,MA0Ba,YA1Bb,QA6Ba,UA7Bb,QAwCa,YAxCb,+BAGY1C,KAAK2wF,WAAW79E,IAAI+/D,EAAMjoE,QAAQ,SAACsW,EAAQvS,EAASg9B,GAChD,IAAMjT,EAAMgpE,GAAY7uB,GACxBn6C,EAAI,IAAMxX,EACV,EAAK00D,QAAQl9C,EAAK,gBAAiB/pB,EAASg9B,EAC/C,IACD3rC,KAAK4hG,QAAQh8F,KAAKitE,EAAMjoE,QACxB5K,KAAKgiG,cAAe,EAThC,+BAYkBzZ,EAAMiZ,GAAWxhG,KAAKmV,QAASnV,KAAK2wF,WAAY9d,EAAO7yE,KAAK41E,SAC9D51E,KAAKgiG,eAAiBzZ,EAAIoI,WAAW/I,UACrC5nF,KAAK41E,QAAQ/C,EAAO,eAAgB,mDACxC7yE,KAAKmiG,SAAS5Z,GAAK,IACfvoF,KAAKuoF,IAhBrB,iBAiBgB,OAjBhB,UAiBsBvoF,KAAKuoF,IAjB3B,eAkBYvoF,KAAKuoF,IAAMA,EACXvoF,KAAKgiG,cAAe,EAnBhC,wEA2BYhiG,KAAK4hG,QAAQh8F,KAAKitE,EAAMjoE,QA3BpC,oCA8BkB2E,EAAMsjE,EAAMjoE,OAAN,UACHioE,EAAMlkE,QADH,aACe9T,KAAKC,UAAU+3E,EAAMjoE,SAC1CioE,EAAMlkE,QACN1K,EAAQ,IAAIw3F,GAAeiG,GAAY7uB,GAAQ,mBAAoBtjE,GACrEvP,KAAKgiG,eAAiBhiG,KAAKuoF,IAC3BvoF,KAAK8R,OAAOlM,KAAK3B,GAEjBjE,KAAKuoF,IAAIz2E,OAAOlM,KAAK3B,GArCrC,gCAyCiBjE,KAAKuoF,IAzCtB,uBA0C4B,gDACZvoF,KAAK8R,OAAOlM,KAAK,IAAI61F,GAAeiG,GAAY7uB,GAAQ,mBAD5C,kDA1C5B,oCA8CY7yE,KAAKuoF,IAAIoI,WAAW9I,QAAS,EACvBrqF,EAAMy/F,GAAWpqB,EAAMr1E,IAAKq1E,EAAM3xD,OAAS2xD,EAAMjoE,OAAOrP,OAAQyE,KAAKuoF,IAAIpzE,QAAQsiB,OAAQz3B,KAAK41E,SACpG51E,KAAKmiG,SAASniG,KAAKuoF,KAAK,GACpB/qF,EAAI0hB,UACEo8E,EAAKt7F,KAAKuoF,IAAIrpE,QACpBlf,KAAKuoF,IAAIrpE,QAAUo8E,EAAK,GAAH,OAAMA,EAAN,aAAa99F,EAAI0hB,SAAY1hB,EAAI0hB,SAE1Dlf,KAAKuoF,IAAI7tD,MAAM,GAAKl9B,EAAI0jB,OArDpC,6BAyDYlhB,KAAK8R,OAAOlM,KAAK,IAAI61F,GAAeiG,GAAY7uB,GAAQ,mBAAvC,4BAAgFA,EAAMnwE,QAzDnH,kEAkEA,sBAAKw/F,EAAL,wDAAuB1wB,EAAvB,wDAAoC,EAApC,2GACQ,EAAK+W,IADb,gBAGQ,OADA,EAAK4Z,SAAS,EAAK5Z,KAAK,GAFhC,SAGc,EAAKA,IAHnB,OAIQ,EAAKA,IAAM,KAJnB,2BAMa2Z,EANb,iBAaQ,OANMjpC,EAAOv5D,OAAOynF,OAAO,CAAEqT,YAAa,EAAK7J,YAAc,EAAKx7E,SAC5DozE,EAAM,IAAI2R,QAASh+F,EAAW+8D,GAChC,EAAK+oC,cACL,EAAKpsB,QAAQpE,EAAW,eAAgB,yCAC5C+W,EAAI7tD,MAAQ,CAAC,EAAG82C,EAAWA,GAC3B,EAAK2wB,SAAS5Z,GAAK,GAZ3B,UAacA,EAbd,mDAhJEwZ,GC/CN,SAASK,GAAevvB,GACpB,OAAQA,EAAMnwE,MACV,IAAK,eACD,IADiB,EACbxH,EAAM,GADO,IAEC23E,EAAMvmE,OAFP,IAEjB,2BACI,CAAApR,GAAOknG,GAAP,QAA2B,CAHd,+BAIjB,OAAOlnG,EAAM23E,EAAMjoE,OAEvB,IAAK,YACL,IAAK,YACD,IADc,EACV1P,EAAM,GADI,IAEK23E,EAAM9hB,OAFX,IAEd,2BACI,CAAA71D,GAAOmnG,GAAP,QAA2B,CAHjB,+BAId,OAAOnnG,EAEX,IAAK,kBACD,IADoB,EAChBA,EAAM23E,EAAMj1E,MAAMgN,OADF,IAEDioE,EAAM9hB,OAFL,IAEpB,2BACI,CAAA71D,GAAOmnG,GAAP,QAA2B,CAHX,yCAIHxvB,EAAMr1E,KAJH,IAIpB,2BACI,CAAAtC,GAAA,QAAU0P,MAAO,CALD,+BAMpB,OAAO1P,EAEX,IAAK,WACD,IAAIA,EAAMmnG,GAAcxvB,GACxB,GAAIA,EAAMr1E,IAAV,WACqBq1E,EAAMr1E,KAD3B,IACI,2BACI,CAAAtC,GAAA,QAAU0P,MAAO,CAFzB,gCAGA,OAAO1P,EAEX,QACI,IAAIA,EAAM23E,EAAMjoE,OAChB,GAAI,QAASioE,GAASA,EAAMr1E,IAA5B,WACqBq1E,EAAMr1E,KAD3B,IACI,2BACI,CAAAtC,GAAA,QAAU0P,MAAO,CAFzB,gCAGA,OAAO1P,EAGlB,CACD,SAASmnG,GAAT,GAAmD,MAA1BzkG,EAA0B,EAA1BA,MAAO4B,EAAmB,EAAnBA,IAAKnB,EAAc,EAAdA,IAAKuC,EAAS,EAATA,MAClC1F,EAAM,GADqC,IAE9B0C,GAF8B,IAE/C,2BACI,CAAA1C,GAAA,QAAU0P,MAAO,CAH0B,+BAM/C,GAFIpL,IACAtE,GAAOknG,GAAe5iG,IACtBnB,EAAJ,WACqBA,GADrB,IACI,2BACI,CAAAnD,GAAA,QAAU0P,MAAO,CAFzB,gCAKA,OAFIhK,IACA1F,GAAOknG,GAAexhG,IACnB1F,CACV,CC1DD,IAAMkrF,GAAQ1lF,OAAO,eACf2lF,GAAO3lF,OAAO,iBACd4lF,GAAS5lF,OAAO,eA6BtB,SAASg0E,GAAM4tB,EAAK3tB,GACZ,SAAU2tB,GAAoB,aAAbA,EAAI5/F,OACrB4/F,EAAM,CAAE1kG,MAAO0kG,EAAI1kG,MAAOgD,MAAO0hG,EAAI1hG,QACzC2hG,GAAO7iG,OAAOwQ,OAAO,IAAKoyF,EAAK3tB,EAClC,CAoCD,SAAS4tB,GAAO5nG,EAAMiiC,EAAM+3C,GACxB,IAAI+R,EAAO/R,EAAQ/3C,EAAMjiC,GACzB,GAAoB,kBAAT+rF,EACP,OAAOA,EACX,cAAoB,CAAC,MAAO,SAA5B,eAAsC,CAAjC,IAAM8b,EAAK,KACN3vB,EAAQj2C,EAAK4lE,GACnB,GAAI3vB,GAAS,UAAWA,EAAO,CAC3B,IAAK,IAAIv3E,EAAI,EAAGA,EAAIu3E,EAAM9hB,MAAMx1D,SAAUD,EAAG,CACzC,IAAMurF,EAAK0b,GAAO7iG,OAAOwQ,OAAOvV,EAAKmV,OAAO,CAAC,CAAC0yF,EAAOlnG,MAAOu3E,EAAM9hB,MAAMz1D,GAAIq5E,GAC5E,GAAkB,kBAAPkS,EACPvrF,EAAIurF,EAAK,MACR,IAAIA,IAAOT,GACZ,OAAOA,GACFS,IAAOP,KACZzT,EAAM9hB,MAAMnxC,OAAOtkB,EAAG,GACtBA,GAAK,EACR,CACJ,CACmB,oBAATorF,GAAiC,QAAV8b,IAC9B9b,EAAOA,EAAK9pD,EAAMjiC,GACzB,CACJ,CACD,MAAuB,oBAAT+rF,EAAsBA,EAAK9pD,EAAMjiC,GAAQ+rF,CAC1D,CAtDDhS,GAAM0R,MAAQA,GAEd1R,GAAM2R,KAAOA,GAEb3R,GAAM4R,OAASA,GAEf5R,GAAM+tB,WAAa,SAACH,EAAK3nG,GACrB,IAD8B,EAC1BiiC,EAAO0lE,EADmB,IAED3nG,GAFC,IAE9B,2BAAmC,sBAAvB6nG,EAAuB,KAAhBnyF,EAAgB,KACzBqyF,EAAG,UAAG9lE,SAAH,aAAG,EAAO4lE,GACnB,IAAIE,KAAO,UAAWA,GAIlB,OAHA9lE,EAAO8lE,EAAI3xC,MAAM1gD,EAIxB,CAT6B,+BAU9B,OAAOusB,CACV,EAMD83C,GAAMiuB,iBAAmB,SAACL,EAAK3nG,GAC3B,IAAMgX,EAAS+iE,GAAM+tB,WAAWH,EAAK3nG,EAAKgB,MAAM,GAAI,IAC9C6mG,EAAQ7nG,EAAKA,EAAKY,OAAS,GAAG,GAC9B8hG,EAAI,OAAG1rF,QAAH,IAAGA,OAAH,EAAGA,EAAS6wF,GACtB,GAAInF,GAAQ,UAAWA,EACnB,OAAOA,EACX,MAAM,IAAIh5F,MAAM,8BACnB,ECjED,IAMMmhF,GAAS,OA0Bf,SAASod,GAAUh4F,GACf,OAAQA,GACJ,IAlCI,SAmCA,MAAO,kBACX,IAlCS,OAmCL,MAAO,WACX,IAlCS,OAmCL,MAAO,iBACX,KAAK46E,GACD,MAAO,SACX,IAAK,MACD,MAAO,YACX,IAAK,MACD,MAAO,UACX,IAAK,GACL,IAAK,KACL,IAAK,OACD,MAAO,UACX,IAAK,IACD,MAAO,eACX,IAAK,IACD,MAAO,mBACX,IAAK,IACD,MAAO,gBACX,IAAK,IACD,MAAO,iBACX,IAAK,IACD,MAAO,eACX,IAAK,IACD,MAAO,iBACX,IAAK,IACD,MAAO,eACX,IAAK,IACD,MAAO,QAEf,OAAQ56E,EAAO,IACX,IAAK,IACL,IAAK,KACD,MAAO,QACX,IAAK,IACD,MAAO,UACX,IAAK,IACD,MAAO,iBACX,IAAK,IACD,MAAO,QACX,IAAK,IACD,MAAO,SACX,IAAK,IACD,MAAO,MACX,IAAK,IACD,MAAO,uBACX,IAAK,IACD,MAAO,uBACX,IAAK,IACL,IAAK,IACD,MAAO,sBAEf,OAAO,IACV,CC1BD,SAAS6F,GAAQ6hE,GACb,OAAQA,GACJ,UAAKp2E,EACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,KACD,OAAO,EACX,QACI,OAAO,EAElB,CACD,IAAM2mG,GAAY,yBAAyB3rF,MAAM,IAC3C4rF,GAAW,oFAAoF5rF,MAAM,IACrG6rF,GAAyB,QAAQ7rF,MAAM,IACvC8rF,GAAqB,eAAe9rF,MAAM,IAC1C+rF,GAAkB,SAAC3wB,GAAD,OAASA,GAAM0wB,GAAmBnW,SAASva,EAA3C,EAgBlB4wB,GAAAA,WACF,aAAc,UAKVljG,KAAKmjG,OAAQ,EAMbnjG,KAAKojG,mBAAqB,EAM1BpjG,KAAKqjG,iBAAkB,EAEvBrjG,KAAKoX,OAAS,GAKdpX,KAAKsjG,SAAU,EAEftjG,KAAKujG,UAAY,EAKjBvjG,KAAKwjG,WAAa,EAElBxjG,KAAKyjG,YAAc,EAEnBzjG,KAAK0jG,WAAa,KAElB1jG,KAAKkF,KAAO,KAEZlF,KAAK04B,IAAM,CACd,8BAOD,SAAK9tB,GAAL,WAAa+4F,EAAb,+JACQ/4F,IACA,EAAKwM,OAAS,EAAKA,OAAS,EAAKA,OAASxM,EAASA,EACnD,EAAK84F,WAAa,MAEtB,EAAKP,OAASQ,EACVz+F,EANR,UAMe,EAAKA,YANpB,QAM4B,SAN5B,WAOWA,IAASy+F,IAAc,EAAKC,SAAS,GAPhD,gBAQe,uBAAO,EAAKC,UAAU3+F,GAAtB,QARf,OAQQA,EARR,yFAUA,WAGI,IAFA,IAAI5J,EAAI0E,KAAK04B,IACT45C,EAAKtyE,KAAKoX,OAAO9b,GACP,MAAPg3E,GAAqB,OAAPA,GACjBA,EAAKtyE,KAAKoX,SAAS9b,GACvB,OAAKg3E,GAAa,MAAPA,GAAqB,OAAPA,GAEd,OAAPA,GAC8B,OAAvBtyE,KAAKoX,OAAO9b,EAAI,EAE9B,uBACD,SAAOiQ,GACH,OAAOvL,KAAKoX,OAAOpX,KAAK04B,IAAMntB,EACjC,+BACD,SAAe2V,GACX,IAAIoxD,EAAKtyE,KAAKoX,OAAO8J,GACrB,GAAIlhB,KAAKwjG,WAAa,EAAG,CAErB,IADA,IAAIh8C,EAAS,EACC,MAAP8qB,GACHA,EAAKtyE,KAAKoX,SAASowC,EAAStmC,GAChC,GAAW,OAAPoxD,EAAa,CACb,IAAMptE,EAAOlF,KAAKoX,OAAOowC,EAAStmC,EAAS,GAC3C,GAAa,OAAThc,IAAmBA,IAASlF,KAAKmjG,MACjC,OAAOjiF,EAASsmC,EAAS,CAChC,CACD,MAAc,OAAP8qB,GAAe9qB,GAAUxnD,KAAKwjG,aAAgBlxB,IAAOtyE,KAAKmjG,MAC3DjiF,EAASsmC,GACR,CACV,CACD,GAAW,MAAP8qB,GAAqB,MAAPA,EAAY,CAC1B,IAAMwxB,EAAK9jG,KAAKoX,OAAOwhB,OAAO1X,EAAQ,GACtC,IAAY,QAAP4iF,GAAuB,QAAPA,IAAiBrzF,GAAQzQ,KAAKoX,OAAO8J,EAAS,IAC/D,OAAQ,CACf,CACD,OAAOA,CACV,wBACD,WACI,IAAI1jB,EAAMwC,KAAK0jG,WAKf,OAJmB,kBAARlmG,IAA8B,IAATA,GAAcA,EAAMwC,KAAK04B,OACrDl7B,EAAMwC,KAAKoX,OAAOpJ,QAAQ,KAAMhO,KAAK04B,KACrC14B,KAAK0jG,WAAalmG,IAET,IAATA,EACOwC,KAAKmjG,MAAQnjG,KAAKoX,OAAOmgB,UAAUv3B,KAAK04B,KAAO,MAC7B,OAAzB14B,KAAKoX,OAAO5Z,EAAM,KAClBA,GAAO,GACJwC,KAAKoX,OAAOmgB,UAAUv3B,KAAK04B,IAAKl7B,GAC1C,yBACD,SAAS+N,GACL,OAAOvL,KAAK04B,IAAMntB,GAAKvL,KAAKoX,OAAO7b,MACtC,wBACD,SAAQ6I,GAKJ,OAJApE,KAAKoX,OAASpX,KAAKoX,OAAOmgB,UAAUv3B,KAAK04B,KACzC14B,KAAK04B,IAAM,EACX14B,KAAK0jG,WAAa,KAClB1jG,KAAKkF,KAAOd,EACL,IACV,qBACD,SAAKmH,GACD,OAAOvL,KAAKoX,OAAOwhB,OAAO54B,KAAK04B,IAAKntB,EACvC,oCACD,WAAWrG,GAAX,sEACYA,EADZ,OAEa,WAFb,OAIa,eAJb,OAMa,gBANb,OAQa,QARb,OAUa,SAVb,QAYa,kBAZb,QAca,iBAdb,QAgBa,iBAhBb,wBAGmB,uBAAOlF,KAAK+jG,cAAZ,QAHnB,6CAKmB,uBAAO/jG,KAAKgkG,iBAAZ,QALnB,6CAOmB,uBAAOhkG,KAAKikG,kBAAZ,QAPnB,6CASmB,uBAAOjkG,KAAKkkG,gBAAZ,SATnB,+CAWmB,uBAAOlkG,KAAKmkG,sBAAZ,SAXnB,+CAamB,uBAAOnkG,KAAKokG,oBAAZ,SAbnB,+CAemB,uBAAOpkG,KAAKqkG,mBAAZ,SAfnB,+CAiBmB,uBAAOrkG,KAAKskG,mBAAZ,SAjBnB,2HAoBA,mGAEiB,QADTrhE,EAAOjjC,KAAKukG,WADpB,yCAGevkG,KAAKwkG,QAAQ,WAH5B,UD3OQ,WC+OAvhE,EAAK,GAJb,gBAKQ,uBAAOjjC,KAAKykG,UAAU,GAAtB,QALR,OAMQxhE,EAAOA,EAAK1L,UAAU,GAN9B,UAQoB,MAAZ0L,EAAK,GARb,iBASYyhE,EAASzhE,EAAK1nC,QAEN,KADN83F,EAAKpwD,EAAKj1B,QAAQ,QAGT,OADLskE,EAAKrvC,EAAKowD,EAAK,KACI,OAAP/gB,IACdoyB,EAASrR,EAAK,IAd9B,WAkBuB,OADL/gB,EAAKrvC,EAAKyhE,EAAS,KACA,OAAPpyB,EAlB9B,iBAmBgBoyB,GAAU,EAnB1B,oFAuBmB,uBAAO1kG,KAAKykG,UAAUC,GAAtB,SAvBnB,QAuBqD,OAvBrD,UAuBqD,gBAAO1kG,KAAK2kG,YAAW,GAAvB,SAvBrD,QAwBQ,OAxBR,UAuBcp5F,EAvBd,UAwBQ,gBAAOvL,KAAKykG,UAAUxhE,EAAK1nC,OAASgQ,GAApC,SAxBR,eAyBQvL,KAAK4kG,cAzBb,kBA0Be,UA1Bf,YA4BQ5kG,KAAK6kG,YA5Bb,iBA6BmB,uBAAO7kG,KAAK2kG,YAAW,GAAvB,SA7BnB,QA8BQ,OADMG,EA7Bd,KA8BQ,gBAAO9kG,KAAKykG,UAAUxhE,EAAK1nC,OAASupG,GAApC,SA9BR,QA+BQ,uBAAO9kG,KAAK4kG,cAAZ,SA/BR,iCAgCe,UAhCf,QAkCI,OAlCJ,UDzOa,OCyOb,QAmCW,uBAAO5kG,KAAKgkG,iBAAZ,SAnCX,8HAqCA,0FACU1xB,EAAKtyE,KAAKqH,OAAO,KACXrH,KAAKmjG,MAFrB,yCAGenjG,KAAKwkG,QAAQ,eAH5B,UAIe,MAAPlyB,GAAqB,MAAPA,EAJtB,oBAKatyE,KAAKmjG,OAAUnjG,KAAK4jG,SAAS,GAL1C,yCAMmB5jG,KAAKwkG,QAAQ,eANhC,UAQkB,SADJ33F,EAAI7M,KAAK+kG,KAAK,MACDt0F,GAAQzQ,KAAKqH,OAAO,IAR/C,iBASY,uBAAOrH,KAAKykG,UAAU,GAAtB,QATZ,cAUYzkG,KAAKyjG,YAAc,EACnBzjG,KAAKwjG,WAAa,EAX9B,kBAYmB,OAZnB,WAcuB,QAAN32F,IAAe4D,GAAQzQ,KAAKqH,OAAO,IAdpD,iBAeY,uBAAOrH,KAAKykG,UAAU,GAAtB,SAfZ,iCAgBmB,UAhBnB,QAmBuB,uBAAOzkG,KAAK2kG,YAAW,GAAvB,SAnBvB,QAsBW,OAHP3kG,KAAKyjG,YAnBT,KAoBQzjG,KAAKwjG,WAAaxjG,KAAKyjG,cAAgBhzF,GAAQzQ,KAAKqH,OAAO,MAC3DrH,KAAKwjG,WAAaxjG,KAAKyjG,aACpB,gBAAOzjG,KAAKikG,kBAAZ,SAtBX,+HAwBA,iGACuBjkG,KAAK+kG,KAAK,GADjC,SACWC,EADX,MACgBC,EADhB,OAEiBjlG,KAAKmjG,MAFtB,yCAGenjG,KAAKwkG,QAAQ,gBAH5B,UAIiB,MAARQ,GAAuB,MAARA,GAAuB,MAARA,IAAgBv0F,GAAQw0F,GAJ/D,iBAKmB,uBAAOjlG,KAAKykG,UAAU,GAAtB,QALnB,OAKgD,OALhD,UAKgD,gBAAOzkG,KAAK2kG,YAAW,GAAvB,QALhD,OAQe,OARf,UAKcp5F,EALd,UAMQvL,KAAKwjG,WAAaxjG,KAAKyjG,YAAc,EACrCzjG,KAAKyjG,aAAel4F,EACb,gBAAOvL,KAAKikG,kBAAZ,SARf,wEAUW,OAVX,sFAYA,sFACI,uBAAOjkG,KAAK2kG,YAAW,GAAvB,QADJ,UAGiB,QADP1hE,EAAOjjC,KAAKukG,WAFtB,yCAIevkG,KAAKwkG,QAAQ,QAJ5B,OAKY,uBAAOxkG,KAAKklG,iBAAZ,QALZ,OAKQ35F,EALR,UAMY03B,EAAK13B,GANjB,OAOa,MAPb,YAUarP,IAVb,QAaa,MAbb,MAca,MAdb,QAmBa,MAnBb,MAoBa,MApBb,QAwBa,MAxBb,QA2Ba,MA3Bb,MA4Ba,MA5Bb,QA8Ba,MA9Bb,MA+Ba,MA/Bb,wBAQY,uBAAO8D,KAAKykG,UAAUxhE,EAAK1nC,OAASgQ,GAApC,SARZ,QAWY,uBAAOvL,KAAK4kG,cAAZ,SAXZ,QAYmB,uBAAO5kG,KAAKgkG,iBAAZ,SAZnB,+CAeY,uBAAOhkG,KAAKykG,UAAU,GAAtB,SAfZ,eAgBYzkG,KAAKsjG,SAAU,EACftjG,KAAKujG,UAAY,EAjB7B,kBAkBmB,QAlBnB,QAsBY,uBAAOvjG,KAAKykG,UAAU,GAAtB,SAtBZ,yCA0BmB,OA1BnB,QAyBY,uBAAOzkG,KAAKmlG,UAAUlC,IAAtB,SAzBZ,QA6BmB,uBAAOjjG,KAAKokG,oBAAZ,SA7BnB,+CAgCiB,OAhCjB,MAgCY74F,EAAK,gBAAOvL,KAAKi/F,yBAAZ,UAhCjB,QAiCiB,OADL1zF,EAhCZ,mBAiCYA,EAAK,gBAAOvL,KAAK2kG,YAAW,GAAvB,UAjCjB,QAkCY,OADAp5F,EAjCZ,aAkCY,gBAAOvL,KAAKykG,UAAUxhE,EAAK1nC,OAASgQ,GAApC,UAlCZ,QAmCY,uBAAOvL,KAAK4kG,cAAZ,UAnCZ,QAoCmB,uBAAO5kG,KAAKqkG,mBAAZ,UApCnB,gDAsCmB,uBAAOrkG,KAAKskG,mBAAZ,UAtCnB,oIAyCA,8FAEQ98C,GAAU,EAFlB,OAIa,uBAAOxnD,KAAK4kG,cAAZ,QAJb,aAIQQ,EAJR,MAKiB,GALjB,gBAMiB,uBAAOplG,KAAK2kG,YAAW,GAAvB,QANjB,OAMYG,EANZ,KAOY9kG,KAAKyjG,YAAcj8C,EAASs9C,EAPxC,uBAUYA,EAAK,EAVjB,QAYc,OAZd,KAYQA,EAAM,gBAAO9kG,KAAK2kG,YAAW,GAAvB,SAZd,QAYQG,EAZR,sBAaaM,EAAKN,EAAK,EAbvB,2BAeiB,QADP7hE,EAAOjjC,KAAKukG,WAdtB,0CAgBevkG,KAAKwkG,QAAQ,SAhB5B,cAiBqB,IAAZh9C,GAAiBA,EAASxnD,KAAKwjG,YAA0B,MAAZvgE,EAAK,IACvC,IAAXukB,IACIvkB,EAAK1gB,WAAW,QAAU0gB,EAAK1gB,WAAW,SAC3C9R,GAAQwyB,EAAK,KApBzB,oBAwBgCukB,IAAWxnD,KAAKwjG,WAAa,GAC9B,IAAnBxjG,KAAKujG,YACQ,MAAZtgE,EAAK,IAA0B,MAAZA,EAAK,IA1BrC,iBA8BY,OADAjjC,KAAKujG,UAAY,EA7B7B,UDzVa,OCyVb,QA+BmB,uBAAOvjG,KAAKgkG,iBAAZ,SA/BnB,+CAkCQz4F,EAAI,EAlCZ,WAmCuB,MAAZ03B,EAAK13B,GAnChB,iBAoCa,OApCb,KAoCQA,EAAK,gBAAOvL,KAAKykG,UAAU,GAAtB,SApCb,QAqCa,OADLl5F,EApCR,gBAqCQA,EAAK,gBAAOvL,KAAK2kG,YAAW,GAAvB,SArCb,QAqCQp5F,EArCR,WAsCQvL,KAAKsjG,SAAU,EAtCvB,wBAwCS,OAxCT,KAwCI/3F,EAAK,gBAAOvL,KAAKklG,iBAAZ,UAxCT,QAwCI35F,EAxCJ,kBAyCY03B,EAAK13B,GAzCjB,YA0CarP,IA1Cb,SA4Ca,MA5Cb,SA+Ca,MA/Cb,OAgDa,MAhDb,SAqDa,MArDb,OAsDa,MAtDb,SA2Da,MA3Db,SA8Da,MA9Db,OA+Da,MA/Db,SAkEa,MAlEb,mDA2CmB,QA3CnB,QA6CY,uBAAO8D,KAAKykG,UAAUxhE,EAAK1nC,OAASgQ,GAApC,UA7CZ,iCA8CmB,QA9CnB,QAiDY,uBAAOvL,KAAKykG,UAAU,GAAtB,UAjDZ,eAkDYzkG,KAAKsjG,SAAU,EACftjG,KAAKujG,WAAa,EAnD9B,kBAoDmB,QApDnB,QAuDY,uBAAOvjG,KAAKykG,UAAU,GAAtB,UAvDZ,eAwDYzkG,KAAKsjG,SAAU,EACftjG,KAAKujG,WAAa,EAzD9B,kBA0DmBvjG,KAAKujG,UAAY,OAAS,OA1D7C,QA4DY,uBAAOvjG,KAAKmlG,UAAUlC,IAAtB,UA5DZ,iCA6DmB,QA7DnB,QAiEmB,OADPjjG,KAAKsjG,SAAU,EACR,gBAAOtjG,KAAKokG,oBAAZ,UAjEnB,mDAmEkBl/F,EAAOlF,KAAKqH,OAAO,IACrBrH,KAAKsjG,UAAW7yF,GAAQvL,IAAkB,MAATA,EApEjD,iBAsEgB,OADAlF,KAAKsjG,SAAU,EACf,gBAAOtjG,KAAKykG,UAAU,GAAtB,UAtEhB,QAuEgB,uBAAOzkG,KAAK2kG,YAAW,GAAvB,UAvEhB,iCAwEuB,QAxEvB,QA8EmB,OADP3kG,KAAKsjG,SAAU,EACR,gBAAOtjG,KAAKskG,mBAAZ,UA9EnB,kIAiFA,iGACUxpD,EAAQ96C,KAAKqH,OAAO,GACtB7J,EAAMwC,KAAKoX,OAAOpJ,QAAQ8sC,EAAO96C,KAAK04B,IAAM,GAClC,MAAVoiB,EAHR,gBAIQ,MAAgB,IAATt9C,GAAuC,MAAzBwC,KAAKoX,OAAO5Z,EAAM,IACnCA,EAAMwC,KAAKoX,OAAOpJ,QAAQ,IAAKxQ,EAAM,GALjD,2BASwB,IAATA,EATf,iBAWY,IADI+N,EAAI,EAC4B,OAA7BvL,KAAKoX,OAAO5Z,EAAM,EAAI+N,IACzBA,GAAK,EAZrB,GAagBA,EAAI,IAAM,EAb1B,qDAeY/N,EAAMwC,KAAKoX,OAAOpJ,QAAQ,IAAKxQ,EAAM,GAfjD,0BAmBU6nG,EAAKrlG,KAAKoX,OAAOmgB,UAAU,EAAG/5B,IAExB,KADR4nG,EAAKC,EAAGr3F,QAAQ,KAAMhO,KAAK04B,MApBnC,6BAsBuB,IAAR0sE,EAtBf,qBAwBwB,KADN/R,EAAKrzF,KAAKslG,eAAeF,EAAK,IAvBhD,qDA0BYA,EAAKC,EAAGr3F,QAAQ,KAAMqlF,GA1BlC,yBA4BoB,IAAR+R,IAEA5nG,EAAM4nG,GAAqB,OAAfC,EAAGD,EAAK,GAAc,EAAI,IA9BlD,YAiCiB,IAAT5nG,EAjCR,oBAkCawC,KAAKmjG,MAlClB,0CAmCmBnjG,KAAKwkG,QAAQ,kBAnChC,QAoCQhnG,EAAMwC,KAAKoX,OAAO7b,OApC1B,QAsCI,uBAAOyE,KAAKulG,YAAY/nG,EAAM,GAAG,GAAjC,SAtCJ,iCAuCWwC,KAAKujG,UAAY,OAAS,OAvCrC,+FAyCA,sFACIvjG,KAAKojG,mBAAqB,EAC1BpjG,KAAKqjG,iBAAkB,EACnB/nG,EAAI0E,KAAK04B,IAHjB,UAMmB,OADL45C,EAAKtyE,KAAKoX,SAAS9b,IALjC,gBAOY0E,KAAKqjG,iBAAkB,EAPnC,4BAQiB/wB,EAAK,KAAOA,GAAM,KARnC,iBASYtyE,KAAKojG,kBAAoBh5F,OAAOkoE,GAAM,EATlD,2BAUwB,MAAPA,EAVjB,4EAaW,uBAAOtyE,KAAKmlG,WAAU,SAAA7yB,GAAE,OAAI7hE,GAAQ6hE,IAAc,MAAPA,CAAnB,IAAxB,SAbX,gIAeA,oGACQ8yB,EAAKplG,KAAK04B,IAAM,EAChB8uB,EAAS,EAEElsD,EAAI0E,KAAK04B,IAJ5B,YAIkC45C,EAAKtyE,KAAKoX,OAAO9b,IAJnD,sBAKgBg3E,EALhB,OAMiB,MANjB,OASiB,OATjB,OAaiB,OAbjB,+BAOgB9qB,GAAU,EAP1B,mCAUgB49C,EAAK9pG,EACLksD,EAAS,EAXzB,iCAcsBtiD,EAAOlF,KAAKoX,OAAO9b,EAAI,KACf0E,KAAKmjG,MAfnC,0CAgB2BnjG,KAAKwkG,QAAQ,iBAhBxC,WAiB6B,OAATt/F,EAjBpB,2FAI0D5J,EAJ1D,0BAwBSg3E,GAAOtyE,KAAKmjG,MAxBrB,0CAyBenjG,KAAKwkG,QAAQ,iBAzB5B,aA0BQh9C,GAAUxnD,KAAKwjG,YA1BvB,kBA2BwC,IAA5BxjG,KAAKojG,kBACLpjG,KAAKwjG,WAAah8C,EAElBxnD,KAAKwjG,YAAcxjG,KAAKojG,kBA9BpC,YAiCwB,KADN/P,EAAKrzF,KAAKslG,eAAeF,EAAK,IAhChD,qDAmCYA,EAAKplG,KAAKoX,OAAOpJ,QAAQ,KAAMqlF,GAnC3C,YAoCyB,IAAR+R,EApCjB,6BAqCoB,IAARA,EArCZ,oBAsCiBplG,KAAKmjG,MAtCtB,0CAuCuBnjG,KAAKwkG,QAAQ,iBAvCpC,QAwCYY,EAAKplG,KAAKoX,OAAO7b,OAxC7B,WA2CSyE,KAAKqjG,gBA3Cd,yBAkDY,IALI/nG,EAAI8pG,EAAK,EAEF,QADP9yB,EAAKtyE,KAAKoX,OAAO9b,MAEjBg3E,EAAKtyE,KAAKoX,SAAS9b,IACjBkqG,EAAWlqG,EACH,MAAPg3E,GAAqB,OAAPA,GACjBA,EAAKtyE,KAAKoX,SAAS9b,GAnDnC,KAoDuB,OAAPg3E,GAAeh3E,GAAK0E,KAAK04B,KAAOp9B,EAAI,EAAIksD,EAASg+C,GApDjE,iBAqDgBJ,EAAK9pG,EArDrB,oFA0DI,OA1DJ,UA0DUkqF,GA1DV,QA2DI,uBAAOxlF,KAAKulG,YAAYH,EAAK,GAAG,GAAhC,SA3DJ,QA4DW,uBAAOplG,KAAKgkG,iBAAZ,SA5DX,gIA8DA,gGACUjU,EAAS/vF,KAAKujG,UAAY,EAC5B/lG,EAAMwC,KAAK04B,IAAM,EACjBp9B,EAAI0E,KAAK04B,IAAM,EAHvB,YAKY45C,EAAKtyE,KAAKoX,SAAS9b,IAL/B,oBAMmB,MAAPg3E,EANZ,sBAQgB7hE,GADEvL,EAAOlF,KAAKoX,OAAO9b,EAAI,KACPy0F,GAAmB,MAAT7qF,GAR5C,mDAUY1H,EAAMlC,EAVlB,4BAYiBmV,GAAQ6hE,GAZzB,oBAagBptE,EAAOlF,KAAKoX,OAAO9b,EAAI,GAChB,OAAPg3E,IACa,OAATptE,GACA5J,GAAK,EACLg3E,EAAK,KACLptE,EAAOlF,KAAKoX,OAAO9b,EAAI,IAGvBkC,EAAMlC,KAED,MAAT4J,GAAiB6qF,GAAUgT,GAAuBlW,SAAS3nF,IAvB3E,wDAyBuB,OAAPotE,EAzBhB,qBA2B4B,KADN+gB,EAAKrzF,KAAKslG,eAAehqG,EAAI,IA1BnD,qDA6BgBA,EAAIgf,KAAKuV,IAAIv0B,EAAG+3F,EAAK,GA7BrC,oCAiCgBtD,IAAUgT,GAAuBlW,SAASva,GAjC1D,qDAmCY90E,EAAMlC,EAnClB,kCAsCSg3E,GAAOtyE,KAAKmjG,MAtCrB,0CAuCenjG,KAAKwkG,QAAQ,iBAvC5B,QAwCI,OAxCJ,UAwCUhf,GAxCV,QAyCI,uBAAOxlF,KAAKulG,YAAY/nG,EAAM,GAAG,GAAjC,SAzCJ,iCA0CWuyF,EAAS,OAAS,OA1C7B,kFA4CA,WAAWxkF,GAAX,sEACQA,EAAI,GADZ,gBAEQ,OAFR,SAEcvL,KAAKoX,OAAOwhB,OAAO54B,KAAK04B,IAAKntB,GAF3C,cAGQvL,KAAK04B,KAAOntB,EAHpB,kBAIeA,GAJf,gCAMW,GANX,mFAQA,WAAajQ,EAAGmqG,GAAhB,4EACU54F,EAAI7M,KAAKoX,OAAOzb,MAAMqE,KAAK04B,IAAKp9B,IAD1C,gBAGQ,OAHR,SAGcuR,EAHd,cAIQ7M,KAAK04B,KAAO7rB,EAAEtR,OAJtB,kBAKesR,EAAEtR,QALjB,WAOakqG,EAPb,iBAQQ,OARR,UAQc,GARd,iCASW,GATX,uFAWA,2FACYzlG,KAAKqH,OAAO,GADxB,OAEa,MAFb,OAMa,MANb,QAUa,MAVb,MAWa,MAXb,MAYa,MAZb,wBAGqB,uBAAOrH,KAAK0lG,UAAZ,QAHrB,OAIiB,OAJjB,UAIiB,gBAAO1lG,KAAK2kG,YAAW,GAAvB,QAJjB,OAKiB,OALjB,yBAKiB,gBAAO3kG,KAAKklG,iBAAZ,QALjB,6DAOqB,uBAAOllG,KAAKmlG,UAAUlC,IAAtB,SAPrB,QAQiB,OARjB,UAQiB,gBAAOjjG,KAAK2kG,YAAW,GAAvB,UARjB,QASiB,OATjB,6BASiB,gBAAO3kG,KAAKklG,iBAAZ,UATjB,qEAakBnV,EAAS/vF,KAAKujG,UAAY,IAE5B9yF,GADEw0F,EAAMjlG,KAAKqH,OAAO,KACH0oF,GAAUgT,GAAuBlW,SAASoY,IAf3E,iBAoByB,OAJJlV,EAEI/vF,KAAKsjG,UACVtjG,KAAKsjG,SAAU,GAFftjG,KAAKwjG,WAAaxjG,KAAKyjG,YAAc,EAGhC,gBAAOzjG,KAAKykG,UAAU,GAAtB,UApBzB,QAqBqB,OArBrB,YAqBqB,gBAAOzkG,KAAK2kG,YAAW,GAAvB,UArBrB,QAsBqB,OAtBrB,8BAsBqB,gBAAO3kG,KAAKklG,iBAAZ,UAtBrB,2FA0BW,GA1BX,gFA4BA,6FAC2B,MAAnBllG,KAAKqH,OAAO,GADpB,gBAIQ,IAFI/L,EAAI0E,KAAK04B,IAAM,EACf45C,EAAKtyE,KAAKoX,OAAO9b,IACbmV,GAAQ6hE,IAAc,MAAPA,GACnBA,EAAKtyE,KAAKoX,SAAS9b,GAChB,uBAAO0E,KAAKulG,YAAmB,MAAPjzB,EAAah3E,EAAI,EAAIA,GAAG,GAAhD,QANf,6CASYA,EAAI0E,KAAK04B,IAAM,EACf45C,EAAKtyE,KAAKoX,OAAO9b,GAV7B,YAWeg3E,EAXf,qBAYgBwwB,GAASjW,SAASva,GAZlC,iBAagBA,EAAKtyE,KAAKoX,SAAS9b,GAbnC,2BAc4B,MAAPg3E,IACLuwB,GAAUhW,SAAS7sF,KAAKoX,OAAO9b,EAAI,MACnCunG,GAAUhW,SAAS7sF,KAAKoX,OAAO9b,EAAI,IAhBnD,iBAiBgBg3E,EAAKtyE,KAAKoX,OAAQ9b,GAAK,GAjBvC,oFAsBe,uBAAO0E,KAAKulG,YAAYjqG,GAAG,GAA3B,SAtBf,2HAyBA,uFAEe,QADLg3E,EAAKtyE,KAAKoX,OAAOpX,KAAK04B,MADhC,gBAGe,uBAAO14B,KAAKykG,UAAU,GAAtB,QAHf,gDAIoB,OAAPnyB,GAAkC,OAAnBtyE,KAAKqH,OAAO,GAJxC,iBAKe,uBAAOrH,KAAKykG,UAAU,GAAtB,QALf,uEAOe,GAPf,mFASA,WAAYkB,GAAZ,2EACQrqG,EAAI0E,KAAK04B,IAAM,EAEnB,GACI45C,EAAKtyE,KAAKoX,SAAS9b,SACP,MAAPg3E,GAAeqzB,GAAoB,OAAPrzB,GALzC,MAMU/mE,EAAIjQ,EAAI0E,KAAK04B,KACX,GAPZ,gBAQQ,OARR,SAQc14B,KAAKoX,OAAOwhB,OAAO54B,KAAK04B,IAAKntB,GAR3C,OASQvL,KAAK04B,IAAMp9B,EATnB,gCAWWiQ,GAXX,iFAaA,WAAWE,GAAX,yEAGI,IAFInQ,EAAI0E,KAAK04B,IACT45C,EAAKtyE,KAAKoX,OAAO9b,IACbmQ,EAAK6mE,IACTA,EAAKtyE,KAAKoX,SAAS9b,GAChB,uBAAO0E,KAAKulG,YAAYjqG,GAAG,GAA3B,QALX,0FA9kBE4nG,GChGA0C,GAAAA,GACF,aAAc,qBACV5lG,KAAK+7F,WAAa,GAKlB/7F,KAAK6lG,WAAa,SAAC3kF,GAAD,OAAY,EAAK66E,WAAWn2F,KAAKsb,EAAjC,EAMlBlhB,KAAK67F,QAAU,SAAC36E,GAGZ,IAFA,IAAIid,EAAM,EACNC,EAAO,EAAK29D,WAAWxgG,OACpB4iC,EAAMC,GAAM,CACf,IAAMC,EAAOF,EAAMC,GAAS,EACxB,EAAK29D,WAAW19D,GAAOnd,EACvBid,EAAME,EAAM,EAEZD,EAAOC,CACd,CACD,OAAI,EAAK09D,WAAW59D,KAASjd,EAClB,CAAE+hB,KAAM9E,EAAM,EAAGgE,IAAK,GACrB,IAARhE,EACO,CAAE8E,KAAM,EAAGd,IAAKjhB,GAEpB,CAAE+hB,KAAM9E,EAAKgE,IAAKjhB,EADX,EAAK66E,WAAW59D,EAAM,GACM,EAC7C,CACJ,IChCL,SAAS2nE,GAAcC,EAAMrjG,GACzB,IAAK,IAAIpH,EAAI,EAAGA,EAAIyqG,EAAKxqG,SAAUD,EAC/B,GAAIyqG,EAAKzqG,GAAGoH,OAASA,EACjB,OAAO,EACf,OAAO,CACV,CACD,SAASsjG,GAAkBD,GACvB,IAAK,IAAIzqG,EAAI,EAAGA,EAAIyqG,EAAKxqG,SAAUD,EAC/B,OAAQyqG,EAAKzqG,GAAGoH,MACZ,IAAK,QACL,IAAK,UACL,IAAK,UACD,MACJ,QACI,OAAOpH,EAGnB,OAAQ,CACX,CACD,SAAS2qG,GAAYpzB,GACjB,cAAQA,QAAR,IAAQA,OAAR,EAAQA,EAAOnwE,MACX,IAAK,QACL,IAAK,SACL,IAAK,uBACL,IAAK,uBACL,IAAK,kBACD,OAAO,EACX,QACI,OAAO,EAElB,CACD,SAASwjG,GAAav0F,GAClB,OAAQA,EAAOjP,MACX,IAAK,WACD,OAAOiP,EAAO/T,MAClB,IAAK,YAAa,MACR+O,EAAKgF,EAAOo/C,MAAMp/C,EAAOo/C,MAAMx1D,OAAS,GAC9C,iBAAOoR,EAAGtO,WAAV,QAAiBsO,EAAG/O,MAExB,IAAK,YACD,OAAO+T,EAAOo/C,MAAMp/C,EAAOo/C,MAAMx1D,OAAS,GAAGqC,MAEjD,QACI,MAAO,GAElB,CAED,SAASuoG,GAAsB/+F,GAC3B,GAAoB,IAAhBA,EAAK7L,OACL,MAAO,GACX,IAAID,EAAI8L,EAAK7L,OACb4iE,EAAM,OAAS7iE,GAAK,GAChB,OAAQ8L,EAAK9L,GAAGoH,MACZ,IAAK,YACL,IAAK,mBACL,IAAK,gBACL,IAAK,eACL,IAAK,UACD,MAAMy7D,EAGlB,KAA2B,WAApB,UAAA/2D,IAAO9L,UAAP,eAAWoH,OAAkB,MAGpC,OAAO0E,EAAKwY,OAAOtkB,EAAG8L,EAAK7L,OAC9B,CACD,SAAS6qG,GAAgBvJ,GACrB,GAAsB,mBAAlBA,EAAGj/F,MAAM8E,KAA2B,WACnBm6F,EAAG9rC,OADgB,IACpC,2BAA2B,KAAhBpkD,EAAgB,SACnBA,EAAGtO,KACFsO,EAAG/L,OACHklG,GAAcn5F,EAAG/O,MAAO,qBACxBkoG,GAAcn5F,EAAGtO,IAAK,mBACnBsO,EAAGnN,MACHmN,EAAG/L,MAAQ+L,EAAGnN,YACXmN,EAAGnN,IACNymG,GAAYt5F,EAAG/L,OACX+L,EAAG/L,MAAMpD,IACT2N,MAAM7K,UAAUsF,KAAK8C,MAAMiE,EAAG/L,MAAMpD,IAAKmP,EAAGtO,KAE5CsO,EAAG/L,MAAMpD,IAAMmP,EAAGtO,IAGtB8M,MAAM7K,UAAUsF,KAAK8C,MAAMiE,EAAG/O,MAAO+O,EAAGtO,YACrCsO,EAAGtO,IAEjB,CAnBmC,+BAoBvC,CACJ,KA4BKgoG,GAAAA,WAKF,WAAYC,GAAW,UAEnBtmG,KAAKumG,WAAY,EAEjBvmG,KAAKwmG,UAAW,EAEhBxmG,KAAKwnD,OAAS,EAEdxnD,KAAKkhB,OAAS,EAEdlhB,KAAKymG,WAAY,EAEjBzmG,KAAKwO,MAAQ,GAEbxO,KAAK4K,OAAS,GAEd5K,KAAK0C,KAAO,GAEZ1C,KAAK0mG,MAAQ,IAAIxD,GACjBljG,KAAKsmG,UAAYA,CACpB,gCASD,SAAO17F,GAAP,WAAe+4F,EAAf,iKACQ,EAAK2C,WAA6B,IAAhB,EAAKplF,QACvB,EAAKolF,UAAU,GAFvB,IAGyB,EAAKI,MAAMC,IAAI/7F,EAAQ+4F,IAHhD,wDAIQ,OADOiD,EAHf,QAIQ,gBAAO,EAAK1hG,KAAK0hG,GAAjB,QAJR,gJAKSjD,EALT,iBAMQ,uBAAO,EAAKnmG,MAAZ,SANR,+FAWA,WAAMoN,GAAN,4EACI5K,KAAK4K,OAASA,GACV5K,KAAKwmG,SAFb,gBAIQ,OADAxmG,KAAKwmG,UAAW,EAChB,gBAAOxmG,KAAKkN,OAAZ,QAJR,cAKQlN,KAAKkhB,QAAUtW,EAAOrP,OAL9B,6BAQUmH,EAAOkgG,GAAUh4F,GAR3B,iBAWQ,OADM+D,EAVd,4BAU6C/D,GACrC,gBAAO5K,KAAKkH,IAAI,CAAExE,KAAM,QAASwe,OAAQlhB,KAAKkhB,OAAQvS,QAAAA,EAAS/D,OAAAA,IAA/D,SAXR,QAYQ5K,KAAKkhB,QAAUtW,EAAOrP,OAZ9B,2BAcsB,WAATmH,EAdb,iBAeQ1C,KAAKumG,WAAY,EACjBvmG,KAAKwmG,UAAW,EAChBxmG,KAAK0C,KAAO,SAjBpB,wBAqBQ,OADA1C,KAAK0C,KAAOA,EACZ,gBAAO1C,KAAKkN,OAAZ,SArBR,aAsBgBxK,EAtBhB,OAuBiB,YAvBjB,QA6BiB,UA7BjB,QAiCiB,qBAjCjB,MAkCiB,kBAlCjB,MAmCiB,iBAnCjB,QAuCiB,aAvCjB,MAwCiB,mBAxCjB,gCAwBgB1C,KAAKumG,WAAY,EACjBvmG,KAAKwnD,OAAS,EACVxnD,KAAKsmG,WACLtmG,KAAKsmG,UAAUtmG,KAAKkhB,OAAStW,EAAOrP,QA3BxD,oCA8BoByE,KAAKumG,WAA2B,MAAd37F,EAAO,KACzB5K,KAAKwnD,QAAU58C,EAAOrP,QA/B1C,oCAoCoByE,KAAKumG,YACLvmG,KAAKwnD,QAAU58C,EAAOrP,QArC1C,+DA2CgByE,KAAKumG,WAAY,EA3CjC,QA6CQvmG,KAAKkhB,QAAUtW,EAAOrP,OA7C9B,4EAiDA,mFACWyE,KAAKwO,MAAMjT,OAAS,GAD/B,gBAEQ,uBAAOyE,KAAKkH,MAAZ,QAFR,6FAIA,WAOI,MANW,CACPxE,KAAM1C,KAAK0C,KACXwe,OAAQlhB,KAAKkhB,OACbsmC,OAAQxnD,KAAKwnD,OACb58C,OAAQ5K,KAAK4K,OAGpB,+BACD,uFACUi8F,EAAM7mG,KAAK+kG,KAAK,GACJ,YAAd/kG,KAAK0C,MAAwBmkG,GAAoB,YAAbA,EAAInkG,KAFhD,4BAGe1C,KAAKwO,MAAMjT,OAAS,GAHnC,gBAIY,uBAAOyE,KAAKkH,MAAZ,QAJZ,oCAKQlH,KAAKwO,MAAM5I,KAAK,CACZlD,KAAM,UACNwe,OAAQlhB,KAAKkhB,OACbtW,OAAQ5K,KAAK4K,SARzB,6BAYSi8F,EAZT,iBAae,uBAAO7mG,KAAK8mG,SAAZ,SAbf,oDAcYD,EAAInkG,KAdhB,OAea,aAfb,QAiBa,UAjBb,MAkBa,WAlBb,MAmBa,yBAnBb,MAoBa,yBApBb,QAsBa,iBAtBb,QAwBa,cAxBb,QA0Ba,cA1Bb,QA4Ba,oBA5Bb,QA8Ba,YA9Bb,yBAgBmB,uBAAO1C,KAAK+c,SAAS8pF,GAArB,SAhBnB,+CAqBmB,uBAAO7mG,KAAK++F,OAAO8H,GAAnB,SArBnB,+CAuBmB,uBAAO7mG,KAAK+mG,YAAYF,GAAxB,SAvBnB,+CAyBmB,uBAAO7mG,KAAKgnG,SAASH,GAArB,SAzBnB,+CA2BmB,uBAAO7mG,KAAKinG,cAAcJ,GAA1B,SA3BnB,+CA6BmB,uBAAO7mG,KAAKknG,eAAeL,GAA3B,SA7BnB,+CA+BmB,uBAAO7mG,KAAKmnG,YAAYN,GAAxB,SA/BnB,+CAkCI,uBAAO7mG,KAAKkH,MAAZ,UAlCJ,mEAoCA,SAAKqE,GACD,OAAOvL,KAAKwO,MAAMxO,KAAKwO,MAAMjT,OAASgQ,EACzC,8BACD,WAAKtH,GAAL,oFACU4uE,EADV,OACkB5uE,QADlB,IACkBA,EAAAA,EAASjE,KAAKwO,MAAMtH,MADtC,gBAKQ,MADgB,8BAJxB,SAKc,CAAExE,KAAM,QAASwe,OAAQlhB,KAAKkhB,OAAQtW,OAAQ,GAAI+D,QADxC,+BAJxB,iCAOmC,IAAtB3O,KAAKwO,MAAMjT,OAPxB,iBAQQ,OARR,UAQcs3E,EARd,gCAWcg0B,EAAM7mG,KAAK+kG,KAAK,GACH,iBAAflyB,EAAMnwE,KAENmwE,EAAMrrB,OAAS,WAAYq/C,EAAMA,EAAIr/C,OAAS,EAE1B,oBAAfqrB,EAAMnwE,MAA2C,aAAbmkG,EAAInkG,OAE7CmwE,EAAMrrB,OAAS,GAEA,oBAAfqrB,EAAMnwE,MACN0jG,GAAgBvzB,GArB5B,KAsBgBg0B,EAAInkG,KAtBpB,OAuBiB,aAvBjB,QA0BiB,iBA1BjB,QA6BiB,cA7BjB,QA8CiB,cA9CjB,QAsDiB,oBAtDjB,gCAwBgBmkG,EAAIjmG,MAAQiyE,EAxB5B,oCA2BgBg0B,EAAIv6F,MAAM1G,KAAKitE,GA3B/B,kCA8BsBlmE,EAAKk6F,EAAI91C,MAAM81C,EAAI91C,MAAMx1D,OAAS,IACjCqF,MA/BvB,wBAgCoBimG,EAAI91C,MAAMnrD,KAAK,CAAEhI,MAAO,GAAI4B,IAAKqzE,EAAOx0E,IAAK,KAC7C2B,KAAKymG,WAAY,EAjCrC,+BAoCyB95F,EAAGtO,IApC5B,iBAqCoBsO,EAAG/L,MAAQiyE,EArC/B,+BAwCoBnzE,OAAOynF,OAAOx6E,EAAI,CAAEnN,IAAKqzE,EAAOx0E,IAAK,KACrC2B,KAAKymG,WAAaX,GAAcn5F,EAAG/O,MAAO,oBAzC9D,sEA+CsB+O,EAAKk6F,EAAI91C,MAAM81C,EAAI91C,MAAMx1D,OAAS,IACjCqF,MACHimG,EAAI91C,MAAMnrD,KAAK,CAAEhI,MAAO,GAAIgD,MAAOiyE,IAEnClmE,EAAG/L,MAAQiyE,EAnD/B,qCAuDsBlmE,EAAKk6F,EAAI91C,MAAM81C,EAAI91C,MAAMx1D,OAAS,KAC7BoR,EAAG/L,MACVimG,EAAI91C,MAAMnrD,KAAK,CAAEhI,MAAO,GAAI4B,IAAKqzE,EAAOx0E,IAAK,KACxCsO,EAAGtO,IACRsO,EAAG/L,MAAQiyE,EAEXnzE,OAAOynF,OAAOx6E,EAAI,CAAEnN,IAAKqzE,EAAOx0E,IAAK,KA7DzD,2BAkEgB,uBAAO2B,KAAKkH,MAAZ,SAlEhB,QAmEgB,uBAAOlH,KAAKkH,IAAI2rE,GAAhB,SAnEhB,QAqE0B,aAAbg0B,EAAInkG,MACQ,cAAbmkG,EAAInkG,MACS,cAAbmkG,EAAInkG,MACY,cAAfmwE,EAAMnwE,MAAuC,cAAfmwE,EAAMnwE,OAC/BuU,EAAO47D,EAAM9hB,MAAM8hB,EAAM9hB,MAAMx1D,OAAS,MAEzC0b,EAAK5Y,MACL4Y,EAAKrW,OACNqW,EAAKrZ,MAAMrC,OAAS,IACe,IAAnCyqG,GAAkB/uF,EAAKrZ,SACL,IAAjBi1E,EAAMrrB,QACHvwC,EAAKrZ,MAAMg/E,OAAM,SAAA0hB,GAAE,MAAgB,YAAZA,EAAG57F,MAAsB47F,EAAG92C,OAASqrB,EAAMrrB,MAA/C,OACN,aAAbq/C,EAAInkG,KACJmkG,EAAIrpG,IAAMyZ,EAAKrZ,MAEfipG,EAAI91C,MAAMnrD,KAAK,CAAEhI,MAAOqZ,EAAKrZ,QACjCi1E,EAAM9hB,MAAMnxC,QAAQ,EAAG,IArFvC,+EA0FA,yFACY5f,KAAK0C,KADjB,OAEa,mBAFb,OAKa,oBALb,MAMa,UANb,MAOa,YAPb,MAQa,YARb,OAWa,aAXb,MAYa,cAZb,uBAGY,OAHZ,SAGkB,CAAEA,KAAM,YAAawe,OAAQlhB,KAAKkhB,OAAQtW,OAAQ5K,KAAK4K,QAHzE,+CASY,OATZ,SASkB5K,KAAKonG,YATvB,cAakB7e,EAAM,CACR7lF,KAAM,WACNwe,OAAQlhB,KAAKkhB,OACbtjB,MAAO,IAEO,cAAdoC,KAAK0C,MACL6lF,EAAI3qF,MAAMgI,KAAK5F,KAAKonG,aACxBpnG,KAAKwO,MAAM5I,KAAK2iF,GApB5B,2BAwBI,OAxBJ,UAwBU,CACF7lF,KAAM,QACNwe,OAAQlhB,KAAKkhB,OACbvS,QAAS,cAAF,OAAgB3O,KAAK0C,KAArB,yBACPkI,OAAQ5K,KAAK4K,QA5BrB,iFA+BA,WAAU29E,GAAV,2EACQA,EAAI3nF,MADZ,gBAEe,uBAAOZ,KAAKqnG,QAAQ9e,GAApB,QAFf,kDAGYvoF,KAAK0C,KAHjB,OAIa,cAJb,OAaa,WAbb,MAca,QAdb,MAea,UAfb,MAgBa,YAhBb,MAiBa,YAjBb,4BAKkD,IAAlCsjG,GAAkBzd,EAAI3qF,OALtC,iBAMgB,uBAAOoC,KAAKkH,MAAZ,QANhB,OAOgB,uBAAOlH,KAAKkN,OAAZ,QAPhB,+BAUgBq7E,EAAI3qF,MAAMgI,KAAK5F,KAAKonG,aAVpC,iDAkBY7e,EAAI3qF,MAAMgI,KAAK5F,KAAKonG,aAlBhC,gCAqBUE,EAAKtnG,KAAKunG,gBAAgBhf,IArBpC,iBAuBQvoF,KAAKwO,MAAM5I,KAAK0hG,GAvBxB,wBAyBQ,OAzBR,UAyBc,CACF5kG,KAAM,QACNwe,OAAQlhB,KAAKkhB,OACbvS,QAAS,cAAF,OAAgB3O,KAAK0C,KAArB,2BACPkI,OAAQ5K,KAAK4K,QA7BzB,+EAiCA,WAAQm0F,GAAR,gFACsB,kBAAd/+F,KAAK0C,KADb,gBAEc0E,EAAO8+F,GAAalmG,KAAK+kG,KAAK,IAC9BnnG,EAAQuoG,GAAsB/+F,GAEhC23F,EAAOvhG,MACPa,EAAM0gG,EAAOvhG,KACToI,KAAK5F,KAAKonG,oBACPrI,EAAOvhG,KAGda,EAAM,CAAC2B,KAAKonG,aACVv3F,EAAM,CACRnN,KAAM,YACNwe,OAAQ69E,EAAO79E,OACfsmC,OAAQu3C,EAAOv3C,OACfuJ,MAAO,CAAC,CAAEnzD,MAAAA,EAAO4B,IAAKu/F,EAAQ1gG,IAAAA,KAElC2B,KAAKymG,WAAY,EACjBzmG,KAAKwO,MAAMxO,KAAKwO,MAAMjT,OAAS,GAAKsU,EAnB5C,uBAsBQ,uBAAO7P,KAAKqnG,QAAQtI,GAApB,SAtBR,oFAwBA,WAAaA,GAAb,4EACY/+F,KAAK0C,KADjB,OAEa,UAFb,MAGa,YAHb,MAIa,YAJb,OAOa,WAPb,8BAKYq8F,EAAOzyF,MAAM1G,KAAK5F,KAAKonG,aALnC,0BAYY,GAJArI,EAAOn0F,OAAS5K,KAAK4K,OAErB5K,KAAKumG,WAAY,EACjBvmG,KAAKwnD,OAAS,EACVxnD,KAAKsmG,UAEL,IADIlB,EAAKplG,KAAK4K,OAAOoD,QAAQ,MAAQ,EACvB,IAAPo3F,GACHplG,KAAKsmG,UAAUtmG,KAAKkhB,OAASkkF,GAC7BA,EAAKplG,KAAK4K,OAAOoD,QAAQ,KAAMo3F,GAAM,EAG7C,uBAAOplG,KAAKkH,MAAZ,SAnBZ,4CAuBY,uBAAOlH,KAAKkH,MAAZ,SAvBZ,QAwBY,uBAAOlH,KAAKkN,OAAZ,SAxBZ,iFA2BA,WAAU2C,GAAV,uGACUlD,EAAKkD,EAAIkhD,MAAMlhD,EAAIkhD,MAAMx1D,OAAS,GAD5C,KAGYyE,KAAK0C,KAHjB,OAIa,YAJb,OAqBa,UArBb,MAsBa,YAtBb,8BAKY1C,KAAKymG,WAAY,EACb95F,EAAG/L,OACGpD,EAAM,QAASmP,EAAG/L,MAAQ+L,EAAG/L,MAAMpD,SAAMtB,EAE5B,aAAX,QADF+a,EAAO9L,MAAMQ,QAAQnO,GAAOA,EAAIA,EAAIjC,OAAS,QAAKW,SAChD,IAAJ+a,OAAA,EAAAA,EAAMvU,MACH,OAAHlF,QAAG,IAAHA,GAAAA,EAAKoI,KAAK5F,KAAKonG,aAEfv3F,EAAIkhD,MAAMnrD,KAAK,CAAEhI,MAAO,CAACoC,KAAKonG,gBAE7Bz6F,EAAGtO,IACRsO,EAAGtO,IAAIuH,KAAK5F,KAAKonG,aAGjBz6F,EAAG/O,MAAMgI,KAAK5F,KAAKonG,aAlBnC,8BAuBgBz6F,EAAG/L,MAvBnB,iBAwBgBiP,EAAIkhD,MAAMnrD,KAAK,CAAEhI,MAAO,CAACoC,KAAKonG,eAxB9C,4BA0BqBz6F,EAAGtO,IA1BxB,iBA2BgBsO,EAAGtO,IAAIuH,KAAK5F,KAAKonG,aA3BjC,4BA8BoBpnG,KAAKwnG,kBAAkB76F,EAAG/O,MAAOiS,EAAI23C,QA9BzD,oBA+B0BpgD,EAAOyI,EAAIkhD,MAAMlhD,EAAIkhD,MAAMx1D,OAAS,GACpCiC,EAhC1B,OAgCgC4J,QAhChC,IAgCgCA,GAhChC,UAgCgCA,EAAMxG,aAhCtC,aAgCgC,EAAapD,KACrB2N,MAAMQ,QAAQnO,GAjCtC,wBAkCwB2N,MAAM7K,UAAUsF,KAAK8C,MAAMlL,EAAKmP,EAAG/O,OACnCJ,EAAIoI,KAAK5F,KAAKonG,aACdv3F,EAAIkhD,MAAM7pD,MApClC,2BAwCgByF,EAAG/O,MAAMgI,KAAK5F,KAAKonG,aAxCnC,+CA4CQpnG,KAAKwnD,QAAU33C,EAAI23C,QA5C3B,oBA6CcigD,GAAcznG,KAAKymG,WAAazmG,KAAKwnD,SAAW33C,EAAI23C,QAAU76C,EAAGtO,IAEnET,EAAQ,IACR6pG,IAAc96F,EAAGtO,KAAQsO,EAAG/L,MAhDxC,iBAiDkBwkG,EAAK,GACF9pG,EAAI,EAlDzB,aAkD4BA,EAAIqR,EAAGtO,IAAI9C,QAlDvC,iBAmDsB+iG,EAAK3xF,EAAGtO,IAAI/C,GAnDlC,KAoDwBgjG,EAAG57F,KApD3B,OAqDyB,YArDzB,QAwDyB,UAxDzB,QA0DyB,YA1DzB,gCAsDwB0iG,EAAGx/F,KAAKtK,GAtDhC,wEA2D4BgjG,EAAG92C,OAAS33C,EAAI23C,SAChB49C,EAAG7pG,OAAS,GA5DxC,6BA+DwB6pG,EAAG7pG,OAAS,EA/DpC,UAkDiDD,EAlDjD,wBAkEgB8pG,EAAG7pG,QAAU,IACbqC,EAAQ+O,EAAGtO,IAAIuhB,OAAOwlF,EAAG,KAnEzC,aAqEgBplG,KAAK0C,KArErB,OAsEiB,WAtEjB,MAuEiB,QAvEjB,QAoFiB,qBApFjB,QAsGiB,kBAtGjB,QA6KiB,UA7KjB,MA8KiB,WA9KjB,MA+KiB,yBA/KjB,MAgLiB,yBAhLjB,gCAwEoB+kG,GAAc96F,EAAG/L,OACjBhD,EAAMgI,KAAK5F,KAAKonG,aAChBv3F,EAAIkhD,MAAMnrD,KAAK,CAAEhI,MAAAA,IACjBoC,KAAKymG,WAAY,GAEZ95F,EAAGtO,IACRsO,EAAGtO,IAAIuH,KAAK5F,KAAKonG,aAGjBz6F,EAAG/O,MAAMgI,KAAK5F,KAAKonG,aAjFvC,kCAqFqBz6F,EAAGtO,KAAQynG,GAAcn5F,EAAG/O,MAAO,oBAG/B6pG,GAAc96F,EAAG/L,OACtBhD,EAAMgI,KAAK5F,KAAKonG,aAChBv3F,EAAIkhD,MAAMnrD,KAAK,CAAEhI,MAAAA,KAGjBoC,KAAKwO,MAAM5I,KAAK,CACZlD,KAAM,YACNwe,OAAQlhB,KAAKkhB,OACbsmC,OAAQxnD,KAAKwnD,OACbuJ,MAAO,CAAC,CAAEnzD,MAAO,CAACoC,KAAKonG,iBAX3Bz6F,EAAG/O,MAAMgI,KAAK5F,KAAKonG,aAcvBpnG,KAAKymG,WAAY,EApGjC,kCAuGoBX,GAAcn5F,EAAG/O,MAAO,oBACnB+O,EAAGtO,IAcCsO,EAAG/L,MACRiP,EAAIkhD,MAAMnrD,KAAK,CAAEhI,MAAO,GAAI4B,IAAK,KAAMnB,IAAK,CAAC2B,KAAKonG,eAE7CtB,GAAcn5F,EAAGtO,IAAK,iBAC3B2B,KAAKwO,MAAM5I,KAAK,CACZlD,KAAM,YACNwe,OAAQlhB,KAAKkhB,OACbsmC,OAAQxnD,KAAKwnD,OACbuJ,MAAO,CAAC,CAAEnzD,MAAAA,EAAO4B,IAAK,KAAMnB,IAAK,CAAC2B,KAAKonG,iBAGtCnB,GAAYt5F,EAAGnN,OACnBsmG,GAAcn5F,EAAGtO,IAAK,YACjBT,EAAQuoG,GAAsBx5F,EAAG/O,OACjC4B,EAAMmN,EAAGnN,KACTnB,EAAMsO,EAAGtO,KACXuH,KAAK5F,KAAKonG,oBAEPz6F,EAAGnN,WAAYmN,EAAGtO,IACzB2B,KAAKwO,MAAM5I,KAAK,CACZlD,KAAM,YACNwe,OAAQlhB,KAAKkhB,OACbsmC,OAAQxnD,KAAKwnD,OACbuJ,MAAO,CAAC,CAAEnzD,MAAAA,EAAO4B,IAAAA,EAAKnB,IAAAA,OAGrBT,EAAMrC,OAAS,EAEpBoR,EAAGtO,IAAMsO,EAAGtO,IAAIyR,OAAOlS,EAAOoC,KAAKonG,aAGnCz6F,EAAGtO,IAAIuH,KAAK5F,KAAKonG,aA5CbtB,GAAcn5F,EAAG/O,MAAO,WACxB8B,OAAOynF,OAAOx6E,EAAI,CAAEnN,IAAK,KAAMnB,IAAK,CAAC2B,KAAKonG,gBAGpCxpG,EAAQuoG,GAAsBx5F,EAAG/O,OACvCoC,KAAKwO,MAAM5I,KAAK,CACZlD,KAAM,YACNwe,OAAQlhB,KAAKkhB,OACbsmC,OAAQxnD,KAAKwnD,OACbuJ,MAAO,CAAC,CAAEnzD,MAAAA,EAAO4B,IAAK,KAAMnB,IAAK,CAAC2B,KAAKonG,kBAuC9Cz6F,EAAGtO,IAGCsO,EAAG/L,OAAS6mG,EACjB53F,EAAIkhD,MAAMnrD,KAAK,CAAEhI,MAAAA,EAAO4B,IAAK,KAAMnB,IAAK,CAAC2B,KAAKonG,eAEzCtB,GAAcn5F,EAAGtO,IAAK,iBAC3B2B,KAAKwO,MAAM5I,KAAK,CACZlD,KAAM,YACNwe,OAAQlhB,KAAKkhB,OACbsmC,OAAQxnD,KAAKwnD,OACbuJ,MAAO,CAAC,CAAEnzD,MAAO,GAAI4B,IAAK,KAAMnB,IAAK,CAAC2B,KAAKonG,iBAI/Cz6F,EAAGtO,IAAIuH,KAAK5F,KAAKonG,aAdjB1nG,OAAOynF,OAAOx6E,EAAI,CAAEnN,IAAK,KAAMnB,IAAK,CAAC2B,KAAKonG,eAiBlDpnG,KAAKymG,WAAY,EA3KjC,kCAiLsBiB,EAAK1nG,KAAK2nG,WAAW3nG,KAAK0C,MAC5B+kG,GAAc96F,EAAG/L,OACjBiP,EAAIkhD,MAAMnrD,KAAK,CAAEhI,MAAAA,EAAO4B,IAAKkoG,EAAIrpG,IAAK,KACtC2B,KAAKymG,WAAY,GAEZ95F,EAAGtO,IACR2B,KAAKwO,MAAM5I,KAAK8hG,IAGhBhoG,OAAOynF,OAAOx6E,EAAI,CAAEnN,IAAKkoG,EAAIrpG,IAAK,KAClC2B,KAAKymG,WAAY,GA3LrC,gCAgMsBa,EAAKtnG,KAAKunG,gBAAgB13F,IAhMhD,wBAkMwB43F,GACY,cAAZH,EAAG5kG,MACHojG,GAAcn5F,EAAG/O,MAAO,qBACxBiS,EAAIkhD,MAAMnrD,KAAK,CAAEhI,MAAAA,IAErBoC,KAAKwO,MAAM5I,KAAK0hG,GAvMpC,2BA6MI,uBAAOtnG,KAAKkH,MAAZ,SA7MJ,QA8MI,uBAAOlH,KAAKkN,OAAZ,SA9MJ,sFAgNA,WAAeiW,GAAf,mFACUxW,EAAKwW,EAAI4tC,MAAM5tC,EAAI4tC,MAAMx1D,OAAS,GAD5C,KAEYyE,KAAK0C,KAFjB,OAGa,YAHb,OAea,UAfb,MAgBa,YAhBb,OAiCa,WAjCb,MAkCa,QAlCb,QAuCa,iBAvCb,+BAIgBiK,EAAG/L,OACGpD,EAAM,QAASmP,EAAG/L,MAAQ+L,EAAG/L,MAAMpD,SAAMtB,EAE5B,aAAX,QADF+a,EAAO9L,MAAMQ,QAAQnO,GAAOA,EAAIA,EAAIjC,OAAS,QAAKW,SAChD,IAAJ+a,OAAA,EAAAA,EAAMvU,MACH,OAAHlF,QAAG,IAAHA,GAAAA,EAAKoI,KAAK5F,KAAKonG,aAEfjkF,EAAI4tC,MAAMnrD,KAAK,CAAEhI,MAAO,CAACoC,KAAKonG,gBAGlCz6F,EAAG/O,MAAMgI,KAAK5F,KAAKonG,aAbnC,8BAiBgBz6F,EAAG/L,MAjBnB,iBAkBgBuiB,EAAI4tC,MAAMnrD,KAAK,CAAEhI,MAAO,CAACoC,KAAKonG,eAlB9C,4BAoBoBpnG,KAAKwnG,kBAAkB76F,EAAG/O,MAAOulB,EAAIqkC,QApBzD,oBAqB0BpgD,EAAO+b,EAAI4tC,MAAM5tC,EAAI4tC,MAAMx1D,OAAS,GACpCiC,EAtB1B,OAsBgC4J,QAtBhC,IAsBgCA,GAtBhC,UAsBgCA,EAAMxG,aAtBtC,aAsBgC,EAAapD,KACrB2N,MAAMQ,QAAQnO,GAvBtC,wBAwBwB2N,MAAM7K,UAAUsF,KAAK8C,MAAMlL,EAAKmP,EAAG/O,OACnCJ,EAAIoI,KAAK5F,KAAKonG,aACdjkF,EAAI4tC,MAAM7pD,MA1BlC,2BA8BgByF,EAAG/O,MAAMgI,KAAK5F,KAAKonG,aA9BnC,+CAmCgBz6F,EAAG/L,OAASZ,KAAKwnD,QAAUrkC,EAAIqkC,QAnC/C,4DAqCY76C,EAAG/O,MAAMgI,KAAK5F,KAAKonG,aArC/B,8BAwCgBpnG,KAAKwnD,SAAWrkC,EAAIqkC,OAxCpC,4DA0CgB76C,EAAG/L,OAASklG,GAAcn5F,EAAG/O,MAAO,gBACpCulB,EAAI4tC,MAAMnrD,KAAK,CAAEhI,MAAO,CAACoC,KAAKonG,eAE9Bz6F,EAAG/O,MAAMgI,KAAK5F,KAAKonG,aA7CnC,gCAgDQpnG,KAAKwnD,OAASrkC,EAAIqkC,QAhD1B,sBAiDc8/C,EAAKtnG,KAAKunG,gBAAgBpkF,IAjDxC,wBAmDYnjB,KAAKwO,MAAM5I,KAAK0hG,GAnD5B,2BAuDI,uBAAOtnG,KAAKkH,MAAZ,SAvDJ,QAwDI,uBAAOlH,KAAKkN,OAAZ,SAxDJ,uFA0DA,WAAgB2vF,GAAhB,0FACUlwF,EAAKkwF,EAAG9rC,MAAM8rC,EAAG9rC,MAAMx1D,OAAS,GACpB,mBAAdyE,KAAK0C,KAFb,uBAKY,uBAAO1C,KAAKkH,MAAZ,QALZ,OAMY2/F,EAAM7mG,KAAK+kG,KAAK,GAN5B,UAOiB8B,GAAoB,oBAAbA,EAAInkG,KAP5B,iDAS+B,IAAlBm6F,EAAGr/F,IAAIjC,OATpB,sBAUgByE,KAAK0C,KAVrB,OAWiB,UAXjB,MAYiB,qBAZjB,QAkBiB,kBAlBjB,QA0BiB,UA1BjB,MA2BiB,YA3BjB,MA4BiB,YA5BjB,MA6BiB,WA7BjB,MA8BiB,QA9BjB,QAsCiB,UAtCjB,MAuCiB,WAvCjB,MAwCiB,yBAxCjB,MAyCiB,yBAzCjB,QAmDiB,iBAnDjB,MAoDiB,iBApDjB,gCAaqBiK,GAAMA,EAAGtO,IACVw+F,EAAG9rC,MAAMnrD,KAAK,CAAEhI,MAAO,CAACoC,KAAKonG,eAE7Bz6F,EAAG/O,MAAMgI,KAAK5F,KAAKonG,aAhBvC,kCAmBqBz6F,GAAMA,EAAG/L,MACVi8F,EAAG9rC,MAAMnrD,KAAK,CAAEhI,MAAO,GAAI4B,IAAK,KAAMnB,IAAK,CAAC2B,KAAKonG,eAC5Cz6F,EAAGtO,IACRsO,EAAGtO,IAAIuH,KAAK5F,KAAKonG,aAEjB1nG,OAAOynF,OAAOx6E,EAAI,CAAEnN,IAAK,KAAMnB,IAAK,CAAC2B,KAAKonG,eAxB9D,kCA+BqBz6F,GAAMA,EAAG/L,MACVi8F,EAAG9rC,MAAMnrD,KAAK,CAAEhI,MAAO,CAACoC,KAAKonG,eACxBz6F,EAAGtO,IACRsO,EAAGtO,IAAIuH,KAAK5F,KAAKonG,aAEjBz6F,EAAG/O,MAAMgI,KAAK5F,KAAKonG,aApCvC,kCA0CsBM,EAAK1nG,KAAK2nG,WAAW3nG,KAAK0C,OAC3BiK,GAAMA,EAAG/L,MACVi8F,EAAG9rC,MAAMnrD,KAAK,CAAEhI,MAAO,GAAI4B,IAAKkoG,EAAIrpG,IAAK,KACpCsO,EAAGtO,IACR2B,KAAKwO,MAAM5I,KAAK8hG,GAEhBhoG,OAAOynF,OAAOx6E,EAAI,CAAEnN,IAAKkoG,EAAIrpG,IAAK,KAhDtD,kCAqDgBw+F,EAAGr/F,IAAIoI,KAAK5F,KAAKonG,aArDjC,gCAwDcE,EAAKtnG,KAAKunG,gBAAgB1K,IAxDxC,iBA2DY78F,KAAKwO,MAAM5I,KAAK0hG,GA3D5B,wBA6DY,uBAAOtnG,KAAKkH,MAAZ,SA7DZ,QA8DY,uBAAOlH,KAAKkN,OAAZ,SA9DZ,mCAmE4B,eADdyE,EAAS3R,KAAK+kG,KAAK,IACdriG,QACS,kBAAd1C,KAAK0C,MAA4BiP,EAAO61C,SAAWq1C,EAAGr1C,QACrC,YAAdxnD,KAAK0C,OACDiP,EAAOo/C,MAAMp/C,EAAOo/C,MAAMx1D,OAAS,GAAG8C,KAtE3D,iBAuEY,uBAAO2B,KAAKkH,MAAZ,SAvEZ,QAwEY,uBAAOlH,KAAKkN,OAAZ,SAxEZ,mCA0E+B,kBAAdlN,KAAK0C,MACM,oBAAhBiP,EAAOjP,KA3EnB,iBA4EkB0E,EAAO8+F,GAAav0F,GACpB/T,EAAQuoG,GAAsB/+F,GACpCg/F,GAAgBvJ,IACVx+F,EAAMw+F,EAAGr/F,IAAIoiB,OAAO,EAAGi9E,EAAGr/F,IAAIjC,SAChCqK,KAAK5F,KAAKonG,aACRv3F,EAAM,CACRnN,KAAM,YACNwe,OAAQ27E,EAAG37E,OACXsmC,OAAQq1C,EAAGr1C,OACXuJ,MAAO,CAAC,CAAEnzD,MAAAA,EAAO4B,IAAKq9F,EAAIx+F,IAAAA,KAE9B2B,KAAKymG,WAAY,EACjBzmG,KAAKwO,MAAMxO,KAAKwO,MAAMjT,OAAS,GAAKsU,EAxFhD,wBA2FY,uBAAO7P,KAAKqnG,QAAQxK,GAApB,SA3FZ,yEA+FA,SAAWn6F,GACP,GAAI1C,KAAKsmG,UAEL,IADA,IAAIlB,EAAKplG,KAAK4K,OAAOoD,QAAQ,MAAQ,EACvB,IAAPo3F,GACHplG,KAAKsmG,UAAUtmG,KAAKkhB,OAASkkF,GAC7BA,EAAKplG,KAAK4K,OAAOoD,QAAQ,KAAMo3F,GAAM,EAG7C,MAAO,CACH1iG,KAAAA,EACAwe,OAAQlhB,KAAKkhB,OACbsmC,OAAQxnD,KAAKwnD,OACb58C,OAAQ5K,KAAK4K,OAEpB,gCACD,SAAgB+G,GACZ,OAAQ3R,KAAK0C,MACT,IAAK,QACL,IAAK,SACL,IAAK,uBACL,IAAK,uBACD,OAAO1C,KAAK2nG,WAAW3nG,KAAK0C,MAChC,IAAK,sBACD,MAAO,CACHA,KAAM,eACNwe,OAAQlhB,KAAKkhB,OACbsmC,OAAQxnD,KAAKwnD,OACbl7C,MAAO,CAACtM,KAAKonG,aACbx8F,OAAQ,IAEhB,IAAK,iBACL,IAAK,iBACD,MAAO,CACHlI,KAAM,kBACNwe,OAAQlhB,KAAKkhB,OACbsmC,OAAQxnD,KAAKwnD,OACb5pD,MAAOoC,KAAKonG,YACZr2C,MAAO,GACPvzD,IAAK,IAEb,IAAK,eACD,MAAO,CACHkF,KAAM,YACNwe,OAAQlhB,KAAKkhB,OACbsmC,OAAQxnD,KAAKwnD,OACbuJ,MAAO,CAAC,CAAEnzD,MAAO,CAACoC,KAAKonG,gBAE/B,IAAK,mBACDpnG,KAAKymG,WAAY,EACjB,IACM7oG,EAAQuoG,GADDD,GAAav0F,IAG1B,OADA/T,EAAMgI,KAAK5F,KAAKonG,aACT,CACH1kG,KAAM,YACNwe,OAAQlhB,KAAKkhB,OACbsmC,OAAQxnD,KAAKwnD,OACbuJ,MAAO,CAAC,CAAEnzD,MAAAA,KAGlB,IAAK,gBACDoC,KAAKymG,WAAY,EACjB,IACM7oG,EAAQuoG,GADDD,GAAav0F,IAE1B,MAAO,CACHjP,KAAM,YACNwe,OAAQlhB,KAAKkhB,OACbsmC,OAAQxnD,KAAKwnD,OACbuJ,MAAO,CAAC,CAAEnzD,MAAAA,EAAO4B,IAAK,KAAMnB,IAAK,CAAC2B,KAAKonG,gBAInD,OAAO,IACV,kCACD,SAAkBxpG,EAAO4pD,GACrB,MAAkB,YAAdxnD,KAAK0C,SAEL1C,KAAKwnD,QAAUA,IAEZ5pD,EAAMg/E,OAAM,SAAA0hB,GAAE,MAAgB,YAAZA,EAAG57F,MAAkC,UAAZ47F,EAAG57F,IAAhC,IACxB,sCACD,WAAamlF,GAAb,oEACsB,aAAd7nF,KAAK0C,KADb,mBAEYmlF,EAAOrqF,IACPqqF,EAAOrqF,IAAIoI,KAAK5F,KAAKonG,aAErBvf,EAAOrqF,IAAM,CAACwC,KAAKonG,aACL,YAAdpnG,KAAK0C,KANjB,gBAOY,uBAAO1C,KAAKkH,MAAZ,QAPZ,+EAUA,WAAS2rE,GAAT,sEACY7yE,KAAK0C,KADjB,OAEa,UAFb,MAGa,cAHb,MAIa,YAJb,MAKa,iBALb,MAMa,iBANb,MAOa,kBAPb,OAWa,YAXb,QAca,UAdb,2BAQY,uBAAO1C,KAAKkH,MAAZ,QARZ,OASY,uBAAOlH,KAAKkN,OAAZ,QATZ,0CAYYlN,KAAKymG,WAAY,EAZ7B,UAkBgB5zB,EAAMr1E,IACNq1E,EAAMr1E,IAAIoI,KAAK5F,KAAKonG,aAEpBv0B,EAAMr1E,IAAM,CAACwC,KAAKonG,aACJ,YAAdpnG,KAAK0C,KAtBrB,iBAuBgB,uBAAO1C,KAAKkH,MAAZ,SAvBhB,qDAlyBEm/F,GChHN,SAASuB,GAAazyF,GAClB,IAAMmlF,GAAwC,IAAzBnlF,EAAQmlF,aAE7B,MAAO,CAAEuN,YADW1yF,EAAQ0yF,aAAgBvN,GAAgB,IAAIsL,IAAkB,KAC5DtL,aAAAA,EACzB,CA6CD,SAAS37F,GAAM8yD,EAAKy3B,EAAS/zE,GACzB,IAAI2yF,OAAW5rG,EACQ,oBAAZgtF,EACP4e,EAAW5e,OAEMhtF,IAAZiZ,GAAyB+zE,GAA8B,kBAAZA,IAChD/zE,EAAU+zE,GAEd,IAAMX,EA5BV,SAAuB39E,GAAsB,MAAduK,EAAc,uDAAJ,CAAC,EACtC,EAAsCyyF,GAAazyF,GAA3C0yF,EAAR,EAAQA,YAAavN,EAArB,EAAqBA,aACfyN,EAAS,IAAI1B,GAAJ,OAAWwB,QAAX,IAAWA,OAAX,EAAWA,EAAahC,YAGnCtd,EAAM,KAL+B,IAGxB,IAAIwZ,GAAS5sF,GAGF6yF,QAAQD,EAAOppG,MAAMiM,IAAS,EAAMA,EAAOrP,SAN9B,IAMzC,2BAAgF,KAArE0sG,EAAqE,QAC5E,GAAK1f,GAEA,GAA6B,WAAzBA,EAAIpzE,QAAQs8E,SAAuB,CACxClJ,EAAIz2E,OAAOlM,KAAK,IAAI61F,GAAewM,EAAKvtE,MAAM/+B,MAAM,EAAG,GAAI,gBAAiB,4EAC5E,KACH,OAJG4sF,EAAM0f,CAKb,CAbwC,+BAkBzC,OAJI3N,GAAgBuN,IAChBtf,EAAIz2E,OAAOzO,QAAQs4F,GAAc/wF,EAAQi9F,IACzCtf,EAAI4R,SAAS92F,QAAQs4F,GAAc/wF,EAAQi9F,KAExCtf,CACV,CASe2b,CAAczyC,EAAKt8C,GAC/B,IAAKozE,EACD,OAAO,KAEX,GADAA,EAAI4R,SAAS92F,SAAQ,SAAAsoC,GAAO,OAAI94B,GAAK01E,EAAIpzE,QAAQs8E,SAAU9lD,EAA/B,IACxB48C,EAAIz2E,OAAOvW,OAAS,EAAG,CACvB,GAA6B,WAAzBgtF,EAAIpzE,QAAQs8E,SACZ,MAAMlJ,EAAIz2E,OAAO,GAEjBy2E,EAAIz2E,OAAS,EACpB,CACD,OAAOy2E,EAAIc,KAAK3pF,OAAOynF,OAAO,CAAE+B,QAAS4e,GAAY3yF,GACxD,CCxED,iBCDO,SAAShX,GAAOohC,GACnB,OAAOA,CACV,WCMU2oE,GACAA,GAqBAC,iCChCXC,OAAA,mGAAAppG,EAAAD,GAAAA,EAAAC,QAAA,CACEqpG,QAAW,0CACXC,IAAO,0CACP17C,MAAS,0BACT27C,YAAe,CACbC,YAAe,CACb9lG,KAAQ,QACR+lG,SAAY,EACZ13C,MAAS,CAAC23C,KAAQ,MAEpBC,mBAAsB,CACpBjmG,KAAQ,UACRkmG,QAAW,GAEbC,2BAA8B,CAC5BC,MAAS,CAAC,CAACJ,KAAQ,oCAAqC,CAAC/c,QAAW,KAEtEod,YAAe,CACbC,KAAQ,CAAC,QAAS,UAAW,UAAW,OAAQ,SAAU,SAAU,WAEtEC,YAAe,CACbvmG,KAAQ,QACRquD,MAAS,CAACruD,KAAQ,UAClBwmG,aAAe,EACfvd,QAAW,KAGfjpF,KAAQ,CAAC,SAAU,WACnBymG,WAAc,CACZb,IAAO,CACL5lG,KAAQ,SACRvE,OAAU,iBAEZkqG,QAAW,CACT3lG,KAAQ,SACRvE,OAAU,OAEZuqG,KAAQ,CACNhmG,KAAQ,SACRvE,OAAU,iBAEZirG,SAAY,CACV1mG,KAAQ,UAEVkqD,MAAS,CACPlqD,KAAQ,UAEVq5E,YAAe,CACbr5E,KAAQ,UAEVipF,SAAW,EACX0d,SAAY,CACV3mG,KAAQ,UACRipF,SAAW,GAEb2d,SAAY,CACV5mG,KAAQ,QACRquD,OAAS,GAEXw4C,WAAc,CACZ7mG,KAAQ,SACR8mG,iBAAoB,GAEtBC,QAAW,CACT/mG,KAAQ,UAEVgnG,iBAAoB,CAClBhnG,KAAQ,UAEVkmG,QAAW,CACTlmG,KAAQ,UAEV8mG,iBAAoB,CAClB9mG,KAAQ,UAEV2iE,UAAa,CAACqjC,KAAQ,oCACtBiB,UAAa,CAACjB,KAAQ,4CACtBkB,QAAW,CACTlnG,KAAQ,SACRvE,OAAU,SAEZ0rG,gBAAmB,CAACnB,KAAQ,KAC5B33C,MAAS,CACP+4C,MAAS,CAAC,CAACpB,KAAQ,KAAM,CAACA,KAAQ,8BAClC/c,SAAW,GAEboe,SAAY,CAACrB,KAAQ,oCACrBD,SAAY,CAACC,KAAQ,4CACrBQ,YAAe,CACbxmG,KAAQ,UACRipF,SAAW,GAEbhU,SAAY,CAAC+wB,KAAQ,KACrBsB,cAAiB,CAACtB,KAAQ,oCAC1BuB,cAAiB,CAACvB,KAAQ,4CAC1BwB,SAAY,CAACxB,KAAQ,6BACrByB,qBAAwB,CAACzB,KAAQ,KACjCH,YAAe,CACb7lG,KAAQ,SACRynG,qBAAwB,CAACzB,KAAQ,KACjC/c,QAAW,CAAC,GAEdwd,WAAc,CACZzmG,KAAQ,SACRynG,qBAAwB,CAACzB,KAAQ,KACjC/c,QAAW,CAAC,GAEdye,kBAAqB,CACnB1nG,KAAQ,SACRynG,qBAAwB,CAACzB,KAAQ,KACjC2B,cAAiB,CAAClsG,OAAU,SAC5BwtF,QAAW,CAAC,GAEd2e,aAAgB,CACd5nG,KAAQ,SACRynG,qBAAwB,CACtBL,MAAS,CAAC,CAACpB,KAAQ,KAAM,CAACA,KAAQ,gCAGtC2B,cAAiB,CAAC3B,KAAQ,KAC1B6B,OAAS,EACTvB,KAAQ,CACNtmG,KAAQ,QACRquD,OAAS,EACT03C,SAAY,EACZS,aAAe,GAEjBxmG,KAAQ,CACNonG,MAAS,CACP,CAACpB,KAAQ,6BACT,CACEhmG,KAAQ,QACRquD,MAAS,CAAC23C,KAAQ,6BAClBD,SAAY,EACZS,aAAe,KAIrB/qG,OAAU,CAACuE,KAAQ,UACnB8nG,iBAAoB,CAAC9nG,KAAQ,UAC7B+nG,gBAAmB,CAAC/nG,KAAQ,UAC5BgoG,GAAM,CAAChC,KAAQ,KACf3kG,KAAQ,CAAC2kG,KAAQ,KACjBiC,KAAQ,CAACjC,KAAQ,KACjBI,MAAS,CAACJ,KAAQ,6BAClBoB,MAAS,CAACpB,KAAQ,6BAClBkC,MAAS,CAAClC,KAAQ,6BAClBmC,IAAO,CAACnC,KAAQ,MAElB/c,SAAW,EACb,sFClJO,SAASppE,GAAWuoF,EAAUC,GACjC,GAAID,EAASvvG,OAASwvG,EAAOxvG,OACzB,OAAO,EAEX,QAASD,EAAI,EAAGA,EAAIyvG,EAAOxvG,OAAQD,IAC/B,GAAIwvG,EAASxvG,KAAOyvG,EAAOzvG,GACvB,OAAO,EAGf,OAAO,CACX,CAIO,SAASsxF,GAASke,EAAUC,GAC/B,IAAIj1D,EAAOg1D,EAASvvG,OAASwvG,EAAOxvG,OACpC,OAAIu6C,EAAO,EACAg1D,EAASpvG,YAAYqvG,KAAYj1D,EAE1B,IAATA,GACEg1D,IAAaC,CAK5B,CAeO,SAASC,GAAepB,GAC3B,OAAIrnF,GAAWqnF,EAAS,QACb,IAAIvpE,OAAOupE,EAAQryE,UAAU,GAAI,KAGjC,IAAI8I,OAAOupE,EAE1B,CC/CO,SAASpzF,GAAO0jE,EAAKpgD,GACxB,GAAIogD,IAAQpgD,EACR,OAAO,EAEX,GAAY,OAARogD,QAAwB,IAARA,GAA+B,OAAVpgD,QAA4B,IAAVA,EACvD,OAAO,EAEX,UAAWogD,WAAepgD,EACtB,OAAO,EAEX,GAAmB,kBAARogD,EACP,OAAO,EAEX,GAAK/uE,MAAMQ,QAAQuuE,KAAW/uE,MAAMQ,QAAQmuB,GACxC,OAAO,EAEX,IAAIx+B,EAAGkE,EACP,GAAI2L,MAAMQ,QAAQuuE,GAAM,CACpB,GAAIA,EAAI3+E,SAAWu+B,EAAMv+B,OACrB,OAAO,EAEX,IAAKD,EAAI,EAAGA,EAAI4+E,EAAI3+E,OAAQD,IACxB,IAAKkb,GAAO0jE,EAAI5+E,GAAIw+B,EAAMx+B,IACtB,OAAO,CAGnB,KACK,CACD,IAAI2vG,EAAU,GACd,IAAKzrG,KAAO06E,EACR+wB,EAAQrlG,KAAKpG,GAEjByrG,EAAQl9B,OACR,IAAIm9B,EAAY,GAChB,IAAK1rG,KAAOs6B,EACRoxE,EAAUtlG,KAAKpG,GAGnB,GADA0rG,EAAUn9B,QACLv3D,GAAOy0F,EAASC,GACjB,OAAO,EAEX,IAAK5vG,EAAI,EAAGA,EAAI2vG,EAAQ1vG,OAAQD,IAC5B,IAAKkb,GAAO0jE,EAAI+wB,EAAQ3vG,IAAKw+B,EAAMmxE,EAAQ3vG,KACvC,OAAO,CAGnB,CACA,OAAO,CACX,CACO,SAAS6vG,GAASpkG,GACrB,MAAsB,kBAARA,CAClB,CACO,SAASqkG,GAAUrkG,GACtB,MAAsB,qBAARA,CAClB,CACO,SAASskG,GAAUtkG,GACtB,MAAsB,mBAARA,CAClB,EHlDWmhG,GAoBRA,KAAcA,GAAY,CAAC,IAnBhBA,GAAAA,UAAyB,GAAK,YACxCA,GAAUA,GAAAA,kBAAiC,GAAK,oBAChDA,GAAUA,GAAAA,WAA0B,GAAK,aACzCA,GAAUA,GAAAA,uBAAsC,KAAO,yBACvDA,GAAUA,GAAAA,sBAAqC,KAAO,wBACtDA,GAAUA,GAAAA,sBAAqC,KAAO,wBACtDA,GAAUA,GAAAA,eAA8B,KAAO,iBAC/CA,GAAUA,GAAAA,uBAAsC,KAAO,yBACvDA,GAAUA,GAAAA,iBAAgC,KAAO,mBACjDA,GAAUA,GAAAA,iBAAgC,KAAO,mBACjDA,GAAUA,GAAAA,cAA6B,KAAO,gBAC9CA,GAAUA,GAAAA,cAA6B,KAAO,gBAC9CA,GAAUA,GAAAA,cAA6B,KAAO,gBAC9CA,GAAUA,GAAAA,2BAA0C,KAAO,6BAC3DA,GAAUA,GAAAA,0BAAyC,KAAO,4BAC1DA,GAAUA,GAAAA,cAA6B,KAAO,gBAC9CA,GAAUA,GAAAA,aAA4B,KAAO,eAC7CA,GAAUA,GAAAA,oBAAmC,KAAO,sBACpDA,GAAUA,GAAAA,mBAAkC,KAAO,sBAcpDC,KAAuBA,GAAqB,CAAC,IAVzBmD,OAAS,CACxBnvB,aAAc,CACVr2E,WAAY,CACRylG,eAAgB,CACZC,oBAAqB,CAACxuB,GAAW2D,SAAU3D,GAAW0D,WACtD+qB,yBAAyB,MIhB7C,IAAMpuF,GAAyB,SAAC7d,EAAKmP,GAAN,2BAAkBlG,EAAlB,iCAAkBA,EAAlB,yBAR/B,SAAgBkG,EAAiBlG,GAC/B,OAAuB,IAAhBA,EAAKlN,OACRoT,EACAA,EAAQuO,QAAQ,YAAY,SAACC,EAAD,OAAS9M,EAAT,iBAC1BA,KAAS5H,EAAOA,EAAK4H,GAAS8M,CADJ,GAGlC,CAE0Dhf,CAAOwQ,EAASlG,EAA3C,EAExB,SAASijG,KACd,OAAOruF,EACT,CCvBA,IA0JWsuF,GACAA,GA3JPC,GAAyC,WACzC,IAAIC,EAAgB,SAAUvsG,EAAGmX,GAI7B,OAHAo1F,EAAgBnsG,OAAO8G,gBAClB,CAAEC,UAAW,cAAgB0E,OAAS,SAAU7L,EAAGmX,GAAKnX,EAAEmH,UAAYgQ,CAAG,GAC1E,SAAUnX,EAAGmX,GAAK,QAASvN,KAAKuN,EAAO/W,OAAOY,UAAUC,eAAeC,KAAKiW,EAAGvN,KAAI5J,EAAE4J,GAAKuN,EAAEvN,GAAI,GAC/E5J,EAAGmX,EAC5B,EACA,OAAO,SAAUnX,EAAGmX,GAChB,GAAiB,oBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI7b,UAAU,uBAAyBuP,OAAOsM,GAAK,iCAE7D,SAASq1F,IAAO9rG,KAAKe,YAAczB,CAAG,CADtCusG,EAAcvsG,EAAGmX,GAEjBnX,EAAEgB,UAAkB,OAANmW,EAAa/W,OAAO0C,OAAOqU,IAAMq1F,EAAGxrG,UAAYmW,EAAEnW,UAAW,IAAIwrG,EACnF,CACJ,CAd6C,GAoBzCzuF,GAAequF,KACfK,GAAU,CACV,YAAa,CAAEC,aAAc3uF,GAAS,wBAAyB,gEAAiEusF,QAAS,+CACzI,YAAa,CAAEoC,aAAc3uF,GAAS,wBAAyB,sCAAuCusF,QAAS,2JAC/G,KAAQ,CAAEoC,aAAc3uF,GAAS,oBAAqB,iCAAkCusF,QAAS,uDACjG,KAAQ,CAAEoC,aAAc3uF,GAAS,oBAAqB,iCAAkCusF,QAAS,0GACjG,MAAS,CAAEoC,aAAc3uF,GAAS,qBAAsB,oCAAqCusF,QAAS,2JAEtGqC,GAA6B,WAC7B,SAASA,EAAYt6F,EAAQuP,EAAQ3lB,QAClB,IAAXA,IAAqBA,EAAS,GAClCyE,KAAKkhB,OAASA,EACdlhB,KAAKzE,OAASA,EACdyE,KAAK2R,OAASA,CAClB,CAWA,OAVAjS,OAAOC,eAAessG,EAAY3rG,UAAW,WAAY,CACrDT,IAAK,WACD,MAAO,EACX,EACAD,YAAY,EACZ6B,cAAc,IAElBwqG,EAAY3rG,UAAUkL,SAAW,WAC7B,MAAO,SAAWxL,KAAK0C,KAAO,KAAO1C,KAAKkhB,OAAS,IAAMlhB,KAAKzE,OAAS,KAAOyE,KAAK2R,OAAS,aAAe3R,KAAK2R,OAAOnG,WAAa,IAAM,GAC9I,EACOygG,CACX,CAlBiC,IAoBI,SAAUC,GAE3C,SAASC,EAAgBx6F,EAAQuP,GAC7B,IAAIxR,EAAQw8F,EAAO1rG,KAAKR,KAAM2R,EAAQuP,IAAWlhB,KAGjD,OAFA0P,EAAMhN,KAAO,OACbgN,EAAM9O,MAAQ,KACP8O,CACX,CANAk8F,GAAUO,EAAiBD,EAQ/B,EATqC,CASnCD,IAEsC,SAAUC,GAE9C,SAASE,EAAmBz6F,EAAQ06F,EAAWnrF,GAC3C,IAAIxR,EAAQw8F,EAAO1rG,KAAKR,KAAM2R,EAAQuP,IAAWlhB,KAGjD,OAFA0P,EAAMhN,KAAO,UACbgN,EAAM9O,MAAQyrG,EACP38F,CACX,CANAk8F,GAAUQ,EAAoBF,EAQlC,CATwC,CAStCD,IAEoC,SAAUC,GAE5C,SAASI,EAAiB36F,EAAQuP,GAC9B,IAAIxR,EAAQw8F,EAAO1rG,KAAKR,KAAM2R,EAAQuP,IAAWlhB,KAGjD,OAFA0P,EAAMhN,KAAO,QACbgN,EAAMqhD,MAAQ,GACPrhD,CACX,CANAk8F,GAAUU,EAAkBJ,GAO5BxsG,OAAOC,eAAe2sG,EAAiBhsG,UAAW,WAAY,CAC1DT,IAAK,WACD,OAAOG,KAAK+wD,KAChB,EACAnxD,YAAY,EACZ6B,cAAc,GAGtB,CAhBsC,CAgBpCwqG,IAEqC,SAAUC,GAE7C,SAASK,EAAkB56F,EAAQuP,GAC/B,IAAIxR,EAAQw8F,EAAO1rG,KAAKR,KAAM2R,EAAQuP,IAAWlhB,KAIjD,OAHA0P,EAAMhN,KAAO,SACbgN,EAAMm8E,WAAY,EAClBn8E,EAAM9O,MAAQwJ,OAAOyrF,IACdnmF,CACX,CAPAk8F,GAAUW,EAAmBL,EASjC,CAVuC,CAUrCD,IAEqC,SAAUC,GAE7C,SAASM,EAAkB76F,EAAQuP,EAAQ3lB,GACvC,IAAImU,EAAQw8F,EAAO1rG,KAAKR,KAAM2R,EAAQuP,EAAQ3lB,IAAWyE,KAGzD,OAFA0P,EAAMhN,KAAO,SACbgN,EAAM9O,MAAQ,GACP8O,CACX,CANAk8F,GAAUY,EAAmBN,EAQjC,CATuC,CASrCD,IAEuC,SAAUC,GAE/C,SAASO,EAAoB96F,EAAQuP,EAAQ48E,GACzC,IAAIpuF,EAAQw8F,EAAO1rG,KAAKR,KAAM2R,EAAQuP,IAAWlhB,KAIjD,OAHA0P,EAAMhN,KAAO,WACbgN,EAAMg9F,aAAe,EACrBh9F,EAAMouF,QAAUA,EACTpuF,CACX,CAPAk8F,GAAUa,EAAqBP,GAQ/BxsG,OAAOC,eAAe8sG,EAAoBnsG,UAAW,WAAY,CAC7DT,IAAK,WACD,OAAOG,KAAK83E,UAAY,CAAC93E,KAAK89F,QAAS99F,KAAK83E,WAAa,CAAC93E,KAAK89F,QACnE,EACAl+F,YAAY,EACZ6B,cAAc,GAGtB,CAjByC,CAiBvCwqG,IAEqC,SAAUC,GAE7C,SAASS,EAAkBh7F,EAAQuP,GAC/B,IAAIxR,EAAQw8F,EAAO1rG,KAAKR,KAAM2R,EAAQuP,IAAWlhB,KAGjD,OAFA0P,EAAMhN,KAAO,SACbgN,EAAMy5F,WAAa,GACZz5F,CACX,CANAk8F,GAAUe,EAAmBT,GAO7BxsG,OAAOC,eAAegtG,EAAkBrsG,UAAW,WAAY,CAC3DT,IAAK,WACD,OAAOG,KAAKmpG,UAChB,EACAvpG,YAAY,EACZ6B,cAAc,GAGtB,CAhBuC,CAgBrCwqG,IAEK,SAASW,GAAS3hB,GACrB,OAAIogB,GAAUpgB,GACHA,EAAS,CAAC,EAAI,CAAE,IAAO,CAAC,GAE5BA,CACX,EAEW0gB,GAGRA,KAAcA,GAAY,CAAC,IAFhBA,GAAAA,IAAmB,GAAK,MAClCA,GAAUA,GAAAA,KAAoB,GAAK,OAEvC,IAAIkB,GAAiC,WACjC,SAASA,EAAgBC,EAAa52D,QACd,IAAhB42D,IAA0BA,GAAe,GAC7C9sG,KAAK8sG,YAAcA,EACnB9sG,KAAKk2C,QAAUA,EACfl2C,KAAKm5F,QAAU,EACnB,CAaA,OAZA0T,EAAgBvsG,UAAUwS,IAAM,SAAUm4E,GACtCjrF,KAAKm5F,QAAQvzF,KAAKqlF,EACtB,EACA4hB,EAAgBvsG,UAAU0U,MAAQ,SAAU8kB,GACxC3uB,MAAM7K,UAAUsF,KAAK8C,MAAM1I,KAAKm5F,QAASr/D,EAAMq/D,QACnD,EACA0T,EAAgBvsG,UAAUysG,QAAU,SAAUt5F,GAC1C,QAA8B,IAAtBzT,KAAK8sG,aAAsBn1B,GAASlkE,EAAMzT,KAAK8sG,eAAkBr5F,IAASzT,KAAKk2C,OAC3F,EACA22D,EAAgBvsG,UAAU0sG,OAAS,WAC/B,OAAO,IAAIH,GAAiB,EAAG7sG,KAAKk2C,QACxC,EACO22D,CACX,CApBqC,GAqBjCI,GAAqC,WACrC,SAASA,IACT,CAWA,OAVAvtG,OAAOC,eAAestG,EAAoB3sG,UAAW,UAAW,CAC5DT,IAAK,WAAc,MAAO,EAAI,EAC9BD,YAAY,EACZ6B,cAAc,IAElBwrG,EAAoB3sG,UAAUwS,IAAM,SAAUm4E,GAAU,EACxDgiB,EAAoB3sG,UAAU0U,MAAQ,SAAU8kB,GAAS,EACzDmzE,EAAoB3sG,UAAUysG,QAAU,SAAUt5F,GAAQ,OAAO,CAAM,EACvEw5F,EAAoB3sG,UAAU0sG,OAAS,WAAc,OAAOhtG,IAAM,EAClEitG,EAAoBpjG,SAAW,IAAIojG,EAC5BA,CACX,CAdyC,GAerCC,GAAkC,WAClC,SAASA,IACLltG,KAAKmtG,SAAW,GAChBntG,KAAKotG,kBAAoB,EACzBptG,KAAKqtG,uBAAyB,EAC9BrtG,KAAKstG,oBAAsB,EAC3BttG,KAAKutG,gBAAiB,EACtBvtG,KAAKwtG,gBAAa,CACtB,CAkDA,OAjDAN,EAAiB5sG,UAAUmtG,YAAc,WACrC,QAASztG,KAAKmtG,SAAS5xG,MAC3B,EACA2xG,EAAiB5sG,UAAUotG,SAAW,SAAUC,GAC5C,QAASrgG,EAAK,EAAGsgG,EAAsBD,EAAmBrgG,EAAKsgG,EAAoBryG,OAAQ+R,IAAM,CAC7F,IAAIugG,EAAmBD,EAAoBtgG,GAC3CtN,KAAKgV,MAAM64F,EACf,CACJ,EACAX,EAAiB5sG,UAAU0U,MAAQ,SAAU64F,GACzC7tG,KAAKmtG,SAAWntG,KAAKmtG,SAASr9F,OAAO+9F,EAAiBV,SAC1D,EACAD,EAAiB5sG,UAAUwtG,gBAAkB,SAAUD,GACnD,IAAK7tG,KAAKutG,iBAAmBM,EAAiBN,gBAAkBvtG,KAAKwtG,YAAcK,EAAiBL,WAAY,CAC5GxtG,KAAKwtG,WAAaxtG,KAAKwtG,WAAW19F,OAAO+9F,EAAiBL,YAC1D,QAASlgG,EAAK,EAAGmN,EAAKza,KAAKmtG,SAAU7/F,EAAKmN,EAAGlf,OAAQ+R,IAAM,CACvD,IAAIrJ,EAAQwW,EAAGnN,GACXrJ,EAAMhJ,OAASitG,GAAU6F,oBACzB9pG,EAAM0K,QAAU0O,GAAS,cAAe,4CAA6Crd,KAAKwtG,WAAW39F,KAAI,SAAUotB,GAAK,OAAOpiC,KAAKC,UAAUmiC,EAAK,IAAE1gC,KAAK,OAElK,CACJ,CACJ,EACA2wG,EAAiB5sG,UAAU0tG,mBAAqB,SAAUC,GACtDjuG,KAAKgV,MAAMi5F,GACXjuG,KAAKotG,qBACDa,EAAyBV,iBAAmBU,EAAyBR,eAAiBQ,EAAyBb,oBAC/GptG,KAAKqtG,yBAELY,EAAyBV,gBAAkBU,EAAyBT,YAA6D,IAA/CS,EAAyBT,WAAWjyG,QACtHyE,KAAKstG,qBAEb,EACAJ,EAAiB5sG,UAAU4xE,QAAU,SAAUp4C,GAC3C,IAAI2zE,EAAcztG,KAAKytG,cACvB,OAAIA,IAAgB3zE,EAAM2zE,cACfA,GAAe,EAAI,EAE1BztG,KAAKutG,iBAAmBzzE,EAAMyzE,eACvBzzE,EAAMyzE,gBAAkB,EAAI,EAEnCvtG,KAAKstG,sBAAwBxzE,EAAMwzE,oBAC5BttG,KAAKstG,oBAAsBxzE,EAAMwzE,oBAExCttG,KAAKqtG,yBAA2BvzE,EAAMuzE,uBAC/BrtG,KAAKqtG,uBAAyBvzE,EAAMuzE,uBAExCrtG,KAAKotG,kBAAoBtzE,EAAMszE,iBAC1C,EACOF,CACX,CA3DsC,GAiE/B,SAASr1B,GAAapkE,GACzB,OAAYy6F,GAAaz6F,EAC7B,CACO,SAASmkE,GAAYnkE,GACxB,OAAYy6F,GAAYz6F,EAC5B,CACO,SAASkkE,GAASlkE,EAAMyN,EAAQw2D,GAEnC,YAD0B,IAAtBA,IAAgCA,GAAoB,GACjDx2D,GAAUzN,EAAKyN,QAAUA,EAAUzN,EAAKyN,OAASzN,EAAKlY,QAAWm8E,GAAqBx2D,IAAYzN,EAAKyN,OAASzN,EAAKlY,MAChI,EACkC,WAC9B,SAAS4yG,EAAa5vG,EAAM6vG,EAAcC,QACjB,IAAjBD,IAA2BA,EAAe,SAC7B,IAAbC,IAAuBA,EAAW,IACtCruG,KAAKzB,KAAOA,EACZyB,KAAKouG,aAAeA,EACpBpuG,KAAKquG,SAAWA,CACpB,CACAF,EAAa7tG,UAAUguG,kBAAoB,SAAUptF,EAAQw2D,GAEzD,QAD0B,IAAtBA,IAAgCA,GAAoB,GACpD13E,KAAKzB,KACL,OAAY2vG,GAAiBluG,KAAKzB,KAAM2iB,EAAQw2D,EAGxD,EACAy2B,EAAa7tG,UAAUo0E,MAAQ,SAAUC,GACrC,GAAI30E,KAAKzB,KAAM,EACK,SAAZgwG,EAAsB96F,GACtB,IAAI+6F,EAAM75B,EAAQlhE,GACdtB,EAAWsB,EAAKtB,SACpB,GAAIhH,MAAMQ,QAAQwG,GACd,QAAS7W,EAAI,EAAGA,EAAI6W,EAAS5W,QAAUizG,EAAKlzG,IACxCkzG,EAAMD,EAAUp8F,EAAS7W,IAGjC,OAAOkzG,CACX,CACAD,CAAUvuG,KAAKzB,KACnB,CACJ,EACA4vG,EAAa7tG,UAAUmuG,SAAW,SAAUtyB,EAAc8O,EAAQxP,GAE9D,QADiB,IAAbA,IAAuBA,EAAWxC,GAAmBkC,SACrDn7E,KAAKzB,MAAQ0sF,EAAQ,CACrB,IAAI4iB,EAAmB,IAAIX,GAE3B,OADAuB,GAASzuG,KAAKzB,KAAM0sF,EAAQ4iB,EAAkBZ,GAAoBpjG,UAC3DgkG,EAAiBV,SAASt9F,KAAI,SAAU3G,GAC3C,IAAIuR,EACAigB,EAAQP,GAAAA,OAAagiD,EAAatT,WAAW3/D,EAAE8T,SAASkE,QAASi7D,EAAatT,WAAW3/D,EAAE8T,SAASkE,OAAShY,EAAE8T,SAASzhB,SAC5H,OAAO69E,GAAWh3E,OAAOs4B,EAAOxxB,EAAEyF,QAA+B,QAArB8L,EAAKvR,EAAEuyE,gBAA6B,IAAPhhE,EAAgBA,EAAKghE,EAAUvyE,EAAEjO,KAC7G,GACL,CAEJ,EACAkzG,EAAa7tG,UAAUouG,mBAAqB,SAAUzjB,EAAQ6hB,EAAa52D,QACnD,IAAhB42D,IAA0BA,GAAe,GAC7C,IAAI6B,EAAkB,IAAI9B,GAAgBC,EAAa52D,GAIvD,OAHIl2C,KAAKzB,MAAQ0sF,GACbwjB,GAASzuG,KAAKzB,KAAM0sF,EAAQ,IAAIiiB,GAAoByB,GAEjDA,EAAgBxV,OAC3B,CAEJ,CApDkC,GAsDlC,SAASsV,GAASljG,EAAG0/E,EAAQ4iB,EAAkBc,GAC3C,GAAKpjG,GAAMojG,EAAgB5B,QAAQxhG,GAAnC,CAGA,IAAIkI,EAAOlI,EACX,OAAQkI,EAAK/Q,MACT,IAAK,UAgaT,SAA6B+Q,EAAMw3E,EAAQ4iB,EAAkBc,GAGzD,IAFA,IAAIlX,EAAW/3F,OAAO0C,OAAO,MACzBwsG,EAAwB,GACnBthG,EAAK,EAAGmN,EAAKhH,EAAK01F,WAAY77F,EAAKmN,EAAGlf,OAAQ+R,IAAM,CAGzDmqF,EADIj4F,GADAqvG,EAAep0F,EAAGnN,IACCwwF,QAAQl9F,OACfiuG,EAAa/2B,UAC7B82B,EAAsBhpG,KAAKpG,EAC/B,CACA,GAAI2L,MAAMQ,QAAQs/E,EAAOif,UACrB,QAASnvF,EAAK,EAAGC,EAAKiwE,EAAOif,SAAUnvF,EAAKC,EAAGzf,OAAQwf,IAAM,CAEzD,IAAK08E,EADDqX,EAAe9zF,EAAGD,IACO,CACzB,IAAI+iF,EAAUrqF,EAAK9B,QAA+B,aAArB8B,EAAK9B,OAAOjP,MAAuB+Q,EAAK9B,OAAOmsF,QACxE9gF,EAAW8gF,EAAU,CAAE58E,OAAQ48E,EAAQ58E,OAAQ3lB,OAAQuiG,EAAQviG,QAAW,CAAE2lB,OAAQzN,EAAKyN,OAAQ3lB,OAAQ,GAC7GsyG,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAAA,EACArO,QAAS0O,GAAS,6BAA8B,0BAA2ByxF,IAEnF,CACJ,CAEJ,IAAIC,EAAoB,SAAU1uG,GAE9B,IADA,IAAIgQ,EAAQu+F,EAAsB5gG,QAAQ3N,GACnCgQ,GAAS,GACZu+F,EAAsBhvF,OAAOvP,EAAO,GACpCA,EAAQu+F,EAAsB5gG,QAAQ3N,EAE9C,EACA,GAAI4qF,EAAOke,WACP,QAASv7F,EAAK,EAAGd,EAAKpN,OAAOoH,KAAKmkF,EAAOke,YAAav7F,EAAKd,EAAGvR,OAAQqS,IAAM,CAExEmhG,EADID,EAAehiG,EAAGc,IAEtB,IAAIohG,EAAiB/jB,EAAOke,WAAW2F,GAEvC,GADIp9F,EAAQ+lF,EAASqX,GAEjB,GAAIzD,GAAU2D,GACV,GAAKA,EAQDnB,EAAiBT,oBACjBS,EAAiBR,6BATA,CACjB,IAAIwB,EAAen9F,EAAMC,OACzBk8F,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQ2tF,EAAa/Q,QAAQ58E,OAAQ3lB,OAAQszG,EAAa/Q,QAAQviG,QAC9EoT,QAASs8E,EAAO+gB,cAAgB3uF,GAAS,6BAA8B,+BAAgCyxF,IAE/G,MAQAL,GAAS/8F,EAAOs9F,EADZf,EAA2B,IAAIf,GACuByB,GAC1Dd,EAAiBG,mBAAmBC,EAGhD,CAEJ,GAAIhjB,EAAOmf,kBACP,QAAS6E,EAAK,EAAGC,EAAKxvG,OAAOoH,KAAKmkF,EAAOmf,mBAAoB6E,EAAKC,EAAG3zG,OAAQ0zG,IAGzE,IAFA,IAAIE,EAAkBD,EAAGD,GACrB9zD,EAAQ6vD,GAAemE,GAClBC,EAAK,EAAGC,EAAKT,EAAsBjzG,MAAM,GAAIyzG,EAAKC,EAAG9zG,OAAQ6zG,IAAM,CACxE,IAAIN,EAAeO,EAAGD,GACtB,GAAIj0D,EAAM1vC,KAAKqjG,GAGX,GAFAC,EAAkBD,GACdp9F,EAAQ+lF,EAASqX,GAGjB,GAAIzD,GADA2D,EAAiB/jB,EAAOmf,kBAAkB+E,IAE1C,GAAKH,EAQDnB,EAAiBT,oBACjBS,EAAiBR,6BATA,CACbwB,EAAen9F,EAAMC,OACzBk8F,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQ2tF,EAAa/Q,QAAQ58E,OAAQ3lB,OAAQszG,EAAa/Q,QAAQviG,QAC9EoT,QAASs8E,EAAO+gB,cAAgB3uF,GAAS,6BAA8B,+BAAgCyxF,IAE/G,MAQAL,GAAS/8F,EAAOs9F,EADZf,EAA2B,IAAIf,GACuByB,GAC1Dd,EAAiBG,mBAAmBC,EAIpD,CAGR,GAA2C,kBAAhChjB,EAAOkf,qBACd,QAASmF,EAAK,EAAGC,EAA0BX,EAAuBU,EAAKC,EAAwBh0G,OAAQ+zG,IAAM,CAGzG,GADI59F,EAAQ+lF,EADRqX,EAAeS,EAAwBD,IAEhC,CACP,IAAIrB,EAA2B,IAAIf,GACnCuB,GAAS/8F,EAAOu5E,EAAOkf,qBAAsB8D,EAA0BU,GACvEd,EAAiBG,mBAAmBC,EACxC,CACJ,MACJ,IACyC,IAAhChjB,EAAOkf,sBACRyE,EAAsBrzG,OAAS,EAC/B,QAASi0G,EAAK,EAAGC,EAA0Bb,EAAuBY,EAAKC,EAAwBl0G,OAAQi0G,IAAM,CACzG,IACI99F,EACJ,GADIA,EAAQ+lF,EADRqX,EAAeW,EAAwBD,IAEhC,CACHX,EAAen9F,EAAMC,OACzBk8F,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQ2tF,EAAa/Q,QAAQ58E,OAAQ3lB,OAAQszG,EAAa/Q,QAAQviG,QAC9EoT,QAASs8E,EAAO+gB,cAAgB3uF,GAAS,6BAA8B,+BAAgCyxF,IAE/G,CACJ,CAGJ3D,GAASlgB,EAAO+e,gBACZv2F,EAAK01F,WAAW5tG,OAAS0vF,EAAO+e,eAChC6D,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAAS0O,GAAS,iBAAkB,gDAAiD4tE,EAAO+e,iBAIpGmB,GAASlgB,EAAOgf,gBACZx2F,EAAK01F,WAAW5tG,OAAS0vF,EAAOgf,eAChC4D,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAAS0O,GAAS,iBAAkB,8DAA+D4tE,EAAOgf,iBAItH,GAAIhf,EAAOqf,aACP,QAASoF,EAAK,EAAGC,EAAKjwG,OAAOoH,KAAKmkF,EAAOqf,cAAeoF,EAAKC,EAAGp0G,OAAQm0G,IAAM,CAG1E,GADWjY,EADPj4F,EAAMmwG,EAAGD,IAEH,CACN,IAAIE,EAAc3kB,EAAOqf,aAAa9qG,GACtC,GAAI2L,MAAMQ,QAAQikG,GACd,QAASC,EAAK,EAAGC,EAAgBF,EAAaC,EAAKC,EAAcv0G,OAAQs0G,IAAM,CAC3E,IAAIE,EAAeD,EAAcD,GAC5BpY,EAASsY,GAOVlC,EAAiBR,yBANjBQ,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAAS0O,GAAS,+BAAgC,2DAA4D0yF,EAAcvwG,IAMxI,MAIA,GADIwvG,EAAiBpC,GAASgD,GAG1BnB,GAASh7F,EAAMu7F,EADXf,EAA2B,IAAIf,GACsByB,GACzDd,EAAiBG,mBAAmBC,EAGhD,CACJ,CAEJ,IAAI5D,EAAgBuC,GAAS3hB,EAAOof,eACpC,GAAIA,EACA,QAAS2F,EAAK,EAAGviG,EAAKgG,EAAK01F,WAAY6G,EAAKviG,EAAGlS,OAAQy0G,IAAM,CACzD,IACIxwG,KADIiO,EAAGuiG,GACClS,UAER2Q,GAASjvG,EAAK6qG,EAAewD,EAAkBZ,GAAoBpjG,SAE3E,CAER,CA7kBQomG,CAAoBx8F,EAAMw3E,EAAQ4iB,EAAkBc,GACpD,MACJ,IAAK,SA2UT,SAA4Bl7F,EAAMw3E,EAAQ4iB,EAAkBc,GACxD,GAAIxjG,MAAMQ,QAAQs/E,EAAOl6B,OAAQ,CAE7B,IADA,IAAIm/C,EAAajlB,EAAOl6B,MACf1gD,EAAQ,EAAGA,EAAQ6/F,EAAW30G,OAAQ8U,IAAS,CACpD,IACI8/F,EAAYvD,GADGsD,EAAW7/F,IAE1B+/F,EAAuB,IAAIlD,IAC3BtwE,EAAOnpB,EAAKs9C,MAAM1gD,KAElBo+F,GAAS7xE,EAAMuzE,EAAWC,EAAsBzB,GAChDd,EAAiBG,mBAAmBoC,IAE/B38F,EAAKs9C,MAAMx1D,QAAU20G,EAAW30G,QACrCsyG,EAAiBR,wBAEzB,CACA,GAAI55F,EAAKs9C,MAAMx1D,OAAS20G,EAAW30G,OAC/B,GAAsC,kBAA3B0vF,EAAO4e,gBACd,QAASvuG,EAAI40G,EAAW30G,OAAQD,EAAImY,EAAKs9C,MAAMx1D,OAAQD,IAAK,CACpD80G,EAAuB,IAAIlD,GAC/BuB,GAASh7F,EAAKs9C,MAAMz1D,GAAI2vF,EAAO4e,gBAAiBuG,EAAsBzB,GACtEd,EAAiBG,mBAAmBoC,EACxC,MAEgC,IAA3BnlB,EAAO4e,iBACZgE,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAAS0O,GAAS,yBAA0B,uEAAwE6yF,EAAW30G,SAI/I,KACK,CACD,IAAI80G,EAAazD,GAAS3hB,EAAOl6B,OACjC,GAAIs/C,EACA,QAAS/iG,EAAK,EAAGmN,EAAKhH,EAAKs9C,MAAOzjD,EAAKmN,EAAGlf,OAAQ+R,IAAM,CACpD,IAAIsvB,EAEJ6xE,GAFI7xE,EAAOniB,EAAGnN,GAEC+iG,EADXD,EAAuB,IAAIlD,GACkByB,GACjDd,EAAiBG,mBAAmBoC,EACxC,CAER,CACA,IAAIE,EAAiB1D,GAAS3hB,EAAOtT,UACrC,GAAI24B,EAAgB,CACE78F,EAAKs9C,MAAMpgD,MAAK,SAAUisB,GACxC,IAAIwzE,EAAuB,IAAIlD,GAE/B,OADAuB,GAAS7xE,EAAM0zE,EAAgBF,EAAsBnD,GAAoBpjG,WACjEumG,EAAqB3C,aAChC,KAEGI,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAASs8E,EAAO+gB,cAAgB3uF,GAAS,6BAA8B,0CAGnF,CACI8tF,GAASlgB,EAAOwd,WAAah1F,EAAKs9C,MAAMx1D,OAAS0vF,EAAOwd,UACxDoF,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAAS0O,GAAS,kBAAmB,iDAAkD4tE,EAAOwd,YAGlG0C,GAASlgB,EAAO8e,WAAat2F,EAAKs9C,MAAMx1D,OAAS0vF,EAAO8e,UACxD8D,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAAS0O,GAAS,kBAAmB,mDAAoD4tE,EAAO8e,YAGxG,IAA2B,IAAvB9e,EAAOie,YAAsB,CAC7B,IAAIqH,EAAW14B,GAAapkE,GACX88F,EAAS5/F,MAAK,SAAU/P,EAAOyP,GAC5C,OAAOA,IAAUkgG,EAAS70G,YAAYkF,EACzC,KAEGitG,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAAS0O,GAAS,qBAAsB,+BAGpD,CACJ,CA3ZQmzF,CAAmB/8F,EAAMw3E,EAAQ4iB,EAAkBc,GACnD,MACJ,IAAK,UAwQT,SAA6Bl7F,EAAMw3E,EAAQ4iB,EAAkBc,GACrDxD,GAASlgB,EAAO0e,YAAcl2F,EAAK7S,MAAMrF,OAAS0vF,EAAO0e,WACzDkE,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAAS0O,GAAS,mBAAoB,oDAAqD4tE,EAAO0e,aAGtGwB,GAASlgB,EAAO5lB,YAAc5xD,EAAK7S,MAAMrF,OAAS0vF,EAAO5lB,WACzDwoC,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAAS0O,GAAS,mBAAoB,mDAAoD4tE,EAAO5lB,aAGzG,GF3iBiBt+D,EE2iBJkkF,EAAO2e,QF1iBF,kBAAR7iG,EE0iBoB,CACdikG,GAAe/f,EAAO2e,SACvBn+F,KAAKgI,EAAK7S,QACjBitG,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAASs8E,EAAOwlB,qBAAuBxlB,EAAO+gB,cAAgB3uF,GAAS,iBAAkB,8CAA+C4tE,EAAO2e,UAG3J,CFnjBD,IAAkB7iG,EEojBjB,GAAIkkF,EAAO9sF,OACP,OAAQ8sF,EAAO9sF,QACX,IAAK,MACL,IAAK,gBAEG,IAAI6tG,OAAe,EACnB,GAAKv4F,EAAK7S,MAGL,CACD,IAAIuc,EAAQ,+DAA+Dia,KAAK3jB,EAAK7S,OAChFuc,EAGKA,EAAM,IAAwB,QAAlB8tE,EAAO9sF,SACzB6tG,EAAe3uF,GAAS,mBAAoB,mCAH5C2uF,EAAe3uF,GAAS,aAAc,mBAK9C,MAVI2uF,EAAe3uF,GAAS,WAAY,iBAWpC2uF,GACA6B,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAASs8E,EAAOwlB,qBAAuBxlB,EAAO+gB,cAAgB3uF,GAAS,mBAAoB,2BAA4B2uF,KAInI,MACJ,IAAK,YACL,IAAK,YACL,IAAK,OACL,IAAK,OACL,IAAK,QACD,IAAI7tG,EAAS4tG,GAAQ9gB,EAAO9sF,QACvBsV,EAAK7S,OAAUzC,EAAOyrG,QAAQxyE,KAAK3jB,EAAK7S,QACzCitG,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAASs8E,EAAOwlB,qBAAuBxlB,EAAO+gB,cAAgB7tG,EAAO6tG,eAM7F,CAtUQ0E,CAAoBj9F,EAAMw3E,EAAQ4iB,GAClC,MACJ,IAAK,UAoLT,SAA6Bp6F,EAAMw3E,EAAQ4iB,EAAkBc,GACzD,IAAI5nG,EAAM0M,EAAK7S,MACf,SAAS+vG,EAAgB1a,GACrB,IAAIx7E,EACAytE,EAAQ,uCAAuC9wD,KAAK6+D,EAAMzqF,YAC9D,OAAO08E,GAAS,CACZtnF,MAAOwJ,OAAO89E,EAAM,IAAMA,EAAM,IAAM,KACtC0oB,aAAkC,QAAnBn2F,EAAKytE,EAAM,UAAuB,IAAPztE,OAAgB,EAASA,EAAGlf,SAAW,IAAMg7F,SAASrO,EAAM,KAAO,GAErH,CAEA,GAAIijB,GAASlgB,EAAOse,YAAa,CAC7B,IAAI9qE,GAAa,EACjB,GAAIr0B,OAAOyhF,UAAUZ,EAAOse,YACxB9qE,EAAY13B,EAAMkkF,EAAOse,eAExB,CACD,IAAIsH,EAAiBF,EAAgB1lB,EAAOse,YACxCuH,EAAYH,EAAgB5pG,GAChC,GAAI8pG,GAAkBC,EAAW,CAC7B,IAAIF,EAAat2F,KAAK+qB,IAAI,GAAI/qB,KAAKkW,IAAIsgF,EAAUF,WAAaC,EAAeD,aACzEE,EAAUF,WAAaC,EAAeD,WACtCE,EAAUlwG,OAASgwG,EAGnBC,EAAejwG,OAASgwG,EAE5BnyE,EAAYqyE,EAAUlwG,MAAQiwG,EAAejwG,KACjD,CACJ,CACkB,IAAd69B,GACAovE,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAAS0O,GAAS,oBAAqB,iCAAkC4tE,EAAOse,aAG5F,CACA,SAASwH,EAAkBzhB,EAAO0hB,GAC9B,OAAI7F,GAAS6F,GACFA,EAEP3F,GAAU2F,IAAcA,EACjB1hB,OADX,CAIJ,CACA,SAAS2hB,EAAS3hB,EAAO0hB,GACrB,IAAK3F,GAAU2F,KAAeA,EAC1B,OAAO1hB,CAGf,CACA,IAAIka,EAAmBuH,EAAkB9lB,EAAO2d,QAAS3d,EAAOue,kBAC5D2B,GAAS3B,IAAqBziG,GAAOyiG,GACrCqE,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAAS0O,GAAS,0BAA2B,+CAAgDmsF,KAGrG,IAAIE,EAAmBqH,EAAkB9lB,EAAOwe,QAASxe,EAAOye,kBAC5DyB,GAASzB,IAAqB3iG,GAAO2iG,GACrCmE,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAAS0O,GAAS,0BAA2B,+CAAgDqsF,KAGrG,IAAId,EAAUqI,EAAShmB,EAAO2d,QAAS3d,EAAOue,kBAC1C2B,GAASvC,IAAY7hG,EAAM6hG,GAC3BiF,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAAS0O,GAAS,iBAAkB,qCAAsCurF,KAGlF,IAAIa,EAAUwH,EAAShmB,EAAOwe,QAASxe,EAAOye,kBAC1CyB,GAAS1B,IAAY1iG,EAAM0iG,GAC3BoE,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAAS0O,GAAS,iBAAkB,qCAAsCosF,IAGtF,CAnQQyH,CAAoBz9F,EAAMw3E,EAAQ4iB,GAClC,MACJ,IAAK,WACD,OAAOY,GAASh7F,EAAKqkE,UAAWmT,EAAQ4iB,EAAkBc,IAIlE,WACI,SAASwC,EAAYzuG,GACjB,OAAO+Q,EAAK/Q,OAASA,GAAkB,YAATA,GAAoC,WAAd+Q,EAAK/Q,MAAqB+Q,EAAKo4E,SACvF,CACI1gF,MAAMQ,QAAQs/E,EAAOvoF,MAChBuoF,EAAOvoF,KAAKiO,KAAKwgG,IAClBtD,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAASs8E,EAAO+gB,cAAgB3uF,GAAS,2BAA4B,uCAAwC4tE,EAAOvoF,KAAKnG,KAAK,SAIjI0uF,EAAOvoF,OACPyuG,EAAYlmB,EAAOvoF,OACpBmrG,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAASs8E,EAAO+gB,cAAgB3uF,GAAS,sBAAuB,kCAAmC4tE,EAAOvoF,SAItH,GAAIyI,MAAMQ,QAAQs/E,EAAO6d,OACrB,QAASx7F,EAAK,EAAGmN,EAAKwwE,EAAO6d,MAAOx7F,EAAKmN,EAAGlf,OAAQ+R,IAAM,CACtD,IAAI8jG,EAAe32F,EAAGnN,GACtBmhG,GAASh7F,EAAMm5F,GAASwE,GAAevD,EAAkBc,EAC7D,CAEJ,IAAI0C,EAAYzE,GAAS3hB,EAAO4f,KAChC,GAAIwG,EAAW,CACX,IAAIC,EAAsB,IAAIpE,GAC1BqE,EAAqB5C,EAAgB3B,SACzCyB,GAASh7F,EAAM49F,EAAWC,EAAqBC,GAC1CD,EAAoB7D,eACrBI,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CoT,QAAS0O,GAAS,mBAAoB,2CAG9C,QAAStC,EAAK,EAAGC,EAAKu2F,EAAmBpY,QAASp+E,EAAKC,EAAGzf,OAAQwf,IAAM,CACpE,IAAIy2F,EAAKx2F,EAAGD,GACZy2F,EAAGC,UAAYD,EAAGC,SAClB9C,EAAgB77F,IAAI0+F,EACxB,CACJ,CACA,IAAIE,EAAmB,SAAUC,EAAcC,GAI3C,IAHA,IAAI1oC,EAAU,GAEV2oC,OAAY,EACPvkG,EAAK,EAAGwkG,EAAiBH,EAAcrkG,EAAKwkG,EAAev2G,OAAQ+R,IAAM,CAC9E,IACI6iG,EAAYvD,GADGkF,EAAexkG,IAE9BgkG,EAAsB,IAAIpE,GAC1BqE,EAAqB5C,EAAgB3B,SAKzC,GAJAyB,GAASh7F,EAAM08F,EAAWmB,EAAqBC,GAC1CD,EAAoB7D,eACrBvkC,EAAQtjE,KAAKuqG,GAEZ0B,EAID,GAAKD,GAAgBN,EAAoB7D,eAAkBoE,EAAUhE,iBAAiBJ,cAMjF,CACD,IAAIsE,EAAgBT,EAAoBp/B,QAAQ2/B,EAAUhE,kBACtDkE,EAAgB,EAEhBF,EAAY,CAAE5mB,OAAQklB,EAAWtC,iBAAkByD,EAAqB3C,gBAAiB4C,GAElE,IAAlBQ,IAELF,EAAUlD,gBAAgB35F,MAAMu8F,GAChCM,EAAUhE,iBAAiBC,gBAAgBwD,GAEnD,MAfIO,EAAUlD,gBAAgB35F,MAAMu8F,GAChCM,EAAUhE,iBAAiBT,mBAAqBkE,EAAoBlE,kBACpEyE,EAAUhE,iBAAiBR,wBAA0BiE,EAAoBjE,4BAP7EwE,EAAY,CAAE5mB,OAAQklB,EAAWtC,iBAAkByD,EAAqB3C,gBAAiB4C,EAsBjG,CAaA,OAZIroC,EAAQ3tE,OAAS,GAAKq2G,GACtB/D,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQ,GACzCoT,QAAS0O,GAAS,eAAgB,2DAGtCw0F,IACAhE,EAAiB74F,MAAM68F,EAAUhE,kBACjCA,EAAiBT,mBAAqByE,EAAUhE,iBAAiBT,kBACjES,EAAiBR,wBAA0BwE,EAAUhE,iBAAiBR,uBACtEsB,EAAgB35F,MAAM68F,EAAUlD,kBAE7BzlC,EAAQ3tE,MACnB,EACI4P,MAAMQ,QAAQs/E,EAAO6e,QACrB4H,EAAiBzmB,EAAO6e,OAAO,GAE/B3+F,MAAMQ,QAAQs/E,EAAO2f,QACrB8G,EAAiBzmB,EAAO2f,OAAO,GAEnC,IAAIoH,EAAa,SAAU/mB,GACvB,IAAIqmB,EAAsB,IAAIpE,GAC1BqE,EAAqB5C,EAAgB3B,SACzCyB,GAASh7F,EAAMm5F,GAAS3hB,GAASqmB,EAAqBC,GACtD1D,EAAiB74F,MAAMs8F,GACvBzD,EAAiBT,mBAAqBkE,EAAoBlE,kBAC1DS,EAAiBR,wBAA0BiE,EAAoBjE,uBAC/DsB,EAAgB35F,MAAMu8F,EAC1B,EAgBIU,EAAWrF,GAAS3hB,EAAOyf,IAC3BuH,GAhBgB,SAAUA,EAAUC,EAAYC,GAChD,IAAIhC,EAAYvD,GAASqF,GACrBX,EAAsB,IAAIpE,GAC1BqE,EAAqB5C,EAAgB3B,SACzCyB,GAASh7F,EAAM08F,EAAWmB,EAAqBC,GAC/C5C,EAAgB35F,MAAMu8F,GACjBD,EAAoB7D,cAKhB0E,GACLH,EAAWG,GALPD,GACAF,EAAWE,EAMvB,CAGIE,CAAcH,EAAUrF,GAAS3hB,EAAOlnF,MAAO6oG,GAAS3hB,EAAO0f,OAEnE,GAAIx/F,MAAMQ,QAAQs/E,EAAO+d,MAAO,CAG5B,IAFA,IAAIjiG,EAAM8wE,GAAapkE,GACnB85F,GAAiB,EACZ3/F,EAAK,EAAGd,EAAKm+E,EAAO+d,KAAMp7F,EAAKd,EAAGvR,OAAQqS,IAAM,CAErD,GAAI4I,GAAOzP,EADH+F,EAAGc,IACS,CAChB2/F,GAAiB,EACjB,KACJ,CACJ,CACAM,EAAiBL,WAAaviB,EAAO+d,KACrC6E,EAAiBN,eAAiBA,EAC7BA,GACDM,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CN,KAAMitG,GAAU6F,kBAChBp/F,QAASs8E,EAAO+gB,cAAgB3uF,GAAS,cAAe,4CAA6C4tE,EAAO+d,KAAKn5F,KAAI,SAAUotB,GAAK,OAAOpiC,KAAKC,UAAUmiC,EAAK,IAAE1gC,KAAK,QAGlL,CACA,GAAI6uG,GAAUngB,EAAOsf,OAAQ,CAEpB/zF,GADDzP,EAAM8wE,GAAapkE,GACNw3E,EAAOsf,OASpBsD,EAAiBN,gBAAiB,GARlCM,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CN,KAAMitG,GAAU6F,kBAChBp/F,QAASs8E,EAAO+gB,cAAgB3uF,GAAS,eAAgB,qBAAsBxiB,KAAKC,UAAUmwF,EAAOsf,UAEzGsD,EAAiBN,gBAAiB,GAKtCM,EAAiBL,WAAa,CAACviB,EAAOsf,MAC1C,CACItf,EAAOonB,oBAAsB5+F,EAAK9B,QAClCk8F,EAAiBV,SAASvnG,KAAK,CAC3BoX,SAAU,CAAEkE,OAAQzN,EAAK9B,OAAOuP,OAAQ3lB,OAAQkY,EAAK9B,OAAOpW,QAC5DkgF,SAAUxC,GAAmBkC,QAC7BxsE,QAASs8E,EAAOonB,mBAChBp3G,KAAMitG,GAAU3sB,YAG5B,CA7KA+2B,GACA3D,EAAgB77F,IAAI,CAAEW,KAAAA,EAAYw3E,OAAAA,GAnBlC,CAklBJ,CCx5BO,SAASsnB,GAAYC,EAAMv5C,GAC9B,GAAoB,kBAATu5C,EACP,MAAM,IAAI53G,UAAU,qBAyBxB,IAvBA,IAsBIivB,EAtBA5I,EAAM9W,OAAOqoG,GAEbC,EAAQ,GAIRC,IAAWz5C,KAASA,EAAKy5C,SAUzBC,IAAW15C,KAASA,EAAK05C,SAGzBC,GAAU,EAEVphD,EAAQyH,GAAgC,kBAAhBA,EAAKzH,MAAsByH,EAAKzH,MAAQ,GAE3Dl2D,EAAI,EAAG2P,EAAMgW,EAAI1lB,OAAQD,EAAI2P,EAAK3P,IAEvC,OADAuuB,EAAI5I,EAAI3lB,IAEJ,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACDm3G,GAAS,KAAO5oF,EAChB,MACJ,IAAK,IACD,GAAI6oF,EAAU,CACVD,GAAS,IACT,KACJ,CACJ,IAAK,IACL,IAAK,IACD,GAAIC,EAAU,CACVD,GAAS5oF,EACT,KACJ,CACJ,IAAK,IACD,GAAI6oF,EAAU,CACVE,GAAU,EACVH,GAAS,IACT,KACJ,CACJ,IAAK,IACD,GAAIC,EAAU,CACVE,GAAU,EACVH,GAAS,IACT,KACJ,CACJ,IAAK,IACD,GAAIG,EAAS,CACTH,GAAS,IACT,KACJ,CACAA,GAAS,KAAO5oF,EAChB,MACJ,IAAK,IAKD,IAFA,IAAIgpF,EAAW5xF,EAAI3lB,EAAI,GACnBw3G,EAAY,EACM,MAAf7xF,EAAI3lB,EAAI,IACXw3G,IACAx3G,IAEJ,IAAIy3G,EAAW9xF,EAAI3lB,EAAI,GACvB,GAAKq3G,EAMgBG,EAAY,IACR,MAAbD,QAAiC,IAAbA,GAAuC,MAAbA,GAAiC,MAAbA,KACrD,MAAbE,QAAiC,IAAbA,GAAuC,MAAbA,GAAiC,MAAbA,IAErD,MAAbA,EACAz3G,IAEkB,MAAbu3G,GAAoBJ,EAAM7lB,SAAS,SACxC6lB,EAAQA,EAAM75E,OAAO,EAAG65E,EAAMl3G,OAAS,IAG3Ck3G,GAAS,uBAITA,GAAS,eAnBbA,GAAS,KAsBb,MACJ,QACIA,GAAS5oF,EAQrB,OAHK2nC,IAAWA,EAAMxjD,QAAQ,OAC1BykG,EAAQ,IAAMA,EAAQ,KAEnB,IAAIpyE,OAAOoyE,EAAOjhD,EAC7B,CChHA,IAAIn0C,GAAequF,KAGfsH,GAAwC,WACxC,SAASA,EAAuBpJ,EAASqJ,GACrCjzG,KAAKkzG,aAAe,GACpB,IACI,QAAS5lG,EAAK,EAAG6lG,EAAYvJ,EAASt8F,EAAK6lG,EAAU53G,OAAQ+R,IAAM,CAC/D,IAAI8lG,EAAgBD,EAAU7lG,GAC1By/F,EART,MAQmBqG,EAAc,GACvBrG,IACDqG,EAAgBA,EAAc77E,UAAU,IAExC67E,EAAc73G,OAAS,IAX5B,MAYS63G,EAAc,KACdA,EAAgBA,EAAc77E,UAAU,IAE5Cv3B,KAAKkzG,aAAattG,KAAK,CACnBmwB,OAAQw8E,GAAY,MAAQa,EAAe,CAAEV,UAAU,EAAMC,UAAU,IACvE5F,QAAAA,IAGZ,CAEA/sG,KAAKizG,KAAOA,CAChB,OACO/yG,IACHF,KAAKkzG,aAAa33G,OAAS,EAC3ByE,KAAKizG,KAAO,EAChB,CACJ,CAcA,OAbAD,EAAuB1yG,UAAU+yG,eAAiB,SAAUC,GAExD,IADA,IAAIn2F,GAAQ,EACH7P,EAAK,EAAGmN,EAAKza,KAAKkzG,aAAc5lG,EAAKmN,EAAGlf,OAAQ+R,IAAM,CAC3D,IAAIyN,EAAKN,EAAGnN,GAAKyoB,EAAShb,EAAGgb,OAAQg3E,EAAUhyF,EAAGgyF,QAC9Ch3E,EAAOtqB,KAAK6nG,KACZn2F,EAAQ4vF,EAEhB,CACA,OAAO5vF,CACX,EACA61F,EAAuB1yG,UAAUizG,QAAU,WACvC,OAAOvzG,KAAKizG,IAChB,EACOD,CACX,CA1C4C,GA2CxCQ,GAA8B,WAC9B,SAASA,EAAaC,EAASlwE,EAAKmwE,GAChC1zG,KAAKyzG,QAAUA,EACfzzG,KAAKujC,IAAMA,EACXvjC,KAAKsqG,aAAe,CAAC,EACjBoJ,IACA1zG,KAAK2zG,iBAAmB3zG,KAAKyzG,QAAQG,QAAQ/3G,QAAQ,IAAIg4G,GAAiBH,IAElF,CAqBA,OApBAF,EAAalzG,UAAUwzG,oBAAsB,WAIzC,OAHK9zG,KAAK2zG,mBACN3zG,KAAK2zG,iBAAmB3zG,KAAKyzG,QAAQM,WAAW/zG,KAAKujC,MAElDvjC,KAAK2zG,gBAChB,EACAH,EAAalzG,UAAU0zG,kBAAoB,WACvC,IAAItkG,EAAQ1P,KAMZ,OALKA,KAAKi0G,iBACNj0G,KAAKi0G,eAAiBj0G,KAAK8zG,sBAAsB/vG,MAAK,SAAUmwG,GAC5D,OAAOxkG,EAAM+jG,QAAQU,qBAAqBD,EAAYxkG,EAAM6zB,IAAK7zB,EAAM46F,aAC1E,KAEEtqG,KAAKi0G,cAChB,EACAT,EAAalzG,UAAU8zG,YAAc,WACjCp0G,KAAKi0G,oBAAiB,EACtBj0G,KAAK2zG,sBAAmB,EACxB3zG,KAAKsqG,aAAe,CAAC,CACzB,EACOkJ,CACX,CA9BkC,GA+B9BK,GACA,SAA0B5oB,EAAQn5E,QACf,IAAXA,IAAqBA,EAAS,IAClC9R,KAAKirF,OAASA,EACdjrF,KAAK8R,OAASA,CAClB,EAIAuiG,GAAgC,WAChC,SAASA,EAAeppB,EAAQn5E,QACb,IAAXA,IAAqBA,EAAS,IAClC9R,KAAKirF,OAASA,EACdjrF,KAAK8R,OAASA,CAClB,CAyCA,OAxCAuiG,EAAe/zG,UAAUg0G,WAAa,SAAU35G,GAC5C,IAAI45G,EAAYv0G,KAAKw0G,oBAAoB75G,EAAMqF,KAAKirF,QACpD,GAAIspB,EACA,OAAc3H,GAAS2H,EAG/B,EACAF,EAAe/zG,UAAUk0G,oBAAsB,SAAU75G,EAAMswF,GAC3D,IAAKA,GAA4B,mBAAXA,GAAwC,IAAhBtwF,EAAKY,OAC/C,OAAO0vF,EAEX,IAAI/lF,EAAOvK,EAAKioE,QAChB,GAAIqoB,EAAOke,aAAqBle,EAAOke,WAAWjkG,GAAzB,GACrB,OAAOlF,KAAKw0G,oBAAoB75G,EAAMswF,EAAOke,WAAWjkG,IAC5D,GACS+lF,EAAOmf,kBACZ,QAAS98F,EAAK,EAAGmN,EAAK/a,OAAOoH,KAAKmkF,EAAOmf,mBAAoB98F,EAAKmN,EAAGlf,OAAQ+R,IAAM,CAC/E,IAAIs8F,EAAUnvF,EAAGnN,GAEjB,GADoB09F,GAAepB,GACzBn+F,KAAKvG,GACX,OAAOlF,KAAKw0G,oBAAoB75G,EAAMswF,EAAOmf,kBAAkBR,GAEvE,KACJ,IACgD,kBAAhC3e,EAAOkf,qBACnB,OAAOnqG,KAAKw0G,oBAAoB75G,EAAMswF,EAAOkf,sBACjD,GACSjlG,EAAKiY,MAAM,UAChB,GAAIhS,MAAMQ,QAAQs/E,EAAOl6B,OAAQ,CAC7B,IAAI1gD,EAAQkmF,SAASrxF,EAAM,IAC3B,IAAKgB,MAAMmK,IAAU46E,EAAOl6B,MAAM1gD,GAC9B,OAAOrQ,KAAKw0G,oBAAoB75G,EAAMswF,EAAOl6B,MAAM1gD,GAE3D,SACS46E,EAAOl6B,MACZ,OAAO/wD,KAAKw0G,oBAAoB75G,EAAMswF,EAAOl6B,MAErD,CAEJ,EACOsjD,CACX,CA/CoC,GAiDhCI,GAAmC,WACnC,SAASA,EAAkBC,EAAgBC,EAAgBC,GACvD50G,KAAK20G,eAAiBA,EACtB30G,KAAK00G,eAAiBA,EACtB10G,KAAK40G,mBAAqBA,GAAsBhuG,QAChD5G,KAAK60G,cAAgB,GACrB70G,KAAK80G,oBAAsB,CAAC,EAC5B90G,KAAK+0G,yBAA2B,GAChC/0G,KAAKg1G,YAAc,CAAC,EACpBh1G,KAAKi1G,wBAA0B,GAC/Bj1G,KAAKk1G,qBAAuB,CAAC,CACjC,CAyVA,OAxVAT,EAAkBn0G,UAAU60G,uBAAyB,SAAU1qG,GAC3D,OAAO/K,OAAOoH,KAAK9G,KAAKk1G,sBAAsBzqG,QAAO,SAAUmN,GAC3D,IAAI+e,EAASN,GAAAA,MAAUze,GAAI+e,OAC3B,MAAkB,kBAAXA,KAAgClsB,GAAUA,EAAOksB,GAC3D,GACL,EACAj3B,OAAOC,eAAe80G,EAAkBn0G,UAAW,UAAW,CAC1DT,IAAK,WACD,OAAOG,KAAK40G,kBAChB,EACAh1G,YAAY,EACZ6B,cAAc,IAElBgzG,EAAkBn0G,UAAUuR,QAAU,WAClC,KAAO7R,KAAK60G,cAAct5G,OAAS,GAC/ByE,KAAK60G,cAAc3tG,KAAnBlH,EAER,EACAy0G,EAAkBn0G,UAAU80G,iBAAmB,SAAU19E,GACrD,IAAIhoB,EAAQ1P,KAEZA,KAAKq1G,6BAA0B,EAK/B,IAJA,IAAIC,GAAa,EAEbC,EAAS,CADb79E,EAAM89E,GAAY99E,IAEdzd,EAAMva,OAAOoH,KAAK9G,KAAKg1G,aAAanlG,KAAI,SAAUrQ,GAAO,OAAOkQ,EAAMslG,YAAYx1G,EAAO,IACtF+1G,EAAOh6G,QAEV,IADA,IAAIk6G,EAAOF,EAAOruG,MACT5L,EAAI,EAAGA,EAAI2e,EAAI1e,OAAQD,IAAK,CACjC,IAAIoM,EAASuS,EAAI3e,GACboM,IAAWA,EAAO67B,MAAQkyE,GAAQ/tG,EAAO4iG,aAAamL,MAClD/tG,EAAO67B,MAAQkyE,GACfF,EAAO3vG,KAAK8B,EAAO67B,KAEvB77B,EAAO0sG,cACPn6F,EAAI3e,QAAK,EACTg6G,GAAa,EAErB,CAEJ,OAAOA,CACX,EACAb,EAAkBn0G,UAAUo1G,uBAAyB,SAAUC,GAC3D,GAAIA,EAAoBxc,QAAS,CAC7B,IAAIA,EAAUwc,EAAoBxc,QAClC,QAASvhF,KAAMuhF,EAAS,CACpB,IAAIyc,EAAeJ,GAAY59F,GAC/B5X,KAAK80G,oBAAoBc,GAAgB51G,KAAK61G,gBAAgBD,EAAczc,EAAQvhF,GACxF,CACJ,CACA,GAAIzM,MAAMQ,QAAQgqG,EAAoBG,oBAElC,IADA,IACSxoG,EAAK,EAAGyoG,EADQJ,EAAoBG,mBACexoG,EAAKyoG,EAAqBx6G,OAAQ+R,IAAM,CAChG,IAAI0oG,EAAoBD,EAAqBzoG,GACzC2lG,EAAO+C,EAAkB/C,KAAKpjG,IAAI2lG,IAClCS,EAAcj2G,KAAKk2G,0BAA0BF,EAAkBpM,QAASqJ,GAC5EjzG,KAAK+0G,yBAAyBnvG,KAAKqwG,EACvC,CAER,EACAxB,EAAkBn0G,UAAUu1G,gBAAkB,SAAUj+F,EAAI87F,GACxD,IAAIyC,EAAe,IAAI3C,GAAaxzG,KAAM4X,EAAI87F,GAE9C,OADA1zG,KAAKg1G,YAAYp9F,GAAMu+F,EAChBA,CACX,EACA1B,EAAkBn0G,UAAU81G,qBAAuB,SAAUx+F,EAAI87F,GAC7D,OAAO1zG,KAAKg1G,YAAYp9F,IAAO5X,KAAK61G,gBAAgBj+F,EAAI87F,EAC5D,EACAe,EAAkBn0G,UAAU41G,0BAA4B,SAAUtM,EAASqJ,GACvE,IAAIoD,EAAM,IAAIrD,GAAuBpJ,EAASqJ,GAE9C,OADAjzG,KAAKi1G,wBAAwBrvG,KAAKywG,GAC3BA,CACX,EACA5B,EAAkBn0G,UAAUg2G,uBAAyB,SAAU5+E,EAAK6+E,EAAc7C,GAC9E,IAAI97F,EAAK49F,GAAY99E,GAMrB,OALA13B,KAAKk1G,qBAAqBt9F,IAAM,EAChC5X,KAAKq1G,6BAA0B,EAC3BkB,GACAv2G,KAAKk2G,0BAA0BK,EAAc,CAAC7+E,IAE3Cg8E,EAA0B1zG,KAAK61G,gBAAgBj+F,EAAI87F,GAA2B1zG,KAAKo2G,qBAAqBx+F,EACnH,EACA68F,EAAkBn0G,UAAUk2G,qBAAuB,WAK/C,QAAS5+F,KAJT5X,KAAKg1G,YAAc,CAAC,EACpBh1G,KAAKi1G,wBAA0B,GAC/Bj1G,KAAKk1G,qBAAuB,CAAC,EAC7Bl1G,KAAKq1G,6BAA0B,EAChBr1G,KAAK80G,oBAChB90G,KAAKg1G,YAAYp9F,GAAM5X,KAAK80G,oBAAoBl9F,GAChD5X,KAAKk1G,qBAAqBt9F,IAAM,EAEpC,QAAStK,EAAK,EAAGmN,EAAKza,KAAK+0G,yBAA0BznG,EAAKmN,EAAGlf,OAAQ+R,IAAM,CACvE,IAAImpG,EAA0Bh8F,EAAGnN,GACjCtN,KAAKi1G,wBAAwBrvG,KAAK6wG,EACtC,CACJ,EACAhC,EAAkBn0G,UAAU0zG,kBAAoB,SAAU0C,GACtD,IAAI9+F,EAAK49F,GAAYkB,GACjBP,EAAen2G,KAAKg1G,YAAYp9F,GACpC,OAAIu+F,EACOA,EAAanC,oBAEjBh0G,KAAK4zG,QAAQ/3G,aAAQ,EAChC,EACA44G,EAAkBn0G,UAAUyzG,WAAa,SAAUxwE,GAC/C,IAAKvjC,KAAK00G,eAAgB,CACtB,IAAI1I,EAAe3uF,GAAS,+BAAgC,wEAA2Es5F,GAAgBpzE,IACvJ,OAAOvjC,KAAK4zG,QAAQ/3G,QAAQ,IAAIg4G,GAAiB,CAAC,EAAG,CAAC7H,IAC1D,CACA,OAAOhsG,KAAK00G,eAAenxE,GAAKx/B,MAAK,SAAUgoE,GAC3C,IAAKA,EAAS,CACV,IAAIigC,EAAe3uF,GAAS,wBAAyB,gDAAmDs5F,GAAgBpzE,IACxH,OAAO,IAAIswE,GAAiB,CAAC,EAAG,CAAC7H,GACrC,CACA,IAAI4K,EACAC,EAAa,GACjBD,EAAqBE,GAAM/qC,EAAS8qC,GACpC,IAAI/kG,EAAS+kG,EAAWt7G,OAAS,CAAC8hB,GAAS,4BAA6B,iEAAoEs5F,GAAgBpzE,GAAMszE,EAAW,GAAG31F,SAAW,GAC3L,OAAO,IAAI2yF,GAAiB+C,EAAe9kG,EAC/C,IAAG,SAAU7N,GACT,IAAI+nG,EAAe/nG,EAAMuH,WACrBurG,EAAa9yG,EAAMuH,WAAW0L,MAAM,WAQxC,OAPI6/F,EAAWx7G,OAAS,IAEpBywG,EAAe+K,EAAW,IAElBnqB,GAASof,EAAc,OAC/BA,EAAeA,EAAapzE,OAAO,EAAGozE,EAAazwG,OAAS,IAEzD,IAAIs4G,GAAiB,CAAC,EAAG,CAACx2F,GAAS,wBAAyB,yCAA4Cs5F,GAAgBpzE,GAAMyoE,IACxI,GACL,EACAyI,EAAkBn0G,UAAU6zG,qBAAuB,SAAU6C,EAAiBC,EAAW3M,GACrF,IAAI56F,EAAQ1P,KACRk3G,EAAgBF,EAAgBllG,OAAOnW,MAAM,GAC7CsvF,EAAS+rB,EAAgB/rB,OAC7B,GAAIA,EAAOod,QAAS,CAChB,IAAIzwF,EAAK49F,GAAYvqB,EAAOod,SAC5B,GAAW,2CAAPzwF,EACA,OAAO5X,KAAK4zG,QAAQ/3G,QAAQ,IAAIw4G,GAAe,CAAC,EAAG,CAACh3F,GAAS,mCAAoC,0CAErF,iDAAPzF,GACLs/F,EAActxG,KAAKyX,GAAS,uCAAwC,sDAE5E,CACA,IAAIs3F,EAAiB30G,KAAK20G,eAgBtB3/F,EAAQ,SAAUnM,EAAQsuG,EAAYC,EAAWC,GACjD,IAAI18G,EAAO08G,EAAaj+E,mBAAmBi+E,QAAc,EACrDC,EAjBU,SAAUrsB,EAAQtwF,GAChC,IAAKA,EACD,OAAOswF,EAEX,IAAIzvE,EAAUyvE,EASd,MARgB,MAAZtwF,EAAK,KACLA,EAAOA,EAAKi+B,OAAO,IAEvBj+B,EAAKuc,MAAM,KAAKvG,MAAK,SAAU4mG,GAG3B,OAFAA,EAAOA,EAAKr6F,QAAQ,MAAO,KAAKA,QAAQ,MAAO,OAC/C1B,EAAUA,EAAQ+7F,GAErB,IACM/7F,CACX,CAGkBg8F,CAAYL,EAAYx8G,GACtC,GAAI28G,EACA,QAAS93G,KAAO83G,EACRA,EAAQ/2G,eAAef,KAASqJ,EAAOtI,eAAef,KACtDqJ,EAAOrJ,GAAO83G,EAAQ93G,SAK9B03G,EAActxG,KAAKyX,GAAS,yBAA0B,2CAAgD1iB,EAAMy8G,GAEpH,EACIK,EAAsB,SAAUhkG,EAAMikB,EAAK2/E,EAAYK,EAAiBC,GACpEhD,IAAmB,oCAAoClpG,KAAKisB,KAC5DA,EAAMi9E,EAAeiD,oBAAoBlgF,EAAKggF,IAElDhgF,EAAM89E,GAAY99E,GAClB,IAAImgF,EAAmBnoG,EAAM0mG,qBAAqB1+E,GAClD,OAAOmgF,EAAiB/D,sBAAsB/vG,MAAK,SAAU4vG,GAEzD,GADAgE,EAAyBjgF,IAAO,EAC5Bi8E,EAAiB7hG,OAAOvW,OAAQ,CAChC,IAAIoM,EAAM0vG,EAAa3/E,EAAM,IAAM2/E,EAAa3/E,EAChDw/E,EAActxG,KAAKyX,GAAS,gCAAiC,wCAA2C1V,EAAKgsG,EAAiB7hG,OAAO,IACzI,CAEA,OADAkD,EAAMvB,EAAMkgG,EAAiB1oB,OAAQvzD,EAAK2/E,GACnCS,EAAYrkG,EAAMkgG,EAAiB1oB,OAAQvzD,EAAKmgF,EAAiBvN,aAC3E,GACL,EACIwN,EAAc,SAAUrkG,EAAMskG,EAAcL,EAAiBC,GAC7D,IAAKlkG,GAAwB,kBAATA,EAChB,OAAO7M,QAAQ/K,QAAQ,MAyE3B,IAvEA,IAAI05G,EAAS,CAAC9hG,GACVi7D,EAAO,GACPspC,EAAe,GAgDfC,EAAY,SAAU/yG,GAEtB,IADA,IAAIgzG,EAAW,GACRhzG,EAAKwjG,MAAM,CACd,IAAIpd,EAAMpmF,EAAKwjG,KACXyP,EAAW7sB,EAAIp0E,MAAM,IAAK,GAE9B,UADOhS,EAAKwjG,KACRyP,EAAS,GAAG58G,OAAS,EAErB,YADAy8G,EAAapyG,KAAK6xG,EAAoBvyG,EAAMizG,EAAS,GAAIA,EAAS,GAAIT,EAAiBC,KAIxD,IAA3BO,EAASlqG,QAAQs9E,KACjBt2E,EAAM9P,EAAM6yG,EAAcL,EAAiBS,EAAS,IACpDD,EAAStyG,KAAK0lF,GAG1B,EA/DiB,WAEjB,IADA,IAAIhD,EAAU,GACLh7E,EAAK,EAAGA,EAAKrR,UAAUV,OAAQ+R,IACpCg7E,EAAQh7E,GAAMrR,UAAUqR,GAE5B,QAASmN,EAAK,EAAG29F,EAAY9vB,EAAS7tE,EAAK29F,EAAU78G,OAAQkf,IAAM,CAC/D,IAAInV,EAAQ8yG,EAAU39F,GACD,kBAAVnV,GACPiwG,EAAO3vG,KAAKN,EAEpB,CACJ,CAqDI+yG,CAAenzG,EAAK6rD,MAAO7rD,EAAK2kG,gBAAiB3kG,EAAKilG,qBAAsBjlG,EAAK2lG,IAAK3lG,EAAKyyE,SAAUzyE,EAAKmlG,cAAenlG,EAAKwlG,GAAIxlG,EAAKnB,KAAMmB,EAAKylG,MApD9H,WAEpB,IADA,IAAI2N,EAAO,GACFhrG,EAAK,EAAGA,EAAKrR,UAAUV,OAAQ+R,IACpCgrG,EAAKhrG,GAAMrR,UAAUqR,GAEzB,QAASmN,EAAK,EAAG89F,EAASD,EAAM79F,EAAK89F,EAAOh9G,OAAQkf,IAAM,CACtD,IAAI5K,EAAM0oG,EAAO99F,GACjB,GAAmB,kBAAR5K,EACP,QAAS6S,KAAK7S,EAAK,CACf,IACIvK,EAAQuK,EADF6S,GAEW,kBAAVpd,GACPiwG,EAAO3vG,KAAKN,EAEpB,CAER,CACJ,CAoCIkzG,CAAkBtzG,EAAKqjG,YAAarjG,EAAKikG,WAAYjkG,EAAKklG,kBAAmBllG,EAAKolG,cAnC5D,WAEtB,IADA,IAAImO,EAAS,GACJnrG,EAAK,EAAGA,EAAKrR,UAAUV,OAAQ+R,IACpCmrG,EAAOnrG,GAAMrR,UAAUqR,GAE3B,QAASmN,EAAK,EAAGi+F,EAAWD,EAAQh+F,EAAKi+F,EAASn9G,OAAQkf,IAAM,CAC5D,IAAIg1B,EAAQipE,EAASj+F,GACrB,GAAItP,MAAMQ,QAAQ8jC,GACd,QAAS10B,EAAK,EAAG49F,EAAUlpE,EAAO10B,EAAK49F,EAAQp9G,OAAQwf,IAAM,CACzD,IAAIzV,EAAQqzG,EAAQ59F,GACC,kBAAVzV,GACPiwG,EAAO3vG,KAAKN,EAEpB,CAER,CACJ,CAoBIszG,CAAoB1zG,EAAK4kG,MAAO5kG,EAAK4jG,MAAO5jG,EAAK0lG,MAAO1lG,EAAK6rD,MACjE,EACOwkD,EAAOh6G,QAAQ,CAClB,IAAI2J,EAAOqwG,EAAOruG,MACdwnE,EAAK1gE,QAAQ9I,IAAS,IAG1BwpE,EAAK9oE,KAAKV,GACV+yG,EAAU/yG,GACd,CACA,OAAOwK,EAAMkkG,QAAQ35F,IAAI+9F,EAC7B,EACA,OAAOF,EAAY7sB,EAAQA,EAAQgsB,EAAW3M,GAAcvmG,MAAK,SAAUwuF,GAAK,OAAO,IAAI8hB,GAAeppB,EAAQisB,EAAiB,GACvI,EACAzC,EAAkBn0G,UAAUu4G,qBAAuB,SAAUC,EAAU/7F,GAEnE,GAAIA,GAAYA,EAASxe,MAA+B,WAAvBwe,EAASxe,KAAKmE,KAAmB,CAC9D,IAAIq2G,EAAmBh8F,EAASxe,KAAK4qG,WAAW1+F,QAAO,SAAUvB,GAAK,MAA4B,YAApBA,EAAE40F,QAAQl9F,OAAwBsI,EAAE4uE,WAAkC,WAArB5uE,EAAE4uE,UAAUp1E,IAAoB,IAC/J,GAAIq2G,EAAiBx9G,OAAS,EAAG,CAC7B,IAAIu8E,EAAYihC,EAAiB,GAAGjhC,UACpC,GAAIA,GAAgC,WAAnBA,EAAUp1E,KAAmB,CAC1C,IAAIs2G,EAAkBnhC,GAAaC,GAInC,GAHIkhC,GAAoBz2F,GAAWy2F,EAAU,MAAQh5G,KAAK20G,iBACtDqE,EAAWh5G,KAAK20G,eAAeiD,oBAAoBoB,EAAUF,IAE7DE,EAAU,CACV,IAAIphG,EAAK49F,GAAYwD,GACrB,OAAOh5G,KAAKo2G,qBAAqBx+F,GAAIo8F,mBACzC,CACJ,CACJ,CACJ,CACA,GAAIh0G,KAAKq1G,yBAA2Br1G,KAAKq1G,wBAAwByD,WAAaA,EAC1E,OAAO94G,KAAKq1G,wBAAwBpB,eAKxC,IAHA,IAAIvlC,EAAOhvE,OAAO0C,OAAO,MACrB+2F,EAAU,GACV8f,EAwDZ,SAAsCH,GAElC,IACI,OAAOziF,GAAAA,MAAUyiF,GAAU3hF,KAAK,CAAEV,SAAU,KAAMD,MAAO,OAAQhrB,UACrE,OACOtL,IACH,OAAO44G,CACX,CACJ,CAhEiCI,CAA6BJ,GAC7CxrG,EAAK,EAAGmN,EAAKza,KAAKi1G,wBAAyB3nG,EAAKmN,EAAGlf,OAAQ+R,IAAM,CACtE,IAAIhI,EAAQmV,EAAGnN,GACf,GAAIhI,EAAM+tG,eAAe4F,GACrB,QAASl+F,EAAK,EAAGC,EAAK1V,EAAMiuG,UAAWx4F,EAAKC,EAAGzf,OAAQwf,IAAM,CACzD,IAAI27F,EAAW17F,EAAGD,GACb2zD,EAAKgoC,KACNvd,EAAQvzF,KAAK8wG,GACbhoC,EAAKgoC,IAAY,EAEzB,CAER,CACA,IAAIzC,EAAiB9a,EAAQ59F,OAAS,EAAIyE,KAAKm5G,qBAAqBL,EAAU3f,GAAS6a,oBAAsBh0G,KAAK4zG,QAAQ/3G,aAAQ,GAElI,OADAmE,KAAKq1G,wBAA0B,CAAEyD,SAAAA,EAAoB7E,eAAAA,GAC9CA,CACX,EACAQ,EAAkBn0G,UAAU64G,qBAAuB,SAAUL,EAAUM,GACnE,GAAyB,IAArBA,EAAU79G,OACV,OAAOyE,KAAKo2G,qBAAqBgD,EAAU,IAG3C,IAAIC,EAAmB,kCAAoC1gF,mBAAmBmgF,GAC1EQ,EAAiB,CACjBxQ,MAAOsQ,EAAUvpG,KAAI,SAAU6mG,GAAY,MAAQ,CAAEhO,KAAMgO,EAAc,KAE7E,OAAO12G,KAAK61G,gBAAgBwD,EAAkBC,EAEtD,EACA7E,EAAkBn0G,UAAUouG,mBAAqB,SAAU3xF,EAAUw8F,EAActuB,GAC/E,GAAIA,EAAQ,CACR,IAAIrzE,EAAKqzE,EAAOrzE,IAAO,4CAA8C4hG,KACrE,OAAOx5G,KAAKm0G,qBAAqB,IAAIN,GAAiB5oB,GAASrzE,EAAI,CAAC,GAAG7T,MAAK,SAAUkwG,GAClF,OAAOsF,EAAa7K,mBAAmBuF,EAAehpB,QAAQxgF,QAAO,SAAUoC,GAAK,OAAQA,EAAE4kG,QAAW,GAC5G,GACL,CACA,OAAOzxG,KAAK64G,qBAAqB97F,EAAS2a,IAAK6hF,GAAcx1G,MAAK,SAAUknF,GACxE,OAAIA,EACOsuB,EAAa7K,mBAAmBzjB,EAAOA,QAAQxgF,QAAO,SAAUoC,GAAK,OAAQA,EAAE4kG,QAAW,IAE9F,EACV,GACL,EACOgD,CACX,CArWuC,GAuWnC+E,GAAY,EAChB,SAAShE,GAAY59F,GAEjB,IACI,OAAOye,GAAAA,MAAUze,GAAIpM,UACzB,OACOtL,IACH,OAAO0X,CACX,CACJ,CAUA,SAAS++F,GAAgBpzE,GACrB,IACI,IAAI7L,EAAMrB,GAAAA,MAAUkN,GACpB,GAAmB,SAAf7L,EAAIf,OACJ,OAAOe,EAAIR,MAEnB,OACOh3B,IAEP,CACA,OAAOqjC,CACX,CCjdM,SAAUk2E,GAAwB7P,GAEtC,IACE,OAAO,IAAIvpE,OAAOupE,EAAS,KAD7B,MAES8P,GACP,OAAO,IAAIr5E,OAAOupE,GAEtB,CAEM,SAAU+P,GAA0C14F,EAAaC,GAErE,QAAS5lB,IADT4lB,EACqB5lB,EAAI2lB,EAAI1lB,OAAQD,IAAK,CACxC,IAAMysB,EAAO9G,EAAI5Z,OAAO/L,GACxB,GAAa,MAATysB,GAAyB,OAATA,EAGlB,OAAO7G,EAFPA,IAKJ,OAAOA,CACT,CClFM,SAAU1K,GAAO0jE,EAAUpgD,GAC/B,GAAIogD,IAAQpgD,EACV,OAAO,EAET,GAAY,OAARogD,QAAwB,IAARA,GAA+B,OAAVpgD,QAA4B,IAAVA,EACzD,OAAO,EAET,UAAWogD,WAAepgD,EACxB,OAAO,EAET,GAAmB,kBAARogD,EACT,OAAO,EAET,GAAI/uE,MAAMQ,QAAQuuE,KAAS/uE,MAAMQ,QAAQmuB,GACvC,OAAO,EAGT,IAAIx+B,EAAWkE,EAEf,GAAI2L,MAAMQ,QAAQuuE,GAAM,CACtB,GAAIA,EAAI3+E,SAAWu+B,EAAMv+B,OACvB,OAAO,EAET,IAAKD,EAAI,EAAGA,EAAI4+E,EAAI3+E,OAAQD,IAC1B,IAAKkb,GAAO0jE,EAAI5+E,GAAIw+B,EAAMx+B,IACxB,OAAO,MAGN,CACL,IAAM2vG,EAAoB,GAE1B,IAAKzrG,KAAO06E,EACV+wB,EAAQrlG,KAAKpG,GAEfyrG,EAAQl9B,OACR,IAAMm9B,EAAsB,GAC5B,IAAK1rG,KAAOs6B,EACVoxE,EAAUtlG,KAAKpG,GAGjB,GADA0rG,EAAUn9B,QACLv3D,GAAOy0F,EAASC,GACnB,OAAO,EAET,IAAK5vG,EAAI,EAAGA,EAAI2vG,EAAQ1vG,OAAQD,IAC9B,IAAKkb,GAAO0jE,EAAI+wB,EAAQ3vG,IAAKw+B,EAAMmxE,EAAQ3vG,KACzC,OAAO,EAIb,OAAO,CACT,CAEM,SAAU6vG,GAASpkG,GACvB,MAAsB,kBAARA,CAChB,CAGM,SAAUqkG,GAAUrkG,GACxB,MAAsB,qBAARA,CAChB,CAEM,SAAUskG,GAAUtkG,GACxB,MAAsB,mBAARA,CAChB,CAEM,SAAUqiC,GAASriC,GACvB,MAAsB,kBAARA,CAChB,CAOM,SAAU6yG,GAAW7yG,GACzB,OAAOrG,OAAOI,YAAYpB,OAAOqH,EACnC,CAMM,SAAU8yG,GAA2Bl4G,GAzF3C,IAAA8Y,EA0FE,OAAK9Y,EAEDA,aAAe0C,OACV,OAAAoW,EAAA9Y,EAAI6M,OAAJiM,EAGF9Y,EAAI6J,WANM,MAOnB,CC7FM,SAAUsuG,GAAkB7uB,GAChC,OAAIA,EAAOr+B,MACFq+B,EAAOr+B,MAEZq+B,EAAOqd,IACFyR,GAAsB9uB,EAAOqd,KAElCrd,EAAOyd,MAAQzd,EAAO+uB,MACjBD,GAAsB9uB,EAAOyd,MAAQzd,EAAO+uB,OAE9C/uB,EAAOgvB,eAAiB9uG,MAAMQ,QAAQs/E,EAAOvoF,MAAQuoF,EAAOvoF,KAAKnG,KAAK,OAAS0uF,EAAOvoF,KAC/F,CAeM,SAAUq3G,GAAsBrR,GACpC,IAAMvrF,EAAQurF,EAAKvrF,MAAM,uCACrBza,IAASya,GAASA,EAAM,GAK5B,OAJKza,IACHA,EAAO,eACPkQ,QAAQ3O,MAAR,gBAAuBykG,EAAvB,2BAEKhmG,CACT,CAEM,SAAUw3G,GAAejvB,EAAoB1nD,GACjD,IAAM7L,EAAMrB,GAAAA,MAAUkN,GAClB42E,EAAgBx/G,GAAAA,SAAS+8B,EAAIR,QAIjC,OAHUv8B,GAAAA,QAAQ+8B,EAAIR,UACpBijF,GAAY,SAEVz6G,OAAOsJ,yBAAyBiiF,EAAQ,QACnCvrF,OAAOsJ,yBAAyBiiF,EAAQ,QAAQrqF,MAAhD,YAA6Du5G,EAA7D,KACElvB,EAAOr+B,MACTq+B,EAAOlP,YAAckP,EAAOr+B,MAAQ,MAAQq+B,EAAOlP,YAA9B,YAAiDo+B,EAAjD,KAA+DlvB,EAAOr+B,MAAP,YAAoButD,EAApB,KAGtFA,CACT,CAEM,SAAUC,GAAgBnvB,GAC9B,MAAuB,WAAhBA,EAAOvoF,OAAsB23G,GAAsBpvB,EAC5D,CAEM,SAAUovB,GAAsBpvB,GACpC,SAAUA,EAAO6e,OAAS7e,EAAO6d,OAAS7d,EAAO2f,MACnD,CCzDO,SAAS0P,GAAgBl6G,EAAKonD,EAAQ+yD,GACzC,GAAY,OAARn6G,GAA+B,kBAARA,EAAkB,CACzC,IAAIo6G,EAAYhzD,EAAS,KACzB,GAAIr8C,MAAMQ,QAAQvL,GAAM,CACpB,GAAmB,IAAfA,EAAI7E,OACJ,MAAO,KAGX,IADA,IAAIsI,EAAS,MACJvI,EAAI,EAAGA,EAAI8E,EAAI7E,OAAQD,IAC5BuI,GAAU22G,EAAYF,GAAgBl6G,EAAI9E,GAAIk/G,EAAWD,GACrDj/G,EAAI8E,EAAI7E,OAAS,IACjBsI,GAAU,KAEdA,GAAU,KAGd,OADAA,GAAU2jD,EAAS,GAEvB,CAEI,IAAI1gD,EAAOpH,OAAOoH,KAAK1G,GACvB,GAAoB,IAAhB0G,EAAKvL,OACL,MAAO,KAGX,IADIsI,EAAS,MACJvI,EAAI,EAAGA,EAAIwL,EAAKvL,OAAQD,IAAK,CAClC,IAAIkE,EAAMsH,EAAKxL,GACfuI,GAAU22G,EAAY3/G,KAAKC,UAAU0E,GAAO,KAAO86G,GAAgBl6G,EAAIZ,GAAMg7G,EAAWD,GACpFj/G,EAAIwL,EAAKvL,OAAS,IAClBsI,GAAU,KAEdA,GAAU,IACd,CAEA,OADAA,GAAU2jD,EAAS,GAG3B,CACA,OAAO+yD,EAAiBn6G,EAC5B,CC9BA,IAAIid,GAAequF,MAGiB,WAChC,SAAS+O,EAAeC,EAAeC,EAAe/F,EAAoBgG,QAChD,IAAlBD,IAA4BA,EAAgB,SACrB,IAAvB/F,IAAiCA,EAAqBhuG,cAC/B,IAAvBg0G,IAAiCA,EAAqB,CAAC,GAC3D56G,KAAK06G,cAAgBA,EACrB16G,KAAK26G,cAAgBA,EACrB36G,KAAK40G,mBAAqBA,EAC1B50G,KAAK46G,mBAAqBA,CAC9B,CACAH,EAAen6G,UAAUu6G,UAAY,SAAUj+E,GAC3C,QAASthC,EAAI0E,KAAK26G,cAAcp/G,OAAS,EAAGD,GAAK,EAAGA,IAAK,CACrD,IAAIw/G,EAAoB96G,KAAK26G,cAAcr/G,GAAGw/G,kBAC9C,GAAIA,EAAmB,CACnB,IAAIC,EAAWD,EAAkBl+E,GACjC,GAAIm+E,EACA,OAAOA,CAEf,CACJ,CACA,OAAO/6G,KAAK40G,mBAAmB/4G,QAAQ+gC,EAC3C,EACA69E,EAAen6G,UAAU06G,WAAa,SAAUj+F,EAAUyd,EAAU+tD,GAChE,IAAI74E,EAAQ1P,KACR6D,EAAS,CACTktD,MAAO,GACPmxB,cAAc,GAEd3iD,EAAOxiB,EAASmuD,UAChBhqD,EAASnE,EAASquD,SAAS5wC,GAC3B/mB,EAAO80E,EAAI+lB,kBAAkBptF,GAAQ,GACzC,GAAIlhB,KAAKi7G,YAAYl+F,EAAUtJ,EAAOA,EAAKyN,OAAS,EAAGA,GACnD,OAAOta,QAAQ/K,QAAQgI,GAE3B,GAAI4P,GAASyN,IAAWzN,EAAKyN,OAASzN,EAAKlY,QAAW2lB,EAAS,EAAG,CAC9D,IAAIoxD,EAAK/yC,EAAKre,EAAS,IACL,WAAdzN,EAAK/Q,MAA4B,MAAP4vE,GAA4B,UAAd7+D,EAAK/Q,MAA2B,MAAP4vE,KAEjE7+D,EAAOA,EAAK9B,OAEpB,CACA,IACIupG,EADAC,EAAcn7G,KAAKo7G,eAAer+F,EAAUmE,GAEhD,IAAIzN,GAAuB,WAAdA,EAAK/Q,MAAmC,WAAd+Q,EAAK/Q,MAAmC,YAAd+Q,EAAK/Q,MAAoC,SAAd+Q,EAAK/Q,KAG5F,CACD,IAAI24G,EAAiBn6F,EAASi6F,EAAY5/G,OACtC8/G,EAAiB,GAAkC,MAA7B97E,EAAK87E,EAAiB,IAC5CA,IAEJH,EAAiB/gF,GAAAA,OAAapd,EAAS8rD,WAAWwyC,GAAiB7gF,EACvE,MARI0gF,EAAiB/gF,GAAAA,OAAapd,EAAS8rD,WAAWp1D,EAAKyN,QAASnE,EAAS8rD,WAAWp1D,EAAKyN,OAASzN,EAAKlY,SAS3G,IACI+/G,EAAW,CAAC,EACZC,EAAY,CACZzoG,IAAK,SAAU0oG,GACX,IAAI5gC,EAAQ4gC,EAAW5gC,MACnB6gC,EAAWH,EAAS1gC,GACxB,GAAK6gC,EAmBIA,EAASn5B,gBACVm5B,EAASn5B,cAAgBk5B,EAAWl5B,eAEnCm5B,EAAS92F,SACV82F,EAAS92F,OAAS62F,EAAW72F,YAvBtB,CAEX,IADAi2D,EAAQA,EAAM19D,QAAQ,QAAS,WACrB3hB,OAAS,GAAI,CACnB,IAAImgH,EAAkB9gC,EAAMhiD,OAAO,EAAG,IAAI0mC,OAAS,MAC9Cg8C,EAASI,KACV9gC,EAAQ8gC,EAEhB,CACIR,QAA4C,IAA1BM,EAAWx7E,aAC7Bw7E,EAAWhpC,SAAW6G,GAASn8D,QAAQg+F,EAAgBM,EAAWx7E,aAKtEw7E,EAAW5gC,MAAQA,EACnB0gC,EAAS1gC,GAAS4gC,EAClB33G,EAAOktD,MAAMnrD,KAAK41G,EACtB,CASJ,EACAG,gBAAiB,WACb93G,EAAOq+E,cAAe,CAC1B,EACAj+E,MAAO,SAAU0K,GACbiE,QAAQ3O,MAAM0K,EAClB,EACAuN,IAAK,SAAUvN,GACXiE,QAAQsJ,IAAIvN,EAChB,EACAitG,qBAAsB,WAClB,OAAO/3G,EAAOktD,MAAMx1D,MACxB,GAEJ,OAAOyE,KAAK06G,cAAc7B,qBAAqB97F,EAAS2a,IAAK6wD,GAAKxkF,MAAK,SAAUknF,GAC7E,IAAI4wB,EAAqB,GACrBC,GAAW,EACXC,EAAa,GACb1kC,OAAkB,EACtB,GAAI5jE,GACkB,WAAdA,EAAK/Q,KAAmB,CACxB,IAAIiP,EAAS8B,EAAK9B,OACdA,GAA0B,aAAhBA,EAAOjP,MAAuBiP,EAAOmsF,UAAYrqF,IAC3DqoG,GAAYnqG,EAAOmmE,UACnBT,EAAkB1lE,EAClBoqG,EAAax8E,EAAK3G,OAAOnlB,EAAKyN,OAAS,EAAGzN,EAAKlY,OAAS,GACpDoW,IACA8B,EAAO9B,EAAOA,QAG1B,CAGJ,GAAI8B,GAAsB,WAAdA,EAAK/Q,KAAmB,CAEhC,GAAI+Q,EAAKyN,SAAWA,EAChB,OAAOrd,EAGM4P,EAAK01F,WACX9lG,SAAQ,SAAU6F,GACpBmuE,GAAmBA,IAAoBnuE,IACxCoyG,EAASpyG,EAAE40F,QAAQl9F,OAAS08E,GAAel7E,OAAO,MAEzD,IACD,IAAI45G,EAAmB,GACnBF,IACAE,EAAmBtsG,EAAMusG,uBAAuBl/F,EAAUA,EAASquD,SAAS8vC,EAAe19G,OAE3FytF,EAEAv7E,EAAMwsG,uBAAuBjxB,EAAQ1C,EAAK90E,EAAMqoG,EAAUE,EAAkBT,GAI5E7rG,EAAMysG,iCAAiC5zB,EAAK90E,EAAMsoG,EAAYR,GAElE,IAAIa,EAAoBxkC,GAAYnkE,GACpC/D,EAAMirG,cAAct3G,SAAQ,SAAUg5G,GAClC,IAAIC,EAAiBD,EAAaE,2BAA2Bx/F,EAAS2a,IAAK0kF,EAAYjB,EAAaW,EAA+B,KAArBE,EAAyBT,GACnIe,GACAT,EAAmBj2G,KAAK02G,EAE/B,KACKrxB,GAAUkwB,EAAY5/G,OAAS,GAAsD,MAAjDgkC,EAAKl4B,OAAO6Z,EAASi6F,EAAY5/G,OAAS,KAChFggH,EAAUzoG,IAAI,CACVk5C,KAAMgB,GAAAA,SACN4tB,MAAOlrE,EAAM8sG,iBAAiBrB,GAC9Bn7E,WAAYtwB,EAAM+sG,yBAAyBtB,OAAa,GAAW,EAAOa,GAC1EU,iBAAkBx/B,GAAiBqE,QAASe,cAAe,KAE/Di5B,EAAUI,kBAElB,CAEA,IAAIgB,EAAQ,CAAC,EAYb,OAXI1xB,EAEAv7E,EAAMktG,oBAAoB3xB,EAAQ1C,EAAK90E,EAAMyN,EAAQnE,EAAUw+F,EAAWoB,GAI1EjtG,EAAMmtG,8BAA8Bt0B,EAAK90E,EAAMyN,EAAQnE,EAAUw+F,GAEjE7rG,EAAMirG,cAAcp/G,OAAS,GAC7BmU,EAAMotG,+BAA+Bv0B,EAAK90E,EAAMyN,EAAQnE,EAAUw+F,EAAWM,GAE1EnsG,EAAMklG,mBAAmB36F,IAAI4hG,GAAoB93G,MAAK,WACzD,GAAyC,IAArCw3G,EAAUK,uBAA8B,CACxC,IAAImB,EAAqB77F,GACrBzN,GAAuB,WAAdA,EAAK/Q,MAAmC,WAAd+Q,EAAK/Q,MAAmC,YAAd+Q,EAAK/Q,MAAoC,SAAd+Q,EAAK/Q,OAC7Fq6G,EAAqBtpG,EAAKyN,OAASzN,EAAKlY,QAE5C,IAAIyhH,EAAiBttG,EAAMusG,uBAAuBl/F,EAAUggG,GAC5DrtG,EAAMutG,0BAA0BN,EAAOK,EAAgBzB,EAC3D,CACA,OAAO13G,CACV,GACJ,GACL,EACA42G,EAAen6G,UAAU47G,uBAAyB,SAAUjxB,EAAQ1C,EAAK90E,EAAMqoG,EAAUkB,EAAgBzB,GACrG,IAAI7rG,EAAQ1P,KACUuoF,EAAImmB,mBAAmBzjB,EAAOA,OAAQx3E,EAAKyN,QACjD7d,SAAQ,SAAUwJ,GAC9B,GAAIA,EAAE4G,OAASA,IAAS5G,EAAE4kG,SAAU,CAChC,IAAIyL,EAAqBrwG,EAAEo+E,OAAOke,WAC9B+T,GACAx9G,OAAOoH,KAAKo2G,GAAoB75G,SAAQ,SAAU7D,GAC9C,IAAIwvG,EAAiBkO,EAAmB19G,GACxC,GAA8B,kBAAnBwvG,IAAgCA,EAAeqD,qBAAuBrD,EAAemO,aAAc,CAC1G,IAAIC,EAAW,CACXpxD,KAAMgB,GAAAA,SACN4tB,MAAOp7E,EACPwgC,WAAYtwB,EAAM+sG,yBAAyBj9G,EAAKwvG,EAAgB8M,EAAUkB,GAC1EN,iBAAkBx/B,GAAiBqE,QACnC87B,WAAY3tG,EAAM4tG,sBAAsB99G,GACxC8iF,cAAe5yE,EAAM6tG,WAAWvO,EAAewO,sBAAwBxO,EAAejzB,aAAe,SAElE,IAAnCizB,EAAeyO,kBACfL,EAASM,SAAW1O,EAAeyO,iBAEnCL,EAASp9E,YAAc4sD,GAASwwB,EAASp9E,WAAY,KAAOg9E,KAC5DI,EAASxhC,QAAU,CACfhvB,MAAO,UACPgvB,QAAS,iCAGjB2/B,EAAUzoG,IAAIsqG,EAClB,CACH,IAEL,IAAIO,EAAwB9wG,EAAEo+E,OAAOof,cACrC,GAAqC,kBAA1BsT,IAAuCA,EAAsBtL,qBAAuBsL,EAAsBR,aAAc,CAC/H,IAAIS,EAA6B,SAAUn/G,EAAMo/G,QACrB,IAApBA,IAA8BA,OAAkB,GACpD,IAAIT,EAAW,CACXpxD,KAAMgB,GAAAA,SACN4tB,MAAOn8E,EACPuhC,WAAYtwB,EAAM+sG,yBAAyBh+G,OAAM,EAAWq9G,EAAUkB,GACtEN,iBAAkBx/B,GAAiBqE,QACnC87B,WAAY3tG,EAAM4tG,sBAAsB7+G,GACxC6jF,cAAeu7B,GAAmBnuG,EAAM6tG,WAAWI,EAAsBH,sBAAwBG,EAAsB5hC,aAAe,SAE5F,IAA1C4hC,EAAsBF,kBACtBL,EAASM,SAAWC,EAAsBF,iBAE1CL,EAASp9E,YAAc4sD,GAASwwB,EAASp9E,WAAY,KAAOg9E,KAC5DI,EAASxhC,QAAU,CACfhvB,MAAO,UACPgvB,QAAS,iCAGjB2/B,EAAUzoG,IAAIsqG,EAClB,EACA,GAAIO,EAAsB3U,KACtB,QAAS1tG,EAAI,EAAGA,EAAIqiH,EAAsB3U,KAAKztG,OAAQD,IAAK,CACxD,IAAIuiH,OAAkB,EAClBF,EAAsBG,0BAA4BxiH,EAAIqiH,EAAsBG,yBAAyBviH,OACrGsiH,EAAkBnuG,EAAM6tG,WAAWI,EAAsBG,yBAAyBxiH,IAE7EqiH,EAAsBI,kBAAoBziH,EAAIqiH,EAAsBI,iBAAiBxiH,SAC1FsiH,EAAkBF,EAAsBI,iBAAiBziH,IAE7DsiH,EAA2BD,EAAsB3U,KAAK1tG,GAAIuiH,EAC9D,CAEAF,EAAsBpT,OACtBqT,EAA2BD,EAAsBpT,MAEzD,CACJ,CACH,GACL,EACAkQ,EAAen6G,UAAU67G,iCAAmC,SAAU5zB,EAAK90E,EAAMsoG,EAAYR,GACzF,IAAI7rG,EAAQ1P,KACRg+G,EAAqC,SAAU59G,GAC/CA,EAAI+oG,WAAW9lG,SAAQ,SAAU6F,GAC7B,IAAI1J,EAAM0J,EAAE40F,QAAQl9F,MACpB26G,EAAUzoG,IAAI,CACVk5C,KAAMgB,GAAAA,SACN4tB,MAAOp7E,EACPwgC,WAAYtwB,EAAMuuG,sBAAsBz+G,EAAK,IAC7Ck9G,iBAAkBx/B,GAAiBqE,QACnC87B,WAAY3tG,EAAM4tG,sBAAsB99G,GACxC8iF,cAAe,IAEtB,GACL,EACA,GAAI7uE,EAAK9B,OACL,GAAyB,aAArB8B,EAAK9B,OAAOjP,KAAqB,CAEjC,IAAIw7G,EAAczqG,EAAK9B,OAAOmsF,QAAQl9F,MACtC2nF,EAAI7T,OAAM,SAAUnpE,GAIhB,MAHe,aAAXA,EAAE7I,MAAuB6I,IAAMkI,EAAK9B,QAAUpG,EAAEuyF,QAAQl9F,QAAUs9G,GAAe3yG,EAAEusE,WAAkC,WAArBvsE,EAAEusE,UAAUp1E,MAC5Gs7G,EAAmCzyG,EAAEusE,YAElC,CACV,GACL,KAC8B,UAArBrkE,EAAK9B,OAAOjP,MAEjB+Q,EAAK9B,OAAOo/C,MAAM1tD,SAAQ,SAAUkI,GACjB,WAAXA,EAAE7I,MAAqB6I,IAAMkI,GAC7BuqG,EAAmCzyG,EAE1C,QAGc,WAAdkI,EAAK/Q,MACV64G,EAAUzoG,IAAI,CACVk5C,KAAMgB,GAAAA,SACN4tB,MAAO,UACP56C,WAAYhgC,KAAKy8G,yBAAyB,eAAW,GAAW,EAAM,IACtEC,iBAAkBx/B,GAAiBqE,QAASe,cAAe,GAC3D+6B,WAAYr9G,KAAKs9G,sBAAsB,YAGnD,EACA7C,EAAen6G,UAAUu8G,8BAAgC,SAAUt0B,EAAK90E,EAAMyN,EAAQnE,EAAUw+F,GAC5F,IAAI7rG,EAAQ1P,KACR+8G,EAAqB77F,EAKzB,IAJIzN,GAAuB,WAAdA,EAAK/Q,MAAmC,WAAd+Q,EAAK/Q,MAAmC,YAAd+Q,EAAK/Q,MAAoC,SAAd+Q,EAAK/Q,OAC7Fq6G,EAAqBtpG,EAAKyN,OAASzN,EAAKlY,OACxCkY,EAAOA,EAAK9B,SAEX8B,EAeD,OAdA8nG,EAAUzoG,IAAI,CACVk5C,KAAMhsD,KAAKm+G,kBAAkB,UAC7BvjC,MAAO,eACP56C,WAAYhgC,KAAKi+G,sBAAsB,CAAC,EAAG,IAC3CvB,iBAAkBx/B,GAAiBqE,QACnCe,cAAe,UAEnBi5B,EAAUzoG,IAAI,CACVk5C,KAAMhsD,KAAKm+G,kBAAkB,SAC7BvjC,MAAO,cACP56C,WAAYhgC,KAAKi+G,sBAAsB,GAAI,IAC3CvB,iBAAkBx/B,GAAiBqE,QACnCe,cAAe,KAIvB,IAAI06B,EAAiBh9G,KAAKi8G,uBAAuBl/F,EAAUggG,GACvDqB,EAA8B,SAAUx9G,GACpCA,EAAM+Q,SAAkBgmE,GAAS/2E,EAAM+Q,OAAQuP,GAAQ,IACvDq6F,EAAUzoG,IAAI,CACVk5C,KAAMt8C,EAAMyuG,kBAAkBv9G,EAAM8B,MACpCk4E,MAAOlrE,EAAM2uG,4BAA4Bz9G,EAAOmc,GAChDijB,WAAYtwB,EAAM4uG,6BAA6B19G,EAAOmc,EAAUigG,GAChEN,iBAAkBx/B,GAAiBqE,QAASe,cAAe,KAGhD,YAAf1hF,EAAM8B,MACNgN,EAAM6uG,2BAA2B39G,EAAMA,MAAOo8G,EAAgBzB,EAEtE,EACA,GAAkB,aAAd9nG,EAAK/Q,MACDwe,GAAUzN,EAAKi5F,aAAe,GAAI,CAClC,IAAI50B,EAAYrkE,EAAKqkE,UACrB,GAAIA,IAAc52D,EAAU42D,EAAU52D,OAAS42D,EAAUv8E,QAA8B,WAAnBu8E,EAAUp1E,MAAwC,UAAnBo1E,EAAUp1E,MACzG,OAGJ,IAAI87G,EAAc/qG,EAAKqqF,QAAQl9F,MAC/B2nF,EAAI7T,OAAM,SAAUnpE,GAIhB,MAHe,aAAXA,EAAE7I,MAAuB6I,EAAEuyF,QAAQl9F,QAAU49G,GAAejzG,EAAEusE,WAC9DsmC,EAA4B7yG,EAAEusE,YAE3B,CACV,IACmB,YAAhB0mC,GAA6B/qG,EAAK9B,SAAW8B,EAAK9B,OAAOA,QACzD3R,KAAKy+G,2BAA2BzB,EAAgBzB,EAExD,CAEJ,GAAkB,UAAd9nG,EAAK/Q,KACL,GAAI+Q,EAAK9B,QAA+B,aAArB8B,EAAK9B,OAAOjP,KAAqB,CAEhD,IAAIg8G,EAAcjrG,EAAK9B,OAAOmsF,QAAQl9F,MACtC2nF,EAAI7T,OAAM,SAAUnpE,GAIhB,MAHe,aAAXA,EAAE7I,MAAuB6I,EAAEuyF,QAAQl9F,QAAU89G,GAAenzG,EAAEusE,WAAkC,UAArBvsE,EAAEusE,UAAUp1E,MACvF6I,EAAEusE,UAAU/mB,MAAM1tD,QAAQ+6G,IAEvB,CACV,GACL,MAGI3qG,EAAKs9C,MAAM1tD,QAAQ+6G,EAG/B,EACA3D,EAAen6G,UAAUs8G,oBAAsB,SAAU3xB,EAAQ1C,EAAK90E,EAAMyN,EAAQnE,EAAUw+F,EAAWoB,GACrG,IAAII,EAAqB77F,EACrBy9F,OAAY,EACZ7mC,OAAY,EAMhB,IALIrkE,GAAuB,WAAdA,EAAK/Q,MAAmC,WAAd+Q,EAAK/Q,MAAmC,YAAd+Q,EAAK/Q,MAAoC,SAAd+Q,EAAK/Q,OAC7Fq6G,EAAqBtpG,EAAKyN,OAASzN,EAAKlY,OACxCu8E,EAAYrkE,EACZA,EAAOA,EAAK9B,QAEX8B,EAAL,CAIA,GAAmB,aAAdA,EAAK/Q,MAAwBwe,GAAUzN,EAAKi5F,aAAe,GAAI,CAChE,IAAIkS,EAAcnrG,EAAKqkE,UACvB,GAAI8mC,GAAe19F,EAAU09F,EAAY19F,OAAS09F,EAAYrjH,OAC1D,OAEJojH,EAAYlrG,EAAKqqF,QAAQl9F,MACzB6S,EAAOA,EAAK9B,MAChB,CACA,GAAI8B,SAAuB,IAAdkrG,GAAyC,UAAdlrG,EAAK/Q,MAAmB,CAG5D,IAFA,IAAIs6G,EAAiBh9G,KAAKi8G,uBAAuBl/F,EAAUggG,GAElDzvG,EAAK,EAAGuxG,EADKt2B,EAAImmB,mBAAmBzjB,EAAOA,OAAQx3E,EAAKyN,OAAQ42D,GACnBxqE,EAAKuxG,EAAkBtjH,OAAQ+R,IAAM,CACvF,IAAIT,EAAIgyG,EAAkBvxG,GAC1B,GAAIT,EAAE4G,OAASA,IAAS5G,EAAE4kG,UAAY5kG,EAAEo+E,OAAQ,CAC5C,GAAkB,UAAdx3E,EAAK/Q,MAAoBmK,EAAEo+E,OAAOl6B,MAClC,GAAI5lD,MAAMQ,QAAQkB,EAAEo+E,OAAOl6B,OAAQ,CAC/B,IAAI1gD,EAAQrQ,KAAK8+G,iBAAiBrrG,EAAMsJ,EAAUmE,GAC9C7Q,EAAQxD,EAAEo+E,OAAOl6B,MAAMx1D,QACvByE,KAAK++G,0BAA0BlyG,EAAEo+E,OAAOl6B,MAAM1gD,GAAQ2sG,EAAgBzB,EAAWoB,EAEzF,MAEI38G,KAAK++G,0BAA0BlyG,EAAEo+E,OAAOl6B,MAAOisD,EAAgBzB,EAAWoB,GAGlF,QAAkB,IAAdgC,EAAyB,CACzB,IAAIK,GAAkB,EACtB,GAAInyG,EAAEo+E,OAAOke,YACL6F,EAAiBniG,EAAEo+E,OAAOke,WAAWwV,MAErCK,GAAkB,EAClBh/G,KAAK++G,0BAA0B/P,EAAgBgO,EAAgBzB,EAAWoB,IAGlF,GAAI9vG,EAAEo+E,OAAOmf,oBAAsB4U,EAC/B,QAASvkG,EAAK,EAAGM,EAAKrb,OAAOoH,KAAK+F,EAAEo+E,OAAOmf,mBAAoB3vF,EAAKM,EAAGxf,OAAQkf,IAAM,CACjF,IAAImvF,EAAU7uF,EAAGN,GAEjB,GADYuwF,GAAepB,GACjBn+F,KAAKkzG,GAAY,CACvBK,GAAkB,EAClB,IAAIhQ,EAAiBniG,EAAEo+E,OAAOmf,kBAAkBR,GAChD5pG,KAAK++G,0BAA0B/P,EAAgBgO,EAAgBzB,EAAWoB,EAC9E,CACJ,CAEJ,GAAI9vG,EAAEo+E,OAAOkf,uBAAyB6U,EAAiB,CAC/ChQ,EAAiBniG,EAAEo+E,OAAOkf,qBAC9BnqG,KAAK++G,0BAA0B/P,EAAgBgO,EAAgBzB,EAAWoB,EAC9E,CACJ,CACJ,CACJ,CACkB,YAAdgC,GAA4BlrG,EAAK9B,QACjC3R,KAAKy+G,2BAA2BzB,EAAgBzB,GAEhDoB,EAAA,UACA38G,KAAKu+G,2BAA0B,EAAMvB,EAAgBzB,GACrDv7G,KAAKu+G,2BAA0B,EAAOvB,EAAgBzB,IAEtDoB,EAAA,MACA38G,KAAKi/G,uBAAuBjC,EAAgBzB,EAEpD,CA/DA,MAFIv7G,KAAK++G,0BAA0B9zB,EAAOA,OAAQ,GAAIswB,EAAWoB,EAkErE,EACAlC,EAAen6G,UAAUw8G,+BAAiC,SAAUv0B,EAAK90E,EAAMyN,EAAQnE,EAAUw+F,EAAWM,GACxG,GAAKpoG,GAYD,GAHkB,WAAdA,EAAK/Q,MAAmC,WAAd+Q,EAAK/Q,MAAmC,YAAd+Q,EAAK/Q,MAAoC,SAAd+Q,EAAK/Q,OACpF+Q,EAAOA,EAAK9B,QAEZ8B,GAAuB,aAAdA,EAAK/Q,MAAwBwe,GAAUzN,EAAKi5F,aAAe,GAAI,CACxE,IAAIwS,EAAczrG,EAAKqqF,QAAQl9F,MAC3Bk3E,EAAYrkE,EAAKqkE,UACrB,KAAMA,GAAa52D,GAAW42D,EAAU52D,OAAS42D,EAAUv8E,SAAYkY,EAAK9B,OAAQ,CAChF,IAAIwtG,EAAoBvnC,GAAYnkE,EAAK9B,QACzC3R,KAAK26G,cAAct3G,SAAQ,SAAUg5G,GACjC,IAAIC,EAAiBD,EAAa+C,wBAAwBriG,EAAS2a,IAAKynF,EAAYD,EAAa3D,GAC7Fe,GACAT,EAAmBj2G,KAAK02G,EAE/B,GACL,CACJ,OAvBAt8G,KAAK26G,cAAct3G,SAAQ,SAAUg5G,GACjC,IAAIC,EAAiBD,EAAagD,0BAA0BtiG,EAAS2a,IAAK6jF,GACtEe,GACAT,EAAmBj2G,KAAK02G,EAE/B,GAoBT,EACA7B,EAAen6G,UAAUy+G,0BAA4B,SAAU9zB,EAAQ+xB,EAAgBzB,EAAWoB,GAC9F,IAAIjtG,EAAQ1P,KACU,kBAAXirF,IACPjrF,KAAKs/G,wBAAwBr0B,EAAQ+xB,EAAgBzB,GACrDv7G,KAAKu/G,2BAA2Bt0B,EAAQ+xB,EAAgBzB,GACxDv7G,KAAKw/G,aAAav0B,EAAQ0xB,GACtBxxG,MAAMQ,QAAQs/E,EAAO6d,QACrB7d,EAAO6d,MAAMzlG,SAAQ,SAAUwJ,GAAK,OAAO6C,EAAMqvG,0BAA0BlyG,EAAGmwG,EAAgBzB,EAAWoB,EAAS,IAElHxxG,MAAMQ,QAAQs/E,EAAO6e,QACrB7e,EAAO6e,MAAMzmG,SAAQ,SAAUwJ,GAAK,OAAO6C,EAAMqvG,0BAA0BlyG,EAAGmwG,EAAgBzB,EAAWoB,EAAS,IAElHxxG,MAAMQ,QAAQs/E,EAAO2f,QACrB3f,EAAO2f,MAAMvnG,SAAQ,SAAUwJ,GAAK,OAAO6C,EAAMqvG,0BAA0BlyG,EAAGmwG,EAAgBzB,EAAWoB,EAAS,IAG9H,EACAlC,EAAen6G,UAAUi/G,2BAA6B,SAAUt0B,EAAQ+xB,EAAgBzB,EAAWkE,GAC/F,IAAI/vG,EAAQ1P,UACO,IAAfy/G,IAAyBA,EAAa,GAC1C,IAAIC,GAAe,EACnB,GAAItU,GAAUngB,EAAOU,SAAU,CAG3B,IAFA,IAAIjpF,EAAOuoF,EAAOvoF,KACd9B,EAAQqqF,EAAOU,QACVrwF,EAAImkH,EAAYnkH,EAAI,EAAGA,IAC5BsF,EAAQ,CAACA,GACT8B,EAAO,QAEX64G,EAAUzoG,IAAI,CACVk5C,KAAMhsD,KAAKm+G,kBAAkBz7G,GAC7Bk4E,MAAO56E,KAAKw8G,iBAAiB57G,GAC7Bo/B,WAAYhgC,KAAKi+G,sBAAsBr9G,EAAOo8G,GAC9CN,iBAAkBx/B,GAAiBqE,QACnC58D,OAAQtH,GAAS,uBAAwB,mBAE7CqiG,GAAe,CACnB,CACIv0G,MAAMQ,QAAQs/E,EAAOqe,WACrBre,EAAOqe,SAASjmG,SAAQ,SAAUs8G,GAG9B,IAFA,IAAIj9G,EAAOuoF,EAAOvoF,KACd9B,EAAQ++G,EACHrkH,EAAImkH,EAAYnkH,EAAI,EAAGA,IAC5BsF,EAAQ,CAACA,GACT8B,EAAO,QAEX64G,EAAUzoG,IAAI,CACVk5C,KAAMt8C,EAAMyuG,kBAAkBz7G,GAC9Bk4E,MAAOlrE,EAAM8sG,iBAAiB57G,GAC9Bo/B,WAAYtwB,EAAMuuG,sBAAsBr9G,EAAOo8G,GAC/CN,iBAAkBx/B,GAAiBqE,UAEvCm+B,GAAe,CAClB,IAEDv0G,MAAMQ,QAAQs/E,EAAO20B,kBACrB30B,EAAO20B,gBAAgBv8G,SAAQ,SAAUwJ,GACrC,IAGImzB,EACAq9E,EAJA36G,EAAOuoF,EAAOvoF,KACd9B,EAAQiM,EAAEgjF,KACVjV,EAAQ/tE,EAAE+tE,MAGd,GAAIwwB,GAAUxqG,GAAQ,CACLqqF,EAAOvoF,KACpB,IADA,IACSpH,EAAImkH,EAAYnkH,EAAI,EAAGA,IAC5BsF,EAAQ,CAACA,GACA,QAEbo/B,EAAatwB,EAAMmwG,6BAA6Bj/G,EAAOo8G,GACvDK,EAAa3tG,EAAMowG,6BAA6Bl/G,GAChDg6E,EAAQA,GAASlrE,EAAMqwG,wBAAwBn/G,EACnD,SAC+B,kBAAfiM,EAAEmzG,SAad,OAZA,IAAI73B,EAAS,GAAIE,EAAS,GAAI7gC,EAAS,GACvC,IAASlsD,EAAImkH,EAAYnkH,EAAI,EAAGA,IAC5B6sF,EAASA,EAAS3gC,EAAS,MAC3B6gC,EAASA,EAAS,KAAO7gC,EAAS,IAClCA,GAAU,KACV9kD,EAAO,QAEXs9B,EAAamoD,EAAS3gC,EAAS36C,EAAEmzG,SAAS9oG,MAAM,MAAM3a,KAAK,KAAOirD,GAAU6gC,EAAS20B,EACrFpiC,EAAQA,GAAS56C,EACbq9E,EAAar9E,EAAW9iB,QAAQ,QAAS,GAIjD,CACAq+F,EAAUzoG,IAAI,CACVk5C,KAAMt8C,EAAMyuG,kBAAkBz7G,GAC9Bk4E,MAAAA,EACA0H,cAAe5yE,EAAM6tG,WAAW1wG,EAAE2wG,sBAAwB3wG,EAAEkvE,YAC5D/7C,WAAAA,EACA08E,iBAAkBx/B,GAAiBqE,QACnC87B,WAAAA,IAEJqC,GAAe,CAClB,KAEAA,GAAwC,kBAAjBz0B,EAAOl6B,QAAuB5lD,MAAMQ,QAAQs/E,EAAOl6B,QAAU0uD,EAAa,GAClGz/G,KAAKu/G,2BAA2Bt0B,EAAOl6B,MAAOisD,EAAgBzB,EAAWkE,EAAa,EAE9F,EACAhF,EAAen6G,UAAUg/G,wBAA0B,SAAUr0B,EAAQ+xB,EAAgBzB,GAUjF,GATInQ,GAAUngB,EAAOsf,QACjBgR,EAAUzoG,IAAI,CACVk5C,KAAMhsD,KAAKm+G,kBAAkBlzB,EAAOvoF,MACpCk4E,MAAO56E,KAAKw8G,iBAAiBvxB,EAAOsf,OACpCvqE,WAAYhgC,KAAKi+G,sBAAsBhzB,EAAOsf,MAAOyS,GACrDN,iBAAkBx/B,GAAiBqE,QACnCe,cAAetiF,KAAKu9G,WAAWtyB,EAAOuyB,sBAAwBvyB,EAAOlP,cAGzE5wE,MAAMQ,QAAQs/E,EAAO+d,MACrB,QAAS1tG,EAAI,EAAGC,EAAS0vF,EAAO+d,KAAKztG,OAAQD,EAAIC,EAAQD,IAAK,CAC1D,IAAI2kH,EAAMh1B,EAAO+d,KAAK1tG,GAClBgnF,EAAgBtiF,KAAKu9G,WAAWtyB,EAAOuyB,sBAAwBvyB,EAAOlP,YACtEkP,EAAO6yB,0BAA4BxiH,EAAI2vF,EAAO6yB,yBAAyBviH,QAAUyE,KAAKkgH,sBACtF59B,EAAgBtiF,KAAKu9G,WAAWtyB,EAAO6yB,yBAAyBxiH,IAE3D2vF,EAAO8yB,kBAAoBziH,EAAI2vF,EAAO8yB,iBAAiBxiH,SAC5D+mF,EAAgB2I,EAAO8yB,iBAAiBziH,IAE5CigH,EAAUzoG,IAAI,CACVk5C,KAAMhsD,KAAKm+G,kBAAkBlzB,EAAOvoF,MACpCk4E,MAAO56E,KAAKw8G,iBAAiByD,GAC7BjgF,WAAYhgC,KAAKi+G,sBAAsBgC,EAAKjD,GAC5CN,iBAAkBx/B,GAAiBqE,QACnCe,cAAAA,GAER,CAER,EACAm4B,EAAen6G,UAAUk/G,aAAe,SAAUv0B,EAAQ0xB,GACtD,IAAIxxG,MAAMQ,QAAQs/E,EAAO+d,QAASoC,GAAUngB,EAAOsf,OAAnD,CAGA,IAAI7nG,EAAOuoF,EAAOvoF,KACdyI,MAAMQ,QAAQjJ,GACdA,EAAKW,SAAQ,SAAUgvB,GAAK,OAAOsqF,EAAMtqF,IAAK,CAAO,IAEhD3vB,IACLi6G,EAAMj6G,IAAQ,EANlB,CAQJ,EACA+3G,EAAen6G,UAAU28G,0BAA4B,SAAUN,EAAOK,EAAgBzB,GAC9EoB,EAAA,QACApB,EAAUzoG,IAAI,CACVk5C,KAAMhsD,KAAKm+G,kBAAkB,UAC7BvjC,MAAO,KACP56C,WAAYhgC,KAAKmgH,6BAA6B,CAAC,EAAGnD,GAClDN,iBAAkBx/B,GAAiBqE,QACnC58D,OAAQtH,GAAS,kBAAmB,cACpCilE,cAAe,KAGnBq6B,EAAA,OACApB,EAAUzoG,IAAI,CACVk5C,KAAMhsD,KAAKm+G,kBAAkB,SAC7BvjC,MAAO,KACP56C,WAAYhgC,KAAKmgH,6BAA6B,GAAInD,GAClDN,iBAAkBx/B,GAAiBqE,QACnC58D,OAAQtH,GAAS,iBAAkB,aACnCilE,cAAe,IAG3B,EACAm4B,EAAen6G,UAAUi+G,0BAA4B,SAAU39G,EAAOo8G,EAAgBzB,GAClFA,EAAUzoG,IAAI,CACVk5C,KAAMhsD,KAAKm+G,kBAAkB,WAC7BvjC,MAAOh6E,EAAQ,OAAS,QACxBo/B,WAAYhgC,KAAKi+G,sBAAsBr9G,EAAOo8G,GAC9CN,iBAAkBx/B,GAAiBqE,QACnCe,cAAe,IAEvB,EACAm4B,EAAen6G,UAAU2+G,uBAAyB,SAAUjC,EAAgBzB,GACxEA,EAAUzoG,IAAI,CACVk5C,KAAMhsD,KAAKm+G,kBAAkB,QAC7BvjC,MAAO,OACP56C,WAAY,OAASg9E,EACrBN,iBAAkBx/B,GAAiBqE,QACnCe,cAAe,IAEvB,EACAm4B,EAAen6G,UAAUm+G,2BAA6B,SAAUzB,EAAgBzB,GAC5E,IAAI7rG,EAAQ1P,KACRo5G,EAAYp5G,KAAK06G,cAAcvF,wBAAuB,SAAUlqB,GAAU,MAAkB,SAAXA,GAAgC,UAAXA,CAAqB,IAC/HmuB,EAAU/1G,SAAQ,SAAUqzG,GAAY,OAAO6E,EAAUzoG,IAAI,CACzDk5C,KAAMgB,GAAAA,OACN4tB,MAAOlrE,EAAM8sG,iBAAiB9F,GAC9B2G,WAAY3tG,EAAM4tG,sBAAsB5G,GACxC12E,WAAYtwB,EAAMuuG,sBAAsBvH,EAAUsG,GAClDN,iBAAkBx/B,GAAiBqE,QAASe,cAAe,IAC1D,GACT,EACAm4B,EAAen6G,UAAUk8G,iBAAmB,SAAU57G,GAClD,OAAO/F,KAAKC,UAAU8F,EAC1B,EACA65G,EAAen6G,UAAUg9G,sBAAwB,SAAU18G,GACvD,OAAO/F,KAAKC,UAAU8F,EAC1B,EACA65G,EAAen6G,UAAUw/G,6BAA+B,SAAUl/G,GAC9D,OAAO/F,KAAKC,UAAU8F,GAAOsc,QAAQ,2BAA4B,KACrE,EACAu9F,EAAen6G,UAAUy/G,wBAA0B,SAAUn/G,GAEzD,OADY/F,KAAKC,UAAU8F,GACdsc,QAAQ,2BAA4B,KACrD,EACAu9F,EAAen6G,UAAU8/G,0BAA4B,SAAU7gF,GAC3D,OAAOA,EAAKriB,QAAQ,YAAa,OACrC,EACAu9F,EAAen6G,UAAU29G,sBAAwB,SAAUr9G,EAAOo8G,GAC9D,IAAIz9E,EAAO1kC,KAAKC,UAAU8F,EAAO,KAAM,MACvC,MAAa,OAAT2+B,EACO,OAASy9E,EAEF,OAATz9E,EACE,OAASy9E,EAEbh9G,KAAKogH,0BAA0B7gF,EAAOy9E,EACjD,EACAvC,EAAen6G,UAAUu/G,6BAA+B,SAAUj/G,EAAOo8G,GASrE,OAAO1C,GAAgB15G,EAAO,IARf,SAAUA,GACrB,MAAqB,kBAAVA,GACU,MAAbA,EAAM,GACCA,EAAMg4B,OAAO,GAGrB/9B,KAAKC,UAAU8F,EAC1B,IAC8Co8G,CAClD,EACAvC,EAAen6G,UAAU6/G,6BAA+B,SAAUv/G,EAAOo8G,GACrE,cAAep8G,GACX,IAAK,SACD,OAAc,OAAVA,EACO,YAAco8G,EAElBh9G,KAAKi+G,sBAAsBr9G,EAAOo8G,GAC7C,IAAK,SACD,IAAIqD,EAAexlH,KAAKC,UAAU8F,GAGlC,OAFAy/G,EAAeA,EAAaznF,OAAO,EAAGynF,EAAa9kH,OAAS,GAErD,SADP8kH,EAAergH,KAAKogH,0BAA0BC,IACd,KAAOrD,EAC3C,IAAK,SACL,IAAK,UACD,MAAO,OAASniH,KAAKC,UAAU8F,GAAS,IAAMo8G,EAEtD,OAAOh9G,KAAKi+G,sBAAsBr9G,EAAOo8G,EAC7C,EACAvC,EAAen6G,UAAU69G,kBAAoB,SAAUz7G,GACnD,GAAIyI,MAAMQ,QAAQjJ,GAAO,CACrB,IAAI+sC,EAAQ/sC,EACZA,EAAO+sC,EAAMl0C,OAAS,EAAIk0C,EAAM,QAAK,CACzC,CACA,IAAK/sC,EACD,OAAOsqD,GAAAA,MAEX,OAAQtqD,GACJ,IAAK,SAGL,QAAS,OAAOsqD,GAAAA,MAFhB,IAAK,SAAU,OAAOA,GAAAA,OACtB,IAAK,WAAY,OAAOA,GAAAA,SAGhC,EACAytD,EAAen6G,UAAU+9G,4BAA8B,SAAU5qG,EAAMsJ,GACnE,OAAQtJ,EAAK/Q,MACT,IAAK,QACD,MAAO,KACX,IAAK,SACD,MAAO,KACX,QAEI,OADcqa,EAASmuD,UAAUtyC,OAAOnlB,EAAKyN,OAAQzN,EAAKlY,QAGtE,EACAk/G,EAAen6G,UAAUg+G,6BAA+B,SAAU7qG,EAAMsJ,EAAUigG,GAC9E,OAAQvpG,EAAK/Q,MACT,IAAK,QACD,OAAO1C,KAAKi+G,sBAAsB,GAAIjB,GAC1C,IAAK,SACD,OAAOh9G,KAAKi+G,sBAAsB,CAAC,EAAGjB,GAC1C,QACI,IAAIjxC,EAAUhvD,EAASmuD,UAAUtyC,OAAOnlB,EAAKyN,OAAQzN,EAAKlY,QAAUyhH,EACpE,OAAOh9G,KAAKogH,0BAA0Br0C,GAElD,EACA0uC,EAAen6G,UAAUm8G,yBAA2B,SAAUj9G,EAAKwvG,EAAgB8M,EAAUkB,GACzF,IAAIsD,EAAetgH,KAAKi+G,sBAAsBz+G,EAAK,IACnD,IAAKs8G,EACD,OAAOwE,EAEX,IACI1/G,EADA2/G,EAAaD,EAAe,KAE5BE,EAAkB,EACtB,GAAIxR,EAAgB,CAChB,GAAI7jG,MAAMQ,QAAQqjG,EAAe4Q,iBAAkB,CAC/C,GAA8C,IAA1C5Q,EAAe4Q,gBAAgBrkH,OAAc,CAC7C,IAAIs0F,EAAOmf,EAAe4Q,gBAAgB,GAAG/vB,KACzCub,GAAUvb,KACVjvF,EAAQZ,KAAK6/G,6BAA6BhwB,EAAM,IAExD,CACA2wB,GAAmBxR,EAAe4Q,gBAAgBrkH,MACtD,CAmBA,GAlBIyzG,EAAehG,OACVpoG,GAAwC,IAA/BouG,EAAehG,KAAKztG,SAC9BqF,EAAQZ,KAAKmgH,6BAA6BnR,EAAehG,KAAK,GAAI,KAEtEwX,GAAmBxR,EAAehG,KAAKztG,QAEvC6vG,GAAU4D,EAAerjB,WACpB/qF,IACDA,EAAQZ,KAAKmgH,6BAA6BnR,EAAerjB,QAAS,KAEtE60B,KAEAr1G,MAAMQ,QAAQqjG,EAAe1F,WAAa0F,EAAe1F,SAAS/tG,SAC7DqF,IACDA,EAAQZ,KAAKmgH,6BAA6BnR,EAAe1F,SAAS,GAAI,KAE1EkX,GAAmBxR,EAAe1F,SAAS/tG,QAEvB,IAApBilH,EAAuB,CACvB,IAAI99G,EAAOyI,MAAMQ,QAAQqjG,EAAetsG,MAAQssG,EAAetsG,KAAK,GAAKssG,EAAetsG,KASxF,OARKA,IACGssG,EAAe7F,WACfzmG,EAAO,SAEFssG,EAAej+C,QACpBruD,EAAO,UAGPA,GACJ,IAAK,UACD9B,EAAQ,KACR,MACJ,IAAK,SACDA,EAAQ,OACR,MACJ,IAAK,SACDA,EAAQ,OACR,MACJ,IAAK,QACDA,EAAQ,OACR,MACJ,IAAK,SACL,IAAK,UACDA,EAAQ,SACR,MACJ,IAAK,OACDA,EAAQ,YACR,MACJ,QACI,OAAO0/G,EAEnB,CACJ,CAIA,QAHK1/G,GAAS4/G,EAAkB,KAC5B5/G,EAAQ,MAEL2/G,EAAa3/G,EAAQo8G,CAChC,EACAvC,EAAen6G,UAAU86G,eAAiB,SAAUr+F,EAAUmE,GAG1D,IAFA,IAAI5lB,EAAI4lB,EAAS,EACbqe,EAAOxiB,EAASmuD,UACb5vE,GAAK,IAAqD,IAAhD,mBAAmB0S,QAAQuxB,EAAKl4B,OAAO/L,KACpDA,IAEJ,OAAOikC,EAAKhI,UAAUj8B,EAAI,EAAG4lB,EACjC,EACAu5F,EAAen6G,UAAU27G,uBAAyB,SAAUl/F,EAAUmE,GAClE,IAAIi2D,EAAespC,GAAc1jG,EAASmuD,WAAW,GAGrD,OAFAiM,EAAQpD,YAAY7yD,GACRi2D,EAAQjD,QAEhB,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,GACD,MAAO,GACX,QACI,MAAO,IAEnB,EACAumC,EAAen6G,UAAUw+G,iBAAmB,SAAUrrG,EAAMsJ,EAAUmE,GAGlE,IAFA,IAAIi2D,EAAespC,GAAc1jG,EAASmuD,WAAW,GACjD/4D,EAAWsB,EAAKs9C,MACXz1D,EAAI6W,EAAS5W,OAAS,EAAGD,GAAK,EAAGA,IAAK,CAC3C,IAAIoW,EAAQS,EAAS7W,GACrB,GAAI4lB,EAASxP,EAAMwP,OAASxP,EAAMnW,OAG9B,OAFA47E,EAAQpD,YAAYriE,EAAMwP,OAASxP,EAAMnW,QAE3B,IADF47E,EAAQjD,QACgBhzD,GAAUi2D,EAAQ9C,iBAAmB8C,EAAQ7C,iBACtEh5E,EAAI,EAERA,EACX,GACS4lB,GAAUxP,EAAMwP,OACrB,OAAO5lB,CAEf,CACA,OAAO,CACX,EACAm/G,EAAen6G,UAAU26G,YAAc,SAAUl+F,EAAUnf,EAAOsjB,GAC9D,IAAIi2D,EAAespC,GAAc1jG,EAASmuD,WAAW,GACrDiM,EAAQpD,YAAYn2E,GAEpB,IADA,IAAIi1E,EAAQsE,EAAQjD,OACH,KAAVrB,GAA2BsE,EAAQ9C,iBAAmB8C,EAAQ7C,iBAAmBpzD,GACpF2xD,EAAQsE,EAAQjD,OAEpB,OAAkB,KAAVrB,GAAkD,KAAVA,IAA0CsE,EAAQ9C,kBAAoBnzD,CAC1H,EACAu5F,EAAen6G,UAAUi9G,WAAa,SAAUmD,GAC5C,GAAIA,GAAgB1gH,KAAKkgH,sBACrB,MAAO,CACHl0D,KAAMgxB,GAAW2D,SACjB//E,MAAO8/G,EAInB,EACAjG,EAAen6G,UAAU4/G,oBAAsB,WAC3C,IAAK9U,GAAUprG,KAAK2gH,kBAAmB,CACnC,IAAI76G,EAAa9F,KAAK46G,mBAAmBz+B,cAAgBn8E,KAAK46G,mBAAmBz+B,aAAar2E,WAC9F9F,KAAK2gH,iBAAmB76G,GAAcA,EAAWylG,gBAAkBpgG,MAAMQ,QAAQ7F,EAAWylG,eAAeC,uBAAwG,IAAhF1lG,EAAWylG,eAAeC,oBAAoBx9F,QAAQgvE,GAAW2D,SACxM,CACA,OAAO3gF,KAAK2gH,gBAChB,EACAlG,EAAen6G,UAAUsgH,6BAA+B,WACpD,IAAKxV,GAAUprG,KAAK6gH,0BAA2B,CAC3C,IAAI/6G,EAAa9F,KAAK46G,mBAAmBz+B,cAAgBn8E,KAAK46G,mBAAmBz+B,aAAar2E,WAC9F9F,KAAK6gH,yBAA2B/6G,GAAcA,EAAWylG,kBAAoBzlG,EAAWylG,eAAeE,uBAC3G,CACA,OAAOzrG,KAAK6gH,wBAChB,CAEJ,EAt5BoC,GCRL,WAC3B,SAASC,EAAUpG,EAAeC,EAAe/F,QACvB,IAAlB+F,IAA4BA,EAAgB,IAChD36G,KAAK06G,cAAgBA,EACrB16G,KAAK26G,cAAgBA,EACrB36G,KAAK4zG,QAAUgB,GAAsBhuG,OACzC,CACAk6G,EAAUxgH,UAAUygH,QAAU,SAAUhkG,EAAUyd,EAAU+tD,GACxD,IAAIrnE,EAASnE,EAASquD,SAAS5wC,GAC3B/mB,EAAO80E,EAAI+lB,kBAAkBptF,GACjC,IAAKzN,IAAuB,WAAdA,EAAK/Q,MAAmC,UAAd+Q,EAAK/Q,OAAqBwe,EAASzN,EAAKyN,OAAS,GAAKA,EAASzN,EAAKyN,OAASzN,EAAKlY,OAAS,EAC/H,OAAOyE,KAAK4zG,QAAQ/3G,QAAQ,MAEhC,IAAImlH,EAAiBvtG,EAErB,GAAkB,WAAdA,EAAK/Q,KAAmB,CACxB,IAAIiP,EAAS8B,EAAK9B,OAClB,GAAIA,GAA0B,aAAhBA,EAAOjP,MAAuBiP,EAAOmsF,UAAYrqF,KAC3DA,EAAO9B,EAAOmmE,WAEV,OAAO93E,KAAK4zG,QAAQ/3G,QAAQ,KAGxC,CAUA,IATA,IAAIolH,EAAa9mF,GAAAA,OAAapd,EAAS8rD,WAAWm4C,EAAe9/F,QAASnE,EAAS8rD,WAAWm4C,EAAe9/F,OAAS8/F,EAAezlH,SACjI2lH,EAAc,SAAU7+B,GAKxB,MAJa,CACTA,SAAAA,EACA3nD,MAAOumF,EAGf,EACIjkG,EAAkB46D,GAAYnkE,GACzBnY,EAAI0E,KAAK26G,cAAcp/G,OAAS,EAAGD,GAAK,EAAGA,IAAK,CACrD,IACIs4G,EADe5zG,KAAK26G,cAAcr/G,GACX6lH,oBAAoBpkG,EAAS2a,IAAK1a,GAC7D,GAAI42F,EACA,OAAOA,EAAQ7vG,MAAK,SAAUq9G,GAAe,OAAOF,EAAYE,EAAe,GAEvF,CACA,OAAOphH,KAAK06G,cAAc7B,qBAAqB97F,EAAS2a,IAAK6wD,GAAKxkF,MAAK,SAAUknF,GAC7E,GAAIA,GAAUx3E,EAAM,CAChB,IAAIk7F,EAAkBpmB,EAAImmB,mBAAmBzjB,EAAOA,OAAQx3E,EAAKyN,QAC7DmgG,OAAU,EACVC,OAAwB,EACxBC,OAAiC,EAAWC,OAAc,EAC9D7S,EAAgB/xB,OAAM,SAAU/vE,GAC5B,GAAIA,EAAE4G,OAASA,IAAS5G,EAAE4kG,UAAY5kG,EAAEo+E,SACpCo2B,EAAUA,GAAWx0G,EAAEo+E,OAAOr+B,MAC9B00D,EAAwBA,GAAyBz0G,EAAEo+E,OAAOuyB,qBAAuBiE,GAAW50G,EAAEo+E,OAAOlP,aACjGlvE,EAAEo+E,OAAO+d,MAAM,CACf,IAAI1xE,EAAMzqB,EAAEo+E,OAAO+d,KAAKh7F,QAAe6pE,GAAapkE,IAChD5G,EAAEo+E,OAAO6yB,yBACTyD,EAAiC10G,EAAEo+E,OAAO6yB,yBAAyBxmF,GAE9DzqB,EAAEo+E,OAAO8yB,mBACdwD,EAAiCE,GAAW50G,EAAEo+E,OAAO8yB,iBAAiBzmF,KAEtEiqF,GAE2B,kBAD3BC,EAAc30G,EAAEo+E,OAAO+d,KAAK1xE,MAExBkqF,EAAc3mH,KAAKC,UAAU0mH,GAGzC,CAEJ,OAAO,CACV,IACD,IAAI39G,EAAS,GAgBb,OAfIw9G,IACAx9G,EAAS49G,GAAWJ,IAEpBC,IACIz9G,EAAOtI,OAAS,IAChBsI,GAAU,QAEdA,GAAUy9G,GAEVC,IACI19G,EAAOtI,OAAS,IAChBsI,GAAU,QAEdA,GAAU,IAiB9B,SAA6BkoE,GAEzB,IAA8B,IAA1BA,EAAQ/9D,QAAQ,KAChB,MAAO,MAAQ+9D,EAAU,MAE7B,OAAOA,CACX,CAvBoC21C,CAAoBF,GAAe,MAAQD,GAExDL,EAAY,CAACr9G,GACxB,CACA,OAAO,IACV,GACL,CAEJ,CA1F+B,GA4F/B,SAAS49G,GAAWE,GAChB,GAAIA,EAEA,OADUA,EAAMzkG,QAAQ,8BAA+B,YAC5CA,QAAQ,wBAAyB,OAGpD,CChGA,IAAIG,GAAequF,KACfkW,GAAgC,WAChC,SAASA,EAAeC,EAAmBjN,GACvC50G,KAAK6hH,kBAAoBA,EACzB7hH,KAAK4zG,QAAUgB,EACf50G,KAAK8hH,mBAAoB,CAC7B,CAkFA,OAjFAF,EAAethH,UAAUyhH,UAAY,SAAU3hB,GACvCA,IACApgG,KAAK8hH,mBAAqC,IAAjB1hB,EAAIqO,SAC7BzuG,KAAKgiH,gBAAkB5hB,EAAI6hB,mBAAgB,EAAYhpC,GAAmB50E,MAElF,EACAu9G,EAAethH,UAAU4hH,aAAe,SAAU/lC,EAAco9B,EAAc4I,EAAkBl3B,GAC5F,IAAIv7E,EAAQ1P,KACZ,IAAKA,KAAK8hH,kBACN,OAAO9hH,KAAK4zG,QAAQ/3G,QAAQ,IAEhC,IAAIgoF,EAAc,GACdliB,EAAQ,CAAC,EACTygD,EAAa,SAAUC,GAEvB,IAAIC,EAAYD,EAAQ3nF,MAAM98B,MAAMqlC,KAAO,IAAMo/E,EAAQ3nF,MAAM98B,MAAM01D,UAAY,IAAM+uD,EAAQ1zG,QAC1FgzD,EAAM2gD,KACP3gD,EAAM2gD,IAAa,EACnBz+B,EAAYj+E,KAAKy8G,GAEzB,EACIE,EAAiB,SAAUt3B,GAC3B,IAAIu3B,GAA8C,OAArBL,QAAkD,IAArBA,OAA8B,EAASA,EAAiBM,gBAAkBC,GAAqBP,EAAiBM,gBAAkBxpC,GAAmB50E,MAC3M29G,GAAwC,OAArBG,QAAkD,IAArBA,OAA8B,EAASA,EAAiB9T,UAAYqU,GAAqBP,EAAiB9T,UAAY3+F,EAAMsyG,gBAC5KW,GAAyC,OAArBR,QAAkD,IAArBA,OAA8B,EAASA,EAAiBQ,kBAAoBD,GAAqBP,EAAiBQ,kBAAoB1pC,GAAmBkC,QAC1MynC,GAAsC,OAArBT,QAAkD,IAArBA,OAA8B,EAASA,EAAiBS,eAAiBF,GAAqBP,EAAiBS,eAAiB3pC,GAAmBkC,QACrM,GAAI8P,EAAQ,CACR,GAAIA,EAAOn5E,OAAOvW,QAAUg+G,EAAah7G,MAAQqkH,EAAe,CAC5D,IAAIC,EAAUtJ,EAAah7G,KACvBuK,EAA4B,WAAjB+5G,EAAQngH,KAAoBmgH,EAAQ1Z,WAAW,QAAK,EACnE,GAAIrgG,GAAuC,YAA3BA,EAASg1F,QAAQl9F,MAAqB,CAClD,IAAI6S,EAAO3K,EAASgvE,WAAahvE,EAC7B4xB,EAAQP,GAAAA,OAAagiD,EAAatT,WAAWp1D,EAAKyN,QAASi7D,EAAatT,WAAWp1D,EAAKyN,OAASzN,EAAKlY,SAC1G6mH,EAAWhpC,GAAWh3E,OAAOs4B,EAAOuwD,EAAOn5E,OAAO,GAAI8wG,EAAe1a,GAAU4a,oBACnF,KACK,CACGpoF,EAAQP,GAAAA,OAAagiD,EAAatT,WAAWg6C,EAAQ3hG,QAASi7D,EAAatT,WAAWg6C,EAAQ3hG,OAAS,IAC3GkhG,EAAWhpC,GAAWh3E,OAAOs4B,EAAOuwD,EAAOn5E,OAAO,GAAI8wG,EAAe1a,GAAU4a,oBACnF,CACJ,SACSH,EAAkB,CACvB,IAAII,EAAiBxJ,EAAa9K,SAAStyB,EAAc8O,EAAOA,OAAQ03B,GACpEI,GACAA,EAAe1/G,QAAQ++G,EAE/B,CACIY,GAAqB/3B,EAAOA,UAC5B+2B,OAAkB,GAElBiB,GAA2Bh4B,EAAOA,UAClCu3B,OAAwB,EAEhC,CACA,QAASl1G,EAAK,EAAGmN,EAAK8+F,EAAanL,aAAc9gG,EAAKmN,EAAGlf,OAAQ+R,IAAM,CACnE,IAAIpE,EAAIuR,EAAGnN,GACX,GAAIpE,EAAEjO,OAASitG,GAAUgb,cAAe,CACpC,GAAqC,kBAA1BV,EACP,SAEJt5G,EAAEuyE,SAAW+mC,CACjB,CACAJ,EAAWl5G,EACf,CACA,GAA+B,kBAApB84G,EAA8B,CACrC,IAAImB,EAAY9lG,GAAS,sBAAuB,uCAChDk8F,EAAalL,SAAShrG,SAAQ,SAAUwmB,GACpCu4F,EAAWhpC,GAAWh3E,OAAOynB,EAAGs5F,EAAWnB,EAAiB9Z,GAAUkb,qBACzE,GACL,CACA,OAAOv/B,CACX,EACA,GAAIoH,EAAQ,CACR,IAAIrzE,EAAKqzE,EAAOrzE,IAAO,4BAA8B4hG,KACrD,OAAOx5G,KAAK6hH,kBAAkB1N,qBAAqB,IAAIN,GAAiB5oB,GAASrzE,EAAI,CAAC,GAAG7T,MAAK,SAAUkwG,GACpG,OAAOsO,EAAetO,EACzB,GACL,CACA,OAAOj0G,KAAK6hH,kBAAkBhJ,qBAAqB18B,EAAazkD,IAAK6hF,GAAcx1G,MAAK,SAAUknF,GAC9F,OAAOs3B,EAAet3B,EACzB,GACL,EACO22B,CACX,CAxFoC,GA0FhCpI,GAAY,EAChB,SAASwJ,GAAqBzO,GAC1B,GAAIA,GAAkC,kBAAdA,EAAwB,CAC5C,GAAIlJ,GAAUkJ,EAAU0N,eACpB,OAAO1N,EAAU0N,cAErB,GAAI1N,EAAUzL,MACV,QAASx7F,EAAK,EAAGmN,EAAK85F,EAAUzL,MAAOx7F,EAAKmN,EAAGlf,OAAQ+R,IAAM,CACzD,IACI+1G,EAAQL,GADCvoG,EAAGnN,IAEhB,GAAI+9F,GAAUgY,GACV,OAAOA,CAEf,CAER,CAEJ,CACA,SAASJ,GAA2B1O,GAChC,GAAIA,GAAkC,kBAAdA,EAAwB,CAC5C,GAAIlJ,GAAUkJ,EAAU+O,qBACpB,OAAO/O,EAAU+O,oBAErB,IAAIC,EAAgBhP,EACpB,GAAIlJ,GAAUkY,EAAA,sBACV,OAAOA,EAAA,qBAEX,GAAIhP,EAAUzL,MACV,QAASx7F,EAAK,EAAGmN,EAAK85F,EAAUzL,MAAOx7F,EAAKmN,EAAGlf,OAAQ+R,IAAM,CACzD,IACI+1G,EAAQJ,GADCxoG,EAAGnN,IAEhB,GAAI+9F,GAAUgY,GACV,OAAOA,CAEf,CAER,CAEJ,CACA,SAASX,GAAqBc,GAC1B,OAAQA,GACJ,IAAK,QAAS,OAAOvqC,GAAmB50E,MACxC,IAAK,UAAW,OAAO40E,GAAmBkC,QAC1C,IAAK,SAAU,OAGvB,CC7IA,IAAIsoC,GAAS,GACTC,GAAS,GACTC,GAAI,GACJ/5G,GAAI,GACJmD,GAAI,IACD,SAAS62G,GAASjjG,GACrB,OAAIA,EAAW8iG,GACJ,EAEP9iG,GAAY+iG,GACL/iG,EAAW8iG,IAElB9iG,EAAW/W,KACX+W,GAAa/W,GAAI+5G,IAEjBhjG,GAAY/W,IAAK+W,GAAY5T,GACtB4T,EAAW/W,GAAI,GAEnB,EACX,CACO,SAASi6G,GAAatkF,GACzB,GAAgB,MAAZA,EAAK,GAGT,OAAQA,EAAKhkC,QACT,KAAK,EACD,MAAO,CACHmsE,IAAqC,GAA/Bk8C,GAASrkF,EAAK/jC,WAAW,IAAc,IAC7CitE,MAAuC,GAA/Bm7C,GAASrkF,EAAK/jC,WAAW,IAAc,IAC/CgtE,KAAsC,GAA/Bo7C,GAASrkF,EAAK/jC,WAAW,IAAc,IAC9CktE,MAAO,GAEf,KAAK,EACD,MAAO,CACHhB,IAAqC,GAA/Bk8C,GAASrkF,EAAK/jC,WAAW,IAAc,IAC7CitE,MAAuC,GAA/Bm7C,GAASrkF,EAAK/jC,WAAW,IAAc,IAC/CgtE,KAAsC,GAA/Bo7C,GAASrkF,EAAK/jC,WAAW,IAAc,IAC9CktE,MAAuC,GAA/Bk7C,GAASrkF,EAAK/jC,WAAW,IAAc,KAEvD,KAAK,EACD,MAAO,CACHksE,KAAqC,GAA/Bk8C,GAASrkF,EAAK/jC,WAAW,IAAaooH,GAASrkF,EAAK/jC,WAAW,KAAO,IAC5EitE,OAAuC,GAA/Bm7C,GAASrkF,EAAK/jC,WAAW,IAAaooH,GAASrkF,EAAK/jC,WAAW,KAAO,IAC9EgtE,MAAsC,GAA/Bo7C,GAASrkF,EAAK/jC,WAAW,IAAaooH,GAASrkF,EAAK/jC,WAAW,KAAO,IAC7EktE,MAAO,GAEf,KAAK,EACD,MAAO,CACHhB,KAAqC,GAA/Bk8C,GAASrkF,EAAK/jC,WAAW,IAAaooH,GAASrkF,EAAK/jC,WAAW,KAAO,IAC5EitE,OAAuC,GAA/Bm7C,GAASrkF,EAAK/jC,WAAW,IAAaooH,GAASrkF,EAAK/jC,WAAW,KAAO,IAC9EgtE,MAAsC,GAA/Bo7C,GAASrkF,EAAK/jC,WAAW,IAAaooH,GAASrkF,EAAK/jC,WAAW,KAAO,IAC7EktE,OAAuC,GAA/Bk7C,GAASrkF,EAAK/jC,WAAW,IAAaooH,GAASrkF,EAAK/jC,WAAW,KAAO,KAI9F,CCnDA,IAAIsoH,GAAqC,WACrC,SAASA,EAAoBpJ,GACzB16G,KAAK06G,cAAgBA,CACzB,CAqQA,OApQAoJ,EAAoBxjH,UAAUyjH,oBAAsB,SAAUhnG,EAAUwrE,EAAKlmF,GACzE,IAAIqN,EAAQ1P,UACI,IAAZqC,IAAsBA,EAAU,CAAE2hH,YAAa55G,OAAO2vE,YAC1D,IAAIx7E,EAAOgqF,EAAIhqF,KACf,IAAKA,EACD,MAAO,GAEX,IAAI+wF,EAAQjtF,EAAQ2hH,aAAe55G,OAAO2vE,UAEtCkqC,EAAiBlnG,EAAS2a,IAC9B,IAAwB,8CAAnBusF,GAA2Er3B,GAASq3B,EAAe/uF,cAAe,4BACjG,UAAd32B,EAAKmE,KAAkB,CAEvB,IADA,IAAIwhH,EAAW,GACN52G,EAAK,EAAGmN,EAAKlc,EAAKwyD,MAAOzjD,EAAKmN,EAAGlf,OAAQ+R,IAAM,CACpD,IAAIsvB,EAAOniB,EAAGnN,GACd,GAAkB,WAAdsvB,EAAKl6B,KACL,QAASqY,EAAK,EAAGC,EAAK4hB,EAAKusE,WAAYpuF,EAAKC,EAAGzf,OAAQwf,IAAM,CACzD,IAAIjS,EAAWkS,EAAGD,GAClB,GAA+B,QAA3BjS,EAASg1F,QAAQl9F,OAAmBkI,EAASgvE,UAAW,CACxD,IAAI96D,EAAW27D,GAASv2E,OAAO2a,EAAS2a,IAAKysF,GAASpnG,EAAU6f,IAGhE,GAFAsnF,EAASt+G,KAAK,CAAEnH,KAAao5E,GAAa/uE,EAASgvE,WAAY9rB,KAAM0C,GAAAA,SAAqB1xC,SAAAA,MAC1FsyE,GACa,EAIT,OAHIjtF,GAAWA,EAAQ+hH,uBACnB/hH,EAAQ+hH,sBAAsBH,GAE3BC,CAEf,CACJ,CAER,CACA,OAAOA,CACX,CAmCJ,IAjCA,IAAIG,EAAU,CACV,CAAE5wG,KAAMlV,EAAMukF,cAAe,KAE7BwhC,EAAc,EACdC,GAAgB,EAChB1gH,EAAS,GACT2gH,EAAwB,SAAU/wG,EAAMqvE,GACtB,UAAdrvE,EAAK/Q,KACL+Q,EAAKs9C,MAAM1tD,SAAQ,SAAUoQ,GACrBA,GACA4wG,EAAQz+G,KAAK,CAAE6N,KAAMA,EAAMqvE,cAAAA,GAElC,IAEkB,WAAdrvE,EAAK/Q,MACV+Q,EAAK01F,WAAW9lG,SAAQ,SAAUyF,GAC9B,IAAIgvE,EAAYhvE,EAASgvE,UACzB,GAAIA,EACA,GAAIwX,EAAQ,EAAG,CACXA,IACA,IAAItyE,EAAW27D,GAASv2E,OAAO2a,EAAS2a,IAAKysF,GAASpnG,EAAUjU,IAC5D27G,EAAqB3hC,EAAgBA,EAAgB,IAAMh6E,EAASg1F,QAAQl9F,MAAQkI,EAASg1F,QAAQl9F,MACzGiD,EAAO+B,KAAK,CAAEnH,KAAMiR,EAAMg1G,YAAY57G,GAAWkjD,KAAMt8C,EAAMi1G,cAAc7sC,EAAUp1E,MAAOsa,SAAUA,EAAU8lE,cAAAA,IAChHuhC,EAAQz+G,KAAK,CAAE6N,KAAMqkE,EAAWgL,cAAe2hC,GACnD,MAEIF,GAAgB,CAG3B,GAET,EAEOD,EAAcD,EAAQ9oH,QAAQ,CACjC,IAAI2J,EAAOm/G,EAAQC,KACnBE,EAAsBt/G,EAAKuO,KAAMvO,EAAK49E,cAC1C,CAIA,OAHIyhC,GAAiBliH,GAAWA,EAAQ+hH,uBACpC/hH,EAAQ+hH,sBAAsBH,GAE3BpgH,CACX,EACAigH,EAAoBxjH,UAAUskH,qBAAuB,SAAU7nG,EAAUwrE,EAAKlmF,GAC1E,IAAIqN,EAAQ1P,UACI,IAAZqC,IAAsBA,EAAU,CAAE2hH,YAAa55G,OAAO2vE,YAC1D,IAAIx7E,EAAOgqF,EAAIhqF,KACf,IAAKA,EACD,MAAO,GAEX,IAAI+wF,EAAQjtF,EAAQ2hH,aAAe55G,OAAO2vE,UAEtCkqC,EAAiBlnG,EAAS2a,IAC9B,IAAwB,8CAAnBusF,GAA2Er3B,GAASq3B,EAAe/uF,cAAe,4BACjG,UAAd32B,EAAKmE,KAAkB,CAEvB,IADA,IAAImiH,EAAW,GACNv3G,EAAK,EAAGmN,EAAKlc,EAAKwyD,MAAOzjD,EAAKmN,EAAGlf,OAAQ+R,IAAM,CACpD,IAAIsvB,EAAOniB,EAAGnN,GACd,GAAkB,WAAdsvB,EAAKl6B,KACL,QAASqY,EAAK,EAAGC,EAAK4hB,EAAKusE,WAAYpuF,EAAKC,EAAGzf,OAAQwf,IAAM,CACzD,IAAIjS,EAAWkS,EAAGD,GAClB,GAA+B,QAA3BjS,EAASg1F,QAAQl9F,OAAmBkI,EAASgvE,UAAW,CACxD,IAAIp9C,EAAQypF,GAASpnG,EAAU6f,GAC3BmmD,EAAiBohC,GAASpnG,EAAUjU,EAASg1F,SAGjD,GAFA+mB,EAASj/G,KAAK,CAAEnH,KAAao5E,GAAa/uE,EAASgvE,WAAY9rB,KAAM0C,GAAAA,SAAqBh0B,MAAAA,EAAcqoD,eAAAA,MACxGuM,GACa,EAIT,OAHIjtF,GAAWA,EAAQ+hH,uBACnB/hH,EAAQ+hH,sBAAsBH,GAE3BY,CAEf,CACJ,CAER,CACA,OAAOA,CACX,CAgDJ,IA9CA,IAAIhhH,EAAS,GACTwgH,EAAU,CACV,CAAE5wG,KAAMlV,EAAMsF,OAAAA,IAEdygH,EAAc,EACdC,GAAgB,EAChBC,EAAwB,SAAU/wG,EAAM5P,GACtB,UAAd4P,EAAK/Q,KACL+Q,EAAKs9C,MAAM1tD,SAAQ,SAAUoQ,EAAMpD,GAC/B,GAAIoD,EACA,GAAI67E,EAAQ,EAAG,CACXA,IACA,IAAI50D,EAAQypF,GAASpnG,EAAUtJ,GAC3BsvE,EAAiBroD,EAEjBoqF,EAAS,CAAErmH,KADJ0L,OAAOkG,GACS27C,KAAMt8C,EAAMi1G,cAAclxG,EAAK/Q,MAAOg4B,MAAOA,EAAOqoD,eAAgBA,EAAgB5wE,SAAU,IACzHtO,EAAO+B,KAAKk/G,GACZT,EAAQz+G,KAAK,CAAE/B,OAAQihH,EAAO3yG,SAAUsB,KAAMA,GAClD,MAEI8wG,GAAgB,CAG3B,IAEkB,WAAd9wG,EAAK/Q,MACV+Q,EAAK01F,WAAW9lG,SAAQ,SAAUyF,GAC9B,IAAIgvE,EAAYhvE,EAASgvE,UACzB,GAAIA,EACA,GAAIwX,EAAQ,EAAG,CACXA,IACA,IAAI50D,EAAQypF,GAASpnG,EAAUjU,GAC3Bi6E,EAAiBohC,GAASpnG,EAAUjU,EAASg1F,SAC7C3rF,EAAW,GACX2yG,EAAS,CAAErmH,KAAMiR,EAAMg1G,YAAY57G,GAAWkjD,KAAMt8C,EAAMi1G,cAAc7sC,EAAUp1E,MAAOg4B,MAAOA,EAAOqoD,eAAgBA,EAAgB5wE,SAAAA,EAAoBwS,OAAQjV,EAAMq1G,UAAUjtC,IACvLj0E,EAAO+B,KAAKk/G,GACZT,EAAQz+G,KAAK,CAAE/B,OAAQsO,EAAUsB,KAAMqkE,GAC3C,MAEIysC,GAAgB,CAG3B,GAET,EAEOD,EAAcD,EAAQ9oH,QAAQ,CACjC,IAAI2J,EAAOm/G,EAAQC,KACnBE,EAAsBt/G,EAAKuO,KAAMvO,EAAKrB,OAC1C,CAIA,OAHI0gH,GAAiBliH,GAAWA,EAAQ+hH,uBACpC/hH,EAAQ+hH,sBAAsBH,GAE3BpgH,CACX,EACAigH,EAAoBxjH,UAAUqkH,cAAgB,SAAUK,GACpD,OAAQA,GACJ,IAAK,SACD,OAAOt2D,GAAAA,OACX,IAAK,SACD,OAAOA,GAAAA,OACX,IAAK,SACD,OAAOA,GAAAA,OACX,IAAK,QACD,OAAOA,GAAAA,MACX,IAAK,UACD,OAAOA,GAAAA,QACX,QACI,OAAOA,GAAAA,SAEnB,EACAo1D,EAAoBxjH,UAAUokH,YAAc,SAAU57G,GAClD,IAAIrK,EAAOqK,EAASg1F,QAAQl9F,MAI5B,OAHInC,IACAA,EAAOA,EAAKye,QAAQ,QAAS,WAE7Bze,GAAQA,EAAK6gE,OACN7gE,EAEJ,IAAOA,EAAO,GACzB,EACAqlH,EAAoBxjH,UAAUykH,UAAY,SAAUtxG,GAChD,GAAKA,EAGL,MAAkB,YAAdA,EAAK/Q,MAAoC,WAAd+Q,EAAK/Q,MAAmC,SAAd+Q,EAAK/Q,MAAiC,WAAd+Q,EAAK/Q,KAC3EyH,OAAOsJ,EAAK7S,OAGD,UAAd6S,EAAK/Q,KACE+Q,EAAKtB,SAAS5W,YAAS,EAAY,KAEvB,WAAdkY,EAAK/Q,KACH+Q,EAAKtB,SAAS5W,YAAS,EAAY,UAF9C,CAMR,EACAuoH,EAAoBxjH,UAAU2kH,mBAAqB,SAAUloG,EAAUwrE,EAAKlmF,GACxE,OAAOrC,KAAK06G,cAAc7B,qBAAqB97F,EAAS2a,IAAK6wD,GAAKxkF,MAAK,SAAUknF,GAC7E,IAAIpnF,EAAS,GACb,GAAIonF,EAIA,IAHA,IAAIqE,EAAQjtF,GAA0C,kBAAxBA,EAAQ2hH,YAA2B3hH,EAAQ2hH,YAAc55G,OAAO2vE,UAE1FmrC,EAAc,CAAC,EACV53G,EAAK,EAAGuxG,EAFKt2B,EAAImmB,mBAAmBzjB,EAAOA,QAEE39E,EAAKuxG,EAAkBtjH,OAAQ+R,IAAM,CACvF,IAAIT,EAAIgyG,EAAkBvxG,GAC1B,IAAKT,EAAE4kG,UAAY5kG,EAAEo+E,SAA+B,UAApBp+E,EAAEo+E,OAAO9sF,QAA0C,cAApB0O,EAAEo+E,OAAO9sF,SAA2B0O,EAAE4G,MAAwB,WAAhB5G,EAAE4G,KAAK/Q,KAAmB,CACnI,IAAIyiH,EAASh7G,OAAO0C,EAAE4G,KAAKyN,QAC3B,IAAKgkG,EAAYC,GAAS,CACtB,IAAIx9C,EAAQk8C,GAAoBhsC,GAAahrE,EAAE4G,OAC/C,GAAIk0D,EAAO,CACP,IAAIjtC,EAAQypF,GAASpnG,EAAUlQ,EAAE4G,MACjC5P,EAAO+B,KAAK,CAAE+hE,MAAAA,EAAcjtC,MAAAA,GAChC,CAGA,GAFAwqF,EAAYC,IAAU,IACtB71B,GACa,EAIT,OAHIjtF,GAAWA,EAAQ+hH,uBACnB/hH,EAAQ+hH,sBAAsBrnG,EAAS2a,KAEpC7zB,CAEf,CACJ,CACJ,CAEJ,OAAOA,CACV,GACL,EACAigH,EAAoBxjH,UAAU8kH,sBAAwB,SAAUroG,EAAUwrE,EAAK5gB,EAAOjtC,GAClF,IAMIkgD,EANA/2E,EAAS,GACTwhH,EAAS/qG,KAAKqrD,MAAkB,IAAZgC,EAAMD,KAAY49C,EAAWhrG,KAAKqrD,MAAoB,IAAdgC,EAAMc,OAAc88C,EAAUjrG,KAAKqrD,MAAmB,IAAbgC,EAAMa,MAC/G,SAASg9C,EAAcj6G,GACnB,IAAI9K,EAAI8K,EAAEC,SAAS,IACnB,OAAoB,IAAb/K,EAAElF,OAAe,IAAMkF,EAAIA,CACtC,CASA,OANIm6E,EADgB,IAAhBjT,EAAMe,MACE,IAAM88C,EAAcH,GAAUG,EAAcF,GAAYE,EAAcD,GAGtE,IAAMC,EAAcH,GAAUG,EAAcF,GAAYE,EAAcD,GAAWC,EAAclrG,KAAKqrD,MAAoB,IAAdgC,EAAMe,QAE5H7kE,EAAO+B,KAAK,CAAEg1E,MAAAA,EAAcpI,SAAU6G,GAASn8D,QAAQwd,EAAO7/B,KAAKC,UAAU8/E,MACtE/2E,CACX,EACOigH,CACX,CAzQyC,GA2QzC,SAASK,GAASpnG,EAAUtJ,GACxB,OAAO0mB,GAAAA,OAAapd,EAAS8rD,WAAWp1D,EAAKyN,QAASnE,EAAS8rD,WAAWp1D,EAAKyN,OAASzN,EAAKlY,QACjG,CChRA,IA4fQ0vF,GAEIw6B,GAIA1pC,GALCjzE,GAFJ8wF,GA3fLv8E,GAAequF,KACRiK,GAAsB,CAC7BG,mBAAoB,GACpB3c,QAAS,CAEL,iCAAkC,CAC9BuP,KAAM,2CAGV,0CAA2C,CACvC,QAAW,0CACX,YAAe,CACX,YAAe,CACX,KAAQ,QACR,SAAY,EACZ,MAAS,CACL,KAAQ,MAGhB,gBAAmB,CACf,KAAQ,UACR,QAAW,GAEf,wBAA2B,CACvB,MAAS,CACL,CACI,KAAQ,iCAEZ,CACI,QAAW,KAIvB,YAAe,CACX,KAAQ,SACR,KAAQ,CACJ,QACA,UACA,UACA,OACA,SACA,SACA,WAGR,YAAe,CACX,KAAQ,QACR,MAAS,CACL,KAAQ,UAEZ,SAAY,EACZ,aAAe,IAGvB,KAAQ,SACR,WAAc,CACV,GAAM,CACF,KAAQ,SACR,OAAU,OAEd,QAAW,CACP,KAAQ,SACR,OAAU,OAEd,MAAS,CACL,KAAQ,UAEZ,YAAe,CACX,KAAQ,UAEZ,QAAW,CAAC,EACZ,WAAc,CACV,KAAQ,SACR,QAAW,EACX,kBAAoB,GAExB,QAAW,CACP,KAAQ,UAEZ,iBAAoB,CAChB,KAAQ,UACR,SAAW,GAEf,QAAW,CACP,KAAQ,UAEZ,iBAAoB,CAChB,KAAQ,UACR,SAAW,GAEf,UAAa,CACT,MAAS,CACL,CACI,KAAQ,mCAIpB,UAAa,CACT,MAAS,CACL,CACI,KAAQ,2CAIpB,QAAW,CACP,KAAQ,SACR,OAAU,SAEd,gBAAmB,CACf,MAAS,CACL,CACI,KAAQ,WAEZ,CACI,KAAQ,MAGhB,QAAW,CAAC,GAEhB,MAAS,CACL,MAAS,CACL,CACI,KAAQ,KAEZ,CACI,KAAQ,8BAGhB,QAAW,CAAC,GAEhB,SAAY,CACR,MAAS,CACL,CACI,KAAQ,mCAIpB,SAAY,CACR,MAAS,CACL,CACI,KAAQ,2CAIpB,YAAe,CACX,KAAQ,UACR,SAAW,GAEf,cAAiB,CACb,MAAS,CACL,CACI,KAAQ,mCAIpB,cAAiB,CACb,MAAS,CACL,CACI,KAAQ,2CAIpB,SAAY,CACR,MAAS,CACL,CACI,KAAQ,+BAIpB,qBAAwB,CACpB,MAAS,CACL,CACI,KAAQ,WAEZ,CACI,KAAQ,MAGhB,QAAW,CAAC,GAEhB,YAAe,CACX,KAAQ,SACR,qBAAwB,CACpB,KAAQ,KAEZ,QAAW,CAAC,GAEhB,WAAc,CACV,KAAQ,SACR,qBAAwB,CACpB,KAAQ,KAEZ,QAAW,CAAC,GAEhB,kBAAqB,CACjB,KAAQ,SACR,qBAAwB,CACpB,KAAQ,KAEZ,QAAW,CAAC,GAEhB,aAAgB,CACZ,KAAQ,SACR,qBAAwB,CACpB,MAAS,CACL,CACI,KAAQ,KAEZ,CACI,KAAQ,gCAKxB,KAAQ,CACJ,KAAQ,QACR,SAAY,EACZ,aAAe,GAEnB,KAAQ,CACJ,MAAS,CACL,CACI,KAAQ,6BAEZ,CACI,KAAQ,QACR,MAAS,CACL,KAAQ,6BAEZ,SAAY,EACZ,aAAe,KAI3B,OAAU,CACN,MAAS,CACL,CACI,KAAQ,SACR,KAAQ,CACJ,YACA,MACA,QACA,WACA,OACA,OACA,UAGR,CACI,KAAQ,YAIpB,MAAS,CACL,MAAS,CACL,CACI,KAAQ,+BAIpB,MAAS,CACL,MAAS,CACL,CACI,KAAQ,+BAIpB,MAAS,CACL,MAAS,CACL,CACI,KAAQ,+BAIpB,IAAO,CACH,MAAS,CACL,CACI,KAAQ,QAKxB,aAAgB,CACZ,iBAAoB,CAChB,WAEJ,iBAAoB,CAChB,YAGR,QAAW,CAAC,GAEhB,0CAA2C,CACvC,YAAe,CACX,YAAe,CACX,KAAQ,QACR,SAAY,EACZ,MAAS,CAAE,KAAQ,MAEvB,mBAAsB,CAClB,KAAQ,UACR,QAAW,GAEf,2BAA8B,CAC1B,MAAS,CACL,CAAE,KAAQ,oCACV,CAAE,QAAW,KAGrB,YAAe,CACX,KAAQ,CACJ,QACA,UACA,UACA,OACA,SACA,SACA,WAGR,YAAe,CACX,KAAQ,QACR,MAAS,CAAE,KAAQ,UACnB,aAAe,EACf,QAAW,KAGnB,KAAQ,CAAC,SAAU,WACnB,WAAc,CACV,IAAO,CACH,KAAQ,SACR,OAAU,iBAEd,QAAW,CACP,KAAQ,SACR,OAAU,OAEd,KAAQ,CACJ,KAAQ,SACR,OAAU,iBAEd,SAAY,CACR,KAAQ,UAEZ,MAAS,CACL,KAAQ,UAEZ,YAAe,CACX,KAAQ,UAEZ,SAAW,EACX,SAAY,CACR,KAAQ,UACR,SAAW,GAEf,SAAY,CACR,KAAQ,QACR,OAAS,GAEb,WAAc,CACV,KAAQ,SACR,iBAAoB,GAExB,QAAW,CACP,KAAQ,UAEZ,iBAAoB,CAChB,KAAQ,UAEZ,QAAW,CACP,KAAQ,UAEZ,iBAAoB,CAChB,KAAQ,UAEZ,UAAa,CAAE,KAAQ,oCACvB,UAAa,CAAE,KAAQ,4CACvB,QAAW,CACP,KAAQ,SACR,OAAU,SAEd,gBAAmB,CAAE,KAAQ,KAC7B,MAAS,CACL,MAAS,CACL,CAAE,KAAQ,KACV,CAAE,KAAQ,8BAEd,SAAW,GAEf,SAAY,CAAE,KAAQ,oCACtB,SAAY,CAAE,KAAQ,4CACtB,YAAe,CACX,KAAQ,UACR,SAAW,GAEf,SAAY,CAAE,KAAQ,KACtB,cAAiB,CAAE,KAAQ,oCAC3B,cAAiB,CAAE,KAAQ,4CAC3B,SAAY,CAAE,KAAQ,6BACtB,qBAAwB,CAAE,KAAQ,KAClC,YAAe,CACX,KAAQ,SACR,qBAAwB,CAAE,KAAQ,KAClC,QAAW,CAAC,GAEhB,WAAc,CACV,KAAQ,SACR,qBAAwB,CAAE,KAAQ,KAClC,QAAW,CAAC,GAEhB,kBAAqB,CACjB,KAAQ,SACR,qBAAwB,CAAE,KAAQ,KAClC,cAAiB,CAAE,OAAU,SAC7B,QAAW,CAAC,GAEhB,aAAgB,CACZ,KAAQ,SACR,qBAAwB,CACpB,MAAS,CACL,CAAE,KAAQ,KACV,CAAE,KAAQ,gCAItB,cAAiB,CAAE,KAAQ,KAC3B,OAAS,EACT,KAAQ,CACJ,KAAQ,QACR,OAAS,EACT,SAAY,EACZ,aAAe,GAEnB,KAAQ,CACJ,MAAS,CACL,CAAE,KAAQ,6BACV,CACI,KAAQ,QACR,MAAS,CAAE,KAAQ,6BACnB,SAAY,EACZ,aAAe,KAI3B,OAAU,CAAE,KAAQ,UACpB,iBAAoB,CAAE,KAAQ,UAC9B,gBAAmB,CAAE,KAAQ,UAC7B,GAAM,CAAE,KAAQ,KAChB,KAAQ,CAAE,KAAQ,KAClB,KAAQ,CAAE,KAAQ,KAClB,MAAS,CAAE,KAAQ,6BACnB,MAAS,CAAE,KAAQ,6BACnB,MAAS,CAAE,KAAQ,6BACnB,IAAO,CAAE,KAAQ,MAErB,SAAW,KAInBgd,GAAe,CACf9tG,GAAIyF,GAAS,iBAAkB,uCAC/BgrF,QAAShrF,GAAS,sBAAuB,+CACzCuvC,MAAOvvC,GAAS,oBAAqB,uCACrC0+D,YAAa1+D,GAAS,0BAA2B,2EACjDsuE,QAAStuE,GAAS,sBAAuB,yCACzCksF,WAAYlsF,GAAS,yBAA0B,mFAC/CosF,QAASpsF,GAAS,sBAAuB,sDACzCqsF,iBAAkBrsF,GAAS,+BAAgC,yCAC3DurF,QAASvrF,GAAS,sBAAuB,sDACzCmsF,iBAAkBnsF,GAAS,+BAAgC,yCAC3DgoD,UAAWhoD,GAAS,wBAAyB,mCAC7CssF,UAAWtsF,GAAS,wBAAyB,mCAC7CusF,QAASvsF,GAAS,sBAAuB,oFACzCwsF,gBAAiBxsF,GAAS,8BAA+B,yNACzD0zC,MAAO1zC,GAAS,oBAAqB,wPACrC0sF,SAAU1sF,GAAS,uBAAwB,uEAC3CorF,SAAUprF,GAAS,uBAAwB,uEAC3C6rF,YAAa7rF,GAAS,0BAA2B,uEACjD2sF,cAAe3sF,GAAS,4BAA6B,mEACrD4sF,cAAe5sF,GAAS,4BAA6B,mEACrD6sF,SAAU7sF,GAAS,uBAAwB,uFAC3C8sF,qBAAsB9sF,GAAS,mCAAoC,2NACnEkrF,YAAalrF,GAAS,0BAA2B,+FACjD8rF,WAAY9rF,GAAS,yBAA0B,yDAC/C+sF,kBAAmB/sF,GAAS,gCAAiC,sFAC7DitF,aAAcjtF,GAAS,2BAA4B,8VACnD2rF,KAAM3rF,GAAS,mBAAoB,6CACnC3a,KAAM2a,GAAS,mBAAoB,uKACnClf,OAAQkf,GAAS,qBAAsB,gDACvCyrF,MAAOzrF,GAAS,oBAAqB,iDACrCysF,MAAOzsF,GAAS,oBAAqB,uDACrCutF,MAAOvtF,GAAS,oBAAqB,yDACrCwtF,IAAKxtF,GAAS,kBAAmB,kCACjCirF,IAAKjrF,GAAS,kBAAmB,uCACjCqrF,KAAMrrF,GAAS,mBAAoB,kDACnC+rF,SAAU/rF,GAAS,uBAAwB,yEAC3CgsF,SAAUhsF,GAAS,uBAAwB,4FAC3CisF,SAAUjsF,GAAS,uBAAwB,kGAC3Cs6D,SAAUt6D,GAAS,uBAAwB,oHAC3CgtF,cAAehtF,GAAS,4BAA6B,sIACrDktF,MAAOltF,GAAS,oBAAqB,8GACrCmtF,iBAAkBntF,GAAS,+BAAgC,kDAC3DotF,gBAAiBptF,GAAS,8BAA+B,wDACzDqtF,GAAIrtF,GAAS,iBAAkB,+GAC/BtZ,KAAMsZ,GAAS,mBAAoB,+EACnCstF,KAAMttF,GAAS,mBAAoB,+EAEvC,IAASu8E,MAAc+b,GAAoBxc,QAEvC,IAASrwF,MADLmiF,GAAS0qB,GAAoBxc,QAAQS,KACbuP,WAEM,mBAD1Bsc,GAAiBx6B,GAAOke,WAAWrgG,OAEnC28G,GAAiBx6B,GAAOke,WAAWrgG,IAAY,CAAC,IAEhDizE,GAAc2pC,GAAa58G,KAE3B28G,GAAA,YAAgC1pC,GAGhCnpE,QAAQsJ,IAAIpT,GAAW,2BAA6BA,GAAxC,WCvgBjB,SAAS68G,GAAU5oG,EAAUwrE,GAChC,IAAIq9B,EAAQ,GAgBZ,OAfAr9B,EAAI7T,OAAM,SAAUjhE,GAChB,IAAIgH,EACJ,GAAkB,aAAdhH,EAAK/Q,MAA8C,SAAvB+Q,EAAKqqF,QAAQl9F,OAA6F,YAA9C,QAAzB6Z,EAAKhH,EAAKqkE,iBAA8B,IAAPr9D,OAAgB,EAASA,EAAG/X,MAAoB,CAChJ,IAAI/H,EAAO8Y,EAAKqkE,UAAUl3E,MACtBilH,EAgBhB,SAAwBt9B,EAAK5tF,GACzB,IAAIuhG,EAiCR,SAA0BvhG,GACtB,GAAa,MAATA,EACA,MAAO,GAEX,GAAgB,MAAZA,EAAK,IAA0B,MAAZA,EAAK,GACxB,OAAO,KAEX,OAAOA,EAAK48B,UAAU,GAAGrgB,MAAM,MAAMrH,IAAIi2G,GAC7C,CAzCiBC,CAAiBprH,GAC9B,IAAKuhG,EACD,OAAO,KAEX,OAAO8pB,GAAS9pB,EAAQ3T,EAAIhqF,KAChC,CAtB6B0nH,CAAe19B,EAAK5tF,GACrC,GAAIkrH,EAAY,CACZ,IAAIK,EAAYnpG,EAAS8rD,WAAWg9C,EAAW3kG,QAC/C0kG,EAAMhgH,KAAK,CACPiD,OAAQkU,EAAS2a,IAAM,KAAOwuF,EAAUjjF,KAAO,GAAK,KAAOijF,EAAU5yD,UAAY,GACjF54B,MAAOyrF,GAAYppG,EAAUtJ,EAAKqkE,YAE1C,CACJ,CACA,OAAO,CACV,IACMlxE,QAAQ/K,QAAQ+pH,EAC3B,CACA,SAASO,GAAYppG,EAAUtJ,GAC3B,OAAO0mB,GAAAA,OAAapd,EAAS8rD,WAAWp1D,EAAKyN,OAAS,GAAInE,EAAS8rD,WAAWp1D,EAAKyN,OAASzN,EAAKlY,OAAS,GAC9G,CAQA,SAASyqH,GAAShqB,EAASvoF,GACvB,IAAKA,EACD,OAAO,KAEX,GAAuB,IAAnBuoF,EAAQzgG,OACR,OAAOkY,EAEX,IAAIo/D,EAAQmpB,EAAQp5B,QACpB,GAAInvD,GAAsB,WAAdA,EAAK/Q,KAAmB,CAChC,IAAImsG,EAAep7F,EAAK01F,WAAWv4F,MAAK,SAAUi+F,GAAgB,OAAOA,EAAa/Q,QAAQl9F,QAAUiyE,CAAQ,IAChH,OAAKg8B,EAGEmX,GAAShqB,EAAS6S,EAAa/2B,WAF3B,IAGf,IACSrkE,GAAsB,UAAdA,EAAK/Q,MACdmwE,EAAM11D,MAAM,qBAAsB,CAClC,IAAI9M,EAAQjG,OAAOmsF,SAAS1jB,GACxBuzC,EAAY3yG,EAAKs9C,MAAM1gD,GAC3B,OAAK+1G,EAGEJ,GAAShqB,EAASoqB,GAFd,IAGf,CAEJ,OAAO,IACX,CAUA,SAASN,GAAS7kG,GACd,OAAOA,EAAI/D,QAAQ,MAAO,KAAKA,QAAQ,MAAO,IAClD,CC3BM,SAAUmpG,GAAsBnlG,EAAgBolG,GAA2B,UACzDA,EAAcC,WAD2C,IAC/E,2BAA+C,KAApCC,EAAoC,QAC7C,GAAIA,EAAQC,kBAAoBD,EAAQC,iBAAiB/rF,MAAM,IAAMxZ,GAAUslG,EAAQC,iBAAiB/rF,MAAM,IAAMxZ,EAClH,OAAOslG,EAHoE,+BAO/E,OAAuC,IAAnCF,EAAcC,UAAUhrH,OACnB+qH,EAAcC,UAAU,GAG1B,IACT,CAEM,SAAUG,GAAwB/sB,GACtC,IAAMgtB,EAAkB,CAAC,UAAW,SAAU,YAE9C,OAAKhtB,EAGEA,EAAWlvF,QAAO,SAAC+/B,GACxB,GAAmB,kBAARA,EAAkB,CAC3B,IAAMo8E,EAAWp8E,EAAItzB,MAAM,KACrBxU,EAAQkkH,EAAS,IAAMA,EAAS,GAAG1xF,eAAkB,SAG3D,MAAa,QAATxyB,IAIqC,IAAlCikH,EAAgB34G,QAAQtL,GAEjC,OAAO,CACR,IAfQ,EAgBX,CACM,SAAUmkH,GAAaC,EAAqBC,GAChD,IAAKA,IAAQD,EACX,OAAO,EAET,GAAIC,EAAIxrH,SAAWurH,EAAIvrH,OACrB,OAAO,EAET,QAAS8U,EAAQy2G,EAAIvrH,OAAS,EAAG8U,GAAS,EAAGA,IAC3C,GAAIy2G,EAAIz2G,KAAW02G,EAAI12G,GACrB,OAAO,EAGX,OAAO,CACT,CC/DA,IAkCY22G,GAAAA,GAlCN3pG,GAAequF,KACfub,GAA2B,+BAOpBlb,GAAU,CACrB,YAAa,CACXC,aAAc3uF,GAAS,wBAAyB,gEAChDusF,QAAS,+CAEX,YAAa,CACXoC,aAAc3uF,GAAS,wBAAyB,sCAChDusF,QAAS,2JAEX7Q,KAAM,CACJiT,aAAc3uF,GAAS,oBAAqB,iCAC5CusF,QAAS,uDAEXsd,KAAM,CACJlb,aAAc3uF,GAAS,oBAAqB,iCAC5CusF,QAAS,0GAEXud,MAAO,CACLnb,aAAc3uF,GAAS,qBAAsB,oCAC7CusF,QAAS,yJAIAwd,GAAc,OACrBC,GAAqB,iBAEfL,GAAAA,KAAAA,GAAW,KACrBA,2BAAA,6BACAA,GAAAA,oBAAA,sBACAA,GAAAA,aAAA,eAGK,IAiMKrb,GAjMC2b,IAAA,QACVN,GAAYO,2BAA6B,2BAD/B,KAEVP,GAAYQ,oBAAsB,mCAFxB,KAGVR,GAAYS,aAAe,sBAHjB,IAiBSxb,GAAAA,WASpB,WAAYt6F,EAAiB+1G,EAAwBxmG,EAAgB3lB,GAAe,UAClF,KAAK2lB,OAASA,EACd,KAAK3lB,OAASA,EACd,KAAKoW,OAASA,EACd,KAAK+1G,aAAeA,CACtB,CAdoBzb,OAAAA,EAAAA,EAAAA,CAAAA,CAAAA,IAAAA,gCAAAA,MAgBb,SAA8B/qF,GAkBnC,IAjBA,IAAMq6F,EAAY,GAcZoM,EAbW,SAAX3B,EAAYvyG,GAChB,GAAIyN,GAAUzN,EAAKyN,QAAUA,GAAUzN,EAAKyN,OAASzN,EAAKlY,OAAQ,CAEhE,IADA,IAAM4W,EAAWsB,EAAKtB,SACb7W,EAAI,EAAGA,EAAI6W,EAAS5W,QAAU4W,EAAS7W,GAAG4lB,QAAUA,EAAQ5lB,IAAK,CACxE,IAAMshC,EAAOopF,EAAS7zG,EAAS7W,IAC3BshC,GACF2+E,EAAU31G,KAAKg3B,GAGnB,OAAOnpB,EAET,OAAO,IACT,CACkBuyG,CAAS,MACvB4B,EAAcx9G,OAAO2vE,UACrB8tC,EAAc,KAClB,MAAuBtM,EAAvB,eAAkC,CAAlC,IAAWuM,EAAA,KACHC,EAAUD,EAASvsH,OAASusH,EAAS5mG,OAASA,GAAUA,EAAS4mG,EAAS5mG,QAC5E6mG,EAAUH,IACZC,EAAcC,EACdF,EAAcG,GAGlB,OAAOF,GAAeF,CACxB,GA1CoB1b,CAAAA,IAAAA,WAAAA,IA4CpB,WACE,MAAO,EACT,GA9CoBA,CAAAA,IAAAA,WAAAA,MAgDb,WACL,MACE,SACA,KAAKvpG,KACL,KACA,KAAKwe,OACL,IACA,KAAK3lB,OACL,KACC,KAAKoW,OAAS,aAAe,KAAKA,OAAOnG,WAAa,IAAM,GAEjE,KA3DoBygG,CAAAA,CAAAA,GA8DTE,GAAAA,SAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,EAAAA,EAAAA,GAGX,WAAYx6F,EAAiB+1G,EAAoBxmG,EAAgB3lB,GAAe,wBAC9E,cAAMoW,EAAQ+1G,EAAcxmG,EAAQ3lB,IAH/BmH,KAAe,OACf,EAAA9B,MAAQ,KACiE,CAEhF,CALWurG,OAAAA,EAAAA,EAAAA,CAAAA,CAAwBF,IAQxBG,GAAAA,SAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,EAAAA,EAAAA,GAIX,WAAYz6F,EAAiB+1G,EAAoBrb,EAAoBnrF,EAAgB3lB,GAAe,wBAClG,cAAMoW,EAAQ+1G,EAAcxmG,EAAQ3lB,IAJ/BmH,KAAkB,UAKvB,EAAK9B,MAAQyrG,EAFqF,CAGpG,CAPWD,OAAAA,EAAAA,EAAAA,CAAAA,CAA2BH,IAU3BK,GAAAA,SAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,EAAAA,EAAAA,GAIX,WAAY36F,EAAiB+1G,EAAoBxmG,EAAgB3lB,GAAe,wBAC9E,cAAMoW,EAAQ+1G,EAAcxmG,EAAQ3lB,IAJ/BmH,KAAgB,QAKrB,EAAKquD,MAAQ,GAFiE,CAGhF,CAPWu7C,OAAAA,EAAAA,EAAAA,CAAAA,CAAAA,IAAAA,WAAAA,IASX,WACE,OAAO,KAAKv7C,KACd,KAXWu7C,CAAAA,CAAAA,CAAyBL,IAczBM,GAAAA,SAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,EAAAA,EAAAA,GAKX,WAAY56F,EAAiB+1G,EAAoBxmG,EAAgB3lB,GAAe,wBAC9E,cAAMoW,EAAQ+1G,EAAcxmG,EAAQ3lB,IAL/BmH,KAAiB,SAMtB,EAAKmpF,WAAY,EACjB,EAAKjrF,MAAQwJ,OAAOyrF,IAH0D,CAIhF,CATW0W,OAAAA,EAAAA,EAAAA,CAAAA,CAA0BN,IAY1BO,GAAAA,SAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,EAAAA,EAAAA,GAIX,WAAY76F,EAAiB+1G,EAAoBxmG,EAAgB3lB,GAAe,wBAC9E,cAAMoW,EAAQ+1G,EAAcxmG,EAAQ3lB,IAJ/BmH,KAAiB,SAKtB,EAAK9B,MAAQ,GAFiE,CAGhF,CAPW4rG,OAAAA,EAAAA,EAAAA,CAAAA,CAA0BP,IAU1BQ,GAAAA,SAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,EAAAA,EAAAA,GAMX,WAAY96F,EAAuB+1G,EAAoBxmG,EAAgB3lB,GAAe,wBACpF,cAAMoW,EAAQ+1G,EAAcxmG,EAAQ3lB,IAN/BmH,KAAmB,WAOxB,EAAKgqG,aAAc,EAFiE,CAGtF,CATWD,OAAAA,EAAAA,EAAAA,CAAAA,CAAAA,IAAAA,WAAAA,IAWX,WACE,OAAO,KAAK30B,UAAY,CAAC,KAAKgmB,QAAS,KAAKhmB,WAAa,CAAC,KAAKgmB,QACjE,KAbW2O,CAAAA,CAAAA,CAA4BR,IAgB5BU,GAAAA,SAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,EAAAA,EAAAA,GAIX,WAAYh7F,EAAiB+1G,EAAoBxmG,EAAgB3lB,GAAe,wBAC9E,cAAMoW,EAAQ+1G,EAAcxmG,EAAQ3lB,IAJ/BmH,KAAiB,SAMtB,EAAKymG,WAAa,GAH4D,CAIhF,CARWwD,OAAAA,EAAAA,EAAAA,CAAAA,CAAAA,IAAAA,WAAAA,IAUX,WACE,OAAO,KAAKxD,UACd,KAZWwD,CAAAA,CAAAA,CAA0BV,IAejC,SAAUW,GAAS3hB,GACvB,QAAe,IAAXA,EAIJ,OAAIogB,GAAUpgB,GACLA,EAAS,GAAK,CAAE4f,IAAK,KAGR,kBAAX5f,IAETr4E,QAAQC,KAAR,wBAA8BhY,KAAKC,UAAUmwF,GAA7C,sCACAA,EAAS,CACPvoF,KAAMuoF,IAGHA,EACT,WAYY0gB,GACVA,EAAAA,EAAAA,IAAA,SACAA,EAAAA,EAAAA,KAAA,SACF,EAHYA,KAAAA,GAAS,KAarB,IAAMkB,GAAAA,WAEJ,aAAqE,IAAjDC,EAAiD,wDAAnC,EAAY52D,EAAuB,uDAAJ,KAAI,UAAjD,KAAA42D,YAAAA,EAA0B,KAAA52D,QAAAA,EAD9C,KAAAijD,QAA+B,EACyC,CAFpE0T,OAAAA,EAAAA,EAAAA,CAAAA,CAAAA,IAAAA,MAAAA,MAGJ,SAAI5hB,GACF,KAAKkO,QAAQvzF,KAAKqlF,EACpB,GALI4hB,CAAAA,IAAAA,QAAAA,MAMJ,SAAM/yE,GAAuB,OAC3B,OAAKq/D,SAAQvzF,KAAb,UAAqBk0B,EAAMq/D,SAC7B,GARI0T,CAAAA,IAAAA,UAAAA,MASJ,SAAQp5F,GACN,QAA6B,IAArB,KAAKq5F,aAAsBn1B,GAASlkE,EAAM,KAAKq5F,eAAiBr5F,IAAS,KAAKyiC,OACxF,GAXI22D,CAAAA,IAAAA,SAAAA,MAYJ,WACE,OAAO,IAAIA,GAAgB,EAAI,KAAK32D,QACtC,KAdI22D,CAAAA,CAAAA,GAiBAI,GAAAA,WACJ,sBAEA,CAHIA,OAAAA,EAAAA,EAAAA,CAAAA,CAAAA,IAAAA,UAAAA,IAKJ,WACE,MAAO,EACT,GAPIA,CAAAA,IAAAA,MAAAA,MASJ,SAAIhiB,GAEJ,GAXIgiB,CAAAA,IAAAA,QAAAA,MAaJ,SAAMnzE,GAEN,GAfImzE,CAAAA,IAAAA,UAAAA,MAiBJ,SAAQx5F,GACN,OAAO,CACT,GAnBIw5F,CAAAA,IAAAA,SAAAA,MAoBJ,WACE,OAAO,IACT,KAtBIA,CAAAA,CAAAA,GAwBGA,GAAApjG,SAAW,IAAIojG,GAGlB,IAAOC,GAAAA,WAUX,WAAY8a,GAAqB,UAC/B,KAAK7a,SAAW,GAChB,KAAKC,kBAAoB,EACzB,KAAKC,uBAAyB,EAC9B,KAAKC,oBAAsB,EAC3B,KAAKC,gBAAiB,EAEpB,KAAKC,WADHwa,EACgB,GAEA,IAEtB,CArBW9a,OAAAA,EAAAA,EAAAA,CAAAA,CAAAA,IAAAA,cAAAA,MAuBJ,WACL,QAAS,KAAKC,SAAS5xG,MACzB,GAzBW2xG,CAAAA,IAAAA,WAAAA,MA2BJ,SAASS,GAAqC,UACpBA,GADoB,IACnD,2BAAkD,KAAvCE,EAAuC,QAChD,KAAK74F,MAAM64F,GAFsC,+BAIrD,GA/BWX,CAAAA,IAAAA,QAAAA,MAiCJ,SAAMW,GACX,KAAKV,SAAW,KAAKA,SAASr9F,OAAO+9F,EAAiBV,SACxD,GAnCWD,CAAAA,IAAAA,kBAAAA,MAqCJ,SAAgBW,GACrB,IAAK,KAAKN,iBAAmBM,EAAiBN,gBAAkB,KAAKC,YAAcK,EAAiBL,WAAY,CAC9G,KAAKA,WAAa,KAAKA,WAAW19F,OAAO+9F,EAAiBL,YADoD,UAE1F,KAAKL,UAFqF,IAE9G,2BAAmC,KAAxBlpG,EAAwB,QAC7BA,EAAMhJ,OAASitG,GAAU6F,oBAC3B9pG,EAAM0K,QAAU0O,GACd,cACA,4CACA,EAAI,IAAI9K,IAAI,KAAKi7F,aACd39F,KAAI,SAACotB,GACJ,OAAOpiC,KAAKC,UAAUmiC,EACvB,IACA1gC,KAAK,QAXgG,gCAgBlH,GAtDW2wG,CAAAA,IAAAA,sBAAAA,MA4DJ,SAAoBoE,EAAuC2W,GAAkC,IA5XtGxtG,EAAAM,EA4XsG,OAClG,GAAI,OAAAN,EAAA,KAAK0yF,eAAL,EAAA1yF,EAAelf,OAAQ,WACC0sH,GADD,2BACdC,EADc,YAEH,EAAK/a,SAAS1iG,QAAO,SAACvB,GAAD,OAAOA,EAAEg/G,cAAgBA,CAAzB,KAFlB,yBAGZC,EAHY,QAIfC,EAAgB,OAAArtG,EAAAu2F,EAAoBnE,eAApB,EAAApyF,EAA8BnK,MAClD,SAAC1H,GAAD,OACEA,EAAEg/G,cAAgBA,GAClBC,EAAWnrG,SAASkE,SAAWhY,EAAE8T,SAASkE,SACzCgnG,IAAgBlB,GAAYO,4BAA8BV,GAAa39G,EAAEm/G,YAAaF,EAAWE,aAHpG,IAKED,IACEA,EAAcC,YAAY9sH,SAC5B6sH,EAAcC,YACX59G,QAAO,SAACvB,GAAD,OAAQi/G,EAAWE,YAAYx7B,SAAS3jF,EAAxC,IACP7F,SAAQ,SAAC6F,GAAD,OAAOi/G,EAAWE,YAAYziH,KAAKsD,EAAnC,IACXi/G,EAAWx5G,QAAU25G,GAAkBH,EAAWD,YAAaC,EAAWE,cAE5E,EAAKE,aAAaH,EAAeD,GAjBd,EAGvB,2BAAsC,GAHf,iCACzB,2BAA+C,GADtB,gCAsB7B,GAnFWjb,CAAAA,IAAAA,qBAAAA,MAqFJ,SAAmBe,GACxB,KAAKj5F,MAAMi5F,GACX,KAAKb,qBAEHa,EAAyBV,iBACvBU,EAAyBR,eAAiBQ,EAAyBb,oBAErE,KAAKC,yBAEHY,EAAyBV,gBAAkBU,EAAyBT,YACtE,KAAKF,qBAET,GAjGWJ,CAAAA,IAAAA,eAAAA,MAmGH,SAAakb,EAAyBD,GAC5C,IAAMK,EAAgBJ,EAAcx9G,OAAOsS,QAAQmqG,GAAoB,IAClEc,EAAWv9G,OAAOiiF,SAAS27B,KAC9BL,EAAWv9G,OAASu9G,EAAWv9G,OAAS,MAAQ49G,GAE7CL,EAAWM,UAAU57B,SAASu7B,EAAcK,UAAU,MACzDN,EAAWM,UAAYN,EAAWM,UAAU34G,OAAOs4G,EAAcK,WAErE,GA3GWvb,CAAAA,IAAAA,iBAAAA,MA6GJ,SAAepzE,GACpB,IAAM2zE,EAAc,KAAKA,cACzB,OAAIA,IAAgB3zE,EAAM2zE,cACjBA,GAAc,EAAK,EAExB,KAAKF,iBAAmBzzE,EAAMyzE,eACzBzzE,EAAMyzE,gBAAiB,EAAK,EAEjC,KAAKF,yBAA2BvzE,EAAMuzE,uBACjC,KAAKA,uBAAyBvzE,EAAMuzE,uBAEzC,KAAKC,sBAAwBxzE,EAAMwzE,oBAC9B,KAAKA,oBAAsBxzE,EAAMwzE,oBAEnC,KAAKF,kBAAoBtzE,EAAMszE,iBACxC,GA5HWF,CAAAA,IAAAA,oBAAAA,MA8HJ,SAAkBpzE,GACvB,IAAM2zE,EAAc,KAAKA,cACzB,OAAI,KAAKL,oBAAsBtzE,EAAMszE,kBAC5B,KAAKA,kBAAoBtzE,EAAMszE,kBAEpC,KAAKG,iBAAmBzzE,EAAMyzE,eACzBzzE,EAAMyzE,gBAAiB,EAAK,EAEjC,KAAKD,sBAAwBxzE,EAAMwzE,oBAC9B,KAAKA,oBAAsBxzE,EAAMwzE,oBAEtC,KAAKD,yBAA2BvzE,EAAMuzE,uBACjC,KAAKA,uBAAyBvzE,EAAMuzE,uBAEzCI,IAAgB3zE,EAAM2zE,cACjBA,GAAc,EAAK,EAErB,KAAKL,kBAAoBtzE,EAAMszE,iBACxC,KAhJWF,CAAAA,CAAAA,GAwJP,SAAUr1B,GAAapkE,GAC3B,OAAQA,EAAK/Q,MACX,IAAK,QACH,OAAO+Q,EAAKtB,SAAStC,IAAIgoE,IAC3B,IAAK,SAEH,IADA,IAAMz3E,EAAMV,OAAO0C,OAAO,MACjBkL,EAAK,EAAGmN,EAAKhH,EAAKtB,SAAU7E,EAAKmN,EAAGlf,OAAQ+R,IAAM,CACzD,IAAMjN,EAAOoa,EAAGnN,GACVwqE,EAAYz3E,EAAK8R,SAAS,GAC5B2lE,IACF13E,EAAIC,EAAK8R,SAAS,GAAGvR,OAAmBi3E,GAAaC,IAGzD,OAAO13E,EAET,IAAK,OACL,IAAK,SACL,IAAK,SACL,IAAK,UACH,OAAOqT,EAAK7S,MACd,QACE,OAEN,CAEM,SAAU+2E,GAASlkE,EAAeyN,GAAyC,IAAzBw2D,EAAyB,wDAC/E,OACGx2D,GAAUzN,EAAKyN,QAAUA,GAAUzN,EAAKyN,OAASzN,EAAKlY,QAAYm8E,GAAqBx2D,IAAWzN,EAAKyN,OAASzN,EAAKlY,MAE1H,CAEM,SAAUk8E,GAAiBhkE,EAAeyN,EAAgBw2D,GAI9D,QAH0B,IAAtBA,IACFA,GAAoB,GAElBC,GAASlkE,EAAMyN,EAAQw2D,GAAoB,CAC7C,IAAMvlE,EAAWsB,EAAKtB,SACtB,GAAIhH,MAAMQ,QAAQwG,GAChB,QAAS7W,EAAI,EAAGA,EAAI6W,EAAS5W,QAAU4W,EAAS7W,GAAG4lB,QAAUA,EAAQ5lB,IAAK,CACxE,IAAMshC,EAAO66C,GAAiBtlE,EAAS7W,GAAI4lB,EAAQw2D,GACnD,GAAI96C,EACF,OAAOA,EAIb,OAAOnpB,EAGX,CAEM,IAAO06F,GAAAA,WAKX,WACkB5vG,GAEsB,IADtB6vG,EACsB,uDADO,GAC7BC,EAAsB,uDAAF,GAAE,UAFtB,KAAA9vG,KAAAA,EACA,KAAA6vG,aAAAA,EACA,KAAAC,SAAAA,CACf,CATQF,OAAAA,EAAAA,EAAAA,CAAAA,CAAAA,IAAAA,oBAAAA,MAWJ,SAAkBjtF,GAAyC,IAAzBw2D,EAAyB,wDAChE,GAAI,KAAKn5E,KACP,OAAOk5E,GAAiB,KAAKl5E,KAAM2iB,EAAQw2D,EAG/C,GAhBWy2B,CAAAA,IAAAA,gCAAAA,MAkBJ,SAA8BjtF,GACnC,OAAO,KAAK3iB,MAAQ,KAAKA,KAAKmqH,8BAA8BxnG,EAC9D,GApBWitF,CAAAA,IAAAA,QAAAA,MAsBJ,SAAMx5B,GACX,GAAI,KAAKp2E,KAAM,EACG,SAAVoqH,EAAWl1G,GACf,IAAI+6F,EAAM75B,EAAQlhE,GACZtB,EAAWsB,EAAKtB,SACtB,GAAIhH,MAAMQ,QAAQwG,GAChB,QAAS7W,EAAI,EAAGA,EAAI6W,EAAS5W,QAAUizG,EAAKlzG,IAC1CkzG,EAAMma,EAAQx2G,EAAS7W,IAG3B,OAAOkzG,CACT,CACAma,CAAQ,KAAKpqH,MAEjB,GApCW4vG,CAAAA,IAAAA,WAAAA,MAsCJ,SAAShyB,EAA4B8O,GAC1C,GAAI,KAAK1sF,MAAQ0sF,EAAQ,CACvB,IAAM4iB,EAAmB,IAAIX,GAAiB,KAAK8a,cAMnD,OALAvZ,GAAS,KAAKlwG,KAAM0sF,EAAQA,EAAQ4iB,EAAkBZ,GAAoBpjG,SAAU,CAClFm+G,aAAc,KAAKA,aACnBY,4BAA6B,KAAKA,4BAClClxF,IAAK,KAAKA,MAELm2E,EAAiBV,SAASt9F,KAAI,SAAC3G,GACpC,IAAMwxB,EAAQP,GAAAA,OACZgiD,EAAatT,WAAW3/D,EAAE8T,SAASkE,QACnCi7D,EAAatT,WAAW3/D,EAAE8T,SAASkE,OAAShY,EAAE8T,SAASzhB,SAEnDstH,EAAyBzvC,GAAAA,OAC7B1+C,EACAxxB,EAAEyF,QACFzF,EAAEuyE,SACFvyE,EAAEjO,KAAOiO,EAAEjO,KAAOitG,GAAU/0F,UAC5BjK,EAAE0B,QAGJ,OADAi+G,EAAWvrG,KAAX,GAAoBmrG,UAAWv/G,EAAEu/G,WAAcv/G,EAAEoU,MAC1CurG,CACR,IAEH,OAAO,IACT,GA/DW1a,CAAAA,IAAAA,qBAAAA,MA+EJ,SACLljB,GAGiC,IAAjC69B,EAAiC,uCAE3Bna,EAAkB,IAAI9B,GAFK,wDAFnB,EAEmB,uDADd,MAYnB,OARI,KAAKtuG,MAAQ0sF,GACfwjB,GAAS,KAAKlwG,KAAM0sF,EAAQA,EAAQ,IAAIiiB,GAAiB,KAAK8a,cAAerZ,EAAiB,CAC5FqZ,aAAc,KAAKA,aACnBY,4BAA6B,KAAKA,4BAClClxF,IAAK,KAAKA,IACVqxF,qBAAsBD,IAGnBna,EAAgBxV,OACzB,KA/FWgV,CAAAA,CAAAA,GAuGb,SAASM,GACPh7F,EACAw3E,EACA+9B,EACAnb,EACAc,EACAx5F,GAGA,IAAQ6yG,EAAuC7yG,EAAvC6yG,aAAce,EAAyB5zG,EAAzB4zG,qBACtB,GAAKt1G,GAKiB,kBAAXw3E,EAAX,CAUA,OANKA,EAAO1nD,MACV0nD,EAAO1nD,IAAMylF,EAAezlF,KAG9B0nD,EAAOgvB,aAAehvB,EAAOr+B,OAASo8D,EAAe/O,aAE7CxmG,EAAK/Q,MACX,IAAK,UAgiBP,SACE+Q,EACAw3E,EACA4iB,EACAc,GA/qCJ,IAAAl0F,EAirCUg9E,EAAuC/3F,OAAO0C,OAAO,MACrDwsG,EAAkC,GAClCqa,EAAA,EAA0Cx1G,EAAK01F,YAErD,KAAO8f,EAAiB1tH,OAAS,GAAG,CAClC,IAAMszG,EAAeoa,EAAiB/hH,MAChC1H,EAAMqvG,EAAa/Q,QAAQl9F,MAGjC,GAAY,OAARpB,GAAgBqvG,EAAa/2B,UAC/B,OAAQ+2B,EAAa/2B,UAAUp1E,MAC7B,IAAK,SACHumH,EAAiBrjH,KAAjB,MAAAqjH,EAAA,EAAyBpa,EAAa/2B,UAAb,aACzB,MAEF,IAAK,QACH+2B,EAAa/2B,UAAb,MAAgCz0E,SAAQ,SAAC6lH,GACnCA,GAAgBtP,GAAWsP,EAAA,aAC7BD,EAAiBrjH,KAAjB,MAAAqjH,EAAA,EAAyBC,EAAA,YAE5B,SAQLzxB,EAASj4F,GAAOqvG,EAAa/2B,UAC7B82B,EAAsBhpG,KAAKpG,GAI/B,GAAI2L,MAAMQ,QAAQs/E,EAAOif,UAAW,WACPjf,EAAOif,UADA,IAClC,2BAA4C,KAAjC4E,EAAiC,QAC1C,QAA+B,IAA3BrX,EAASqX,GAA6B,CACxC,IAAMhR,EAAUrqF,EAAK9B,QAA+B,aAArB8B,EAAK9B,OAAOjP,MAAuB+Q,EAAK9B,OAAOmsF,QACxE9gF,EAAW8gF,EAAU,CAAE58E,OAAQ48E,EAAQ58E,OAAQ3lB,OAAQuiG,EAAQviG,QAAW,CAAE2lB,OAAQzN,EAAKyN,OAAQ3lB,OAAQ,GAC/GsyG,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAAA,EACAy+D,SAAUxC,GAAAA,QACVtqE,QAAS25G,GAAkBtB,GAAYO,2BAA4B,CAACzY,IACpElkG,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,GAChCX,YAAa,CAACvZ,GACdoZ,YAAalB,GAAYO,8BAZG,kCAkBpC,IAAMxY,EAAoB,SAAC1uG,GAEzB,IADA,IAAIgQ,EAAQu+F,EAAsB5gG,QAAQ3N,GACnCgQ,GAAS,GACdu+F,EAAsBhvF,OAAOvP,EAAO,GACpCA,EAAQu+F,EAAsB5gG,QAAQ3N,EAE1C,EAEA,GAAI4qF,EAAOke,WACT,cAA2BzpG,OAAOoH,KAAKmkF,EAAOke,YAA9C,eAA2D,CAA3D,IAAW2F,EAAA,KACTC,EAAkBD,GAClB,IAAME,EAAiB/jB,EAAOke,WAAW2F,GACnCp9F,EAAQ+lF,EAASqX,GACvB,GAAIp9F,EACF,GAAI25F,GAAU2D,GACZ,GAAKA,EAaHnB,EAAiBT,oBACjBS,EAAiBR,6BAdE,CACnB,IAAMwB,EAAgCn9F,EAAMC,OAC5Ck8F,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CACRkE,OAAQ2tF,EAAa/Q,QAAQ58E,OAC7B3lB,OAAQszG,EAAa/Q,QAAQviG,QAE/BkgF,SAAUxC,GAAAA,QACVtqE,QAASs8E,EAAO+gB,cAAgB3uF,GAAS,6BAA8B4pG,GAA0BnY,GACjGlkG,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,SAM/B,CACLha,EAAezrE,IAAM,OAAA9oB,EAAAwwE,EAAO1nD,KAAP9oB,EAAcuuG,EAAezlF,IAClD,IAAM0qE,EAA2B,IAAIf,GAAiB8a,GACtDvZ,GAAS/8F,EAAOs9F,EAAgB/jB,EAAQgjB,EAA0BU,EAAiBx5F,GACnF04F,EAAiBG,mBAAmBC,GACpCJ,EAAiBC,gBAAgBG,IAMzC,GAAIhjB,EAAOmf,kBACT,cAA8B1qG,OAAOoH,KAAKmkF,EAAOmf,mBAAjD,eAAqE,CAArE,IAAqE,EAA1D+E,EAAA,KACHh0D,EAAQs+D,GAAwBtK,GAD6B,IAExCP,EAAsBjzG,MAAM,IAFY,IAEnE,2BAA2D,KAAhDmzG,EAAgD,QACzD,GAAI3zD,EAAM1vC,KAAKqjG,GAAe,CAC5BC,EAAkBD,GAClB,IAAMp9F,EAAQ+lF,EAASqX,GACvB,GAAIp9F,EAAO,CACT,IAAMs9F,EAAiB/jB,EAAOmf,kBAAkB+E,GAChD,GAAI9D,GAAU2D,GACZ,GAAKA,EAcHnB,EAAiBT,oBACjBS,EAAiBR,6BAfE,CACnB,IAAMwB,EAAgCn9F,EAAMC,OAC5Ck8F,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CACRkE,OAAQ2tF,EAAa/Q,QAAQ58E,OAC7B3lB,OAAQszG,EAAa/Q,QAAQviG,QAE/BkgF,SAAUxC,GAAAA,QACVtqE,QACEs8E,EAAO+gB,cAAgB3uF,GAAS,6BAA8B4pG,GAA0BnY,GAC1FlkG,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,SAM/B,CACL,IAAM/a,EAA2B,IAAIf,GAAiB8a,GACtDvZ,GAAS/8F,EAAOs9F,EAAgB/jB,EAAQgjB,EAA0BU,EAAiBx5F,GACnF04F,EAAiBG,mBAAmBC,GACpCJ,EAAiBC,gBAAgBG,MA9B0B,kCAqCvE,GAA2C,kBAAhChjB,EAAOkf,qBAAmC,WACxByE,GADwB,IACnD,2BAAkD,KAAvCE,EAAuC,QAC1Cp9F,EAAQ+lF,EAASqX,GACvB,GAAIp9F,EAAO,CACT,IAAMu8F,EAA2B,IAAIf,GAAiB8a,GAEtDvZ,GAAS/8F,EAAYu5E,EAAOkf,qBAAsBlf,EAAQgjB,EAA0BU,EAAiBx5F,GACrG04F,EAAiBG,mBAAmBC,GACpCJ,EAAiBC,gBAAgBG,IARc,uCAArD,KAYkC,IAAhChjB,EAAOkf,sBACU,WAAhBlf,EAAOvoF,WAAqD,IAAhCuoF,EAAOkf,uBAA8E,IAAxCh1F,EAAQyzG,8BAE9Eha,EAAsBrzG,OAAS,EAAG,CACpC,IADoC,EAC9B8tH,EAAqBp+B,EAAOke,YAAczpG,OAAOoH,KAAKmkF,EAAOke,YAAY1+F,QAAO,SAACpK,GAAD,OAAWo3F,EAASp3F,EAApB,IADlD,IAGTuuG,GAHS,IAGpC,2BAAkD,KAAvCE,EAAuC,QAC1Cp9F,EAAQ+lF,EAASqX,GACvB,GAAIp9F,EAAO,CACT,IAAIm9F,EAAe,KACA,aAAfn9F,EAAMhP,KAEkB,YAD1BmsG,EAAgCn9F,EAAMC,QACrBjP,OACfmsG,EAAeA,EAAa1F,WAAW,IAGzC0F,EAAen9F,EAEjB,IAAM2wG,EAAoB,CACxBrlG,SAAU,CACRkE,OAAQ2tF,EAAa/Q,QAAQ58E,OAC7B3lB,OAAQszG,EAAa/Q,QAAQviG,QAE/BkgF,SAAUxC,GAAAA,QACVtqE,QAASs8E,EAAO+gB,cAAgB3uF,GAAS,6BAA8B4pG,GAA0BnY,GACjGlkG,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAE9B,MAAAK,OAAA,EAAAA,EAAoB9tH,UACtB8mH,EAAQ/kG,KAAO,CAAE6rF,WAAYkgB,IAE/Bxb,EAAiBV,SAASvnG,KAAKy8G,IA5BC,kCAkCpClX,GAASlgB,EAAO+e,gBACdv2F,EAAK01F,WAAW5tG,OAAS0vF,EAAO+e,eAClC6D,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QAAS0O,GAAS,iBAAkB,gDAAiD4tE,EAAO+e,eAC5Fp/F,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAKlC7d,GAASlgB,EAAOgf,gBACdx2F,EAAK01F,WAAW5tG,OAAS0vF,EAAOgf,eAClC4D,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QAAS0O,GACP,iBACA,8DACA4tE,EAAOgf,eAETr/F,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAKtC,GAAI/9B,EAAOqf,aACT,cAAkB5qG,OAAOoH,KAAKmkF,EAAOqf,cAArC,eAAoD,CAApD,IAAW9qG,EAAA,KAET,GADai4F,EAASj4F,GACZ,CACR,IAAMowG,GAAc3kB,EAAOqf,aAAa9qG,GACxC,GAAI2L,MAAMQ,QAAQikG,IAAc,aACHA,IADG,IAC9B,8BAAwC,KAA7BG,GAA6B,SACjCtY,EAASsY,IAcZlC,EAAiBR,yBAbjBQ,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QAAS0O,GACP,+BACA,2DACA0yF,GACAvwG,GAEFoL,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAbR,wCAmBzB,CACL,IAAMha,GAAiBpC,GAASgD,IAChC,GAAIZ,GAAgB,CAClB,IAAMf,GAA2B,IAAIf,GAAiB8a,GACtDvZ,GAASh7F,EAAMu7F,GAAgB/jB,EAAQgjB,GAA0BU,EAAiBx5F,GAClF04F,EAAiBG,mBAAmBC,IACpCJ,EAAiBC,gBAAgBG,OAO3C,IAAM5D,GAAgBuC,GAAS3hB,EAAOof,eACtC,GAAIA,GAAe,aACD52F,EAAK01F,YADJ,IACjB,8BAAiC,KACzB3pG,GADyB,SACjBs+F,QACVt+F,IACFivG,GAASjvG,GAAK6qG,GAAepf,EAAQ4iB,EAAkBZ,GAAoBpjG,SAAUsL,GAJxE,oCAQrB,CAnyBI86F,CAAoBx8F,EAAMw3E,EAAQ4iB,EAAkBc,GACpD,MACF,IAAK,SAmaP,SACEl7F,EACAw3E,EACA4iB,EACAc,GAEA,GAAIxjG,MAAMQ,QAAQs/E,EAAOl6B,OAAQ,CAE/B,IADA,IAAMm/C,EAAajlB,EAAOl6B,MACjB1gD,EAAQ,EAAGA,EAAQ6/F,EAAW30G,OAAQ8U,IAAS,CACtD,IACM8/F,EAAYvD,GADGsD,EAAW7/F,IAE1B+/F,EAAuB,IAAIlD,GAAiB8a,GAC5CprF,EAAOnpB,EAAKs9C,MAAM1gD,GACpBusB,GACF6xE,GAAS7xE,EAAMuzE,EAAWllB,EAAQmlB,EAAsBzB,EAAiBx5F,GACzE04F,EAAiBG,mBAAmBoC,GACpCvC,EAAiBC,gBAAgBsC,IACxB38F,EAAKs9C,MAAMx1D,QAAU20G,EAAW30G,QACzCsyG,EAAiBR,yBAGrB,GAAI55F,EAAKs9C,MAAMx1D,OAAS20G,EAAW30G,OACjC,GAAsC,kBAA3B0vF,EAAO4e,gBAChB,QAASvuG,EAAI40G,EAAW30G,OAAQD,EAAImY,EAAKs9C,MAAMx1D,OAAQD,IAAK,CAC1D,IAAM80G,EAAuB,IAAIlD,GAAiB8a,GAElDvZ,GAASh7F,EAAKs9C,MAAMz1D,GAAS2vF,EAAO4e,gBAAiB5e,EAAQmlB,EAAsBzB,EAAiBx5F,GACpG04F,EAAiBG,mBAAmBoC,GACpCvC,EAAiBC,gBAAgBsC,QAEC,IAA3BnlB,EAAO4e,iBAChBgE,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QAAS0O,GACP,yBACA,uEACA6yF,EAAW30G,QAEbqP,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,SAIjC,CACL,IAAM3Y,EAAazD,GAAS3hB,EAAOl6B,OACnC,GAAIs/C,EAAY,CACd,IAAMD,EAAuB,IAAIlD,GAAiB8a,GAClDv0G,EAAKs9C,MAAM1tD,SAAQ,SAACu5B,GAClB,GAAIyzE,EAAWzF,OAAqC,IAA5ByF,EAAWzF,MAAMrvG,OAAc,CACrD,IACM40G,EAAA,KAAiBvD,GADFyD,EAAWzF,MAAM,KAEtCuF,EAAUvjD,MAAQq+B,EAAOr+B,MACzBujD,EAAU8J,aAAehvB,EAAOgvB,aAChCxL,GAAS7xE,EAAMuzE,EAAWllB,EAAQmlB,EAAsBzB,EAAiBx5F,GACzE04F,EAAiBG,mBAAmBoC,GACpCvC,EAAiBC,gBAAgBsC,QAEjC3B,GAAS7xE,EAAMyzE,EAAYplB,EAAQmlB,EAAsBzB,EAAiBx5F,GAC1E04F,EAAiBG,mBAAmBoC,GACpCvC,EAAiBC,gBAAgBsC,EAEpC,KAIL,IAAME,EAAiB1D,GAAS3hB,EAAOtT,UACvC,GAAI24B,EAAgB,CAClB,IAAMgZ,EAAc71G,EAAKs9C,MAAMpgD,MAAK,SAACisB,GACnC,IAAMwzE,EAAuB,IAAIlD,GAAiB8a,GAElD,OADAvZ,GAAS7xE,EAAM0zE,EAAgBrlB,EAAQmlB,EAAsBnD,GAAoBpjG,SAAUsL,IACnFi7F,EAAqB3C,aAC9B,IAEI6b,GACHzb,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QAASs8E,EAAO+gB,cAAgB3uF,GAAS,6BAA8B,yCACvEzS,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAKlC7d,GAASlgB,EAAOwd,WAAah1F,EAAKs9C,MAAMx1D,OAAS0vF,EAAOwd,UAC1DoF,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QAAS0O,GAAS,kBAAmB,iDAAkD4tE,EAAOwd,UAC9F79F,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAIhC7d,GAASlgB,EAAO8e,WAAat2F,EAAKs9C,MAAMx1D,OAAS0vF,EAAO8e,UAC1D8D,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QAAS0O,GAAS,kBAAmB,mDAAoD4tE,EAAO8e,UAChGn/F,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAIpC,IAA2B,IAAvB/9B,EAAOie,YAAsB,CAC/B,IAAMhmG,EAAS20E,GAAapkE,GACtB81G,EAAarmH,EAAOyN,MAAK,SAAC/P,EAAOyP,GACrC,OAAOA,IAAUnN,EAAOxH,YAAYkF,EACrC,IACG2oH,GACF1b,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QAAS0O,GAAS,qBAAsB,8BACxCzS,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAIxC,CA1hBIxY,CAAmB/8F,EAAMw3E,EAAQ4iB,EAAkBc,GACnD,MACF,IAAK,UAqUP,SAA6Bl7F,EAAqBw3E,EAAoB4iB,GAChE1C,GAASlgB,EAAO0e,YAAcl2F,EAAK7S,MAAMrF,OAAS0vF,EAAO0e,WAC3DkE,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QAAS0O,GAAS,mBAAoB,oDAAqD4tE,EAAO0e,WAClG/+F,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAIhC7d,GAASlgB,EAAO5lB,YAAc5xD,EAAK7S,MAAMrF,OAAS0vF,EAAO5lB,WAC3DwoC,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QAAS0O,GAAS,mBAAoB,mDAAoD4tE,EAAO5lB,WACjGz6D,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAIpC,GAAI5/E,GAAS6hD,EAAO2e,SAAU,CACd6P,GAAwBxuB,EAAO2e,SAClCn+F,KAAKgI,EAAK7S,QACnBitG,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QACEs8E,EAAOwlB,qBACPxlB,EAAO+gB,cACP3uF,GAAS,iBAAkB,8CAA+C4tE,EAAO2e,SACnFh/F,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAKtC,GAAI/9B,EAAO9sF,OACT,OAAQ8sF,EAAO9sF,QACb,IAAK,MACL,IAAK,gBAED,IAAI6tG,EACJ,GAAKv4F,EAAK7S,MAGR,IACcy1B,GAAAA,MAAU5iB,EAAK7S,OAClB+1B,QAA4B,QAAlBs0D,EAAO9sF,SACxB6tG,EAAe3uF,GAAS,mBAAoB,mCAHhD,MAKSnd,IACP8rG,EAAe9rG,GAAEyO,aARnBq9F,EAAe3uF,GAAS,WAAY,iBAWlC2uF,GACF6B,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QACEs8E,EAAOwlB,qBACPxlB,EAAO+gB,cACP3uF,GAAS,mBAAoB,2BAA4B2uF,GAC3DphG,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAItC,MACF,IAAK,YACL,IAAK,YACL,IAAK,OACL,IAAK,OACL,IAAK,QAED,IAAM7qH,EAAS4tG,GAAQ9gB,EAAO9sF,QACzBsV,EAAK7S,OAAUzC,EAAOyrG,QAAQxyE,KAAK3jB,EAAK7S,QAC3CitG,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QAASs8E,EAAOwlB,qBAAuBxlB,EAAO+gB,cAAgB7tG,EAAO6tG,aACrEphG,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAQ9C,CA9ZItY,CAAoBj9F,EAAMw3E,EAAQ4iB,GAClC,MACF,IAAK,UA2PP,SAA6Bp6F,EAAqBw3E,EAAoB4iB,GACpE,IAAM9mG,EAAM0M,EAAK7S,MAEbuqG,GAASlgB,EAAOse,aACdxiG,EAAMkkF,EAAOse,aAAe,GAC9BsE,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QAAS0O,GAAS,oBAAqB,iCAAkC4tE,EAAOse,YAChF3+F,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAItC,SAASjY,EAAkBzhB,EAA2B0hB,GACpD,OAAI7F,GAAS6F,GACJA,EAEL3F,GAAU2F,IAAcA,EACnB1hB,OADT,CAIF,CACA,SAAS2hB,EAAS3hB,EAA2B0hB,GAC3C,IAAK3F,GAAU2F,KAAeA,EAC5B,OAAO1hB,CAGX,CACA,IAAMka,EAAmBuH,EAAkB9lB,EAAO2d,QAAS3d,EAAOue,kBAC9D2B,GAAS3B,IAAqBziG,GAAOyiG,GACvCqE,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QAAS0O,GAAS,0BAA2B,+CAAgDmsF,GAC7F5+F,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAGpC,IAAMtf,EAAmBqH,EAAkB9lB,EAAOwe,QAASxe,EAAOye,kBAC9DyB,GAASzB,IAAqB3iG,GAAO2iG,GACvCmE,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QAAS0O,GAAS,0BAA2B,+CAAgDqsF,GAC7F9+F,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAGpC,IAAMpgB,EAAUqI,EAAShmB,EAAO2d,QAAS3d,EAAOue,kBAC5C2B,GAASvC,IAAY7hG,EAAM6hG,GAC7BiF,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QAAS0O,GAAS,iBAAkB,qCAAsCurF,GAC1Eh+F,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAGpC,IAAMvf,EAAUwH,EAAShmB,EAAOwe,QAASxe,EAAOye,kBAC5CyB,GAAS1B,IAAY1iG,EAAM0iG,GAC7BoE,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QAAS0O,GAAS,iBAAkB,qCAAsCosF,GAC1E7+F,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,IAGtC,CA/TI9X,CAAoBz9F,EAAMw3E,EAAQ4iB,GAClC,MACF,IAAK,WACH,OAAOY,GAASh7F,EAAKqkE,UAAWmT,EAAQA,EAAQ4iB,EAAkBc,EAAiBx5F,IAMvF,WACE,SAASg8F,EAAYzuG,GACnB,OAAO+Q,EAAK/Q,OAASA,GAAkB,YAATA,GAAoC,WAAd+Q,EAAK/Q,MAAqB+Q,EAAKo4E,SACrF,CAEA,GAAI1gF,MAAMQ,QAAQs/E,EAAOvoF,MAClBuoF,EAAOvoF,KAAKiO,KAAKwgG,IACpBtD,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QACEs8E,EAAO+gB,cACP3uF,GAAS,2BAA4B,uCAAmD4tE,EAAOvoF,KAAMnG,KAAK,OAC5GqO,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,UATtC,GAYW/9B,EAAOvoF,OACXyuG,EAAYlmB,EAAOvoF,MAAO,CAE7B,IAAM8mH,EAA6B,WAAhBv+B,EAAOvoF,KAAoBo3G,GAAkB7uB,GAAUA,EAAOvoF,KACjFmrG,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QAASs8E,EAAO+gB,cAAgBsc,GAAkBtB,GAAYQ,oBAAqB,CAACgC,IACpF5+G,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,GAChCd,YAAalB,GAAYQ,oBACzBa,YAAa,CAACmB,KAIpB,GAAIr+G,MAAMQ,QAAQs/E,EAAO6d,OAAQ,WACJ7d,EAAO6d,OADH,IAC/B,2BAAyC,KAA9BsI,EAA8B,QACvC3C,GAASh7F,EAAMm5F,GAASwE,GAAenmB,EAAQ4iB,EAAkBc,EAAiBx5F,GAFrD,gCAKjC,IAAMk8F,EAAYzE,GAAS3hB,EAAO4f,KAClC,GAAIwG,EAAW,CACb,IAAMC,EAAsB,IAAIpE,GAAiB8a,GAC3CzW,EAAqB5C,EAAgB3B,SAC3CyB,GAASh7F,EAAM49F,EAAWpmB,EAAQqmB,EAAqBC,EAAoBp8F,GACtEm8F,EAAoB7D,eACvBI,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QAAS0O,GAAS,mBAAoB,yCACtCzS,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAVvB,UAaIzX,EAAmBpY,SAbvB,IAab,2BAA6C,KAAlCqY,EAAkC,QAC3CA,EAAGC,UAAYD,EAAGC,SAClB9C,EAAgB77F,IAAI0+F,GAfT,gCAmBf,IAAME,EAAmB,SAACC,EAA+BC,GACvD,IADuF,EACjF1oC,EAAU,GACVugD,EAAa,GACbC,EAAoB,GAEtB7X,EAIA,KATmF,IAU5DF,GAV4D,IAUvF,2BAAyC,KACjCxB,EAAA,KAAiBvD,GADgB,UAEjC0E,EAAsB,IAAIpE,GAAiB8a,GAC3CzW,EAAqB5C,EAAgB3B,SAC3CyB,GAASh7F,EAAM08F,EAAWllB,EAAQqmB,EAAqBC,EAAoBp8F,GACtEm8F,EAAoB7D,gBAAiBsb,IACxC7/C,EAAQtjE,KAAKuqG,GACbsZ,EAAW7jH,KAAKuqG,GAC8B,IAA1CmB,EAAoBlE,mBACtBsc,EAAkB9jH,KAAKuqG,GAErBA,EAAUhyG,QACZsrH,EAAWviH,OAUb2qG,EAPGA,EAMMmW,EACG2B,EAAsBrY,EAAqBO,EAAW1B,EAAWoB,GAEjEqY,EAAkBn2G,EAAMm+F,EAAaN,EAAqBO,EAAW1B,EAAWoB,GARhF,CACVtmB,OAAQklB,EACRtC,iBAAkByD,EAClB3C,gBAAiB4C,GA7BgE,+BAqDvF,OAfIkY,EAAWluH,OAAS,IAAMkuH,EAAWluH,OAAS,GAAkC,IAA7BmuH,EAAkBnuH,SAAiBq2G,GACxF/D,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQ,GACzCkgF,SAAUxC,GAAAA,QACVtqE,QAAS0O,GAAS,eAAgB,yDAClCzS,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAGlB,OAAdnX,IACFhE,EAAiB74F,MAAM68F,EAAUhE,kBACjCA,EAAiBT,mBAAqByE,EAAUhE,iBAAiBT,kBACjES,EAAiBR,wBAA0BwE,EAAUhE,iBAAiBR,uBACtEsB,EAAgB35F,MAAM68F,EAAUlD,kBAE3BzlC,EAAQ3tE,MACjB,EACI4P,MAAMQ,QAAQs/E,EAAO6e,QACvB4H,EAAiBzmB,EAAO6e,OAAO,GAE7B3+F,MAAMQ,QAAQs/E,EAAO2f,QACvB8G,EAAiBzmB,EAAO2f,OAAO,GAGjC,IAAMoH,EAAa,SAAC/mB,EAAuB+9B,GACzC,IAAM1X,EAAsB,IAAIpE,GAAiB8a,GAC3CzW,EAAqB5C,EAAgB3B,SAE3CyB,GAASh7F,EAAMm5F,GAAS3hB,GAAS+9B,EAAgB1X,EAAqBC,EAAoBp8F,GAE1F04F,EAAiB74F,MAAMs8F,GACvBzD,EAAiBT,mBAAqBkE,EAAoBlE,kBAC1DS,EAAiBR,wBAA0BiE,EAAoBjE,uBAC/DsB,EAAgB35F,MAAMu8F,EACxB,EA2CMU,EAAWrF,GAAS3hB,EAAOyf,IAC7BuH,GA1CkB,SACpBA,EACA+W,EACA9W,EACAC,GAEA,IAAMhC,EAAYvD,GAASqF,GACrBX,EAAsB,IAAIpE,GAAiB8a,GAC3CzW,EAAqB5C,EAAgB3B,SAE3CyB,GAASh7F,EAAM08F,EAAW6Y,EAAgB1X,EAAqBC,EAAoBp8F,GACnFw5F,EAAgB35F,MAAMu8F,GAEtB,IAAQsY,EAA2B1Z,EAA3B0Z,uBACJA,IACkB,IAAI7W,GAAuB6W,GAC9BxW,eAAel+F,EAAQuiB,MACtC45E,EAAoBnE,SAASvnG,KAAK,CAChCoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVtqE,QAAS0O,GACP,2BADOA,2BAAAA,OAEoBwsG,EAFpBxsG,mCAAAA,OAE4ElI,EAAQuiB,IAFpFra,OAITzS,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,MAOjC1X,EAAoB7D,cAId0E,GACTH,EAAWG,EAAY6W,GAJnB9W,GACFF,EAAWE,EAAY8W,EAK7B,CAIE5W,CAAcH,EAAUhnB,EAAQ2hB,GAAS3hB,EAAOlnF,MAAO6oG,GAAS3hB,EAAO0f,OAGzE,GAAIx/F,MAAMQ,QAAQs/E,EAAO+d,MAAO,CAC9B,IAD8B,EACxBjiG,EAAM8wE,GAAapkE,GACrB85F,GAAiB,EAFS,IAGdtiB,EAAO+d,MAHO,IAG9B,2BAA6B,KAAlB9oG,EAAkB,QAC3B,GAAIsW,GAAOzP,EAAK7G,IAAO6oH,GAAwB3/E,GAASriC,IAAQqiC,GAASlpC,IAAM6G,GAAO7G,EAAEqiB,WAAWxb,GAAO,CACxGwmG,GAAiB,EACjB,OAN0B,+BAS9BM,EAAiBL,WAAaviB,EAAO+d,KACrC6E,EAAiBN,eAAiBA,EAC7BA,GACHM,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVh+E,KAAMitG,GAAU6F,kBAChBp/F,QACEs8E,EAAO+gB,cACP3uF,GACE,cACA,4CACA4tE,EAAO+d,KACJn5F,KAAI,SAACotB,GACJ,OAAOpiC,KAAKC,UAAUmiC,EACvB,IACA1gC,KAAK,OAEZqO,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,KAKtC,GAAI5d,GAAUngB,EAAOsf,OAAQ,CAEtB/zF,GADOqhE,GAAapkE,GACRw3E,EAAOsf,OAatBsD,EAAiBN,gBAAiB,GAZlCM,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAKyN,OAAQ3lB,OAAQkY,EAAKlY,QAC9CkgF,SAAUxC,GAAAA,QACVh+E,KAAMitG,GAAU6F,kBAChBma,YAAalB,GAAYS,aACzB94G,QAASs8E,EAAO+gB,cAAgBsc,GAAkBtB,GAAYS,aAAc,CAAC5sH,KAAKC,UAAUmwF,EAAOsf,SACnG3/F,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,GAChCX,YAAa,CAACxtH,KAAKC,UAAUmwF,EAAOsf,UAEtCsD,EAAiBN,gBAAiB,GAIpCM,EAAiBL,WAAa,CAACviB,EAAOsf,OAGpCtf,EAAOonB,oBAAsB5+F,EAAK9B,QACpCk8F,EAAiBV,SAASvnG,KAAK,CAC7BoX,SAAU,CAAEkE,OAAQzN,EAAK9B,OAAOuP,OAAQ3lB,OAAQkY,EAAK9B,OAAOpW,QAC5DkgF,SAAUxC,GAAAA,QACVtqE,QAASs8E,EAAOonB,mBAChBznG,OAAQu+G,GAAgBl+B,EAAQ+9B,GAChCP,UAAWW,GAAan+B,EAAQ+9B,IAGtC,CAnPA1W,GAEA3D,EAAgB77F,IAAI,CAAEW,KAAAA,EAAYw3E,OAAAA,IAuxBlC,SAAS0+B,EAAsBrY,EAAqBO,EAAW1B,EAAWoB,GACxE,IAAMQ,EAAgBT,EAAoBwY,kBAAkBjY,EAAUhE,kBAatE,OAZIkE,EAAgB,EAElBF,EAAY,CACV5mB,OAAQklB,EACRtC,iBAAkByD,EAClB3C,gBAAiB4C,GAEQ,IAAlBQ,IAETF,EAAUlD,gBAAgB35F,MAAMu8F,GAChCM,EAAUhE,iBAAiBC,gBAAgBwD,IAEtCO,CACT,CAGA,SAAS+X,EACPn2G,EACAm+F,EACAN,EACAO,EAKA1B,EACAoB,GAMA,GACGK,GACAN,EAAoB7D,eACnBoE,EAAUhE,iBAAiBJ,gBAAiBsb,EAMzC,CACL,IAAMhX,EAAgBT,EAAoByY,eAAelY,EAAUhE,kBAEjEkE,EAAgB,GACG,IAAlBA,GACCH,GAC0B,WAA1BC,EAAU5mB,OAAOvoF,MACH,SAAd+Q,EAAK/Q,MACL+Q,EAAK/Q,OAASmvG,EAAU5mB,OAAOvoF,KAGjCmvG,EAAY,CACV5mB,OAAQklB,EACRtC,iBAAkByD,EAClB3C,gBAAiB4C,GAEQ,IAAlBQ,IAETF,EAAUlD,gBAAgB35F,MAAMu8F,GAChCM,EAAUhE,iBAAiBC,gBAAgBwD,GAC3CO,EAAUhE,iBAAiBmc,oBAAoB1Y,EAAqB,CAClE0V,GAAYO,2BACZP,GAAYQ,oBACZR,GAAYS,qBA1BhB5V,EAAUlD,gBAAgB35F,MAAMu8F,GAChCM,EAAUhE,iBAAiBT,mBAAqBkE,EAAoBlE,kBACpEyE,EAAUhE,iBAAiBR,wBAA0BiE,EAAoBjE,uBA4B3E,OAAOwE,CACT,CACF,CAEA,SAASsX,GAAgBl+B,EAAoB+9B,GA7/C7C,IAAAvuG,EA8/CE,GAAIwwE,EAAQ,CACV,IAAIrQ,EACJ,GAAIqQ,EAAOr+B,MACTguB,EAAQqQ,EAAOr+B,WADjB,GAEWq+B,EAAOgvB,aAChBr/B,EAAQqQ,EAAOgvB,qBACN+O,EAAe/O,aACxBr/B,EAAQouC,EAAe/O,iBAClB,CACL,IAAMgQ,EAAY,OAAAxvG,EAAAwwE,EAAO1nD,KAAP9oB,EAAcuuG,EAAezlF,IAC/C,GAAI0mF,EAAW,CACb,IAAM1mF,EAAMlN,GAAAA,MAAU4zF,GACH,SAAf1mF,EAAI5M,SACNikD,EAAQr3C,EAAIrM,QAEd0jD,EAAQr3C,EAAI/3B,YAGhB,GAAIovE,EACF,gBAAUysC,IAAV,OAA+BzsC,GAInC,OAAOwsC,EACT,CAEA,SAASgC,GAAan+B,EAAoB+9B,GAxhD1C,IAAAvuG,EAyhDQwvG,EAAY,OAAAxvG,EAAAwwE,EAAO1nD,KAAP9oB,EAAcuuG,EAAezlF,IAC/C,OAAO0mF,EAAY,CAACA,GAAa,EACnC,CAEA,SAAS3B,GAAkBJ,EAA0Bz/G,GACnD,OAAO4U,GAAS6qG,EAAaZ,GAAoBY,GAAcz/G,EAAKlM,KAAK,OAC3E,CC7/CA,IAAM2tH,GAAc,IAChBC,GAAW,EAET,SAAUC,GAAWz4G,EAAiB8B,EAAgB80E,EAAesf,GAMzE,GALKl2F,IAEHw4G,GAAW,IAGR12G,EACH,OAAO,KAET,GAAIoyE,GAAMpyE,GACR,OAoBJ,SAAoBA,EAAiC9B,EAAiB42E,EAAesf,GACnF,IAAIntE,EAEFA,EADEjnB,EAAKw/E,OAASx/E,EAAKinB,MAuHzB,SAA6BjnB,GAC3B,IADwC,EACpC7V,EAAQwM,OAAOypD,iBACfr2D,EAAM,EAF8B,IAGvBiW,EAAKs9C,OAHkB,IAGxC,2BAA6B,KAAlBpkD,EAAkB,QACvBm5E,GAAOn5E,KACLu5E,GAAOv5E,EAAGnN,MACRmN,EAAGnN,IAAIk7B,OAAS/tB,EAAGnN,IAAIk7B,MAAM,IAAM98B,IACrCA,EAAQ+O,EAAGnN,IAAIk7B,MAAM,IAIrBwrD,GAAOv5E,EAAG/L,QACR+L,EAAG/L,MAAM85B,OAAS/tB,EAAG/L,MAAM85B,MAAM,IAAMl9B,IACzCA,EAAMmP,EAAG/L,MAAM85B,MAAM,KAbW,+BAmBxC,MAAO,CAAC98B,EAAOJ,EAAKA,EACtB,CA1IY6sH,CAAoB52G,GAEpBA,EAAKinB,MAEf,IAP2G,EAOrG72B,EAAA,EAAa8oG,GAAb,CAA+Bh7F,EAAQ8B,GAAvC,SAAgD62G,GAAoB5vF,EAAOmtE,MAP0B,IAQ1Fp0F,EAAKs9C,OARqF,IAQ3G,2BAA6B,KAAlBpkD,EAAkB,QACvBm5E,GAAOn5E,IACT9I,EAAOslG,WAAWvjG,KAA0BwkH,GAAWvmH,EAAQ8I,EAAI47E,EAAKsf,IAV+B,+BAa3G,OAAOhkG,CACT,CAlCW0mH,CAAW92G,EAAM9B,EAAQ42E,EAAKsf,GAEvC,GAAI/hB,GAAOryE,GACT,OAiCJ,SAAqBA,EAAY9B,EAAiB42E,EAAesf,GAC/D,IAAM/J,EAAgBrqF,EAAKjU,IACrBs4E,EAAkBrkE,EAAK7S,MACvB4pH,EAAa1sB,EAAQpjE,MAAM,GAC7B+vF,EAAW3sB,EAAQpjE,MAAM,GACzBgwF,EAAU5sB,EAAQpjE,MAAM,GACxBo9C,IACF2yC,EAAW3yC,EAAUp9C,MAAM,GAC3BgwF,EAAU5yC,EAAUp9C,MAAM,IAI5B,IAAM72B,EAAA,EAAa4oG,GAAb,CACJ96F,EACA8B,GAFI,SAGD62G,GAAoB,CAACE,EAAYC,EAAUC,GAAU7iB,MAE1D,GAAIliB,GAAQmY,GAAU,CACpB,IAAM6sB,EAAA,EAAene,GAAf,CAAiC76F,EAAQmsF,GAAzC,SAAqD8sB,GAAe9sB,EAAQpjE,UAClFiwF,EAAS/pH,MAAQk9F,EAAQlzF,OACzB/G,EAAOi6F,QAAU6sB,OAEjB9mH,EAAOi6F,QAA6BssB,GAAWvmH,EAAQi6F,EAASvV,EAAKsf,GAGvE,OADAhkG,EAAOi0E,UAAYsyC,GAAWvmH,EAAQi0E,EAAWyQ,EAAKsf,GAC/ChkG,CACT,CA3DWgnH,CAAYp3G,EAAM9B,EAAQ42E,EAAKsf,GAExC,GAAI7hB,GAAMvyE,GACR,OA0DJ,SAAoBA,EAAe9B,EAAiB42E,EAAesf,GACjE,IADyF,EACnFhkG,EAAA,EAAayoG,GAAb,CAA8B36F,EAAQ8B,GAAtC,SAA+Cm3G,GAAen3G,EAAKinB,UADgB,IAExEjnB,EAAKs9C,OAFmE,IAEzF,2BAA6B,KAAlBpkD,EAAkB,QAC3B,GAAIu5E,GAAOv5E,GAAK,CACd,IAAMm+G,EAAgBV,GAAWvmH,EAAQ8I,EAAI47E,EAAKsf,GAE9CijB,GACFjnH,EAAOsO,SAASvM,KAAKklH,IAP8D,+BAWzF,OAAOjnH,CACT,CAtEWknH,CAAWt3G,EAAM9B,EAAQ42E,EAAKsf,GAEvC,GAAI9hB,GAAStyE,GACX,OAqEJ,SAAuBA,EAAc9B,GACnC,GAAmB,OAAf8B,EAAK7S,MACP,SAAWurG,GAAX,CAA2Bx6F,EAAQ8B,GAAnC,SAA4Cm3G,GAAen3G,EAAKinB,UAGlE,cAAejnB,EAAK7S,OAClB,IAAK,SACH,IAAMiD,EAAA,EAAa2oG,GAAb,CAA+B76F,EAAQ8B,GAAvC,SAAgDm3G,GAAen3G,EAAKinB,UAE1E,OADA72B,EAAOjD,MAAQ6S,EAAK7S,MACbiD,EAET,IAAK,UACH,SAAWuoG,GAAX,CAA8Bz6F,EAAQ8B,EAAMA,EAAK7S,OAAjD,SAA2DgqH,GAAen3G,EAAKinB,UACjF,IAAK,SACH,IAAM72B,EAAA,EAAa0oG,GAAb,CAA+B56F,EAAQ8B,GAAvC,SAAgDm3G,GAAen3G,EAAKinB,UAG1E,OAFA72B,EAAOjD,MAAQ6S,EAAK7S,MACpBiD,EAAOgoF,UAAYzhF,OAAOyhF,UAAUhoF,EAAOjD,OACpCiD,EAET,QAEE,IAAMA,EAAA,EAAa2oG,GAAb,CAA+B76F,EAAQ8B,GAAvC,SAAgDm3G,GAAen3G,EAAKinB,UAE1E,OADA72B,EAAOjD,MAAQ6S,EAAK7I,OACb/G,EAGb,CA/FWmnH,CAAcv3G,EAAM9B,GAE7B,GAAIg0E,GAAQlyE,GAAO,CACjB,GAAI02G,GAAWD,GAEb,OAEF,OA0FJ,SAAsBz2G,EAAa9B,EAAiB42E,EAAesf,GACjEsiB,KACA,IAAMc,EAAex3G,EAAK5X,QAAQ0sF,GAClC,GAAI0iC,EACF,OAAOb,GAAWz4G,EAAQs5G,EAAc1iC,EAAKsf,GAE7C,IAAMqjB,EAAA,EAAiB1e,GAAjB,CAAmC76F,EAAQ8B,GAA3C,SAAoDm3G,GAAen3G,EAAKinB,UAE9E,OADAwwF,EAAWtqH,MAAQ6S,EAAK7I,OACjBsgH,CAEX,CApGWC,CAAa13G,EAAM9B,EAAQ42E,EAAKsf,GAE3C,CAoGM,SAAU+iB,GAAelwF,GAC7B,MAAO,CAACA,EAAM,GAAIA,EAAM,GAAKA,EAAM,GACrC,CAQA,SAAS4vF,GAAoB5vF,EAAkBmtE,GAC7C,IAAMjqG,EAAQiqG,EAAYhM,QAAQnhE,EAAM,IAClCl9B,EAAMqqG,EAAYhM,QAAQnhE,EAAM,IAEhC72B,EAA2B,CAAC62B,EAAM,GAAIA,EAAM,GAAKA,EAAM,IAM7D,OAJI98B,EAAMqlC,OAASzlC,EAAIylC,MAAS4kE,EAAY9L,WAAWxgG,SAAWiC,EAAIylC,MAAoB,IAAZzlC,EAAI2kC,KAChFt+B,EAAO,KAGFA,CACT,CC/JM,SAAUunH,GAAuBv7G,GACrC,GAAIA,EAAIkhD,MAAMx1D,OAAS,EACrB,OAAO,EAGT,IAAMs5F,EAAOhlF,EAAIkhD,MAAM,GACvB,OAAOg1B,GAAS8O,EAAKr1F,MAAQumF,GAAS8O,EAAKj0F,QAA6B,KAAnBi0F,EAAKr1F,IAAIoB,QAAiBi0F,EAAKj0F,MAAMA,KAC5F,CAEM,SAAUoN,GAAQmV,EAAcyZ,GAAc,UAC3BzZ,EAAI4tC,MAAMu3B,WADiB,IAClD,2BAA4C,oBAAhChtF,EAAgC,KAC1C,GAAIshC,IADsC,KAExC,OAAOthC,EAHuC,+BAOpD,CAOM,SAAU2/G,GAAY/e,EAAiBh7E,GAC3C,IADyD,EACrDmqG,GAAY,EADyC,IAErCnvB,GAFqC,yBAE9CrpB,EAF8C,QAGvD,GAAmB,aAAfA,EAAMnwE,KACR6/F,GAAO,GAAK1vB,GAAkC,SAACj2C,GAtDrD,IAAAniB,EAuDQ,GAAI6wG,GAAiB1uF,IAA8B,aAArB,OAAAniB,EAAAmiB,EAAKh8B,YAAL,EAAA6Z,EAAY/X,OACxC,GAAImwE,EAAM3xD,QAAUA,GAAU0b,EAAKh8B,MAAMgK,OAAOrP,OAASqhC,EAAKh8B,MAAMsgB,QAAUA,EAE5E,OADAmqG,GAAY,EACL32C,GAAAA,WAHX,GAKyB,YAAd93C,EAAKl6B,MAAsBk6B,EAAK1b,QAAUA,GAAU0b,EAAK1b,OAAS0b,EAAKhyB,OAAOrP,QAAU2lB,EAEjG,OADAmqG,GAAY,EACL32C,GAAAA,KAEV,SAXH,GAY0B,YAAf7B,EAAMnwE,MACXmwE,EAAM3xD,QAAUA,GAAU2xD,EAAMjoE,OAAOrP,OAASs3E,EAAM3xD,QAAUA,EAClE,UAAO,GAGX,GAAImqG,EACF,aArBqD,EAEzD,2BAA4B,0BAmBxB,MAnBwB,kCAF6B,+BAyBzD,OAAOA,CACT,CAEM,SAAUC,GAAiBz4C,GAC/B,YAA0B,IAAnBA,EAAA,KACT,CAEA,SAAS0vB,GAAO5nG,EAAiBiiC,EAAmB+3C,GAClD,IAAI+R,EAAO/R,EAAQ/3C,EAAMjiC,GACzB,GAAoB,kBAAT+rF,EAAmB,OAAOA,EACrC,cAAoB,CAAC,MAAO,SAA5B,eAA+C,CAA/C,IAAW8b,EAAA,KACH3vB,EAAQj2C,EAAK4lE,GACnB,GAAI3vB,GAAS,UAAWA,EAAO,CAC7B,QAASv3E,EAAI,EAAGA,EAAIu3E,EAAM9hB,MAAMx1D,SAAUD,EAAG,CAC3C,IAAMurF,EAAK0b,GAAO7iG,OAAOwQ,OAAOvV,EAAKmV,OAAO,CAAC,CAAC0yF,EAAOlnG,MAAOu3E,EAAM9hB,MAAMz1D,GAAIq5E,GAC5E,GAAkB,kBAAPkS,EAAiBvrF,EAAIurF,EAAK,MAArC,IACSA,IAAOnS,GAAAA,MAAa,OAAOA,GAAAA,MAC3BmS,IAAOnS,GAAAA,SACd7B,EAAM9hB,MAAMnxC,OAAOtkB,EAAG,GACtBA,GAAK,IAGW,oBAATorF,GAAiC,QAAV8b,IAAiB9b,EAAOA,EAAK9pD,EAAMjiC,KAIzE,IAAMk4E,EAAQj2C,EAAA,IACd,GAAIi2C,EACF,QAASv3E,EAAI,EAAGA,EAAIu3E,EAAMt3E,SAAUD,EAAG,CACrC,IAAMurF,EAAK0b,GAAO7iG,OAAOwQ,OAAOvV,GAAOk4E,EAAMv3E,GAAIq5E,GACjD,GAAkB,kBAAPkS,EAAiBvrF,EAAIurF,EAAK,MAArC,IACSA,IAAOnS,GAAAA,MAAa,OAAOA,GAAAA,MAC3BmS,IAAOnS,GAAAA,SACd7B,EAAM9hB,MAAMnxC,OAAOtkB,EAAG,GACtBA,GAAK,IAIX,MAAuB,oBAATorF,EAAsBA,EAAK9pD,EAAMjiC,GAAQ+rF,CACzD,CC3FM,IAAO6kC,GAAA,8BAOX,WAAY1jB,GAAyB,wBACnC,cAAM,KAAM,KACPA,YAAcA,EAFgB,CAGrC,CAVW,+BAeX,WACE,IAAMpjD,EAAO,IAAI8mE,EAAmB,KAAK1jB,aAQzC,OAPApjD,EAAKujE,aAAe,KAAKA,aACzBvjE,EAAKmkE,4BAA8B,KAAKA,4BACxCnkE,EAAK/sB,IAAM,KAAKA,IAChB+sB,EAAK+mE,gBAAkB,KAAKA,gBAC5B/mE,EAAKgnE,cAAgB,KAAKC,aAAa/vH,QAEvC8oD,EAAKgiE,iBAAmB,KAAKkF,kBAAkBp+E,QACxCkX,CACT,GAzBW,iCA2BH,WAAmB,YACzB,KAAKgnE,cAAgB,GACjB,KAAKE,kBAAkBt/B,gBACR,KAAKs/B,kBAAkBt/B,cAAcn1E,MAAM,MACnD7T,SAAQ,SAAC6b,GAAD,OAAa,EAAKusG,cAAc7lH,KAAnB,WAA4BsZ,GAAzC,IAEnBw1D,GAAM,KAAK+xC,kBAAkB,SAAC/9B,EAAMj1E,IAC9B,MAAAA,OAAA,EAAAA,EAAM44E,iBACS,MAAA54E,OAAA,EAAAA,EAAM44E,cAAcn1E,MAAM,OAClC7T,SAAQ,SAAC6b,GAAD,OAAa,EAAKusG,cAAc7lH,KAAnB,WAA4BsZ,GAAzC,KAGf,MAAAzL,OAAA,EAAAA,EAAMyL,UACR,EAAKusG,cAAc7lH,KAAnB,WAA4B6N,EAAKyL,SAEpC,IAEG,KAAKysG,kBAAkBzsG,SACzB,KAAKusG,cAAc7lH,KAAnB,WAA4B,KAAK+lH,kBAAkBzsG,SAEvD,GA/CW,4BAsDX,WACE,OAAO,KAAKysG,iBACd,EAxDW,IAiDX,SAAqB5uG,GACnB,KAAK4uG,kBAAoB5uG,EACzB,KAAKxe,KAAO6rH,GAAW,KAAM,KAAKuB,kBAAkBtpC,SAAkB,KAAKspC,kBAAmB,KAAK9jB,YACrG,GApDW,wBA0DX,WAIE,OAHK,KAAK4jB,eACR,KAAKG,sBAEA,KAAKH,aACd,EA/DW,IAgEX,SAAiB1kH,GACf,KAAK0kH,cAAgB1kH,CACvB,GAlEW,kBAmEX,WACE,OAAO,KAAK0/G,iBAAiB30G,OAAOjC,IAAIg8G,GAC1C,GArEW,oBAsEX,WACE,OAAO,KAAKpF,iBAAiBtsB,SAAStqF,IAAIg8G,GAC5C,GAxEW,iCA0EX,SACEC,EACAC,EACAC,GAEA,IAAMxxF,EAAWuxF,EAAW93C,YAAY63C,GAClC35D,EAAc45D,EAAWjoF,eAAetJ,EAASyI,MACvD,GAAkC,IAA9BkvB,EAAYmN,OAAO/jE,OACrB,MAAO,CAAC,KAAK0wH,gBAAgBH,EAAgBC,EAAYC,IAAwB,GAGnF,IAIIE,EAHEC,EADoBh6D,EAAY56B,UAAUiD,EAAS84B,WACNn2C,MAAM,eACnDivG,IAA+BD,EAC/BE,EAA6B,MAAAF,OAAA,EAAAA,EAA2B,GAAG5wH,OAwBjE,OAtBAm5E,GAAM,KAAK+xC,kBAAkB,SAACjnH,EAAKiU,GACjC,GAAKA,EAAL,CAGA,IAAMinB,EAAQjnB,EAAKinB,MACnB,GAAKA,EAAL,CAUA,KAAKA,EAAM,IAAMoxF,GAAkBpxF,EAAM,IAAMoxF,GAL7CM,GACAN,EAAiBO,IAA+B3xF,EAAM,IACtDqrD,GAAStyE,IACM,OAAfA,EAAK7S,OAKL,OAAO8zE,GAAAA,KAFPw3C,EAAcz4G,GAIjB,IAEM,CAACy4G,GAAa,EACvB,GAjHW,6BAmHX,SAAgBhrG,EAAgB6qG,EAAwBC,GACtD,IAEIE,EAFAI,EAAa,KAAK7F,iBAAiB/rF,MAAM,GACzC6xF,EAAY,KAAK9F,iBAAiB/rF,MAAM,GAE5Cg6C,GAAM,KAAK+xC,kBAAkB,SAACjnH,EAAKiU,GACjC,GAAKA,EAAL,CAGA,IAAMinB,EAAQjnB,EAAKinB,MACnB,GAAKA,EAAL,CAGA,IAAMob,EAAOpb,EAAM,GAAKxZ,EACpBqrG,GAAa7xF,EAAM,IAAMob,GAAQ,GAAKx7B,KAAKkW,IAAIslB,IAASw2E,IAC1DA,EAAahyG,KAAKkW,IAAIslB,GACtBy2E,EAAY7xF,EAAM,GAClBwxF,EAAcz4G,IAEjB,IAED,IAAM+mB,EAAWuxF,EAAW93C,YAAY/yD,GAElCsrG,Ef3GJ,SAAyBr6D,EAAqB33B,GAClD,GAAI23B,EAAY52D,OAASi/B,EACvB,OAAO,EAGT,QAASl/B,EAAI,EAAGA,EAAIk/B,EAAUl/B,IAAK,CACjC,IAAMysB,EAAOoqC,EAAY32D,WAAWF,GACpC,GAAQ,KAAJysB,GAA+B,IAAJA,EAC7B,OAAOzsB,EAKX,OAAOk/B,CACT,Ce6FwBspC,CADAioD,EAAWjoF,eAAetJ,EAASyI,MACPzI,EAAS84B,WAEzD,OAAIyyB,GAASmmC,IAAsC,OAAtBA,EAAYtrH,OAIrC4rH,IAAgBhyF,EAAS84B,YAC3B44D,EAAc,KAAKO,6BAA6BD,EAAaN,EAAaH,EAAY,GAAIC,IAJnFE,CAQX,GApJW,0CAsJH,SACNM,EACA/4G,EACAs4G,EACAW,EACAV,EACAW,GAEA,IAAKl5G,EACH,OAAO,KAAKgzG,iBAAiBpkC,SAG/B,GADA2pC,EAAyBA,GAAwB,EAC7C9lC,GAAOzyE,IAASA,EAAKinB,MAAO,CAC9B,IAAMF,EAAWuxF,EAAW93C,YAAYxgE,EAAKinB,MAAM,IAC7Cy3B,EAAc45D,EAAWjoF,eAAetJ,EAASyI,MAKvD,IAJAypF,EAA8B,KAAhBA,EAAqBv6D,EAAYmN,OAASotD,GACxCnqG,WAAW,MAAQiqG,IAAgBR,GAAyBU,IAAgBv6D,EAAYmN,SACtG9kC,EAAS84B,WAAak5D,GAEpBhyF,EAAS84B,UAAYk5D,GAAehyF,EAAS84B,UAAY,EAAG,CAC9D,IAAM3hD,EAAS,KAAKi7G,UAAUn5G,GAC9B,GAAI9B,EACF,OAAO,KAAK86G,6BACVD,EACA76G,EACAo6G,EACAW,EACAV,EACAW,OATN,MAYWnyF,EAAS84B,UAAYk5D,GAQ9B,OAAO/4G,EAPP,IAAM9B,EAAS,KAAKi7G,UAAUn5G,GAC9B,GAAIqyE,GAAOn0E,IAAWu0E,GAAOv0E,EAAO/Q,OAClC,OAAO+Q,EAAO/Q,MADhB,GAEWklF,GAAO6mC,IAAezmC,GAAOymC,EAAW/rH,OACjD,OAAO+rH,EAAW/rH,YAxBxB,GA6BWklF,GAAOryE,GAAO,CACvBk5G,EAAal5G,EACb,IAAM9B,EAAS,KAAKi7G,UAAUn5G,GAC9B,OAAO,KAAKg5G,6BAA6BD,EAAa76G,EAAQo6G,EAAYW,EAAaV,EAAuBW,GAEhH,OAAOl5G,CACT,GArMW,uBAuMX,SAAUA,GACR,ODnNE,SAAoB80E,EAAeskC,GACvC,IAAIC,EAQJ,GAPAp4C,GAAM6T,GAAK,SAACgK,EAAG9+E,EAAY9Y,GACzB,GAAI8Y,IAASo5G,EAEX,OADAC,EAAanyH,EAAKA,EAAKY,OAAS,GACzBm5E,GAAAA,KAEV,KAEGkR,GAAWknC,GAIf,OAAOA,CACT,CCqMWF,CAAU,KAAKnG,iBAAkBhzG,EAC1C,KAzMW,GAA2B06F,IAgN3B4e,GAAA,GAOX,WAAYxG,EAAiCrqB,GAAe,UAC1D,KAAKqqB,UAAYA,EACjB,KAAKrqB,OAASA,EACd,KAAKpqF,OAAS,GACd,KAAKqoF,SAAW,EAClB,IAQW6yB,GAAA,WAAb,uBAEU,KAAAz2G,MAAQ,IAAIxI,GA0CtB,CA5Ca,yCAWX,SAAgBgP,EAAwBkwG,GAAoD,IAArBC,EAAqB,wDAE1F,OADA,KAAKC,YAAYpwG,EAAU,MAAAkwG,EAAAA,EAAiBG,GAAgBF,GACrD,KAAK32G,MAAM1W,IAAIkd,EAAS2a,KAAK3a,QACtC,GAdW,mBAmBX,WACE,KAAKxG,MAAM9D,OACb,GArBW,yBAuBH,SAAYsK,EAAwBkwG,EAA8BC,GACxE,IAAM1tH,EAAMud,EAAS2a,IAChB,KAAKnhB,MAAMtI,IAAIzO,IAClB,KAAK+W,MAAMrI,IAAI1O,EAAK,CAAEuxE,SAAS,EAAIh0D,SAAU,IAAIgwG,GAAa,GAAI,IAAKE,cAAeG,KAExF,IAAMC,EAAa,KAAK92G,MAAM1W,IAAIL,GAClC,GACE6tH,EAAWt8C,UAAYh0D,EAASg0D,SAC/Bk8C,EAActzB,aAAektB,GAAawG,EAAWJ,cAActzB,WAAYszB,EAActzB,YAC9F,CACA,IAAIp6D,EAAOxiB,EAASmuD,UAEhBgiD,IAAkB,KAAKzhH,KAAK8zB,KAC9BA,EAAA,WAAWA,EAAX,MAEF,IAAMgpD,ECpQN,SAAgBhpD,GAAoF,IA7B1G9kB,EA6BoCwyG,EAAsE,uDAAvCG,GAAgBrwG,EAAuB,uCAClG5H,EAA0D,CAC9DsiB,QAAQ,EACRkiE,WAAY2zB,GAAcL,EAActzB,YACxC5oB,QAAS,OAAAt2D,EAAAwyG,EAAcM,aAAd9yG,EAA6B2yG,GAAeG,YACrDlzB,kBAAkB,GAEdmzB,EAAW,IAAIzrB,GAAS5sF,GACxB0yF,EAAc,IAAIjC,GACpB6nB,GAAkB,EACtB,GAAI1wG,EAAU,CACZ,IAAMgvG,EAAa,IAAI2B,GAAW3wG,GAC5Byd,EAAWuxF,EAAW93C,YAAY10C,EAAKhkC,QAE7CkyH,EAAgD,IAD5B1B,EAAWjoF,eAAetJ,EAASyI,MACzBq8B,OAAO/jE,OAEvC,IACM2gG,GADSuxB,EAAkB,IAAIpnB,GAAW,IAAIA,GAAOwB,EAAYhC,aACjDlnG,MAAM4gC,GACtBouF,EAAYxiH,MAAMxO,KAAKu/F,GACvB0xB,EAAOJ,EAASxlB,QAAQ2lB,GAAW,EAAMpuF,EAAKhkC,QAE9CsyH,EAAiC1iH,MAAMxO,KAAKixH,GAAM,SAACrlC,GAAD,OAM1D,SAAuCulC,EAAqBjmB,GAC1D,IAAMkmB,EAAM,IAAIxC,GAAmB1jB,GAEnC,OADAkmB,EAAItH,iBAAmBqH,EAChBC,CACT,CAVmEC,CAA8BzlC,EAAKsf,EAA5C,IAGxD,OAAO,IAAIklB,GAAac,EAAUF,EACpC,CD2OkBhvH,CAAU4gC,EAAM0tF,EAAelwG,GAC3CswG,EAAWtwG,SAAWwrE,EACtB8kC,EAAWt8C,QAAUh0D,EAASg0D,QAC9Bs8C,EAAWJ,cAAgBA,EAE/B,KA3CW,KA8CAgB,GAAqB,IAAIjB,GAEtC,SAASnB,GAA8B5nH,GACrC,MAAO,CACL0K,QAAS1K,EAAM0K,QACfqO,SAAU,CACRpf,MAAOqG,EAAMy0B,IAAI,GACjBl7B,IAAKyG,EAAMy0B,IAAI,GACfw1F,WAAW,GAEbzyC,SAAU,EACVxgF,KAAMitG,GAAU/0F,UAEpB,CEnTA,IAAMg7G,GAAA,WAIJ,WAAY3jF,EAAa9nC,GAAY,UACnC,KAAK8nC,IAAMA,EACX,KAAK9nC,KAAOA,CACd,CAPI,kCAQJ,WACE,MAAkB,YAAd,KAAKA,KACA,MAES,aAAd,KAAKA,KACA,WADT,CAIF,GAhBI,qBAkBJ,SAAQ9B,GACN,OAAIilF,GAAMjlF,IAAwB,YAAd,KAAK8B,MAGrBsjF,GAAMplF,IAAwB,aAAd,KAAK8B,MAGJ,kBAAV9B,GAAoC,WAAd,KAAK8B,KAL7B9B,OAKT,CAGF,KA5BI,KA+BAwtH,GAAA,WAAN,uBACkB,KAAA5jF,IAAM,WACN,KAAA9nC,KAAO,QAUzB,CAZM,iCAMJ,SAAQ9B,EAAeg1E,GACrB,GAAIh1E,GAASA,EAAMrF,OAAS,GAAKqF,EAAM0+D,OACrC,OAAO1+D,EAETg1E,EAAQ,yBACV,KAXI,KAmBA,SAAU03C,GAAc3zB,GAC5B,IADgD,EAC1C1W,EAAO,GADmC,IAE3ByjC,GAAwB/sB,IAFG,IAGhD,2BAAgC,KACxBitB,EADwB,QACT1vG,MAAM,KACrB8zE,EAAU47B,EAAS,GACnByH,EAAWzH,EAAS,IAAMA,EAAS,GAAG1xF,eAAkB,SAC9D+tD,EAAKr9E,KAAK,IAAIuoH,GAAcnjC,EAASqjC,IAPS,+BAUhD,OADAprC,EAAKr9E,KAAK,IAAIwoH,IACPnrC,CACT,CCpDM,IAAOyqC,GAAA,WACX,WAAoBnlC,GAAiB,UAAjB,KAAAA,IAAAA,CAAoB,CAD7B,sCAGX,WACE,OAAO,KAAKA,IAAIntD,SAClB,GALW,2BAOX,SAAc5B,GACZ,IAAMi4C,EAAgB,KAAK8W,IAAqC1W,iBAChE,OAAIr4C,GAAci4C,EAAYl2E,OACrB,KAAKgtF,IAAIrd,UAAU3vE,OACjBi+B,EAAa,EACf,GAGcA,EAAa,EAAIi4C,EAAYl2E,OAASk2E,EAAYj4C,EAAa,GAAK,KAAK+uD,IAAIrd,UAAU3vE,QACtFk2E,EAAYj4C,EACtC,GAjBW,4BAmBX,SAAeA,GACb,IAAMi4C,EAAgB,KAAK8W,IAAqC1W,iBAChE,GAAIr4C,GAAci4C,EAAYl2E,OAC5B,OAAO,KAAKgtF,IAAIrd,UADlB,GAEW1xC,EAAa,EACtB,MAAO,GAET,IAAMu4C,EAAiBv4C,EAAa,EAAIi4C,EAAYl2E,OAASk2E,EAAYj4C,EAAa,GAAK,KAAK+uD,IAAIrd,UAAU3vE,OAC9G,OAAO,KAAKgtF,IAAIrd,UAAU3zC,UAAUk6C,EAAYj4C,GAAau4C,EAC/D,GA5BW,6BA8BX,SAAgBv4C,EAAoBnpB,GAClC,OAAO,KAAKk4E,IAAIrd,QAAQ/wC,GAAAA,OAAaX,EAAa,EAAGnpB,EAAOmpB,EAAa,EAAGnpB,EAAQ,IAAI7U,WAAW,EACrG,GAhCW,qBAkCX,SAAQk/B,GACN,OAAO,KAAK6tD,IAAIrd,QAAQxwC,EAC1B,GApCW,yBAsCX,SAAY4zF,GACV,OAAO,KAAK/lC,IAAI1f,WAAWylD,EAC7B,KAxCW,KFQAlB,GAAgC,CAC3CzzB,WAAY,GACZ4zB,YAAa,OGWT,SAAUgB,GAAW3iD,GACzB,IAAM4iD,EAAgB5iD,EAASzuD,MAAM,kCACrC,OAAyB,OAAlBqxG,GAAmD,IAAzBA,EAAcjzH,MACjD,CClCA,IC0CYkzH,GAAAA,GD1CSC,GAAA,oBAAAA,IAAA,OAAAA,EAAA,UAAAA,EAAA,sBAEnB,WACE,OAAO,kBAAM,CAAN,CACT,KAJmBA,CAAA,IC+BfrxG,GAAequF,KAEfijB,GAAM,IAAID,GAIVE,GAAexmB,KACfymB,GAAoBF,GAAIG,QAAQF,KAI1BH,GAAAA,KAAAA,GAAoB,KAC9BA,GAAAA,OAAA,YACAA,GAAAA,GAAAA,IAAA,SACAA,GAAAA,GAAAA,UAAA,eAwBI,IAAOzb,GAAAA,WAIX,WAAYpJ,GAAe,UACzB,IACE,KAAKmlB,cAAgB,IAAI1uF,OrB5BzB,SAAsCupE,GAC1C,OAAOA,EAAQ1sF,QAAQ,0BAA2B,QAAQA,QAAQ,OAAQ,KAC5E,CqB0BsC8xG,CAA4BplB,GAAW,KADzE,MAES1pG,IAEP,KAAK6uH,cAAgB,KAEvB,KAAK51B,QAAU,EACjB,CAZW6Z,OAAAA,EAAAA,EAAAA,CAAAA,CAAAA,IAAAA,YAAAA,MAcJ,SAAUp7F,GACf,KAAKuhF,QAAQvzF,KAAKgS,EACpB,GAhBWo7F,CAAAA,IAAAA,iBAAAA,MAkBJ,SAAeM,GACpB,OAAO,KAAKyb,eAAiB,KAAKA,cAActjH,KAAK6nG,EACvD,GApBWN,CAAAA,IAAAA,aAAAA,MAsBJ,WACL,OAAO,KAAK7Z,OACd,KAxBW6Z,CAAAA,CAAAA,GA+BAic,GAAA,8BAaX,WACEva,EACAC,EACAC,GAAuC,wBAEvC,cAAMF,EAAgBC,EAAgBC,IAPhCsa,8BAAgC,IAAInhH,IAQ1C,EAAKohH,0BAAuB,EAC5B,EAAKza,eAAiBA,EACtB,EAAK0a,sBAAwB,IAAIrhH,IALM,CAMzC,CAtBW,sDAwBX,SAA6BohH,GAC3B,KAAKA,qBAAuBA,CAC9B,GA1BW,2BA4BX,WACE,IADW,EACLtrH,EAAqC,GACrCwrH,EAAa,IAAI98G,IAFZ,IAGe,KAAK0iG,yBAHpB,IAGX,2BAAwD,KAChDwT,EADgD,QACxBxV,KAAK,GACnC,IAAIoc,EAAWphH,IAAIw6G,GAAnB,CAGA4G,EAAWv8G,IAAI21G,GACf,IAAMtS,EAAyC,CAC7Cz+E,IAAK+wF,EACL6G,WAAW,EACXC,oBAAoB,GAGtB,GAAI,KAAKL,8BAA8BjhH,IAAIw6G,GAAY,CACrD,MAAwC,KAAKyG,8BAA8BrvH,IAAI4oH,GAAvEhqH,EAAR,EAAQA,KAAMs9E,EAAd,EAAcA,YAAa79D,EAA3B,EAA2BA,SAC3Bi4F,EAAa13G,KAAOA,EACpB03G,EAAap6B,YAAcA,EAC3Bo6B,EAAamZ,WAAY,EACzBnZ,EAAaj4F,SAAWA,EAE1Bra,EAAO+B,KAAKuwG,IAtBH,+BAyBX,OAAOtyG,CACT,GAtDW,+DAwDX,WACEmzG,EACAC,EACA3M,GAHF,kGASE,GAJM4M,EAA0BF,EAAgBllG,OAAOnW,MAAM,GACzDsvF,EAAqB+rB,EAAgB/rB,OACnC0pB,EAAiB,KAAKA,gBAEvBka,GAAkB5jC,GAAS,CACxBukC,EAAiB,GADO,IAEZX,GAAkB/8G,QAFN,IAE9B,2BAAWnQ,EAAmD,QAC5D6tH,EAAK5pH,KAAL,UAAajE,EAAI8tH,aAAjB,cAAmC9tH,EAAIgN,SAHX,+BAK9BuoG,EAActxG,KAAd,kBAA8Bs0G,GAAelD,EAAgB/rB,OAAQgsB,GAArE,4BAAmGuY,EAAKjzH,KAAK,QAdjH,OAiBQi7G,EAAc,SAACvsB,EAAoBtwF,GACvC,IAAKA,EACH,OAAOswF,EAGT,IAAIzvE,EAAeyvE,EAQnB,MAPgB,MAAZtwF,EAAK,KACPA,EAAOA,EAAKi+B,OAAO,IAErBj+B,EAAKuc,MAAM,KAAKvG,MAAK,SAAC4mG,GAEpB,QADA/7F,EAAUA,EAAQ+7F,GAEnB,IACM/7F,CACT,EAEMxG,EAAQ,SAACnM,EAAoBsuG,EAAwBC,EAAmBz8G,GAC5E,IAAM28G,EAAUE,EAAYL,EAAYx8G,GACxC,GAAI28G,EACF,QAAW93G,KAAO83G,EACZ53G,OAAOY,UAAUC,eAAeC,KAAK82G,EAAS93G,KAASE,OAAOY,UAAUC,eAAeC,KAAKqI,EAAQrJ,KACtGqJ,EAAOrJ,GAAO83G,EAAQ93G,SAI1B03G,EAActxG,KAAKyX,GAAS,yBAA0B,2CAA4C1iB,EAAMy8G,GAE5G,EAEMK,EAAsB,SAC1BhkG,EACAikB,EACAg4F,EACAhY,EACAC,GAGIhD,IAAmB,cAAclpG,KAAKisB,KACxCA,EAAMi9E,EAAeiD,oBAAoBlgF,EAAKggF,IAEhDhgF,EAAM,EAAK89E,YAAY99E,GACvB,IAAMmgF,EAAmB,EAAKzB,qBAAqB1+E,GACnD,OAAOmgF,EAAiB/D,sBAAsB/vG,MAAK,SAAC4vG,GAElD,GADAgE,EAAyBjgF,IAAO,EAC5Bi8E,EAAiB7hG,OAAOvW,OAAQ,CAClC,IAAMoM,EAAM+nH,EAAWh4F,EAAM,IAAMg4F,EAAWh4F,EAC9Cw/E,EAActxG,KACZyX,GAAS,gCAAiC,wCAAyC1V,EAAKgsG,EAAiB7hG,OAAO,KAMpH,OAHAkD,EAAMvB,EAAMkgG,EAAiB1oB,OAAQvzD,EAAKg4F,GAC1Cj8G,EAAK8vB,IAAM7L,EAEJogF,EAAYrkG,EAAMkgG,EAAiB1oB,OAAQvzD,EAAKmgF,EAAiBvN,aACzE,GACH,EAEMwN,EA1ER,6BA0EsB,WAClBrkG,EACAskG,EACAL,EACAC,GAJkB,8FAOblkG,GAAwB,kBAATA,EAPF,yCAQT,MARS,UAWZ8hG,EAAuB,CAAC9hG,GACxBi7D,EAAqB,GAGrBspC,EAA+B,GAE/BK,EAAiB,WAAsC,2BAAlC/vB,EAAkC,yBAAlCA,EAAkC,gBAC3D,cAAoBA,EAApB,eAA6B,CAA7B,IAAWhjF,EAAA,KACY,kBAAVA,GACTiwG,EAAO3vG,KAAKN,GAGlB,EACMkzG,EAAoB,WAAmC,2BAA/BF,EAA+B,yBAA/BA,EAA+B,gBAC3D,cAAkBA,EAAlB,eAAwB,CAAxB,IAAWzoG,EAAA,KACT,GAAmB,kBAARA,EACT,QAAWrQ,KAAOqQ,EAAK,CACrB,IAAMvK,EAAQuK,EAAIrQ,GACG,kBAAV8F,GACTiwG,EAAO3vG,KAAKN,IAKtB,EACMszG,EAAsB,WAAuC,2BAAnCH,EAAmC,yBAAnCA,EAAmC,gBACjE,cAAoBA,EAApB,eAA4B,CAA5B,IAAWhpE,EAAA,KACT,GAAItkC,MAAMQ,QAAQ8jC,GAAQ,WACJA,GADI,IACxB,2BAA2B,KAAhBnqC,EAAgB,QACJ,kBAAVA,GACTiwG,EAAO3vG,KAAKN,GAHQ,iCAQ9B,EACM2yG,EAAY,SAAC/yG,GAEjB,IADA,IAAMgzG,EAAW,GACVhzG,EAAKwjG,MAAM,CAChB,IAAMpd,EAAMpmF,EAAKwjG,KACXyP,EAAW7sB,EAAIp0E,MAAM,IAAK,GAIhC,GAFAhS,EAAK80G,MAAQ90G,EAAKwjG,YACXxjG,EAAKwjG,KACRyP,EAAS,GAAG58G,OAAS,EAEvB,YADAy8G,EAAapyG,KAAK6xG,EAAoBvyG,EAAMizG,EAAS,GAAIA,EAAS,GAAIT,EAAiBC,KAGzD,IAA1BO,EAASlqG,QAAQs9E,KACnBt2E,EAAM9P,EAAM6yG,EAAcL,EAAiBS,EAAS,IACpDD,EAAStyG,KAAK0lF,IAKpB+sB,EACcnzG,EAAK6rD,MACjB7rD,EAAK2kG,gBACO3kG,EAAKilG,qBACjBjlG,EAAK2lG,IACL3lG,EAAKyyE,SACLzyE,EAAKmlG,cACLnlG,EAAKwlG,GACLxlG,EAAKnB,KACLmB,EAAKylG,MAEP6N,EAAkBtzG,EAAKqjG,YAAarjG,EAAKikG,WAAYjkG,EAAKklG,kBAAkCllG,EAAKolG,cACjGsO,EAAoB1zG,EAAK4kG,MAAO5kG,EAAK4jG,MAAO5jG,EAAK0lG,MAAqB1lG,EAAK6rD,MAAO7rD,EAAKyqH,eACzF,IAEIjY,EAAgB1pG,QAAQ,KAAO,GAjFjB,uBAkFVmqG,EAAWT,EAAgBxgG,MAAM,IAAK,IAC/B,GAAG3b,OAAS,GAAK48G,EAAS,GAAG58G,OAAS,GAnFnC,wBAoFRq0H,EAAY,GApFJ,UAqFRnY,EAAoBmY,EAAWzX,EAAS,GAAIA,EAAS,GAAIT,EAAiBC,GArFlE,sBAsFI1sB,GAtFJ,kDAuFA,cADHzrF,EAtFG,oEA0FRE,OAAOY,UAAUC,eAAeC,KAAKyqF,EAAQzrF,KAASE,OAAOY,UAAUC,eAAeC,KAAKovH,EAAWpwH,KACxGowH,EAAUpwH,GAAOyrF,EAAOzrF,IA3Fd,wBA8FdyrF,EAAS2kC,EA9FK,YAkGXra,EAAOh6G,OAlGI,oBAmGV2J,EAAOqwG,EAAOruG,QAChBwnE,EAAK1gE,QAAQ9I,IAAS,GApGV,wDAuGhBwpE,EAAK9oE,KAAKV,GACV+yG,EAAU/yG,GAxGM,iDA0GX0B,QAAQqT,IAAI+9F,IA1GD,4CA1EtB,sEAuLQF,EAAY7sB,EAAQA,EAAQgsB,EAAW3M,GAvL/C,iCAwLS,IAAI+J,GAAeppB,EAAQisB,IAxLpC,iDAxDW,6FAmPJ,SAAqB4B,EAAkBvwB,GAAiB,WA4BvDsnC,EAA2B,SAAC12B,GAChC,IAAMgd,EAAA,kDAA0C2C,EAAU3f,GAC1D,OAAOgd,EAAanC,oBAAoBjwG,MAAK,SAACknF,GAK5C,OAJIA,EAAOA,QAAmC,kBAAlBA,EAAOA,SACjCA,EAAOA,OAAO1nD,IAAM4yE,EAAa5yE,KAIjC0nD,EAAOA,QACPA,EAAOA,OAAO0kC,gBACd1kC,EAAOA,OAAO0kC,eAAoCpnC,EAAKijC,iBAEhD,IAAInX,GAAeppB,EAAOA,OAAO0kC,eAAoCpnC,EAAKijC,kBAE5EvgC,CACR,GACH,EAGM6kC,EAAgB,WACpB,IAD8B,EACxBphD,EAAwChvE,OAAO0C,OAAO,MACtD+2F,EAAoB,GAFI,IAIV,EAAK8b,yBAJK,IAI9B,2BAAkD,KAAvC3vG,EAAuC,QAChD,GAAIA,EAAM+tG,eAAeyF,GAAW,WACXxzG,EAAMiuG,WADK,IAClC,2BAAwC,KAA7BmD,EAA6B,QACjChoC,EAAKgoC,KACRvd,EAAQvzF,KAAK8wG,GACbhoC,EAAKgoC,IAAY,GAJa,iCALR,+BAqB9B,IAAMqZ,EAAuB,EAAKva,YAAYsD,GAK9C,GAJI,EAAK9D,YAAY+a,IACnB52B,EAAQvzF,KAAKmqH,GAGX52B,EAAQ59F,OAAS,EAAG,CAEtB,IAAMy0H,EAAqB,EAAKC,uBAAuB92B,GACvD,OAAO02B,EAAyBG,GAGlC,OAAOppH,QAAQ/K,QAAQ,KACzB,EACMq0H,EAhFwB,WAC5B,IAAIC,EF9UJ,SAAgC5nC,GACpC,GAAIA,aAAegjC,GAAoB,CACrC,IAAM6E,EAA6B7nC,EAAImjC,aAAa96G,MAAK,SAAC+7E,GACxD,OAAO4hC,GAAW5hC,EACnB,IACD,QAAkC,GAA9ByjC,EAAyC,CAC3C,IAAMC,EAAeD,EAA2BjzG,MAAM,iBACtD,GAAqB,OAAjBkzG,GAAyBA,EAAa90H,QAAU,EAMlD,OALI80H,EAAa90H,QAAU,GACzBqX,QAAQsJ,IACN,kHAGGm0G,EAAa,GAAG94F,UAAU,IAKzC,CE4T+B+4F,CAAsB/nC,GAC/C,QAA2B,IAAvB4nC,EAAkC,CACpC,IAAKA,EAAmB5tG,WAAW,WAAa4tG,EAAmB5tG,WAAW,QAAS,CAIrF,IAAIguG,EAAW,GACf,GAAIJ,EAAmBniH,QAAQ,KAAO,EAAG,CACvC,IAAMmqG,EAAWgY,EAAmBj5G,MAAM,IAAK,GAC/Ci5G,EAAqBhY,EAAS,GAC9BoY,EAAWpY,EAAS,GAEtB,GAAUqY,GAAAA,WAAWL,GAInBA,EAAqB95F,GAAAA,KAAS85F,GAAoB3kH,eAJV,CACxC,IAAMilH,EAASp6F,GAAAA,MAAUyiF,GACzBqX,EAAqB95F,GAAAA,KAAcm6F,GAAAA,QAAaA,GAAAA,MAAMC,EAAOv5F,QAAQ54B,IAAK6xH,IAAqB3kH,WAI7F+kH,EAASh1H,OAAS,IACpB40H,GAAsB,IAAMI,GAGhC,OAAOJ,EAEX,CAuDuBO,GACvB,OAAIR,EACKL,EAAyB,CAACK,IAE/B,KAAKf,qBACA,KAAKA,qBAAqBrW,GAC9B/0G,MAAK,SAAC0kH,GACL,OAAIt9G,MAAMQ,QAAQ88G,GACS,IAArBA,EAAUltH,OACLu0H,IAEFlpH,QAAQqT,IACbwuG,EAAU54G,KAAI,SAAC44G,GACb,OAAO,EAAKkI,oBAAoBlI,EAAWlgC,EAC5C,KACDxkF,MACA,SAACo1F,GACC,MAAO,CACLrnF,OAAQ,GACRm5E,OAAQ,CACN6e,MAAO3Q,EAAQtpF,KAAI,SAAC+gH,GAClB,OAAOA,EAAU3lC,MAClB,KAGP,IACA,WACE,OAAO6kC,GACR,IAIArH,EAIE,EAAKkI,oBAAoBlI,EAAWlgC,GAHlCunC,GAIV,IACA/rH,MACC,SAACknF,GACC,OAAOA,CACT,IACA,WACE,OAAO6kC,GACR,IAGEA,GAEX,GArXW,+BAwXJ,SAAkBp4F,EAAam5F,GACpC,IAAIC,EAAkB,KAAK1B,sBAAsBvvH,IAAI63B,GACjDo5F,GACFA,EAAkBA,EAAgBh+G,IAAI+9G,GACtC,KAAKzB,sBAAsBlhH,IAAIwpB,EAAKo5F,IAEpC,KAAK1B,sBAAsBlhH,IAAIwpB,GAAK,IAAInlB,KAAsBO,IAAI+9G,GAEtE,GAhYW,oCAqYH,SAAuB13B,GAAiB,WAC1C43B,EAAc,EACZC,EAAkB,IAAIjjH,IAmB5B,OAlBAorF,EAAQ91F,SAAQ,SAAC4nF,IAEE,EAAKmkC,sBAAsBvvH,IAAIorF,IAAW,CAAC,IACnD5nF,SAAQ,SAAC4tH,GACZA,EAAOF,IACTA,EAAcE,GAIhB,IAAIC,EAAoBF,EAAgBnxH,IAAIoxH,GACxCC,GACFA,EAAqBA,EAA+BphH,OAAOm7E,GAC3D+lC,EAAgB9iH,IAAI+iH,EAAMC,IAE1BF,EAAgB9iH,IAAI+iH,EAAM,CAAChmC,GAE9B,GACF,IACM+lC,EAAgBnxH,IAAIkxH,IAAgB,EAC7C,GA3ZW,8DA6ZH,WAA0BtI,EAAWlgC,GAArC,yFACyB,KAAKwrB,WAAW0U,GADzC,cACA9U,EADA,gBAEe,KAAKQ,qBAAqBR,EAAkB8U,EAAW,IAFtE,WAEAx9B,EAFA,QAGKA,SACTA,EAAOA,OAAO1nD,IAAMklF,KAElBx9B,EAAOA,QAAUA,EAAOA,OAAO0kC,gBAAkB1kC,EAAOA,OAAO0kC,eAAepnC,EAAIijC,kBANhF,yCAOG,IAAInX,GAAeppB,EAAOA,OAAO0kC,eAAepnC,EAAIijC,mBAPvD,gCASCvgC,GATD,iDA7ZG,8GA6aJ,WAAiByrB,EAAkBE,GAAnC,8EACCh/F,EAAK,KAAK49F,YAAYkB,GAC5B,KAAKN,qBAAqBx+F,EAAIg/F,GAC9B,KAAKwY,sBAAsBlhH,IAAI0J,GAAI,IAAIrF,KAAsBO,IAAIq+G,GAAeC,WAH3E,kBAIExqH,QAAQ/K,aAAQ,IAJlB,gDA7aI,iHAubJ,WAAoB2kE,GAApB,mFACLA,EAAU24B,QAAQ91F,SAAQ,SAACwJ,GACzB,EAAKwkH,aAAaxkH,EACnB,IAHI,kBAIEjG,QAAQ/K,aAAQ,IAJlB,2CAvbI,8GAgcJ,WAAmB66G,GAAnB,8EACC9+F,EAAK,KAAK49F,YAAYkB,GACxB,KAAK1B,YAAYp9F,WACZ,KAAKo9F,YAAYp9F,GAE1B,KAAKw3G,sBAAsBprG,OAAOpM,GAL7B,kBAMEhR,QAAQ/K,aAAQ,IANlB,gDAhcI,4GA4cJ,WAAiBy1H,GAAjB,yFACgB,KAAKtd,kBAAkBsd,EAAUrmC,QADjD,YACCA,EADD,8BAKmC,kBAFhCsmC,EAAyB,KAAKC,2BAA2BvmC,EAAOA,OAAQqmC,EAAU32H,SAGtF42H,EAAuBD,EAAU9xH,KAAO8xH,EAAUvlD,SANjD,SAQG,KAAK0lD,WAAWH,EAAUrmC,OAAQA,EAAOA,QAR5C,gDA5cI,+GA2dJ,WAAoBzqB,GAApB,yFACgB,KAAKwzC,kBAAkBxzC,EAAUyqB,QADjD,YACCA,EADD,8BAKmC,kBAFhCsmC,EAAyB,KAAKC,2BAA2BvmC,EAAOA,OAAQzqB,EAAU7lE,eAG/E42H,EAAuB/wD,EAAUhhE,KANvC,SAQG,KAAKiyH,WAAWjxD,EAAUyqB,OAAQA,EAAOA,QAR5C,gDA3dI,+FA2eH,SAA2BA,EAAoB5kE,GACrD,IADkE,EAE9DkrG,EAAyBtmC,EAFqC,IAC7C5kE,EAAMnP,MAAM,MADiC,IAGlE,2BAAiC,KAAtBvc,EAAsB,QAClB,KAATA,IAGJ,KAAK+2H,YAAYH,EAAwB52H,GACzC42H,EAAyBA,EAAuB52H,IARgB,+BAUlE,OAAO42H,CACT,GAtfW,yBA8fH,SAAYvqH,EAAa6rE,GAE/B,GAAI1nE,MAAMQ,QAAQ3E,IAAWd,MAAM2sE,GACjC,MAAM,IAAIxuE,MAAM,4CADlB,GAE6B,kBAAX2C,GAAwC,kBAAV6rE,EAC9C,MAAM,IAAIxuE,MAAM,qCAEpB,GArgBW,yBA4gBX,SAAYuT,GAEV,IACE,OAAOye,GAAAA,MAAUze,GAAIpM,WADvB,MAEStL,IACP,OAAO0X,EAEX,GAnhBW,kCA0hBX,SAAqBA,EAAY87F,GAC/B,+DAAkC97F,EAAI87F,EACxC,GA5hBW,wBA8hBX,SAAW+U,GAAiB,WACpB/T,EAAiB,KAAKA,eAC5B,OAAO,8CAAiB+T,GAAW1kH,MAAK,SAAC4tH,GAEvC,GAAIA,EAAqB7/G,aAA0C,IAAhC6/G,EAAqB1mC,OACtD,OAAOypB,EAAe+T,GAAW1kH,MAC/B,SAACgoE,GACC,IAAKA,EAAS,CACZ,IAAMigC,EAAe3uF,GACnB,wBACA,oDACAs5F,GAAgB8R,GAChBkJ,EAAqB7/G,QAEvB,OAAO,IAAI+hG,GAA6B,GAAI,CAAC7H,IAG/C,IACE,IAAM4K,EAAgBj4G,GAAMotE,GAC5B,OAAO,IAAI8nC,GAAiB+C,EAAe,IAF7C,MAGSgb,GACP,IAAM5lB,EAAe3uF,GACnB,4BACA,2CACAs5F,GAAgB8R,GAChBmJ,GAEF,OAAO,IAAI/d,GAA6B,GAAI,CAAC7H,IAEjD,IAEA,SAAC/nG,GACC,IAAI+nG,EAAe/nG,EAAMuH,WACnBurG,EAAa9yG,EAAMuH,WAAW0L,MAAM,WAK1C,OAJI6/F,EAAWx7G,OAAS,IAEtBywG,EAAe+K,EAAW,IAErB,IAAIlD,GAA6B,GAAI,CAAC7H,GAC/C,IAIJ,GADA2lB,EAAqBj6F,IAAM+wF,EACvB,EAAKyG,8BAA8BjhH,IAAIw6G,GAAY,CACrD,MAAwC,EAAKyG,8BAA8BrvH,IAAI4oH,GAAvEhqH,EAAR,EAAQA,KAAMs9E,EAAd,EAAcA,YAAa79D,EAA3B,EAA2BA,SAC3ByzG,EAAqB1mC,OAAOr+B,MAAQ,MAAAnuD,EAAAA,EAAQkzH,EAAqB1mC,OAAOr+B,MACxE+kE,EAAqB1mC,OAAOlP,YAAc,MAAAA,EAAAA,EAAe41C,EAAqB1mC,OAAOlP,YACrF41C,EAAqB1mC,OAAO/sE,SAAW,MAAAA,EAAAA,EAAYyzG,EAAqB1mC,OAAO/sE,SAEjF,OAAOyzG,CACR,GACH,GAjlBW,oCAmlBX,SACEj6F,EACA6+E,EACA5C,EACAl1G,EACAs9E,EACA79D,GAKA,OAHIzf,GAAQs9E,IACV,KAAKmzC,8BAA8BhhH,IAAIwpB,EAAK,CAAEj5B,KAAAA,EAAMs9E,YAAAA,EAAa79D,SAAAA,IAEnE,0DAAoCwZ,EAAK6+E,EAAc5C,EACzD,GA/lBW,kCAimBX,WACE,wDACF,GAnmBW,oCAqmBX,SAAuBgC,GACrB,0DAA6BA,EAC/B,GAvmBW,oCA0mBX,SAAuBlrG,GACrB,iEAAoCA,EACtC,GA5mBW,+BA8mBX,SAAkBisG,GAChB,4DAA+BA,EACjC,GAhnBW,8BAknBX,SAAiBh/E,GACf,2DAA8BA,EAChC,KApnBW,GAA0B+8E,IAunBvC,SAASkC,GAAgBpzE,GACvB,IACE,IAAM7L,EAAMrB,GAAAA,MAAUkN,GACtB,GAAmB,SAAf7L,EAAIf,OACN,OAAOe,EAAIR,OAHf,MAKSh3B,IAAP,CAGF,OAAOqjC,CACT,CCttBM,IAAOsuF,GAAA,WAGX,WAAYnX,EAAmDoX,GAAoB,UAApB,KAAAA,UAAAA,EAC7D,KAAKC,oBAAsB,IAAIjO,GAAoBpJ,GAInD,KAAKqX,oBAAoBrN,YAAc,SAAC57G,GACtC,IAAMg1F,EAAgBh1F,EAASg1F,QAAQ4pB,aASvC,OAPI7hC,GAAMiY,GACD,KACE9X,GAAM8X,GACR,KAEAA,EAAQlzF,MAGnB,CACF,CApBW,6CAsBJ,SACLmS,GACmE,IAAnE1a,EAAmE,uDAAjC,CAAE2hH,YAAa55G,OAAO2vE,WAEpDi4C,EAAU,GACd,IACE,IAAMzpC,EAAM0lC,GAAmBgE,gBAAgBl1G,GAC/C,IAAKwrE,GAAmC,IAA5BA,EAAA,UAAiBhtF,OAC3B,OAAO,KAHP,UAMoBgtF,EAAA,WANpB,IAMF,2BAAwC,KAA7B2pC,EAA6B,QAClCA,EAAQ3zH,OACVyzH,EAAUA,EAAQliH,OAAO,KAAKiiH,oBAAoBhO,oBAAoBhnG,EAAUm1G,EAAS7vH,KAR3F,gCAAJ,MAWSV,GACP,KAAKmwH,UAAUK,UAAU,6BAA8B,CAAEluH,MAAO41G,GAA2Bl4G,KAE7F,OAAOqwH,CACT,GA1CW,6CA4CJ,SACLj1G,GACmE,IAAnE1a,EAAmE,uDAAjC,CAAE2hH,YAAa55G,OAAO2vE,WAEpDi4C,EAAU,GACd,IACE,IAAMzpC,EAAM0lC,GAAmBgE,gBAAgBl1G,GAC/C,IAAKwrE,GAAmC,IAA5BA,EAAA,UAAiBhtF,OAC3B,OAAO,KAHP,UAMoBgtF,EAAA,WANpB,IAMF,2BAAwC,KAA7B2pC,EAA6B,QAClCA,EAAQ3zH,OACVyzH,EAAUA,EAAQliH,OAAO,KAAKiiH,oBAAoBnN,qBAAqB7nG,EAAUm1G,EAAS7vH,KAR5F,gCAAJ,MAWSV,GACP,KAAKmwH,UAAUK,UAAU,yCAA0C,CAAEluH,MAAO41G,GAA2Bl4G,KAGzG,OAAOqwH,CACT,KAjEW,KCTP,SAAUI,GAA0B9L,EAAsC+L,GAAe,UACvE/L,GADuE,IAC7F,2BAAqC,SAC3B0B,aAAeqK,EAFoE,+BAI/F,CCWM,IAAOC,GAAA,WAIX,WAAY5X,EAAmDoX,GAAoB,UAApB,KAAAA,UAAAA,EAC7D,KAAKS,aAAc,EACnB,KAAK7X,cAAgBA,CACvB,CAPW,mCASX,SAAU8X,GACJA,IACF,KAAKD,YAAcC,EAAiBC,MAExC,GAbW,qBAeX,SAAQ11G,EAAwByd,GAAwC,IAApBwtF,EAAoB,wDACtE,IACE,IAAK,KAAKuK,cAAgBx1G,EACxB,OAAOnW,QAAQ/K,aAAQ,GAEzB,IAAM0sF,EAAM0lC,GAAmBgE,gBAAgBl1G,GAEzC21G,EAAarM,GADJtpG,EAASquD,SAAS5wC,GACgB+tD,GACjD,GAAmB,OAAfmqC,EACF,OAAO9rH,QAAQ/K,aAAQ,GAGzBu2H,GAA0B7pC,EAAIg+B,UAAWyB,GACzC,IAAMwD,EAAkBjjC,EAAIg+B,UAAUv4G,QAAQ0kH,GAE9C,OADAA,EAAWlH,gBAAkBA,EACtB,KAAKmH,SAAS51G,EAAUyd,EAAUk4F,GAd3C,MAeSzuH,GACP,KAAK6tH,UAAUK,UAAU,mBAAoB,CAAEluH,MAAO41G,GAA2B51G,KAErF,GAlCW,sBAqCH,SAAS8Y,EAAwByd,EAAoB+tD,GAC3D,IAAMrnE,EAASnE,EAASquD,SAAS5wC,GAC7B/mB,EAAO80E,EAAI+lB,kBAAkBptF,GACjC,IACGzN,IACe,WAAdA,EAAK/Q,MAAmC,UAAd+Q,EAAK/Q,OAAqBwe,EAASzN,EAAKyN,OAAS,GAAKA,EAASzN,EAAKyN,OAASzN,EAAKlY,OAAS,EAEvH,OAAOqL,QAAQ/K,QAAQ,MAEzB,IAAMmlH,EAAiBvtG,EAGvB,GAAkB,WAAdA,EAAK/Q,KAAmB,CAC1B,IAAMiP,EAAS8B,EAAK9B,OACpB,GAAIA,GAA0B,aAAhBA,EAAOjP,MAAuBiP,EAAOmsF,UAAYrqF,KAC7DA,EAAO9B,EAAOmmE,WAEZ,OAAOlxE,QAAQ/K,QAAQ,MAK7B,IAAMolH,EAAa9mF,GAAAA,OACjBpd,EAAS8rD,WAAWm4C,EAAe9/F,QACnCnE,EAAS8rD,WAAWm4C,EAAe9/F,OAAS8/F,EAAezlH,SAevDq3H,EAAa,SAAChyH,GAClB,OAAOA,EAAMsc,QAAQ,WAAY,GACnC,EAEA,OAAO,KAAKw9F,cAAc7B,qBAAqB97F,EAAS2a,IAAK6wD,GAAKxkF,MAAK,SAACknF,GACtE,GAAIA,GAAUx3E,IAASw3E,EAAOn5E,OAAOvW,OAAQ,CAC3C,IAAMozG,EAAkBpmB,EAAImmB,mBAAmBzjB,EAAOA,OAAQx3E,EAAKyN,QAE/D0rC,OAA4B,EAC5B4wD,OAA0C,EAC1CqV,OAAmD,EACnDC,OAAgC,EAC9BC,EAA6B,GAEnCpkB,EAAgB/xB,OAAM,SAAC/vE,GACrB,IAAKA,EAAE4G,OAASA,GAAuB,aAAdA,EAAK/Q,MAAuB+Q,EAAKqkE,YAAcjrE,EAAE4G,QAAW5G,EAAE4kG,UAAY5kG,EAAEo+E,OAAQ,CAG3G,GAFAr+B,EAAQA,GAAS//C,EAAEo+E,OAAOr+B,OAAS//C,EAAEo+E,OAAOgvB,aAC5CuD,EAAsBA,GAAuB3wG,EAAEo+E,OAAOuyB,qBAAuBiE,GAAW50G,EAAEo+E,OAAOlP,aAC7FlvE,EAAEo+E,OAAO+d,KAAM,CACjB,IAAM1xE,EAAMzqB,EAAEo+E,OAAO+d,KAAKh7F,QAAQ6pE,GAAapkE,IAC3C5G,EAAEo+E,OAAO6yB,yBACX+U,EAA+BhmH,EAAEo+E,OAAO6yB,yBAAyBxmF,GACxDzqB,EAAEo+E,OAAO8yB,mBAClB8U,EAA+BpR,GAAW50G,EAAEo+E,OAAO8yB,iBAAiBzmF,KAElEu7F,GAEuB,kBADzBC,EAAYjmH,EAAEo+E,OAAO+d,KAAK1xE,MAExBw7F,EAAYj4H,KAAKC,UAAUg4H,IAI7BjmH,EAAEo+E,OAAO6e,OAiGzB,SAA6Br2F,EAAek7F,EAAsC1jB,GAChF,IADkG,EAC9F7xE,EAAQ,EADsF,IAExEu1F,GAFwE,yBAEvFqkB,EAFuF,QAG5Fv/G,IAASu/G,EAAYv/G,MAAQu/G,EAAY/nC,SAAWA,GACtDA,EAAO6e,MAAMzmG,SAAQ,SAAC4vH,GAElBD,EAAY/nC,OAAOr+B,QAAUqmE,EAAYrmE,OACzComE,EAAY/nC,OAAOlP,cAAgBk3C,EAAYl3C,aAC/Ci3C,EAAY/nC,OAAOke,aAAe8pB,EAAY9pB,YAE9C/vF,GAEH,GAZ6F,EAElG,2BAA2C,GAFuD,+BAelG,OAAOA,IAAU6xE,EAAO6e,MAAMvuG,MAChC,CAjHkC23H,CAAoBz/G,EAAMk7F,EAAiB9hG,EAAEo+E,UAEjEr+B,EAAQ,GACR4wD,EAAsB,GACtB3wG,EAAEo+E,OAAO6e,MAAMzmG,SAAQ,SAAC4vH,EAAyB5iH,GAC/Cu8C,GAASqmE,EAAYrmE,OAAS//C,EAAEo+E,OAAOgvB,cAAgB,GACvDuD,GAAuByV,EAAYzV,qBAAuBiE,GAAWwR,EAAYl3C,cAAgB,GAC7F1rE,IAAUxD,EAAEo+E,OAAO6e,MAAMvuG,OAAS,IACpCqxD,GAAS,OACT4wD,GAAuB,OAE1B,IACD5wD,EAAQgmE,EAAWhmE,GACnB4wD,EAAsBoV,EAAWpV,IAE/B3wG,EAAEo+E,OAAOqe,UACXz8F,EAAEo+E,OAAOqe,SAASjmG,SAAQ,SAACs8G,GACzBoT,EAAiBntH,KAAK/K,KAAKC,UAAU6kH,GACtC,IAGL,OAAO,CACR,IACD,IAAI97G,EAAS,GA4Bb,OA3BI+oD,IACF/oD,EAAS,QAAU49G,GAAW70D,IAE5B4wD,IACE35G,EAAOtI,OAAS,IAClBsI,GAAU,QAEZA,GAAU25G,GAERqV,IACEhvH,EAAOtI,OAAS,IAClBsI,GAAU,QAEZA,GAAA,WA6CV,SAA6BkoE,GAE3B,IAA6B,IAAzBA,EAAQ/9D,QAAQ,KAClB,MAAO,MAAQ+9D,EAAU,MAE3B,OAAOA,CACT,CAnDyB21C,CAAoBoR,GAAnC,cAAoDD,IAEtB,IAA5BE,EAAiBx3H,SACfsI,EAAOtI,OAAS,IAClBsI,GAAU,QAEZA,GAAU,YACVkvH,EAAiB1vH,SAAQ,SAACs8G,GACxB97G,GAAA,iBAAuB87G,EAAvB,MACD,KAEC97G,EAAOtI,OAAS,GAAK0vF,EAAOA,OAAO1nD,MACrC1/B,GAAA,uBASV,SAAuBonF,GACrB,IAAIpnF,EAAS,cACPsvH,EAAYloC,EAAO1nD,IACzB,GAAI4vF,EAAW,CACb,IAAM5vF,EAAMlN,GAAAA,MAAU88F,GACtBtvH,EAAcuvH,GAAAA,SAAS7vF,EAAIrM,aAClB+zD,EAAOr+B,QAChB/oD,EAASonF,EAAOr+B,OAElB,OAAO/oD,CACT,CAnBoCwvH,CAAcpoC,EAAOA,QAA/C,aAA2DA,EAAOA,OAAO1nD,IAAzE,MAxFkB,CACpB8+C,SALmC,CACnCr2B,KAAM,WACNprD,MA4FmBiD,GAxFnB62B,MAAOumF,GA0FT,OAAO,IACR,GACH,KAnKW,KAqLb,SAASQ,GAAWE,GAClB,GAAIA,EAEF,OADYA,EAAMzkG,QAAQ,8BAA+B,YAC9CA,QAAQ,wBAAyB,OAGhD,CCrMM,IAAOo2G,GAAA,oEACX,SAASv2G,EAAwBm1G,GAC/B,IAAMruH,EAAS,GACTklF,EAAU,IAAIx2E,IACdghH,EAAc,IAAIhhH,IAClBihH,EAAe,IAAIzlH,IAEzB2mE,GAAMw9C,EAAQzL,kBAAkB,SAACjnH,EAAKiU,EAAM9Y,GACrCurF,GAAOzyE,MAGPwyE,GAAaxyE,IAASsyE,GAAStyE,KAAUA,EAAKQ,SACjD80E,EAAQj2E,IAAIW,GACZ+/G,EAAatlH,IAAIuF,EAAM9Y,EAAKA,EAAKY,OAAS,KAExCoqF,GAAQlyE,IACV8/G,EAAYzgH,IAAIW,EAAK5X,QAAQq2H,EAAQzL,mBAExC,IAjByD,UAmBrC19B,GAnBqC,IAmB1D,2BAA8B,KAAnB90E,EAAmB,QAC5B,IAAKs/G,EAAYtlH,IAAIgG,GAAS,CAC5B,IAAMw/G,EAAS,KAAKC,cAAcF,EAAa3zH,IAAIoU,IACnD,GAAIw/G,EAAQ,CACV,IAAM/4F,EAAQP,GAAAA,OACZpd,EAAS8rD,WAAW4qD,EAAOvyG,QAC3BnE,EAAS8rD,WAAW4qD,EAAOvyG,OAASuyG,EAAO7oH,OAAOrP,SAE9Co4H,EAAoBv6C,GAAAA,OAAkB1+C,EAAlB0+C,kBAAAA,OAA2Cq6C,EAAO7oH,OAAlDwuE,KAA6DH,GAAAA,KAAyB,GAChH06C,EAAkB1wC,KAAO,CAAC/J,GAAAA,aAC1Br1E,EAAO+B,KAAK+tH,KA7BwC,+BAkC1D,OAAO9vH,CACT,GApCW,2BAqCH,SAAcipH,GACpB,GAAIA,GAAcA,EAAW9uB,SAAU,CACrC,IAAMnrB,EAAQi6C,EAAW9uB,SACzB,GAAIstB,GAAiBz4C,GACnB,OAAO+gD,GAA4B/gD,GADrC,GxCxCe,SAACA,GAAD,QAAaA,GAAS,UAAWA,CAAjC,CwC0CJghD,CAAiBhhD,GAAQ,WAClBA,EAAM9hB,OADY,IAClC,2BAA6B,KACrB98C,EAAS2/G,GADY,SAE3B,GAAI3/G,EACF,OAAOA,EAJuB,iCAUxC,KApDW,KAsDb,SAAS2/G,GAA4B/gD,GAAyB,UAC5CA,EAAMj1E,OADsC,IAC5D,2BAA6B,KAAlBy0B,EAAkB,QAC3B,GAAe,WAAXA,EAAE3vB,KACJ,OAAO2vB,EAHiD,+BAM5D,GAAIwgD,EAAMx0E,KAAO8M,MAAMQ,QAAQknE,EAAMx0E,KAAM,WACzBw0E,EAAMx0E,KADmB,IACzC,2BAA2B,KAAhBg0B,EAAgB,QACzB,GAAe,WAAXA,EAAE3vB,KACJ,OAAO2vB,EAH8B,gCAO7C,CCxEM,ICHMyhG,GDGCC,GAAA,WAIX,WAAYp3E,GAA0B,UACpC,KAAKq3E,cAAyC,WAAzBr3E,EAASs3E,YAC9B,KAAKC,eAA2C,WAA1Bv3E,EAASw3E,YACjC,CAPW,kCAQX,SAASp3G,EAAwBm1G,GAA2B,WACpDruH,EAAS,GAuBf,OAtBA6wE,GAAMw9C,EAAQzL,kBAAkB,SAACjnH,EAAKiU,GAjB1C,IAAAgH,EAAAM,EAkBU,EAAKi5G,eAAiBnuC,GAAMpyE,IAAiC,qBAAxB,OAAAgH,EAAAhH,EAAKuqF,eAAL,EAAAvjF,EAAe/X,OACtDmB,EAAO+B,KACLwzE,GAAAA,OACE,EAAKg7C,WAAWr3G,EAAUtJ,EAAKuqF,UAC/B,kCACA/kB,GAAAA,MACA,YAIF,EAAKi7C,gBAAkBluC,GAAMvyE,IAAiC,qBAAxB,OAAAsH,EAAAtH,EAAKuqF,eAAL,EAAAjjF,EAAerY,OACvDmB,EAAO+B,KACLwzE,GAAAA,OACE,EAAKg7C,WAAWr3G,EAAUtJ,EAAKuqF,UAC/B,mCACA/kB,GAAAA,MACA,WAIP,IACMp1E,CACT,GAjCW,wBAmCH,SAAWkZ,EAAwBtJ,GACzC,OAAO0mB,GAAAA,OAAapd,EAAS8rD,WAAWp1D,EAAK7V,MAAMsjB,QAASnE,EAAS8rD,WAAWp1D,EAAKjW,IAAI0J,MAAMga,QACjG,KArCW,KEoBAmzG,GAAmB,SAACC,EAA6Bn4C,GAC5D,IAAMv+E,EAAQu+E,EAAatT,WAAWyrD,EAASt3G,SAASpf,OAClD88B,EAAQ,CACZ98B,MAAAA,EACAJ,IAAK82H,EAASt3G,SAASkxG,UACnB30F,GAAAA,OAAgB37B,EAAMqlC,KAAM,IAAIyqF,GAAWvxC,GAAco4C,cAAc32H,EAAMqlC,OAC7Ek5C,EAAatT,WAAWyrD,EAASt3G,SAASxf,MAGhD,OAAO47E,GAAAA,OAAkB1+C,EAAO45F,EAAS3lH,QAAS2lH,EAAS74C,SAAU64C,EAASr5H,KAAMmsH,GACtF,EAEaoN,GAAA,WAUX,WAAY9Z,EAAmDoX,GAAoB,UAApB,KAAAA,UAAAA,EAJvD,KAAA2C,WAAoC,GAEpC,KAAAC,iBAAmB,wDAGzB,KAAK5S,mBAAoB,EACzB,KAAK6S,eAAiB,IAAI/S,GAAelH,EAAe9zG,QAC1D,CAbW,mCAeJ,SAAU+1C,GACf,KAAK83E,WAAa,GACd93E,IACF,KAAKmlE,kBAAoBnlE,EAAS8xD,SAClC,KAAK9U,WAAah9C,EAASg9C,WAC3B,KAAKivB,4BAA8BjsE,EAASisE,4BAC5C,KAAK2E,YAAc5wE,EAAS4wE,YAEC,WAAzB5wE,EAASs3E,aAAsD,WAA1Bt3E,EAASw3E,cAChD,KAAKM,WAAW7uH,KAAK,IAAImuH,GAAmBp3E,KAGhD,KAAK83E,WAAW7uH,KAAK,IAAI0tH,GAC3B,GA5BW,uDA8BJ,WAAmBn3C,GAAnB,oHAA+C6rC,EAA/C,gCACA,KAAKlG,kBADL,yCAEIl7G,QAAQ/K,QAAQ,KAFpB,OAKCgyG,EAAmB,GALpB,SAOG+mB,EAA6B3G,GAAmBgE,gBACpD91C,EACA,CAAEwd,WAAY,KAAKA,WAAY4zB,YAAa,KAAKA,cACjD,GAGEl9G,EAAQ,EAbT,IAc0BukH,EAAarO,WAdvC,iEAcQsO,EAdR,SAec7M,aAAeA,EAC9B6M,EAAerJ,gBAAkBn7G,EACjCwkH,EAAejM,4BAA8B,KAAKA,4BAClDiM,EAAen9F,IAAMykD,EAAazkD,IAlBjC,UAoBwB,KAAKi9F,eAAezS,aAAa/lC,EAAc04C,GApBvE,QAoBKC,EApBL,QAsBK/G,EAAO8G,GACL/iH,OAAOvW,OAAS,GAEtBsyG,EAAiBjoG,KAAjB,MAAAioG,EAAA,EAAyBkgB,EAAIj8G,SAE3Bi8G,EAAI5zB,SAAS5+F,OAAS,GACxBsyG,EAAiBjoG,KAAjB,MAAAioG,EAAA,EAAyBkgB,EAAI5zB,WAG/B0T,EAAiBjoG,KAAjB,MAAAioG,EAAA,EAAyBinB,IACzBjnB,EAAiBjoG,KAAjB,MAAAioG,EAAA,EAAyB,KAAKknB,wBAAwB54C,EAAc04C,KACpExkH,IAjCC,kMAoCH,KAAKyhH,UAAUK,UAAU,wBAAyB,CAAEluH,MAAO41G,GAAA,QApCxD,QAwCCmb,EAAkB,IAAIziH,IACtB0iH,EAAyC,GAzC1C,MA0CWpnB,EA1CX,6CA0CIlsG,EA1CJ,MAgDCqmH,GAAgBrmH,EAAIgN,UAAY,KAAK+lH,iBAhDtC,2DAoDCh1H,OAAOY,UAAUC,eAAeC,KAAKmB,EAAK,cAC5CA,EAAM0yH,GAAiB1yH,EAAKw6E,IAGzBx6E,EAAIiJ,SACPjJ,EAAIiJ,OAASw8G,MAIb8N,GACAA,EAAYvmH,UAAYhN,EAAIgN,SAC5BumH,EAAYx6F,MAAMl9B,IAAIylC,OAASthC,EAAI+4B,MAAM98B,MAAMqlC,MAC/C3oB,KAAKkW,IAAI0kG,EAAYx6F,MAAMl9B,IAAI81D,UAAY3xD,EAAI+4B,MAAMl9B,IAAI81D,YAAc,GAhEtE,wBAkED4hE,EAAYx6F,MAAMl9B,IAAMmE,EAAI+4B,MAAMl9B,IAlEjC,gCAqED03H,EAAcvzH,EArEb,QAwEGwzH,EAASxzH,EAAI+4B,MAAM98B,MAAMqlC,KAAO,IAAMthC,EAAI+4B,MAAM98B,MAAM01D,UAAY,IAAM3xD,EAAIgN,QAC7EqmH,EAAgB/mH,IAAIknH,KACvBF,EAAyBrvH,KAAKjE,GAC9BqzH,EAAgBliH,IAAIqiH,IA3EnB,6DA+EEF,GA/EF,uEA9BI,4FA+GH,SAAwBl4G,EAAwBq4G,GACtD,IADiF,EAC3EvxH,EAAS,GADkE,IAGzD,KAAK4wH,YAHoD,IAGjF,2BAAyC,KAA9BY,EAA8B,QACvCxxH,EAAO+B,KAAP,MAAA/B,EAAA,EAAewxH,EAAU5mB,SAAS1xF,EAAUq4G,KAJmC,+BAMjF,OAAOvxH,CACT,KAtHW,KC1BAyxH,GAAA,WAAb,uBACU,KAAAC,kBAAmB,CAsC7B,CAvCa,mCAGJ,SAAUC,GACXA,IACF,KAAKD,iBAAmBC,EAAar3H,OAEzC,GAPW,oBASJ,SAAO4e,EAAwB5H,GACpC,IAAK,KAAKogH,iBACR,MAAO,GAGT,IACE,IAAMh2F,EAAOxiB,EAASmuD,UAiBhBuqD,GAVOtgH,EAAQugH,UAAuBvgH,EAAQgvE,QAGrChvE,EAAQq5E,YACLr5E,EAAQwgH,eAEb,WAAaxgH,EAAQygH,WAAmCzgH,EAAQygH,UAC/DzgH,EAAQ0gH,WAGYt2F,GAElC,MAAO,CAAC85C,GAAAA,QAAiBl/C,GAAAA,OAAaZ,GAAAA,OAAgB,EAAG,GAAIxc,EAAS8rD,WAAWtpC,EAAKhkC,SAAUk6H,IApBlG,MAqBSxxH,GACP,MAAO,GAEX,KAtCW,KCHA6xH,GAAA,WACX,WAA6BhE,GAAoB,UAApB,KAAAA,UAAAA,CAAuB,CADzC,mCAGX,SAAU/0G,GACR,IACE,IADE,EACIwrE,EAAM0lC,GAAmBgE,gBAAgBl1G,GAEzCg5G,EAAe,GAHnB,IAIoBxtC,EAAIg+B,WAJxB,IAIF,2BAAqC,KAA1B2L,EAA0B,QACnC6D,EAAanwH,KAAK+/G,GAAc5oG,EAAUm1G,IAL1C,+BAQF,OAAOtrH,QAAQqT,IAAI87G,GAAchyH,MAAK,SAACiyH,GAAD,aAAmB,MAAGlmH,OAAH,UAAakmH,GAAhC,IARxC,MASSr0H,GACP,KAAKmwH,UAAUK,UAAU,0BAA2B,CAAEluH,MAAO41G,GAA2Bl4G,KAE5F,KAhBW,KCDP,SAAUs0H,GAAiBl5G,EAAwB1a,GACvD,GAAK0a,EAAL,CAGA,IAJoF,EAI9ElZ,EAAyB,GACzB0kF,EAAM0lC,GAAmBgE,gBAAgBl1G,GALqC,IAM/DwrE,EAAIg+B,WAN2D,IAMpF,2BAAoC,KAAzB2P,EAAyB,QAC9B3tC,EAAIg+B,UAAUhrH,OAAS,GACzBsI,EAAO+B,KAAKuwH,GAAwBp5G,EAAUm5G,EAAO33H,OAEvD23H,EAAOxhD,OAAM,SAACjhE,GApBlB,IAAAgH,EAwBM,GAHkB,WAAdhH,EAAK/Q,MAA2C,WAAtB,OAAA+X,EAAAhH,EAAK9B,aAAL,EAAA8I,EAAa/X,OACzCmB,EAAO+B,KAAKuwH,GAAwBp5G,EAAUtJ,IAE9B,aAAdA,EAAK/Q,MAAuB+Q,EAAKqkE,UACnC,OAAQrkE,EAAKqkE,UAAUp1E,MACrB,IAAK,QACL,IAAK,SACHmB,EAAO+B,KAAKuwH,GAAwBp5G,EAAUtJ,IAC9C,MACF,IAAK,SAEH,IAAM2iH,EAAWr5G,EAAS8rD,WAAWp1D,EAAKyN,QACpCm1G,EAAYt5G,EAAS8rD,WAAWp1D,EAAKqkE,UAAU52D,OAASzN,EAAKqkE,UAAUv8E,QACzE66H,EAASnzF,OAASozF,EAAUpzF,MAC9Bp/B,EAAO+B,KAAKuwH,GAAwBp5G,EAAUtJ,IAEhD,MAEF,QACE,OAAO,EAGb,OAAO,CACR,IAlCiF,+BAoCpF,IAAM6iH,EAAaj0H,GAAWA,EAAQi0H,WACtC,MAA0B,kBAAfA,GAA2BzyH,EAAOtI,QAAU+6H,EAC9CzyH,GAELxB,GAAWA,EAAQk0H,sBACrBl0H,EAAQk0H,qBAAqBx5G,EAAS2a,KAGjC7zB,EAAOlI,MAAM,EAAG0G,EAAQi0H,aACjC,CAEA,SAASH,GAAwBp5G,EAAwBtJ,GACvD,IAAM+iH,EAAWz5G,EAAS8rD,WAAWp1D,EAAKyN,QACtCu1G,EAAS15G,EAAS8rD,WAAWp1D,EAAKyN,OAASzN,EAAKlY,QAC9Cm7H,EAAe35G,EAASmuD,QAAQ/wC,GAAAA,OAAaq8F,EAAUC,IACvDE,EAAYD,EAAan7H,OAASm7H,EAAaE,YAAYr7H,OAIjE,OAHIo7H,EAAY,IACdF,EAAS15G,EAAS8rD,WAAWp1D,EAAKyN,OAASzN,EAAKlY,OAASo7H,IAEpD59C,GAAAA,OAAoBy9C,EAASvzF,KAAMwzF,EAAOxzF,KAAMuzF,EAASljE,UAAWmjE,EAAOnjE,UACpF,EJ7DYwgE,KAAAA,GAAY,KACtBA,eAAA,eKFI,IAAO+C,GAAA,WACX,WAA6BrK,GAAmB,UAAnB,KAAAA,YAAAA,CAAsB,CADxC,+BAGJ,SAAM/4G,GAAa,WACxB,GAA2C,oBAAvCA,EAAKi0G,aAAa1pB,SAAlB,KACF,OAAO,KAET,IAJwB,EjDDTsE,EiDKTzO,EAAiCpgF,EAAKi0G,aAAa1pB,SACnD84B,EAAsC,mBAA1BjjC,EAAWj2F,MAAM8E,KAA4B,YAAc,YACvEq0H,EAAatjH,EAAK9B,OAAOjP,KAEzBs0H,EAAa,CACjBt0H,KAAMo0H,EACN51G,OAAQ2yE,EAAW3yE,OACnBsmC,OAAQqsC,EAAWrsC,OACnBuJ,MAAO,IAZe,IAeL8iC,EAAW9iC,OAfN,IAexB,2BAAqC,CACnC8iE,GADmC,SACnB,YAAwB,IAArBr0H,EAAqB,EAArBA,IAAKnB,EAAgB,EAAhBA,IAAKuC,EAAW,EAAXA,MAC3B,GAAkB,cAAdk2H,EAA2B,CAC7B,IAAMl5H,EAAQ,CAAC,CAAE8E,KAAM,QAAS8kD,OAAQ,EAAGtmC,OAAQ1hB,EAAI0hB,OAAQtW,OAAQ,EAAK4hH,cACzD,aAAfuK,GAEFn5H,EAAM2jC,QAAQ,CAAE7+B,KAAM,UAAW8kD,OAAQ,EAAGtmC,OAAQ1hB,EAAI0hB,OAAQtW,OAAQ,OAE1EosH,EAAWjmE,MAAMnrD,KAAK,CACpBhI,MAAAA,EACA4B,IAAAA,EACAnB,IAAAA,EACAuC,MAAAA,QAEqB,cAAdk2H,GACTE,EAAWjmE,MAAMnrD,KAAK,CACpBhI,MAAO,CACL,CAAE8E,KAAM,UAAW8kD,OAAQ,EAAGtmC,OAAQtgB,EAAMsgB,OAAQtW,OAAQ,MAC5D,CAAElI,KAAM,QAAS8kD,OAAQ,EAAGtmC,OAAQtgB,EAAMsgB,OAAQtW,OAAQ,EAAK4hH,aAC/D,CAAE9pH,KAAM,eAAgB8kD,OAAQ,EAAGtmC,OAAQtgB,EAAMsgB,OAAQtW,OAAQ,KACjE,CAAElI,KAAM,QAAS8kD,OAAQ,EAAGtmC,OAAQtgB,EAAMsgB,OAAQtW,OAAQ,MAE5DhK,MAAAA,IAGJ,GAAmB,oBAAfA,EAAM8B,KACR,OAAOgyE,GAAAA,IAEV,IA3CqB,+BA6CxB,MjD9CuB,SAAR4tB,EiD8CM00B,GjD9CkB50B,GAAeE,GAAOD,GAAcC,EiD+C7E,KAjDW,KC2BA20B,GAAA,WAGX,WAA6Brc,GAAsC,UAAtC,KAAAA,mBAAAA,EAFrB,KAAA4R,YAAc,IAEgD,CAH3D,mCAKX,SAAU7vE,GACR,KAAK6vE,YAAc7vE,EAAS6vE,WAC9B,GAPW,2BASX,SAAczvG,EAAwBm6G,GACpC,GAAKA,EAAO70H,QAAQwhF,YAApB,CAIA,IAAMhgF,EAAS,GAQf,OANAA,EAAO+B,KAAP,MAAA/B,EAAA,EAAe,KAAKszH,2BAA2BD,EAAO70H,QAAQwhF,YAAa9mE,KAC3ElZ,EAAO+B,KAAP,MAAA/B,EAAA,EAAe,KAAKuzH,uBAAuBF,EAAO70H,QAAQwhF,eAC1DhgF,EAAO+B,KAAP,MAAA/B,EAAA,EAAe,KAAKwzH,wBAAwBH,EAAO70H,QAAQwhF,YAAa9mE,KACxElZ,EAAO+B,KAAP,MAAA/B,EAAA,EAAe,KAAKyzH,uBAAuBJ,EAAO70H,QAAQwhF,YAAa9mE,KACvElZ,EAAO+B,KAAP,MAAA/B,EAAA,EAAe,KAAK0zH,8BAA8BL,EAAO70H,QAAQwhF,YAAa9mE,KAEvElZ,EACT,GAvBW,oCAyBH,SAAuBggF,GAxDjC,IAAAppE,EAAAM,EAAAC,EAAApN,EAAAd,EA0DI,KADkC,OAAAc,EAAA,OAAAoN,EAAA,OAAAD,EAAA,OAAAN,EAAA,KAAKmgG,yBAAL,EAAAngG,EAAyBta,aAAzB,EAAA4a,EAAiCy8G,mBAAjC,EAAAx8G,EAA+C8vC,UAA/Cl9C,GAEhC,MAAO,GAET,IALsD,EAKhD6pH,EAAwB,IAAI1pH,IALoB,IAM7B81E,GAN6B,IAMtD,2BAAsC,OAA3BglC,EAA2B,aACjB,OAAA/7G,EAAA+7G,EAAWvrG,WAAX,EAAAxQ,EAAwC27G,YAAa,IADpC,IAEpC,2BAAsC,KAA3BiP,EAA2B,QAChCA,IACGD,EAAsBxpH,IAAIypH,IAC7BD,EAAsBvpH,IAAIwpH,EAAc,IAE1CD,EAAsB53H,IAAI63H,GAAc9xH,KAAKijH,IAPb,gCANgB,+BAiBtD,IAjBsD,EAiBhDhlH,EAAS,GAjBuC,IAkB9B4zH,EAAsB3wH,QAlBQ,IAkBtD,2BAAsD,KAA3C2hH,EAA2C,QAC9CkP,EAASx5C,GAAAA,OAAAA,4BAAAA,OACoBy5C,GAAAA,SAASnP,GAD7BtqC,KAEb7xB,GAAAA,OAAe,eAAgBwnE,GAAa+D,eAAgBpP,IAE9DkP,EAAO9zC,YAAc4zC,EAAsB53H,IAAI4oH,GAC/C5kH,EAAO+B,KAAK+xH,GAxBwC,+BA2BtD,OAAO9zH,CACT,GArDW,qCAuDH,SAAwBggF,EAA2B9mE,GACzD,IAD+E,EACzElZ,EAAuB,GACvBi0H,EAAW,IAAIpK,GAAW3wG,GAC1Bg7G,EAA0B,GAH+C,IAI5Dl0C,GAJ4D,IAI/E,2BAAgC,KAArBm0C,EAAqB,QAC9B,GAAqB,iDAAjBA,EAAKrpH,QAA4D,CACnE,GAAIopH,EAAclrC,SAASmrC,EAAKt9F,MAAM98B,MAAMqlC,MAC1C,SAKF,IAHA,IAAMkvB,EAAc2lE,EAASh0F,eAAek0F,EAAKt9F,MAAM98B,MAAMqlC,MACzDg1F,EAAe,EACfxlD,EAAU,GACLn3E,EAAI08H,EAAKt9F,MAAM98B,MAAM01D,UAAWh4D,GAAK08H,EAAKt9F,MAAMl9B,IAAI81D,UAAWh4D,IAAK,CAE3E,GAAa,OADA62D,EAAY9qD,OAAO/L,GAE9B,MAEF28H,IACAxlD,GAAW,KAAK+5C,YAElBuL,EAAcnyH,KAAKoyH,EAAKt9F,MAAM98B,MAAMqlC,MAEpC,IAAIi1F,EAAcF,EAAKt9F,MACnBu9F,IAAiBD,EAAKt9F,MAAMl9B,IAAI81D,UAAY0kE,EAAKt9F,MAAM98B,MAAM01D,YAC/D4kE,EAAc/9F,GAAAA,OACZ69F,EAAKt9F,MAAM98B,MACX27B,GAAAA,OAAgBy+F,EAAKt9F,MAAMl9B,IAAIylC,KAAM+0F,EAAKt9F,MAAM98B,MAAM01D,UAAY2kE,KAGtEp0H,EAAO+B,KACLu4E,GAAAA,OACE,wBACAg6C,GAAoBp7G,EAAS2a,IAAK,CAAC2hD,GAAAA,QAAiB6+C,EAAazlD,KACjEuL,GAAAA,YAjCuE,+BAuC/E,GAAsB,IAAlBn6E,EAAOtI,OAAc,CAEvB,IADA,IAAM68H,EAA2B,GACxB98H,EAAI,EAAGA,GAAKw8H,EAASj0F,eAAgBvoC,IAAK,CAIjD,IAHA,IAAM62D,EAAc2lE,EAASh0F,eAAexoC,GACxC28H,EAAe,EACfxlD,EAAU,GACL/oD,EAAI,EAAGA,EAAIyoC,EAAY52D,OAAQmuB,IAAK,CAC3C,IAAM3B,EAAOoqC,EAAY9qD,OAAOqiB,GAEhC,GAAa,MAAT3B,GAAyB,OAATA,EAAe,CACZ,IAAjBkwG,IACFG,EAAaxyH,KAAKyzE,GAAAA,QAAiBl/C,GAAAA,OAAa7+B,EAAGouB,EAAIuuG,EAAc38H,EAAGouB,GAAI+oD,IAC5EwlD,EAAe,EACfxlD,EAAU,IAEZ,MAGW,MAAT1qD,GAAiC,IAAjBkwG,EAMP,OAATlwG,IACF0qD,GAAW,KAAK+5C,YAChByL,MAPAG,EAAaxyH,KAAKyzE,GAAAA,QAAiBl/C,GAAAA,OAAa7+B,EAAGouB,EAAIuuG,EAAc38H,EAAGouB,GAAI+oD,IAC5EwlD,EAAe,EACfxlD,EAAU,IASO,IAAjBwlD,GACFG,EAAaxyH,KAAKyzE,GAAAA,QAAiBl/C,GAAAA,OAAa7+B,EAAG,EAAGA,EAAGw8H,EAASvD,cAAcj5H,IAAKm3E,IAGrF2lD,EAAa78H,OAAS,GACxBsI,EAAO+B,KACLu4E,GAAAA,OACE,6BACAg6C,GAAoBp7G,EAAS2a,IAAK0gG,GAClCp6C,GAAAA,WAMR,OAAOn6E,CACT,GA5IW,oCA8IH,SAAuBggF,EAA2B9mE,GACxD,IAD8E,EACxElZ,EAAS,GACTuT,EAAS,IAAIs2G,GAAW3wG,GAFgD,IAG3D8mE,GAH2D,IAG9E,2BAAgC,KAArBm0C,EAAqB,QAC9B,GAAIA,EAAKrpH,QAAQ4T,WAAW,kBAAoBy1G,EAAKptH,SAAWw8G,GAAa,CAC3E,IAAM1sF,EAAQP,GAAAA,OAAa69F,EAAKt9F,MAAM98B,MAAOo6H,EAAKt9F,MAAMl9B,KAClD82B,EAASld,EAAO8zD,QAAQxwC,GAExB29F,EAAqB1e,GADPviG,EAAO0sB,eAAepJ,EAAMl9B,IAAIylC,MAC8BvI,EAAMl9B,IAAI81D,WAC5F54B,EAAMl9B,IAAI81D,UAAY+kE,EACtB,IAAMV,EAASx5C,GAAAA,OAAAA,yBAAAA,OACY7pD,GACzB6jG,GAAoBp7G,EAAS2a,IAAK,CAAC2hD,GAAAA,IAAa3+C,KAChDsjD,GAAAA,UAEF25C,EAAO9zC,YAAc,CAACm0C,GACtBn0H,EAAO+B,KAAK+xH,IAhB8D,+BAmB9E,OAAO9zH,CACT,GAlKW,wCAoKH,SAA2BggF,EAA2B9mE,GAC5D,IADkF,EAC5Ei1G,EAAwB,GADoD,IAEzDnuC,GAFyD,IAElF,2BAAsC,KAA3BglC,EAA2B,QACpC,GAA2B,wCAAvBA,EAAWl6G,QAAmD,CAChE,IAAM/N,EAAQmc,EAASmuD,QAAQ29C,EAAWnuF,OAAO49F,oBACjD,GAAc,WAAV13H,GAAgC,YAAVA,GAAiC,WAAVA,GAAgC,YAAVA,EAAqB,CAC1F,IAAMg/B,EAAWh/B,EAAMisF,SAAS,QAAU,OAAS,QACnDmlC,EAAQpsH,KACNu4E,GAAAA,OACE,qBACAg6C,GAAoBp7G,EAAS2a,IAAK,CAAC2hD,GAAAA,QAAiBwvC,EAAWnuF,MAAOkF,KACtEo+C,GAAAA,aAXwE,+BAiBlF,OAAOg0C,CACT,GAtLW,2CAwLH,SAA8BnuC,EAA2B9mE,GAC/D,IADqF,EAC/Ei1G,EAAwB,GADuD,IAE5DnuC,GAF4D,IAErF,2BAAsC,KAA3BglC,EAA2B,QACpC,GAAwB,YAApBA,EAAW5tH,MAA0C,YAApB4tH,EAAW5tH,KAAoB,CAClE,IAAMs9H,EAAgBtK,GAAmBgE,gBAAgBl1G,GACnDw0D,EAAcx0D,EAASquD,SAASy9C,EAAWnuF,MAAM98B,OAEjD6V,EADU4yG,GAAsB90C,EAAagnD,GAC9BjqB,kBAAkB/8B,GACvC,GAAIsU,GAAMpyE,EAAKi0G,eAAiB1hC,GAAMvyE,EAAKi0G,cAAe,CACxD,IAAM8Q,EAAuB3yC,GAAMpyE,EAAKi0G,cAAgB,MAAQ,WAC1D+Q,EAAW,IAAI5B,GAAkB,KAAKrK,aAC5CwF,EAAQpsH,KACNu4E,GAAAA,OAAAA,0BAAAA,OAC4Bq6C,GAC1BL,GAAoBp7G,EAAS2a,IAAK,CAAC2hD,GAAAA,QAAiBwvC,EAAWnuF,MAAO+9F,EAASC,MAAMjlH,MACrFuqE,GAAAA,aAf2E,+BAqBrF,OAAOg0C,CACT,KA9MW,KAiNb,SAASmG,GAAoBzgG,EAAam2C,GACxC,IAAMtjD,EAAU,GAMhB,OALAA,EAAQmN,GAAOm2C,EACa,CAC1BtjD,QAAAA,EAIJ,CC7OM,IAeOouG,GAAkB,IAflB,WAAb,uBACU,KAAAC,SAAW,IAAI7qH,GAYzB,CAba,wCAEX,SAAempH,GACb,GAAI,KAAK0B,SAAS3qH,IAAIipH,EAAOt7C,SAE3B,OADgB,KAAKg9C,SAAS/4H,IAAIq3H,EAAOt7C,SAClC,eAAWs7C,EAAOj7H,YAE3B,MAAM,IAAIoI,MAAJ,mBAAsB6yH,EAAOt7C,QAA7B,eACR,GARW,6BAUX,SAAgBi9C,EAAmBzgH,GACjC,KAAKwgH,SAAS1qH,IAAI2qH,EAAWzgH,EAC/B,KAZW,MCDP,SAAU0gH,GACd/7G,EACAm6G,GAEA,IAAQ18F,EAAa08F,EAAb18F,SACFu+F,EAAK,IAAIrL,GAAW3wG,GAC1B,GAAkB,OAAdm6G,EAAO5kD,GAAa,CACtB,IAAM0mD,EAAeD,EAAGj1F,eAAetJ,EAASyI,KAAO,GACvD,GAAI+1F,EAAapC,YAAYhqC,SAAS,KAAM,CAC1C,IAAM8/B,EAAcqM,EAAGj1F,eAAetJ,EAASyI,MACzCg2F,EAAUvM,EAAYn1F,UAAUiD,EAAS84B,UAAWo5D,EAAYnxH,QAChE29H,GAA4C,IAAhCF,EAAahrH,QAAQ,OACvC,GAAmC,IAA/BirH,EAAQrC,YAAYr7H,OAAc,CACpC,IAAM49H,EAAiB3+F,EAAS84B,WAAa0lE,EAAaz9H,OAASy9H,EAAaI,WAAW79H,QAC3F,GAAI49H,IAAmBjC,EAAO/hH,QAAQgvE,UAAY+0C,EAChD,OAEF,IAAMr1H,EAAS,GAMf,OALI6oH,EAAYnxH,OAAS,GACvBsI,EAAO+B,KAAKyzE,GAAAA,IAAal/C,GAAAA,OAAaK,EAAUjB,GAAAA,OAAgBiB,EAASyI,KAAMypF,EAAYnxH,OAAS,MAEtGsI,EAAO+B,KAAKyzE,GAAAA,OAAgB7+C,EAAU,IAAI42D,OAAO8lC,EAAO/hH,QAAQgvE,SAAW+0C,EAAY,EAAIC,EAAiB,MAErGt1H,EAET,GAAIq1H,EACF,MAAO,CAAC7/C,GAAAA,OAAgB7+C,EAAU,IAAI42D,OAAO8lC,EAAO/hH,QAAQgvE,WAIhE,GAAI60C,EAAapC,YAAYhqC,SAAS,KACpC,MAAO,CAACvT,GAAAA,OAAgB7+C,EAAU,IAAI42D,OAAO8lC,EAAO/hH,QAAQgvE,WAG9D,GAAI60C,EAAansC,SAAS,SAAWmsC,EAAansC,SAAS,MACzD,MAAO,CAACxT,GAAAA,OAAgB7+C,EAAU,OAGpC,GAAIw+F,EAAansC,SAAS,QAAUmsC,EAAansC,SAAS,MACxD,MAAO,CAACxT,GAAAA,OAAgB7+C,EAAU,OAGxC,CCpBM,SAAU6+F,GAAcpuC,GAC5B,IAAMpnF,EAAS,IAAIkK,IACnB,OAAKk9E,GAIDA,EAAO1nD,IACL0nD,EAAO1nD,IAAIhhB,WAAW,mCACxB+2G,GAAgBruC,EAAQpnF,GAExBA,EAAOqK,IAAI+8E,EAAO1nD,IAAK0nD,GAGzBquC,GAAgBruC,EAAQpnF,GAEnBA,GAZEA,CAaX,CAEA,SAASy1H,GAAgBruC,EAAoBpnF,GACvConF,EAAO6d,OACTywB,GAAmBtuC,EAAO6d,MAAOjlG,GAE/BonF,EAAO6e,OACTyvB,GAAmBtuC,EAAO6e,MAAOjmG,GAE/BonF,EAAO2f,OACT2uB,GAAmBtuC,EAAO2f,MAAO/mG,EAErC,CAEA,SAAS01H,GAAmBpgC,EAA0Bt1F,GAA+B,UAC3Ds1F,GAD2D,IACnF,2BAAiC,KAAtBgX,EAAsB,QAC1B9E,GAAU8E,KAAcA,EAAU5sE,KAAQ1/B,EAAOoK,IAAIkiG,EAAU5sE,MAClE1/B,EAAOqK,IAAIiiG,EAAU5sE,IAAK4sE,GAHqD,+BAMrF,CCpDM,IAAOqpB,GAAA,WACX,WAAoB9e,EAAmDoX,GAAoB,UAAvE,KAAApX,cAAAA,EAAmD,KAAAoX,UAAAA,CAAuB,CADnF,kEAGX,WAAkB/0G,GAAlB,2FACQlZ,EAAS,GADjB,SAGU+wH,EAAe3G,GAAmBgE,gBAAgBl1G,GACpD08G,EAAa,IAAI1rH,IAJzB,IAKiC6mH,EAAarO,WAL9C,gEAKesO,EALf,kBAM2B,KAAKna,cAAc7B,qBAAqB97F,EAAS2a,IAAKm9F,GANjF,SAOU,OADE5pC,EANZ,aAOU,EAAAA,EAAQA,UAEVwuC,EAAa,IAAI1rH,IAAJ,YAAYsrH,GAAc,MAAApuC,OAAA,EAAAA,EAAQA,SAAlC,EAA8CwuC,MATnE,mJAY8BA,GAZ9B,IAYI,2BAAWC,EAA2B,SAC9BC,EAAOv7C,GAAAA,OAAgBjkD,GAAAA,OAAa,EAAG,EAAG,EAAG,KAC9CyhD,QAAU,CACbhvB,MAAOstD,GAAewf,EAAY,GAAIA,EAAY,IAClD99C,QAASk4C,GAAa+D,eACtB57H,UAAW,CAACy9H,EAAY,KAE1B71H,EAAO+B,KAAK+zH,EAnBlB,iFAsBI,KAAK7H,UAAUK,UAAU,sBAAuB,CAAEluH,MAAO41G,GAAA,QAtB7D,iCAyBSh2G,GAzBT,uEAHW,oFA8BX,SAAgB+1H,GACd,OAAOA,CACT,KAhCW,KCNb,IAAMC,GAAA,GAAN,uBACS,KAAAC,WAAa,EACb,KAAAC,oBAAqB,CAC9B,IAKA,SAASD,GAAWlwH,EAAWowH,EAAiBvjH,EAAWwjH,EAAiBp2H,GAS1E,IAAIvI,EAEJ,IAVAuI,EAAOi2H,WAAa,EACpBj2H,EAAOk2H,oBAAqB,EASvBz+H,EAAI,EAAGA,EAAI0+H,GAAW1+H,EAAI2+H,EAAS3+H,IAAK,CAI3C,GAHkBsO,EAAEpO,WAAWF,KACbmb,EAAEjb,WAAWF,GAG7B,MAMJ,IAFA,IAAI4+H,EAAa,EACfC,EAAa,EACNzwG,EAAIpuB,EAAGouB,EAAIswG,EAAStwG,IAAK,CAEnB,KADK9f,EAAEpO,WAAWkuB,GAE7BwwG,IAEAC,IAMJ,IAFA,IAAIC,EAAa,EACfC,EAAa,EACN3wG,EAAIpuB,EAAGouB,EAAIuwG,EAASvwG,IAAK,CAEnB,KADKjT,EAAEjb,WAAWkuB,GAE7B0wG,IAEAC,IAIJ,KAAIH,EAAa,GAAKC,EAAa,MAG/BC,EAAa,GAAKC,EAAa,GAAnC,CAIA,IAAMC,EAAWhgH,KAAKkW,IAAI2pG,EAAaE,GACjCP,EAAax/G,KAAKkW,IAAI0pG,EAAaE,GAEzC,GAAiB,IAAbE,EAeF,OAZAz2H,EAAOi2H,WAAaA,OAEhBA,EAAa,GAAK,GAAKM,EAAa,GAAKA,EAAa,EAAIxwH,EAAErO,QAAU6+H,EAAa3jH,EAAElb,QAC3D,KAAxBkb,EAAEjb,WAAW4+H,IAA8D,KAA5BxwH,EAAEpO,WAAW4+H,EAAa,IAC7C,KAA1BxwH,EAAEpO,WAAWoO,EAAErO,OAAS,KAI1BsI,EAAOk2H,oBAAqB,IAMhCD,EAAaQ,IAAa,IAC5Bz2H,EAAOi2H,WAAaA,EAAaQ,GAErC,CAgBM,SAAUC,GAAiB3vH,EAAoB4vH,EAAwBC,GAgB3E,IAdA,IAAMC,EAAapgH,KAAKkR,IAAI5gB,EAAOi5B,eAAgB,KAE/C82F,EAA6B,EAC7BC,EAA+B,EAE/BC,EAAmB,GACnBC,EAA0B,EAKxBC,EAAkB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC3CC,EAAM,IAAInB,GAEPrgG,EAAa,EAAGA,GAAckhG,EAAYlhG,IAAc,CAY/D,IAXA,IAAMyhG,EAAoBrwH,EAAO2pH,cAAc/6F,GACzC0hG,EAAkBtwH,EAAOk5B,eAAetK,GAIxC2hG,EAAqBF,GAAqB,MAE5CG,GAAwB,EACxBC,EAAyB,EACzBC,EAAyB,EACzBC,EAAuB,EAClB7xG,EAAI,EAAG8xG,EAAOP,EAAmBvxG,EAAI8xG,EAAM9xG,IAAK,CACvD,IAAM/I,EAAWw6G,EAAqBD,EAAgB1/H,WAAWkuB,GAAK9e,EAAO6wH,gBAAgBjiG,EAAY9P,GAEzG,GAAY,IAAR/I,EACF46G,QADF,IAEmB,KAAR56G,EAEJ,CAELy6G,GAAwB,EACxBC,EAAyB3xG,EACzB,MALA4xG,KAUJ,GAAKF,IAIDG,EAAuB,EACzBZ,IACSW,EAAyB,GAClCV,IAGFd,GAAWe,EAAkBC,EAAyBI,EAAiBG,EAAwBL,IAE3FA,EAAIjB,oBAWAU,GAAuBD,IAAmBQ,EAAIlB,YAXtD,CAgBA,IAAM4B,EAAoBV,EAAIlB,WAC1B4B,GA9D6B,GA+D/BX,EAAgBW,KAGlBb,EAAmBK,EACnBJ,EAA0BO,GAG5B,IAAIj3C,EAAeq2C,EACfE,IAA+BC,IACjCx2C,EAAeu2C,EAA6BC,GAG9C,IAAIz2C,EAAUq2C,EAGd,GAAIp2C,EAAc,CAChB,IAAIu3C,EAAev3C,EAAe,EAAI,GAAMs2C,EAhFb,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAoFzBr3H,SAAQ,SAACu4H,GAChC,IAAMC,EAAuBd,EAAgBa,GACzCC,EAAuBF,IACzBA,EAAeE,EACf13C,EAAUy3C,EAEb,IAIe,IAAZz3C,GAAiB42C,EAAgB,GAAK,GAAKA,EAAgB,GAAK,GAAKA,EAAgB,IAAMA,EAAgB,GAAK,IAClH52C,EAAU,GASd,MAAO,CACLC,aAAAA,EACAD,QAAAA,EAEJ,CCjNM,SAAUm2B,GACdl6G,EACAonD,EACA+yD,EACA59D,GAEqB,IADrBm/E,EACqB,uDADb,EACRC,EAAqB,uDAAD,EAEpB,GAAY,OAAR37H,GAA+B,kBAARA,EAAkB,CAM3C,IAAMo6G,EAAuB,IAAVshB,GAAen/E,EAASq/E,qBAAwBF,EAAQ,EAAIt0E,EAAS7K,EAAS6vE,YAAc,GAC/G,GAAIrhH,MAAMQ,QAAQvL,GAAM,CAEtB,GADA27H,GAAqB,EACF,IAAf37H,EAAI7E,OACN,MAAO,GAGT,IADA,IAAIsI,EAAS,GACJvI,EAAI,EAAGA,EAAI8E,EAAI7E,OAAQD,IAAK,CACnC,IAAI2gI,EAAY77H,EAAI9E,GACE,kBAAX8E,EAAI9E,IAIV6P,MAAMQ,QAAQvL,EAAI9E,MACrB2gI,EAAYC,GAAgB97H,EAAI9E,GAAIygI,IAEtCl4H,GAAUy2G,GAAgB2hB,EAAWz0E,EAAQ+yD,EAAkB59D,EAAWm/E,GAAS,EAAIC,IANrFl4H,GAAU,KAAO22G,EAAY,KAAOD,EAAiBn6G,EAAI9E,IAQ7D,OAAOuI,EAEP,IAAMiD,EAAOpH,OAAOoH,KAAK1G,GACzB,GAAoB,IAAhB0G,EAAKvL,OACP,MAAO,GAGT,IADA,IAAIsI,EAAoB,IAAVi4H,GAAen/E,EAASw/E,cAAiBL,EAAQ,EAAI,KAAO,GACjExgI,EAAI,EAAGA,EAAIwL,EAAKvL,OAAQD,IAAK,CACpC,IAAMkE,EAAMsH,EAAKxL,GACX8gI,EAA+B,kBAAbh8H,EAAIZ,GACtB68H,EAAiBD,EAAW,IAAM,KAElCE,EAAe9hB,GADW4hB,GAAY,QAAQ3wH,KAAKjM,GAAOm9C,EAAS6vE,YAAc,IAIvF,GAAc,IAAVsP,GAAqB,IAANxgI,GAAYqhD,EAAS4/E,kBAKtC14H,GAAU22G,EAAYh7G,EAAM68H,EADd/hB,GAAgBl6G,EAAIZ,GAAM88H,EAAc/hB,EAAkB59D,EAAWm/E,GAAS,EAAI,QAFhGj4H,GAAU2jD,EAAShoD,EAAM68H,EADX/hB,GAAgBl6G,EAAIZ,GAAM88H,EAAc/hB,EAAkB59D,EAAWm/E,GAAS,EAAI,GAM9FxgI,EAAIwL,EAAKvL,OAAS,IACpBsI,GAAU,MAGd,OAAOA,EAGX,OAAO02G,EAAiBn6G,EAC1B,CAEA,SAAS87H,GAAgB97H,EAA8B27H,GAErD,IADA,IAAMS,EAAS,GACNlhI,EAAI,EAAGA,EAAIoE,OAAOoH,KAAK1G,GAAK7E,OAAQD,IAAK,CAChD,IAAMkE,EAAME,OAAOoH,KAAK1G,GAAK9E,GACnB,IAANA,EACFkhI,EAAO,KAAKprC,OAAO2qC,GAAqBv8H,GAAOY,EAAIZ,GAEnDg9H,EAAO,KAAKprC,OAAO2qC,GAAqBv8H,GAAOY,EAAIZ,GAGvD,OAAOg9H,CACT,CClDA,IAAMn/G,GAAequF,KAEf+wB,GAA2B,UAE3BC,GAAuB1vE,GAAAA,MAwBhB2vE,GAAA,WAWX,WACUjiB,GAG6B,IAF7BE,EAE6B,uDAFY,GACzCga,EAC6B,uCAApB9C,EAAoB,iDAH7B,KAAApX,cAAAA,EACA,KAAAE,mBAAAA,EACA,KAAAga,aAAAA,EACS,KAAA9C,UAAAA,EAbX,KAAA8K,mBAAoB,EAIpB,KAAAC,uBAAyB,EAU9B,CAhBQ,mCAkBX,SAAUrK,GACJA,IACF,KAAKoK,kBAAoBpK,EAAiB1sH,YAE5C,KAAK6zF,WAAa64B,EAAiB74B,WACnC,KAAK4zB,YAAciF,EAAiBjF,YACpC,KAAKvB,sBAAwBwG,EAAiBhG,YAC9C,KAAKsQ,yBAA2BtK,EAAiBsK,yBACjD,KAAKC,4BAA8BvK,EAAiBuK,2BACtD,GA3BW,qDA6BX,WAAiBhgH,EAAwByd,GAAzC,+NAA6DwtF,EAA7D,mCAAmFhN,IAAnF,oCACQn3G,EAAS05E,GAAAA,OAAsB,IAAI,GACpC,KAAKq/C,kBAFZ,yCAGW/4H,GAHX,OAKQ0kF,EAAM,KAAKqsC,aAAa3C,gBAAgBl1G,EAAU,CAAE48E,WAAY,KAAKA,WAAY4zB,YAAa,KAAKA,cAAe,GAClHxB,EAAa,IAAI2B,GAAW3wG,GAE7B,KAAKivG,sBAIR,KAAKQ,YAAc,KAAKR,uBAHlBxkE,EAAS+yE,GAAiBxO,EAAY,GAAG,GAC/C,KAAKS,YAAchlE,EAAO48B,aAAe,IAAIgN,OAAO5pC,EAAO28B,SAAW,MAKxEiuC,GAA0B7pC,EAAIg+B,UAAWyB,GAf3C,IAkBwBz/B,EAAIg+B,WAlB5B,IAkBE,2BAAqC,QAC3B7uF,IAAM3a,EAAS2a,GAnB3B,kCAsBQxW,EAASnE,EAASquD,SAAS5wC,GAGD,OAF1B+E,EAAOxiB,EAASmuD,WAEb7jE,OAAO6Z,EAAS,GAzB3B,0CA0BWta,QAAQ/K,QAAQgI,IA1B3B,WA8BqB,QADf6uH,EAAarM,GAAsBnlG,EAAQqnE,IA7BjD,0CA+BW3hF,QAAQ/K,QAAQgI,IA/B3B,eAmCE6uH,EAAaA,EAAWnlF,QAnC1B,EAqC+BmlF,EAAWsK,oBAAoB97G,EAAQ6qG,EAAY,KAAKS,YAAYjxH,QArCnG,SAqCOkY,EArCP,KAqCawpH,EArCb,KAuCQ9hB,EAAc,KAAKC,eAAer+F,EAAUmE,GAC9CixC,EAAc45D,EAAWjoF,eAAetJ,EAASyI,MAC/Ci6F,EAAoB/qE,EAAY56B,UAAUiD,EAAS84B,WACnD84D,EAA6B,YAAY3gH,KAAKyxH,GAEpD,KAAKL,uBAAyB,GAC1B3hB,EAAwB,KACxBkR,GACFlR,EAAiB/gF,GAAAA,OAAaK,EAAUjB,GAAAA,OAAgBiB,EAASyI,KAAMkvB,EAAY52D,SAC7E4hI,EAAiD,IAA9BhrE,EAAYmN,OAAO/jE,OACtC6hI,EAAajrE,EAAYh1C,MAAM,eACjC1J,GAAQsyE,GAAStyE,KAAU0pH,IAAqBC,IAG9C,OADEl0D,EAAU/W,EAAYh1C,MAAM,kCAC9B,EAAA+rD,EAAS3tE,UACX2/G,EAAiB/gF,GAAAA,OACfZ,GAAAA,OAAgBiB,EAASyI,KAAMimC,EAAQ,GAAG3tE,QAC1Cg+B,GAAAA,OAAgBiB,EAASyI,KAAMkvB,EAAY52D,WAIxCkY,GAAQsyE,GAAStyE,IAAwB,SAAfA,EAAK7S,QAClCy8H,EAAetgH,EAAS8rD,WAAWp1D,EAAKinB,MAAM,KACvC44B,WAAa,GACpBgqE,EAAavgH,EAAS8rD,WAAWp1D,EAAKinB,MAAM,KACvC44B,WAAa,EACxB4nD,EAAiB/gF,GAAAA,OAAakjG,EAAcC,IACnC7pH,GAAQsyE,GAAStyE,IAASA,EAAK7S,OAClChD,EAAQmf,EAAS8rD,WAAWp1D,EAAKinB,MAAM,IACzCxZ,EAAS,GAAKtjB,EAAM01D,UAAY,GAAiC,MAA5B/zB,EAAKl4B,OAAO6Z,EAAS,KAC5DtjB,EAAM01D,WAAa,GAErB4nD,EAAiB/gF,GAAAA,OAAav8B,EAAOmf,EAAS8rD,WAAWp1D,EAAKinB,MAAM,MAC3DjnB,GAAQsyE,GAAStyE,IAAwB,OAAfA,EAAK7S,OAAkC,MAAhBu6G,GAC1DD,EAAiB/gF,GAAAA,OAAaK,EAAUA,GACxC,KAAKqiG,uBAAyB,OAE1BxhB,EAAiBt+F,EAASquD,SAAS5wC,GAAY2gF,EAAY5/G,QAC1C,GAAkC,MAA7BgkC,EAAK87E,EAAiB,IAC9CA,IAEFH,EAAiB/gF,GAAAA,OAAapd,EAAS8rD,WAAWwyC,GAAiB7gF,IAG/D8gF,EAA8C,GAC9CiiB,EAAsB,KACtBhiB,EAAkC,CACtCzoG,IAAK,SAACy4F,EAAgCiyB,GACpC,IAmCMC,IAA0BlyB,EAAe55F,OAC3CipE,EAAQ2wB,EAAe3wB,MAC3B,GAAKA,EAAL,CAUA,GALKxxC,GAASwxC,KACZA,EAAQzwE,OAAOywE,KAGjBA,EAAQA,EAAM19D,QAAQ,QAAS,WACrB3hB,OAAS,GAAI,CACrB,IAAMmgH,EAAkB9gC,EAAMhiD,OAAO,EAAG,IAAI0mC,OAAS,MAChDg8C,EAASI,KACZ9gC,EAAQ8gC,GAcZ,GATInQ,EAAevrE,WAAW4sD,SAAS,QAAU6wC,IAC/ClyB,EAAevrE,WAAaurE,EAAevrE,WAAWpH,OAAO,EAAG2yE,EAAevrE,WAAWzkC,OAAS,IAEjG2/G,GAAkBA,EAAet9G,MAAMqlC,OAASi4E,EAAe19G,IAAIylC,OACrEsoE,EAAe/4B,SAAW6G,GAAAA,QAAiB6hC,EAAgB3P,EAAevrE,aAG5EurE,EAAe3wB,MAAQA,EAEnB6iD,GAhE2B,SAAUlyB,GAxLjD,IAAA9wF,EA2LU,IAFqB,OAAAA,EAAA6gG,EAAS/P,EAAe3wB,aAAxB,EAAAngE,EAAgCmgE,SAAU2iD,EAE/D,CAGA,IAAMtyC,EAASsgB,EAAe55F,OAAOs5E,OAC/Bu+B,EAAa1P,GAAkB7uB,GAC/ByyC,EAAoBzyC,EAAOuyB,qBAAuBvyB,EAAOlP,YAE3D4hD,EAA+C95H,EAAOktD,MAAMngD,MAC9D,SAACgsB,GAnMb,IAAAniB,EAmMsC,cAAAA,EAAAmiB,EAAKjrB,aAAL,EAAA8I,EAAawwE,UAAWA,GAAUruD,EAAKovB,OAAS0wE,EAAoB,IAG5FiB,GAAoBA,EAAiBhsH,OAAOisH,YAAY/wC,SAAS0e,EAAevrE,cAGxE29F,EAcVA,EAAiBhsH,OAAOisH,YAAYh4H,KAAK2lG,EAAevrE,cAZxD29F,EAAA,OACKpyB,GADL,IAEE3wB,MAAO4uC,EACPlnC,cAAeo7C,EACfhgB,SAAU,IAAM8L,EAChBx9D,KAAM0wE,MAES9hD,MAAQ+iD,EAAiB/iD,OAAS2wB,EAAe3wB,MAClE+iD,EAAiBhsH,OAAOisH,YAAc,CAACryB,EAAevrE,YACtDn8B,EAAOktD,MAAMnrD,KAAK+3H,KAKtB,CAgCEE,CAAuBtyB,OADzB,CAKI,GAAKsxB,wBACP,GAAKiB,qBAAqBvyB,EAAgB,GAAKsxB,uBAAyBtxB,EAAevrE,YAGzF,IAAMy7E,EAAWH,EAAS1gC,GACpBmjD,GACJ,MAAAtiB,OAAA,EAAAA,EAAU7gC,SAAU2iD,IAAuB,MAAA9hB,OAAA,EAAAA,EAAUz7E,cAAeurE,EAAevrE,WACrF,GAAKy7E,GAAL,GAGWsiB,EAAuB,CAEhC,IAAMC,EAAa,GAAKC,uBAAuBrjD,EAAO6gC,EAASz7E,WAAYurE,EAAevrE,WAAYw9F,GAClGQ,EACF,GAAKF,qBAAqBriB,EAAUuiB,IAGpC1iB,EAAS1gC,GAAS2wB,EAClB1nG,EAAOktD,MAAMnrD,KAAK2lG,UAVpB+P,EAAS1gC,GAAS2wB,EAClB1nG,EAAOktD,MAAMnrD,KAAK2lG,GAYhBkQ,IAAaA,EAASn5B,eAAiBipB,EAAejpB,gBACxDm5B,EAASn5B,cAAgBipB,EAAejpB,qBApDxC1vE,QAAQC,KAAR,iDAAuDhY,KAAKC,UAAUywG,IAsD1E,EACAtnG,MAAO,SAAC0K,GACN,GAAKmjH,UAAUK,UAAU,wBAAyB,CAAEluH,MAAO41G,GAA2BlrG,IACxF,EACAuN,IAAK,SAACvN,GACJiE,QAAQsJ,IAAIvN,EACd,EACAitG,qBAAsB,WACpB,OAAO/3G,EAAOktD,MAAMx1D,MACtB,EACAsI,OAAAA,GAGE,KAAK81F,WAAWp+F,OAAS,GAC3B,KAAK2iI,6BAA6B3iB,GAGhCppD,EAAYy6B,SAAS,QACvBz6B,EAAcA,EAAYv5B,OAAO,EAAGu5B,EAAY52D,OAAS,IAtM7D,oBA0MyB,KAAKm/G,cAAc7B,qBAAqB97F,EAAS2a,IAAKg7F,GA1M/E,YA0MUznC,EA1MV,UA4MmBA,EAAOn5E,OAAOvW,QACL,IAAlBi/B,EAASyI,MAAqC,IAAvBzI,EAAS84B,WAAoBi7D,GAAWp8D,KAC3DgsE,EAAyB,CAC7BnyE,KAAMgB,GAAAA,KACN4tB,MAAO,gBACP56C,WAAY,mCACZ08E,iBAAkBx/B,GAAAA,WAEpBr5E,EAAOktD,MAAMnrD,KAAKu4H,KAIlB5P,GAAWp8D,KAAgB8oD,GAAY1yB,EAAI2T,OAAQh7E,GAxN3D,wBA0N0B,KADdk9G,EAAcjsE,EAAYnkD,QAAQ,cACdowH,EAAc,GAAqB5jG,EAAS84B,WACpE,KAAKonD,cAAc2jB,gBAAgBh7H,SAAQ,SAAC4nF,GA5TtD,IAAAxwE,EA6TkB6jH,EAAqC,CACzCtyE,KAAMgB,GAAAA,SACN4tB,MAAO,OAAAngE,EAAAwwE,EAAOxsF,MAAPgc,EAAewwE,EAAOvzD,IAC7B/S,OAAQsmE,EAAOlP,YACf/7C,WAAYirD,EAAOvzD,IACnBglF,iBAAkBx/B,GAAAA,UAClBqhD,eAAgBnhD,GAAAA,MAElBv5E,EAAOktD,MAAMnrD,KAAK04H,EACnB,IArOT,kBAuOaz6H,GAvOb,WA0OSonF,IAAUA,EAAOn5E,OAAOvW,OA1OjC,0CA2OasI,GA3Ob,QA+PI,GAjBIwzE,EAA4B,KAE3B5jE,KACEi/G,EAAWjM,iBAAiBpkC,UAAY0D,GAAS2sC,EAAWjM,iBAAiBpkC,YAC1ExyE,EAAM6iH,EAAWjM,iBAAiB17B,WAAW,KAC/CrwD,MAAQ,CAACxZ,EAAQA,EAAS,EAAGA,EAAS,GAC1CwxG,EAAWjM,iBAAiBpkC,SAAWxyE,EAEvC6iH,EAAWjM,iBAAmBiM,EAAWjM,iBACzChzG,EAAO5D,IAEP4D,EAAOi/G,EAAWzG,gBAAgB/qG,EAAQ6qG,GAC1CkR,GAAiB,IAIfuB,EAAe/qH,EACjBA,EACF,GAA2B,IAAvB0+C,EAAY52D,OACdkY,EAAOi/G,EAAWjM,iBAAiBpkC,cAGnC,GADM1wE,EAAS+gH,EAAW9F,UAAUn5G,GAE9BsyE,GAAStyE,GACPA,EAAK7S,MACHklF,GAAOn0E,GACLA,EAAO/Q,QAAU6S,EACf0+C,EAAYmN,OAAO/jE,OAAS,GAAK42D,EAAYnkD,QAAQ,KAAO,GACxD6B,EAAM,KAAK4uH,kBAAkBtjB,EAAa1nG,EAAMi/G,GAChDgM,EAAehM,EAAW9F,UAAUj7G,GACtCq0E,GAAM0sC,EAAWjM,iBAAiBpkC,UAEf,kBADfhyE,EAAQrC,GAAQ0kH,EAAWjM,iBAAiBpkC,SAAU1wE,MAE1D+gH,EAAWjM,iBAAiBv4G,IAAImC,EAAOR,GAEvC6iH,EAAWjM,iBAAmBiM,EAAWjM,kBAElCiY,IAAiB74C,GAAM64C,IAAiB14C,GAAM04C,KACvDA,EAAaxwH,IAAIyD,EAAOnS,IAAKqQ,GAE7B6iH,EAAWjM,iBAAmBiM,EAAWjM,mBAEzCiM,EAAWjM,iBAAiBv4G,IAAIyD,EAAOnS,IAAKqQ,GAE5C6iH,EAAWjM,iBAAmBiM,EAAWjM,kBAG3CpvC,EAAmBxnE,EAAgBkhD,MAAM,GACzCt9C,EAAO5D,GACgC,IAA9BsiD,EAAYmN,OAAO/jE,SACtBmjI,EAAehM,EAAW9F,UAAUj7G,MAExC8B,EAAOirH,GAGF/sH,EAAOnS,MAAQiU,IAClBirH,EAAehM,EAAW9F,UAAUj7G,GAC1C0lE,EAAkB1lE,EACd+sH,IACFjrH,EAAOirH,IAGF14C,GAAMr0E,KACXwgD,EAAYmN,OAAO/jE,OAAS,GACxBsU,EAAM,KAAK4uH,kBAAkBtjB,EAAa1nG,EAAMi/G,GACtD/gH,EAAOqS,OAAOvQ,GACd9B,EAAOmB,IAAIjD,GAEX6iH,EAAWjM,iBAAmBiM,EAAWjM,iBACzChzG,EAAO5D,GAEP4D,EAAO9B,GAGa,OAAf8B,EAAK7S,QACVklF,GAAOn0E,GACLA,EAAOnS,MAAQiU,EACjBA,EAAO9B,EAEHu0E,GAAOv0E,EAAOnS,MAAQmS,EAAOnS,IAAIk7B,QAC7BgkG,EAAehM,EAAW9F,UAAUj7G,GACtCsrH,GAAkByB,GAAgB74C,GAAM64C,IAAiBtT,GAAuBsT,GAClFjrH,EAAOirH,GAEDC,EAAiB5hH,EAAS8rD,WAAWl3D,EAAOnS,IAAIk7B,MAAM,IAExDF,EAAS84B,UAAYqrE,EAAerrE,WAAa94B,EAASyI,OAAS07F,EAAe17F,MAC9EpzB,EAAM,KAAK4uH,kBAAkBtjB,EAAa1nG,EAAMi/G,GAElDgM,IAAiB74C,GAAM64C,IAAiB14C,GAAM04C,KAChDA,EAAaxwH,IAAIyD,EAAOnS,IAAKqQ,GAE7B6iH,EAAWjM,iBAAmBiM,EAAWjM,mBAEzCiM,EAAWjM,iBAAiBv4G,IAAIyD,EAAOnS,IAAKqQ,GAE5C6iH,EAAWjM,iBAAmBiM,EAAWjM,kBAE3CpvC,EAAmBxnE,EAAgBkhD,MAAM,GACzCt9C,EAAO5D,GACE8uH,EAAerrE,YAAc94B,EAAS84B,WAC3CorE,IACFjrH,EAAOirH,KAMR14C,GAAMr0E,KACoC,MAA/CwgD,EAAY9qD,OAAOmzB,EAAS84B,UAAY,IACpCzjD,EAAM,KAAK4uH,kBAAkBtjB,EAAa1nG,EAAMi/G,GACtD/gH,EAAOqS,OAAOvQ,GACd9B,EAAOmB,IAAIjD,GAEX6iH,EAAWjM,iBAAmBiM,EAAWjM,iBACzChzG,EAAO5D,GACiD,MAA/CsiD,EAAY9qD,OAAOmzB,EAAS84B,UAAY,IAC3CzjD,GAAM,KAAK4uH,kBAAkB,GAAIhrH,EAAMi/G,GAC7C/gH,EAAOqS,OAAOvQ,GACd9B,EAAOmB,IAAIjD,IAEX6iH,EAAWjM,iBAAmBiM,EAAWjM,iBACzChzG,EAAO5D,IAEP4D,EAAO9B,IAIJk0E,GAAMpyE,KACVwpH,GAAgD,IAA9B9qE,EAAYmN,OAAO/jE,QAAgByqF,GAAMr0E,KACxDitH,GAAW7S,EAAWjoF,eAAetJ,EAASyI,KAAO,GACvD8oF,EAAWloF,iBAAmBrJ,EAASyI,KAAO,GAAgC,IAA3B27F,GAASt/D,OAAO/jE,SACrEkY,EAAO9B,SA9Gf,GAkHWo0E,GAAStyE,GACZ5D,GAAM,KAAK4uH,kBAAkBtjB,EAAa1nG,EAAMi/G,GACtDA,EAAWjM,iBAAiBpkC,SAAWxyE,GAEvC6iH,EAAWjM,iBAAmBiM,EAAWjM,iBACzCpvC,EAAkBxnE,GAAIkhD,MAAM,GAC5Bt9C,EAAO5D,WACEg2E,GAAMpyE,GAAO,MACHA,EAAKs9C,OADF,IACtB,8BACMm1B,IADK2O,GAAoB,UACbj0F,QAAUi0F,GAAKj0F,MAAM85B,OAASm6D,GAAKj0F,MAAM85B,MAAM,KAAOxZ,EAAS,IAC7EzN,EAAOohF,GAAKj0F,MAHM,uCAMbolF,GAAMvyE,IACoC,MAA/C0+C,EAAY9qD,OAAOmzB,EAAS84B,UAAY,IAAY,WACtD,IAAMzjD,EAAM,GAAK4uH,kBAAkBtjB,EAAa1nG,EAAMi/G,GACtD7iH,EAAIkhD,MAAQ,GAEZ2hE,EAAWjM,iBAAmBiM,EAAWjM,iBAJa,UAKnChzG,EAAKs9C,OAL8B,IAKtD,2BAA+B,KAApB8jC,EAAoB,QACzBhP,GAAMgP,IACRA,EAAK9jC,MAAM1tD,SAAQ,SAACzC,GAClBiP,EAAIkhD,MAAMnrD,KAAKhF,EAChB,IATiD,+BAYtD6S,EAAO5D,CAZ+C,IAmB9D,GAAI4D,GAAQoyE,GAAMpyE,GAAO,CAEjB01F,GAAa11F,EAAKs9C,MAFD,KAGPo4C,IAHO,IAGvB,8BAAWjgG,GAAiB,SACrBmuE,GAAmBA,IAAoBnuE,IACtC68E,GAAS78E,GAAE1J,OACb87G,EAASpyG,GAAE1J,IAAIoB,MAAQ,IAAMi+H,GAAAA,OAA0BtB,GANtC,iCAWvB,KAAKuB,uBACH7zC,EACAynC,EACAj/G,EACA+qH,EACA,GACAjjB,EACAwQ,EACA7Q,EACAF,IAGG/vB,GAAUkwB,EAAY5/G,OAAS,GAAsD,MAAjDgkC,EAAKl4B,OAAO6Z,EAASi6F,EAAY5/G,OAAS,IACjFggH,EAAUzoG,IAAI,CACZk5C,KAAMgB,GAAAA,SACN4tB,MAAOugC,EACPn7E,WAAY,KAAKy8E,yBAAyBtB,EAAa,KAAM,IAC7DuB,iBAAkBx/B,GAAAA,UAMlBy/B,GAAqC,GAC3C,KAAKC,oBAAoB3xB,EAAQynC,EAAYj/G,EAAMyN,EAAQnE,EAAUw+F,EAAWoB,GAAO3B,GA1b3F,mDA4bI,KAAK8W,UAAUK,UAAU,wBAAyB,CAAEluH,MAAO41G,GAAA,QA5b/D,eA+bE,KAAKklB,yBAAyBl7H,GAExBqlG,GAAcrlG,EAAOktD,MAAMtmD,QAC/B,SAACO,EAAKqF,EAAOtO,GAAb,OACEsO,IACAtO,EAAKkzF,WAAU,SAACr4D,GAAD,OAAUA,EAAKg+C,QAAU5vE,EAAI4vE,OAASh+C,EAAKoD,aAAeh1B,EAAIg1B,YAAcpD,EAAKovB,OAAShhD,EAAIghD,IAA9F,GAFjB,KAKE,MAAAk9C,QAAA,EAAAA,GAAa3tG,QAAS,IACxBsI,EAAOktD,MAAQm4C,IAxcnB,kBA2cSrlG,GA3cT,2DA7BW,2FA2eX,SAAqB0nG,EAAgChsE,GACnDgsE,EAAevrE,WAAaT,EACxBgsE,EAAe/4B,WACjB+4B,EAAe/4B,SAASC,QAAUlzC,EAEtC,GAhfW,oCAkfX,SAAuBq7C,EAAeokD,EAAsBC,EAAoBzB,GAC9E,IAAM0B,EAA4B,SAACt+H,GACjC,OAAOA,EAAMisF,SAAS,KACxB,EAIMsyC,EAAe,SAACv+H,GACpB,IAAMyP,EAAQzP,EAAMoN,QAAQ,MAC5B,OAAOqC,EAAQ,GAA4D,IAAvDzP,EAAM22B,UAAUlnB,EAAOzP,EAAMrF,QAAQ+jE,OAAO/jE,MAClE,EACA,GAAI2jI,EAA0BF,IAAiBE,EAA0BD,GAEvE,OAAIzB,GAAe2B,EAAaH,KAAkBG,EAAaF,KAAiCA,EARnF18G,WAAW,MASf08G,OAET,EAEF,IAAMG,EAAiB,KAAKC,wBAAwBL,GAC9CM,EAAe,KAAKD,wBAAwBJ,GAE5CM,EAAYp0H,MAAM7K,UAAUwP,OAAOsvH,EAAgBE,GACzD,OAAKC,EAAUhkI,OAEiB,IAArBgkI,EAAUhkI,OACnB,UAAUq/E,EAAV,iBAAyB2kD,EAAU,GAAnC,KAEA,UAAU3kD,EAAV,iBAAyB2kD,EAAUhjI,KAAK,KAAxC,WAJA,CAMJ,GA/gBW,qCAihBX,SAAwByjC,GACtB,IAAMp/B,EAAQo/B,EAAWzI,UAAUyI,EAAWhyB,QAAQ,KAAO,GAAGsxD,OAChE,IAAK1+D,EACH,MAAO,GAET,IAAM4+H,EAAY5+H,EAAMuc,MAAM,0BAC9B,OAAIqiH,EACKA,EAAU,GAAGtoH,MAAM,KAErB,CAACtW,EACV,GA3hBW,sCA6hBH,SAAyBiD,GAAsB,WAoBrDA,EAAOktD,MAAM1tD,SAAQ,SAACkoG,GACpB,GAgkCG,WAhkCwBA,EAAiB,CAC1C,IAAM/jD,EAAS+jD,EAAe55F,OAAO61C,QAAU,GAK3CxnB,EA1BY,SAAC49F,GAEnB,IAAI6B,EAAY,EAChB,OAAO7B,EAAY/tH,KAAI,SAAC0vB,GACtB,IAAMpiB,EAAQoiB,EAAKpiB,MAAM,0BACzB,IAAKA,EACH,OAAOoiB,EAET,IAAMmgG,EAAiBviH,EACpBtN,KAAI,SAAC8gD,GAAD,OAAQA,EAAEzzC,QAAQ,mBAAoB,MAAMA,QAAQ,IAAK,GAAzD,IACJrM,QAAO,SAAC3H,EAAGqC,GAAJ,OAAWA,EAAIrC,EAAIqC,EAAIrC,CAAvB,GAA2B,GAC/By2H,EAAepgG,EAClBriB,QAAQ,eAAe,SAACrQ,EAAGpE,GAAJ,MAAa,MAAQA,EAAOg3H,EAA5B,IACvBviH,QAAQ,oBAAoB,SAACrQ,EAAGpE,GAAJ,MAAa,OAASA,EAAOg3H,GAAa,GAA1C,IAE/B,OADAA,GAAaC,EACNC,CACR,GACH,CAM2BC,CAAYr0B,EAAe55F,OAAOisH,aAGzBrhI,KAAf,YAAyBirD,IAGtCxnB,EAAW4sD,SAAS,QACtB5sD,EAAaA,EAAWzI,UAAU,EAAGyI,EAAWzkC,OAAS,IAG3DgwG,EAAevrE,WAAa,EAAK68F,uBAAyB78F,EACtDurE,EAAe/4B,WACjB+4B,EAAe/4B,SAASC,QAAU84B,EAAevrE,YAGnD,IAAM6/F,EAAS7/F,EAAW9iB,QAAQ,uBAAuB,SAACrQ,EAAGpQ,GAAJ,OAAYA,CAAZ,IAAiBygB,QAAQ,cAAe,IAE3F4iH,EAAwBv0B,EAAejpB,cAAgB,CAACipB,EAAejpB,cAAe,GAAI,OAAQ,IAAM,GAC9GipB,EAAejpB,cAAgB,CAC7Bt2B,KAAMgxB,GAAAA,SACNp8E,MAAO,UAAIk/H,EAAJ,CAA2B,UAAWt4E,EAASq4E,EAAQ,QAAOtjI,KAAK,cAErEgvG,EAAe55F,OAEzB,GACH,GA9kBW,+BAglBH,SAAkBwpG,EAAqB1nG,EAAYi/G,GACzD,IAAMtyH,EAAM,GACZA,EAAI+6G,GAAe,KACnB,IAAMtrG,EAAe6iH,EAAWjM,iBAAiB17B,WAAW3qF,GAI5D,OAHAyP,EAAI6qB,MAAQjnB,EAAKinB,MAChB7qB,EAAIkhD,MAAM,GAAGvxD,IAAak7B,MAAQjnB,EAAKinB,MACvC7qB,EAAIkhD,MAAM,GAAGnwD,MAAe85B,MAAQjnB,EAAKinB,MACnC7qB,CACT,GAxlBW,oCA0lBH,SACNo7E,EACA1C,EACA90E,EACA+qH,EACAxhB,EACAzB,EACAwQ,EACA7Q,EACAF,GAAmB,IAvqBvBvgG,EAAAM,EAAAC,EAuqBuB,OAEb2zF,EAAkBpmB,EAAImmB,mBAAmBzjB,EAAOA,QAAQ,EAAI,KAAM+vB,GAClE+kB,EAAchU,EAAW7gD,QAAQgwC,GACjC/oD,EAAc45D,EAAWjoF,eAAeo3E,EAAet9G,MAAMqlC,MAC7D+8F,EAAkD,IAA9B7tE,EAAYmN,OAAO/jE,OACvC0kI,GAAwC,IAA7B9tE,EAAYnkD,QAAQ,KAC/BkrH,EAAoD,IAAxC/mE,EAAYinE,WAAWprH,QAAQ,KAC3CkyH,EAAa33C,EAAIqkC,UAAUn5G,GAC3B0sH,EAAgBxxB,EAAgB/9F,MAAK,SAACjE,GAAD,OAAQA,EAAG8G,KAAKi0G,eAAiB8W,GAAgB7xH,EAAGs+E,OAAOke,UAA3D,IACrCq0B,EAAc7uB,EAAgBlkG,QAAO,SAACwgF,GAAD,OAAYA,EAAOA,OAAO2f,KAA1B,IAAiC/6F,KAAI,SAAC2tH,GAAD,OAAiBA,EAAYvyC,OAAO2f,KAApC,IAA2C,GACvHw1B,GAAwB,GACxB,MAAA5C,OAAA,EAAAA,EAAajiI,QAASozG,EAAgBpzG,SACxC,MAAAiiI,GAAAA,EAAan6H,SAAQ,SAACyF,EAAsBuH,GAprBlD,IAAAoK,EAAAM,GAqrBa,OAAAN,EAAAk0F,EAAgBt+F,SAAhB,EAAAoK,EAAwBwwE,OAAO2f,SAAS,OAAA7vF,EAAA4zF,EAAgBt+F,SAAhB,EAAA0K,EAAwBkwE,OAAOke,cAAergG,EAASqgG,aAClGi3B,GAAwB,EAE5B,KAjBiB,UAmBEzxB,GAnBF,IAmBnB,2BAAsC,KAA3B1jB,EAA2B,QACpC,IACIA,EAAOx3E,KAAKi0G,eAAiBj0G,IAAS0sH,GACrCl1C,EAAOx3E,KAAKi0G,eAAiB8W,IAAiByB,IAC9C,OAAAxlH,EAAAwwE,EAAOx3E,KAAK9B,aAAZ,EAAA8I,EAAoBitG,gBAAiB8W,IAAiByB,KACxDh1C,EAAOwmB,SACR,CACA,KAAK4uB,uBAAuBp1C,EAAOA,OAAQ+xB,EAAgBzB,EAAW,CACpE4gB,cAAc,EACdI,mBAAmB,EACnBP,oBAAqB9C,IAGvB,IAAMngB,EAAmB9tB,EAAOA,OAAOke,WACvC,GAAI4P,EAAkB,CACpB,IAAM/O,EAAgB/e,EAAOA,OAAO+e,cACpC,QACoB,IAAlBA,QACe,IAAfv2F,EAAKs9C,OACLt9C,EAAKs9C,MAAMx1D,OAASyuG,GACnBv2F,EAAKs9C,MAAMx1D,SAAWyuG,IAAkBg2B,EACzC,gBACWxgI,GACT,GAAIE,OAAOY,UAAUC,eAAeC,KAAKu4G,EAAkBv5G,GAAM,CAC/D,IAAMwvG,EAAiB+J,EAAiBv5G,GAExC,GAA8B,kBAAnBwvG,IAAgCA,EAAeqD,qBAAuBrD,EAAA,aAAgC,CAC/G,IAgBIna,EAhBAyrC,EAAoB,GACxB,GAAIJ,GAAcl6C,GAAMk6C,IAAezsH,EAAKs9C,MAAMx1D,QAAU,IAAMykI,EAAmB,CAGnF,IAAMO,EAAaxU,EAAW7gD,UACxBs1D,EAAeD,EAAW7kI,YAAY,IAAK+X,EAAKinB,MAAM,GAAK,GACjE,GAAI8lG,GAAgB,EAAG,CAErB,IAAMC,EAAiBvlB,EAAe19G,IAAI81D,UAAY4nD,EAAet9G,MAAM01D,UAC3EgtE,EAAoB,IAAMC,EAAW5kI,MAAM6kI,EAAe,EAAG/sH,EAAKinB,MAAM,GAAK+lG,IAGjFH,GAAqB,EAAKzD,uBAMA,UAAxB7tB,EAAetsG,OACdmyF,EAAOphF,EAAKs9C,MAAMngD,MACjB,SAACjE,GAAD,OACEo5E,GAASp5E,EAAGnN,MACZmN,EAAGnN,IAAIk7B,OACP/tB,EAAGnN,IAAIoB,QAAUpB,GACjBumF,GAASp5E,EAAG/L,SACX+L,EAAG/L,MAAMA,OACVmrH,EAAW93C,YAAYtnE,EAAGnN,IAAIk7B,MAAM,IAAIuI,OAASi4E,EAAe19G,IAAIylC,KAAO,CAN7E,MAQF4xD,IAEI1pF,MAAMQ,QAAQqjG,EAAej+C,OAC/B,EAAKguD,0BAA0B/P,EAAej+C,MAAM,GAAIisD,EAAgBzB,EAAW,GAAI,YAC9C,kBAAzBvM,EAAej+C,OAAoD,WAA9Bi+C,EAAej+C,MAAMruD,MAC1E,EAAKg+H,4BAA4B1xB,EAAej+C,MAAOisD,EAAgBzB,IAI3E,IAAIv7E,EAAaxgC,EACZA,EAAI+iB,WAAWw9G,IAAiBE,IACnCjgG,EAAa,EAAKy8E,yBAChBj9G,EACAwvG,EACAgO,EACAsjB,EAAoB,EAAK9T,cAG7B,IAAMmU,EACH56C,GAASy4C,IAAwC,OAAvBA,EAAa59H,OACvCilF,GAAM24C,IAA+C,IAA9BA,EAAaztE,MAAMx1D,OACvCqlI,GAAyB,OAAA7lH,EAAAkwE,EAAOA,OAAOif,eAAd,EAAAnvF,EAAwBxf,QAAS,EAC3D,EAAKwhI,6BAAgC4D,GAAeC,GACvDrlB,EAAUzoG,IACR,CACEk5C,KAAMgB,GAAAA,SACN4tB,MAAOp7E,EACPwgC,WAAAA,EACA08E,iBAAkBx/B,GAAAA,QAClBoF,cAAe,EAAKi7B,WAAWvO,EAAewO,sBAAwBxO,EAAejzB,aAAe,IAEtGqkD,IAIA,OAAAplH,EAAAiwE,EAAOA,OAAOif,eAAd,EAAAlvF,EAAwB6xE,SAASrtF,KACnC+7G,EAAUzoG,IAAI,CACZ8nE,MAAOp7E,EACPwgC,WAAY,EAAKy8E,yBACfj9G,EACAwvG,EACAgO,EACAsjB,EAAoB,EAAK9T,aAE3B9P,iBAAkBx/B,GAAAA,QAClBoF,cAAe,EAAKi7B,WAAWvO,EAAewO,sBAAwBxO,EAAejzB,aAAe,GACpGpqE,OAAQ,CACNs5E,OAAQA,EAAOA,OACfzjC,OAAQ84E,MAlFpB,EACA,QAAW9gI,KAAOu5G,EAAkB,EAAzBv5G,IA0Gf,GAXI0gI,GAAcl6C,GAAMk6C,IAAe9lB,GAAgBnvB,EAAOA,SAC5D,KAAK8zB,0BACH9zB,EAAOA,OACP+xB,EACAzB,EACA,GACA,WACApwG,MAAMQ,QAAQu0H,EAAWnvE,QAIzBk6B,EAAOA,OAAOof,eAAiBpf,EAAOA,OAAOkf,sBAA+C,WAAvBlf,EAAOA,OAAOvoF,KAAmB,CACxG,IAAMm+H,EAAqBj0B,GAAS3hB,EAAOA,OAAOof,eAC5CzvB,EAAQimD,EAAmBj0E,OAAS,WAC1C2uD,EAAUzoG,IAAI,CACZk5C,KAAMgB,GAAAA,SACN4tB,MAAAA,EACA56C,WAAA,cAAwB46C,EAAxB,OACA8hC,iBAAkBx/B,GAAAA,QAClBoF,cAAe,KAAKi7B,WAAWsjB,EAAmBrjB,sBAAwBqjB,EAAmB9kD,aAAe,MAK9GmkD,GAAcj1C,EAAOx3E,KAAKi0G,eAAiBwY,GAAcj1C,EAAOA,OAAO20B,kBAG/C,IAAtBnsG,EAAKs9C,MAAMx1D,OACb,KAAK8kI,uBACHp1C,EAAOA,OACP+xB,EACAzB,EACA,CACE4gB,cAAc,EACdI,mBAAmB,EACnBP,qBAAqB,GAEvB,GAGF,KAAKqE,uBACHp1C,EAAOA,OACP+xB,EACAzB,EACA,CACE4gB,cAAc,EACdI,mBAAmB,EACnBP,qBAAqB,GAEvB,IAzLW,+BA8LrB,GAjyBW,iCAmyBH,SACN/wC,EACA1C,EACA90E,EACAyN,EACAnE,EACAw+F,EACAoB,EACA3B,GAEA,IAAI2D,EAAoB,KAMxB,GAJIlrG,GAAQsyE,GAAStyE,KACnBA,EAAO80E,EAAIqkC,UAAUn5G,IAGlBA,EAAL,CAKA,GAAIqyE,GAAOryE,GAAO,CAChB,IAAMqkE,EAAkBrkE,EAAK7S,MAC7B,GAAIk3E,GAAaA,EAAUp9C,OAASxZ,EAAS42D,EAAUp9C,MAAM,GAAKo9C,EAAUp9C,MAAM,GAChF,OAEFikF,EAAY54B,GAAStyE,EAAKjU,KAAOiU,EAAKjU,IAAIoB,MAAQ,GAAK,KACvD6S,EAAO80E,EAAIqkC,UAAUn5G,GAGvB,GAAIA,IAAuB,OAAdkrG,GAAsB34B,GAAMvyE,IAAQ,CAC/C,IAD+C,EACzCupG,EAAiB,GADwB,IAEvBz0B,EAAImmB,mBAAmBzjB,EAAOA,QAAQ,EAAI,KAAM+vB,IAFzB,IAG/C,2BAAiC,KAAtBnuG,EAAsB,QAC/B,GAAIA,EAAE4G,KAAKi0G,eAAiBj0G,IAAS5G,EAAE4kG,UAAY5kG,EAAEo+E,OAAQ,CAC3D,GAAIp+E,EAAEo+E,OAAOl6B,QACX,KAAKsvE,uBAAuBxzH,EAAEo+E,OAAQ+xB,EAAgBzB,EAAW,CAC/D4gB,cAAc,EACdI,mBAAmB,EACnBP,qBAAqB,IAEnBh2C,GAAMvyE,IAASA,EAAKs9C,OACtB,GAAI5lD,MAAMQ,QAAQkB,EAAEo+E,OAAOl6B,OAAQ,CACjC,IAAM1gD,EAAQ,KAAKyuG,iBAAiBrrG,EAAMsJ,EAAUmE,GAChD7Q,EAAQxD,EAAEo+E,OAAOl6B,MAAMx1D,QACzB,KAAKwjH,0BAA0BlyG,EAAEo+E,OAAOl6B,MAAM1gD,GAAQ2sG,EAAgBzB,EAAWoB,EAAO,aAGhE,kBAAnB9vG,EAAEo+E,OAAOl6B,OACS,WAAxBlkD,EAAEo+E,OAAOl6B,MAAMruD,OAAqB23G,GAAsBxtG,EAAEo+E,OAAOl6B,OAIpE,KAAKguD,0BAA0BlyG,EAAEo+E,OAAOl6B,MAAOisD,EAAgBzB,EAAWoB,EAAO,SAFjF,KAAKoC,0BAA0BlyG,EAAEo+E,OAAOl6B,MAAOisD,EAAgBzB,EAAWoB,EAAO,SAAS,GAMhG,GAAI9vG,EAAEo+E,OAAOke,WAAY,CACvB,IAAM6F,EAAiBniG,EAAEo+E,OAAOke,WAAWwV,GACvC3P,GACF,KAAK+P,0BAA0B/P,EAAgBgO,EAAgBzB,EAAWoB,EAAO,cAE1E9vG,EAAEo+E,OAAOkf,sBAClB,KAAK4U,0BAA0BlyG,EAAEo+E,OAAOkf,qBAAsB6S,EAAgBzB,EAAWoB,EAAO,UAjCvD,+BAsC3CA,EAAA,UACF,KAAK4B,2BAA0B,EAAMvB,EAAgBzB,GACrD,KAAKgD,2BAA0B,EAAOvB,EAAgBzB,IAEpDoB,EAAA,MACF,KAAKsC,uBAAuBjC,EAAgBzB,SAxD9C,KAAKwD,0BAA0B9zB,EAAOA,OAAQ,GAAIswB,EAAWoB,EAAO,QA2DxE,GA/2BW,yCAi3BH,SACN1xB,EACA+xB,EACAzB,EACAlrG,GAEA,IAAMm5G,EAAa1P,GAAkB7uB,GAC/BjrD,EAAA,YAAkB,KAAK8gG,uBAAuB71C,EAAQ+xB,GAAgBh9E,WAAWo5F,YAEjF2H,EAAkBvX,EAAa,UAAYA,EAAa,IAAM,GAC9DkU,EAAoBzyC,EAAOlP,YAAc,KAAOkP,EAAOlP,YAAc,IAAM,GAC3EuG,EAAgB,KAAK0+C,iCAAL,oCACSD,GADT,OAC2BrD,GAC/C19F,GAEFu7E,EAAUzoG,IAAI,CACZk5C,KAAM,KAAKmyD,kBAAkBlzB,EAAOvoF,MACpCk4E,MAAO,mBAAqB4uC,GAAcn5G,GAC1CiyE,cAAAA,EACAtiD,WAAAA,EACA08E,iBAAkBx/B,GAAAA,SAEtB,GAv4BW,sCAy4BH,SACN19E,EACAwvG,EACAgO,GACyB,IAKrBp8G,EALJ4mD,EAAyB,uDAAhB,KAAKglE,YAERlM,EAAe,KAAKrC,sBAAsBz+G,EAAK,GAAI,UACnD+gH,EAAaD,EAAe,IAG9BE,EAAkB,EACtB,GAAIxR,EAAgB,CAClB,IAAItsG,EAAOyI,MAAMQ,QAAQqjG,EAAetsG,MAAQssG,EAAetsG,KAAK,GAAKssG,EAAetsG,KAUxF,GATKA,IACCssG,EAAe7F,WACjBzmG,EAAO,SACEssG,EAAej+C,MACxBruD,EAAO,QACEssG,EAAelF,QACxBpnG,EAAO,UAGPyI,MAAMQ,QAAQqjG,EAAe4Q,iBAAkB,CACjD,GAA8C,IAA1C5Q,EAAe4Q,gBAAgBrkH,OAAc,CAC/C,IAAMs0F,EAAOmf,EAAe4Q,gBAAgB,GAAG/vB,KAC3Cub,GAAUvb,MACZjvF,EAAQ,KAAKi/G,6BACXhwB,EACA,GACA,CACEssC,cAAc,EACdI,mBAAmB,EACnBP,qBAAqB,GAEvB,IAGSz5G,WAAW,MAAS3hB,EAAM2hB,WAAW,QAC9C3hB,EAAQ,IAAMA,IAIpB4/G,GAAmBxR,EAAe4Q,gBAAgBrkH,OA8BpD,GA5BIyzG,EAAehG,OACZpoG,GAAwC,IAA/BouG,EAAehG,KAAKztG,SAChCqF,EAAQ,IAAM,KAAKu/G,6BAA6BnR,EAAehG,KAAK,GAAI,GAAItmG,IAE9E89G,GAAmBxR,EAAehG,KAAKztG,QAGrCyzG,EAAezE,QACZ3pG,IAGHA,EAAQ,KADRA,EA8qBV,SAA4BA,GAC1B,OAAOA,EAAMsc,QAAQ,eAAgB,KACvC,CAhrBkB+jH,CADRrgI,EAAQ,KAAKu/G,6BAA6BnR,EAAezE,MAAO,GAAI7nG,MAItE89G,KAGEpV,GAAU4D,EAAerjB,WACtB/qF,IACHA,EAAQ,IAAM,KAAKu/G,6BAA6BnR,EAAerjB,QAAS,GAAIjpF,IAE9E89G,KAEEr1G,MAAMQ,QAAQqjG,EAAe1F,WAAa0F,EAAe1F,SAAS/tG,SAC/DqF,IACHA,EAAQ,IAAM,KAAKu/G,6BAA6BnR,EAAe1F,SAAS,GAAI,GAAI5mG,IAElF89G,GAAmBxR,EAAe1F,SAAS/tG,QAEzCyzG,EAAe7F,WACjB,gBAAUoX,EAAV,aAAyB,KAAKugB,uBAAuB9xB,EAAgBgO,EAAgBx1D,GAAQxnB,YAD/F,GAEWgvE,EAAej+C,MACxB,gBAAUwvD,EAAV,aAAyB/4D,EAAzB,aACE,KAAK05E,sBAAsBlyB,EAAej+C,MAAOisD,EAAgB,EAAGx1D,GAAQxnB,YAGhF,GAAwB,IAApBwgF,EACF,OAAQ99G,GACN,IAAK,UAGL,IAAK,SAgBL,IAAK,QACH9B,EAAQ,MACR,MAfF,IAAK,SACHA,EAAA,YAAa4mD,GACb,MACF,IAAK,QACH5mD,EAAA,YAAa4mD,EAAb,MACA,MACF,IAAK,SACL,IAAK,UACH5mD,EAAQ,UACR,MACF,IAAK,OACHA,EAAQ,aACR,MAIF,QACE,OAAO0/G,GAOf,QAHK1/G,GAAS4/G,EAAkB,KAC9B5/G,EAAQ,OAEH2/G,EAAa3/G,EAAQo8G,CAC9B,GAz/BW,oCA2/BH,SACN/xB,EACA+xB,GAEe,WADfx1D,EACe,uDADN,KAAKglE,YACdhvF,EAAe,uDAAD,EAEVwC,EAAa,GACjB,OAAKirD,EAAOke,YAKZzpG,OAAOoH,KAAKmkF,EAAOke,YAAY9lG,SAAQ,SAAC7D,GACtC,IAAMwvG,EAAiB/jB,EAAOke,WAAW3pG,GACrCkD,EAAOyI,MAAMQ,QAAQqjG,EAAetsG,MAAQssG,EAAetsG,KAAK,GAAKssG,EAAetsG,KAYxF,GAXKA,IACCssG,EAAelF,QACjBpnG,EAAO,SAELssG,EAAe7F,aACjBzmG,EAAO,UAELssG,EAAej+C,QACjBruD,EAAO,UAGPuoF,EAAOif,UAAYjf,EAAOif,SAASl8F,QAAQxO,IAAO,EACpD,OAAQkD,GACN,IAAK,UACL,IAAK,SACL,IAAK,SACL,IAAK,UACL,IAAK,QACH,IAAI9B,EAAQouG,EAAerjB,SAAWqjB,EAAezE,MACjD3pG,GACW,WAAT8B,IACF9B,EAAQugI,GAAqBvgI,IAE/Bo/B,GAAA,UAAiBwnB,GAAjB,OAA0BhoD,EAA1B,eAAqCg+B,IAArC,YAAsD58B,EAAtD,QAEAo/B,GAAA,UAAiBwnB,GAAjB,OAA0BhoD,EAA1B,cAAmCg+B,IAAnC,MAEF,MAEF,IAAK,QAED,IAAM4jG,EAAoB,EAAKF,sBAAsBlyB,EAAej+C,MAAOisD,EAAgBx/E,IAAegqB,GACpG65E,EAAmBD,EAAkBphG,WAAW9oB,MAAM,MACxDoqH,EAAgBF,EAAkBphG,WACtC,GAAIqhG,EAAiB9lI,OAAS,EAAG,CAC/B,QAAS8U,EAAQ,EAAGA,EAAQgxH,EAAiB9lI,OAAQ8U,IAAS,CAC5D,IAAMF,EAAUkxH,EAAiBhxH,GACjCgxH,EAAiBhxH,GAAjB,YAA+BF,GAEjCmxH,EAAgBD,EAAiB9kI,KAAK,MAExCihC,EAAc4jG,EAAkB5jG,YAChCwC,GAAA,UAAiBwnB,GAAjB,OAA0BhoD,EAA1B,cAAmCgoD,GAAnC,OAA4C,EAAKglE,YAAjD,aAAiE8U,EAAjE,MAEF,MACF,IAAK,SAED,IAAMC,EAAqB,EAAKT,uBAC9B9xB,EACAgO,EAFyB,UAGtBx1D,GAHsB,OAGb,EAAKglE,aACjBhvF,KAEFA,EAAc+jG,EAAmB/jG,YACjCwC,GAAA,UAAiBwnB,GAAjB,OAA0BhoD,EAA1B,cAAmC+hI,EAAmBvhG,WAAtD,WA3CR,IA+CY,EAAK88F,+BAAuD,IAA3B9tB,EAAerjB,QAC1D,OAAQjpF,GACN,IAAK,UACL,IAAK,SACL,IAAK,UACHs9B,GAAA,UAAiBwnB,GAAjB,OAEU,SAARhoD,EAAiB,EAAKy+G,sBAAsBz+G,EAAK,GAAI,UAAYA,EAFnE,eAGQg+B,IAHR,YAGyBwxE,EAAerjB,QAHxC,OAIA,MACF,IAAK,SACH3rD,GAAA,UAAiBwnB,GAAjB,OAA0BhoD,EAA1B,eAAqCg+B,IAArC,YAAsD2jG,GAAqBnyB,EAAerjB,SAA1F,OAQP,IACgC,IAA7B3rD,EAAWs/B,OAAO/jE,SACpBykC,EAAA,UAAgBwnB,EAAhB,YAA0BhqB,IAA1B,OAGK,CAAEwC,WADTA,EAAaA,EAAW42F,YAAc5Z,EACjBx/E,YAAAA,IAxFZ,CAAEwC,WADTA,EAAA,UAAgBwnB,EAAhB,YAA0BhqB,IAA1B,MACqBA,YAAAA,EAyFzB,GA7lCW,mCAgmCH,SAAsBytD,EAAa+xB,GAAkE,IAA1Cx/E,EAA0C,uDAA5B,EAAGgqB,EAAyB,uDAAhB,KAAKglE,YAC5FxsF,EAAa,GACjB,IAAKirD,EAEH,MAAO,CAAEjrD,WADTA,EAAA,WAAiBxC,KACIA,YAAAA,GAEvB,IAAI96B,EAAOyI,MAAMQ,QAAQs/E,EAAOvoF,MAAQuoF,EAAOvoF,KAAK,GAAKuoF,EAAOvoF,KAShE,OARKA,IACCuoF,EAAOke,aACTzmG,EAAO,UAELuoF,EAAOl6B,QACTruD,EAAO,UAGHuoF,EAAOvoF,MACb,IAAK,UACHs9B,EAAA,YAAmBxC,IAAnB,WACA,MACF,IAAK,SACL,IAAK,UACHwC,EAAA,YAAmBxC,IAAnB,OACA,MACF,IAAK,SACHwC,EAAA,YAAmBxC,IAAnB,QACA,MACF,IAAK,SAED,IAAM+jG,EAAqB,KAAKT,uBAAuB71C,EAAQ+xB,EAApC,UAAuDx1D,EAAvD,MAAmEhqB,KAC9FwC,EAAauhG,EAAmBvhG,WAAWo5F,WAC3C57F,EAAc+jG,EAAmB/jG,YAIvC,MAAO,CAAEwC,WAAAA,EAAYxC,YAAAA,EACvB,GAnoCW,0CAsoCH,SAA6B58B,EAAYo8G,EAAwBt6G,GACvE,cAAe9B,GACb,IAAK,SACH,OAAc,OAAVA,EACK,YAAco8G,EAEhB,KAAKiB,sBAAsBr9G,EAAOo8G,EAAgBt6G,GAC3D,IAAK,SACH,IAAI29G,EAAexlH,KAAKC,UAAU8F,GAMlC,OALAy/G,EAAeA,EAAaznF,OAAO,EAAGynF,EAAa9kH,OAAS,GAC5D8kH,EAAe,KAAKD,0BAA0BC,GACjC,WAAT39G,IACF29G,EAAe8gB,GAAqB9gB,IAE/B,OAASA,EAAe,IAAMrD,EAEvC,IAAK,SACL,IAAK,UACH,MAAO,OAASp8G,EAAQ,IAAMo8G,EAElC,OAAO,KAAKiB,sBAAsBr9G,EAAOo8G,EAAgBt6G,EAC3D,GA3pCW,uCA6pCH,SAA0B68B,GAChC,OAAOA,EAAKriB,QAAQ,UAAW,OACjC,GA/pCW,mCAkqCH,SAAsBtc,EAAYo8G,EAAwBt6G,GAChE,GAAc,OAAV9B,EACF,MAAO,OAET,cAAeA,GACb,IAAK,SACH,IAAM4mD,EAAS,KAAKglE,YACpB,OAAO,KAAKgV,0BAA0B5gI,EAAO4mD,EAAQ,CAAEn3C,MAAO,GAAK2sG,GAErE,IAAK,SACL,IAAK,UACH,OAAO,KAAKoD,0BAA0Bx/G,EAAQo8G,GAMlD,MAHa,YADbt6G,EAAOyI,MAAMQ,QAAQjJ,GAAQA,EAAK,GAAKA,KAErC9B,EAAQugI,GAAqBvgI,IAExB,KAAKw/G,0BAA0Bx/G,EAAQo8G,EAChD,GAprCW,uCAsrCH,SACNp8G,EACA4mD,EACAi6E,EACAzkB,GAEA,GAAI7xG,MAAMQ,QAAQ/K,GAAQ,CACxB,IADwB,EACpBo/B,EAAa,KADO,IAEDp/B,GAFC,IAExB,2BAA8B,KAAnB8gI,EAAmB,QAC5B1hG,GAAA,UAAiBwnB,EAAjB,eAA+Bi6E,EAASpxH,QAAxC,YAAmDqxH,EAAnD,OAHsB,+BAKxB,OAAO1hG,EALT,GAM4B,kBAAVp/B,EAAoB,CACpC,IAAIo/B,EAAa,KACjB,QAAWxgC,KAAOoB,EAChB,GAAIlB,OAAOY,UAAUC,eAAeC,KAAKI,EAAOpB,GAAM,CACpD,IAAM2Q,EAAUvP,EAAMpB,GACtBwgC,GAAA,UAAiBwnB,EAAjB,aAA6Bi6E,EAASpxH,QAAtC,YAAiD7Q,EAAjD,MACA,IAAImiI,OAAA,EAEFA,EADqB,kBAAZxxH,EACT,UAAmB,KAAKqxH,0BAA0BrxH,EAASq3C,EAAS,KAAKglE,YAAaiV,EAAUzkB,IAEhG,aAAuBykB,EAASpxH,QAAhC,YAA2C,KAAK+vG,0BAA0BjwG,EAAU6sG,GAApF,OAEFh9E,GAAA,UAAiB2hG,GAGrB,OAAO3hG,EAET,OAAO,KAAKogF,0BAA0Bx/G,EAAQo8G,EAChD,GAptCW,uCAstCH,SACN/xB,EACA+xB,EACAzB,EACAoB,EACAilB,EACAj2H,GAAiB,WAEK,kBAAXs/E,IACT,KAAKq0B,wBAAwBr0B,EAAQ+xB,EAAgBzB,EAAW5vG,GAChE,KAAK4zG,2BAA2Bt0B,EAAQ+xB,EAAgBzB,GACxD,KAAKiE,aAAav0B,EAAQ0xB,GAEtBhxG,GAA8B,UAAnBi2H,IAA+BvnB,GAAsBpvB,IAElE,KAAKy1C,4BAA4Bz1C,EAAQ+xB,EAAgBzB,GAGvDpwG,MAAMQ,QAAQs/E,EAAO6d,QACvB7d,EAAO6d,MAAMzlG,SAAQ,SAACwJ,GACpB,OAAO,EAAKkyG,0BAA0BlyG,EAAGmwG,EAAgBzB,EAAWoB,EAAOilB,EAAgBj2H,EAC5F,IAECR,MAAMQ,QAAQs/E,EAAO6e,QACvB7e,EAAO6e,MAAMzmG,SAAQ,SAACwJ,GACpB,OAAO,EAAKkyG,0BAA0BlyG,EAAGmwG,EAAgBzB,EAAWoB,EAAOilB,EAAgBj2H,EAC5F,IAECR,MAAMQ,QAAQs/E,EAAO2f,QACvB3f,EAAO2f,MAAMvnG,SAAQ,SAACwJ,GACpB,OAAO,EAAKkyG,0BAA0BlyG,EAAGmwG,EAAgBzB,EAAWoB,EAAOilB,EAAgBj2H,EAC5F,IAGP,GAxvCW,0BA0vCH,SAAas/E,EAAoB0xB,GACvC,IAAIxxG,MAAMQ,QAAQs/E,EAAO+d,QAASoC,GAAUngB,EAAOsf,OAAnD,CAGA,IAAM7nG,EAAOuoF,EAAOvoF,KAChByI,MAAMQ,QAAQjJ,GAChBA,EAAKW,SAAQ,SAAUgvB,GACrB,OAAQsqF,EAAMtqF,IAAK,CACpB,IACQ3vB,IACTi6G,EAAMj6G,IAAQ,GAElB,GAtwCW,wCAwwCH,SACNuoF,EACA+xB,EACAzB,GACc,WAAdkE,EAAc,uDAAD,EAETC,GAAe,EACnB,GAAItU,GAAUngB,EAAOU,SAAU,CAG7B,IAFA,IAMI/Q,EANAl4E,EAAOuoF,EAAOvoF,KACd9B,EAAQqqF,EAAOU,QACVrwF,EAAImkH,EAAYnkH,EAAI,EAAGA,IAC9BsF,EAAQ,CAACA,GACT8B,EAAO,QAIPk4E,EADkB,iBAATh6E,EACD,gBAECA,EAAkB4K,WAAW0R,QAAQu/G,GAA0B,KAE1ElhB,EAAUzoG,IAAI,CACZk5C,KAAM,KAAKmyD,kBAAkBz7G,GAC7Bk4E,MAAAA,EACA56C,WAAY,KAAKi+E,sBAAsBr9G,EAAOo8G,EAAgBt6G,GAC9Dg6G,iBAAkBx/B,GAAAA,QAClBv4D,OAAQtH,GAAS,uBAAwB,mBAE3CqiG,GAAe,EAEbv0G,MAAMQ,QAAQs/E,EAAOqe,WACvBre,EAAOqe,SAASjmG,SAAQ,SAACs8G,GAGvB,IAFA,IAAIj9G,EAAOuoF,EAAOvoF,KACd9B,EAAQ++G,EACHrkH,EAAImkH,EAAYnkH,EAAI,EAAGA,IAC9BsF,EAAQ,CAACA,GACT8B,EAAO,QAET64G,EAAUzoG,IAAI,CACZk5C,KAAM,EAAKmyD,kBAAkBz7G,GAC7Bk4E,MAAO,EAAK4hC,iBAAiB57G,GAC7Bo/B,WAAY,EAAKi+E,sBAAsBr9G,EAAOo8G,EAAgBt6G,GAC9Dg6G,iBAAkBx/B,GAAAA,UAEpBwiC,GAAe,CAChB,IAEH,KAAK2gB,uBAAuBp1C,EAAQ+xB,EAAgBzB,EAAW,CAC7D4gB,cAAc,EACdI,mBAAmB,EACnBP,qBAAqB,IAElBtc,GAAwC,kBAAjBz0B,EAAOl6B,OAAuB5lD,MAAMQ,QAAQs/E,EAAOl6B,QAC7E,KAAKwuD,2BAA2Bt0B,EAAOl6B,MAAOisD,EAAgBzB,EAAWkE,EAAa,EAE1F,GA9zCW,qCAg0CH,SACNx0B,EACA+xB,EACAzB,EACA5vG,GAWA,GATIy/F,GAAUngB,EAAOsf,SAAW5+F,GAC9B4vG,EAAUzoG,IAAI,CACZk5C,KAAM,KAAKmyD,kBAAkBlzB,EAAOvoF,MACpCk4E,MAAO,KAAK4hC,iBAAiBvxB,EAAOsf,OACpCvqE,WAAY,KAAKi+E,sBAAsBhzB,EAAOsf,MAAOyS,EAAgB/xB,EAAOvoF,MAC5Eg6G,iBAAkBx/B,GAAAA,QAClBoF,cAAe,KAAKi7B,WAAWtyB,EAAOuyB,sBAAwBvyB,EAAOlP,cAGrE5wE,MAAMQ,QAAQs/E,EAAO+d,MACvB,QAAS1tG,EAAI,EAAGC,EAAS0vF,EAAO+d,KAAKztG,OAAQD,EAAIC,EAAQD,IAAK,CAC5D,IAAM2kH,EAAMh1B,EAAO+d,KAAK1tG,GACpBgnF,EAAgB,KAAKi7B,WAAWtyB,EAAOuyB,sBAAwBvyB,EAAOlP,YACtEkP,EAAO6yB,0BAA4BxiH,EAAI2vF,EAAO6yB,yBAAyBviH,QAAU,KAAK2kH,sBACxF59B,EAAgB,KAAKi7B,WAAWtyB,EAAO6yB,yBAAyBxiH,IACvD2vF,EAAO8yB,kBAAoBziH,EAAI2vF,EAAO8yB,iBAAiBxiH,SAChE+mF,EAAgB2I,EAAO8yB,iBAAiBziH,IAE1CigH,EAAUzoG,IAAI,CACZk5C,KAAM,KAAKmyD,kBAAkBlzB,EAAOvoF,MACpCk4E,MAAO,KAAK4hC,iBAAiByD,GAC7BjgF,WAAY,KAAKi+E,sBAAsBgC,EAAKjD,EAAgB/xB,EAAOvoF,MACnEg6G,iBAAkBx/B,GAAAA,QAClBoF,cAAAA,IAIR,GAj2CW,8BAm2CH,SAAiB1hF,GACvB,OAAc,OAAVA,EACK,OAELuK,MAAMQ,QAAQ/K,GACT/F,KAAKC,UAAU8F,GAEjB,GAAKA,CACd,GA32CW,oCA62CH,SACNqqF,EACA+xB,EACAzB,EACA5+D,GACc,WAAd8iE,EAAc,uDAAD,EAEb,GAAIt0G,MAAMQ,QAAQs/E,EAAO20B,iBAAkB,WACzB30B,EAAO20B,iBADkB,yBAC9B/yG,EAD8B,QAEnCnK,EAAOuoF,EAAOvoF,KACd9B,EAAQiM,EAAEgjF,KACVjV,EAAQ/tE,EAAE+tE,MACV56C,OAAA,EACAq9E,OAAA,EACJ,GAAIjS,GAAUxqG,GAAQ,CACpB,IAAM8B,EAAOmK,EAAEnK,MAAQuoF,EAAOvoF,KAC9B,GAAmB,IAAf+8G,GAA6B,UAAT/8G,EAAkB,CAExC,IAAMm/H,EAAW,GACjBniI,OAAOoH,KAAKlG,GAAOyC,SAAQ,SAAC0D,EAAKsJ,GACjB,IAAVA,GAAgBtJ,EAAIwb,WAAW,KAGjCs/G,EAAA,YAAc96H,IAASnG,EAAMmG,GAF7B86H,EAAA,YAAc96H,IAASnG,EAAMmG,EAIhC,IACDnG,EAAQihI,EAEV7hG,EAAa,EAAK6/E,6BAA6Bj/G,EAAOo8G,EAAgBrgE,GACtEi+B,EAAQA,GAAS,EAAKmlC,wBAAwBn/G,QAfhD,GAgBiC,kBAAfiM,EAAEmzG,SAAuB,CAIzC,IAHA,IAAI73B,EAAS,GACXE,EAAS,GACT7gC,EAAS,GACFlsD,EAAImkH,EAAYnkH,EAAI,EAAGA,IAC9B6sF,EAASA,EAAS3gC,EAAS,MAC3B6gC,EAASA,EAAS,KAAO7gC,EAAS,IAClCA,GAAU,EAAKglE,YACf9pH,EAAO,QAETs9B,EAAamoD,EAAS3gC,EAAS36C,EAAEmzG,SAAS9oG,MAAM,MAAM3a,KAAK,KAAOirD,GAAU6gC,EAAS20B,EACrFpiC,EAAQA,GAAS56C,EACjBq9E,EAAar9E,EAAW9iB,QAAQ,QAAS,IAE3Cq+F,EAAUzoG,IAAI,CACZk5C,KAAMn/C,EAAEi1H,gBAAkB,EAAK3jB,kBAAkBz7G,GACjDk4E,MAAAA,EACA8iC,SAAU7wG,EAAE6wG,UAAY7wG,EAAE+tE,MAC1B0H,cAAe,EAAKi7B,WAAW1wG,EAAE2wG,sBAAwB3wG,EAAEkvE,YAC3D/7C,WAAAA,EACA08E,iBAAkBx/B,GAAAA,QAClBmgC,WAAAA,GA5CqC,EACzC,2BAAwC,GADC,gCAgD7C,GAp6CW,0CAu6CH,SAA6Bz8G,EAAYo8G,EAAwBrgE,EAA6Bm/E,GAapG,OAAOxhB,GAAgB15G,EAAO,IAXb,SAACA,GAChB,GAAqB,kBAAVA,EAAoB,CAC7B,GAAiB,MAAbA,EAAM,GACR,OAAOA,EAAMg4B,OAAO,GAEtB,GAAc,SAAVh4B,GAA8B,UAAVA,EACtB,iBAAWA,EAAX,KAGJ,OAAOA,CACT,GACO05G,EAAAA,EAAAA,CAAAA,EAA0C39D,GAA1C29D,CAAAA,EAAAA,CAAoDkS,YAAa,KAAKA,cAAesP,GAAS9e,CACvG,GAr7CW,uCAu7CH,SAA0Bp8G,EAAgBo8G,EAAwBzB,GACxEA,EAAUzoG,IAAI,CACZk5C,KAAM,KAAKmyD,kBAAkB,WAC7BvjC,MAAOh6E,EAAQ,OAAS,QACxBo/B,WAAY,KAAKi+E,sBAAsBr9G,EAAOo8G,EAAgB,WAC9DN,iBAAkBx/B,GAAAA,QAClBoF,cAAe,IAEnB,GA/7CW,oCAi8CH,SAAuB06B,EAAwBzB,GACrDA,EAAUzoG,IAAI,CACZk5C,KAAM,KAAKmyD,kBAAkB,QAC7BvjC,MAAO,OACP56C,WAAY,OAASg9E,EACrBN,iBAAkBx/B,GAAAA,QAClBoF,cAAe,IAEnB,GAz8CW,qCA48CH,SAAwB1hF,GAE9B,OADc/F,KAAKC,UAAU8F,GAChBsc,QAAQ,2BAA4B,KACnD,GA/8CW,0CAi9CH,SAA6Bq+F,GAA+B,WAC1CmL,GAAwB,KAAK/sB,YACrCt2F,SAAQ,SAAC0+H,GAEvB,IAAMnnD,EAAQmnD,EAAS7qH,MAAM,KAAK,GAClC,EAAK8qH,4BAA4BzmB,EAAW,IAAK3gC,EAClD,GACH,GAx9CW,yCA09CH,SAA4B2gC,EAAiCyB,EAAwBpiC,GAC3F2gC,EAAUzoG,IAAI,CACZk5C,KAAM,KAAKmyD,kBAAkB,UAC7BvjC,MAAAA,EACA56C,WAAY46C,EAAQoiC,EACpBN,iBAAkBx/B,GAAAA,QAClBoF,cAAe,IAEnB,GAl+CW,8CAo+CH,SAAiCA,EAAuBtiD,GAC9D,IAAI9kC,EAA8BonF,EASlC,OARI,KAAK49B,wBACPlgF,EAAaA,EACV9iB,QAAQ,uBAAuB,SAACrQ,EAAGpQ,GAClC,OAAOA,CACR,IACAygB,QAAQ,cAAe,IAC1BhiB,EAAM,KAAKqiH,WAAL,UAAmBj7B,EAAnB,mBAA8CtiD,EAA9C,WAED9kC,CACT,GA/+CW,+BAk/CH,SAAkBwH,GACxB,GAAIyI,MAAMQ,QAAQjJ,GAAO,CAEvB,IAAM+sC,EAAe/sC,EACrBA,EAAO+sC,EAAMl0C,OAAS,EAAIk0C,EAAM,GAAK,KAEvC,IAAK/sC,EACH,OAAOsqD,GAAAA,MAET,OAAQtqD,GACN,IAAK,SAML,QACE,OAAOsqD,GAAAA,MALT,IAAK,SACH,OAAOA,GAAAA,OACT,IAAK,WACH,OAAOA,GAAAA,SAIb,GArgDW,4BAugDH,SAAeu7B,EAAmBrnE,GAGxC,IAFA,IAAI5lB,EAAI4lB,EAAS,EACXqe,EAAOgpD,EAAIrd,UACV5vE,GAAK,IAAoD,IAA/C,mBAAmB0S,QAAQuxB,EAAKl4B,OAAO/L,KACtDA,IAEF,OAAOikC,EAAKhI,UAAUj8B,EAAI,EAAG4lB,EAC/B,GA9gDW,wBAghDH,SAAWw/F,GACjB,GAAIA,GAAgB,KAAKR,sBACvB,MAAO,CACLl0D,KAAMgxB,GAAAA,SACNp8E,MAAO8/G,EAIb,GAxhDW,iCA0hDH,WACN,QAA8B,IAA1B,KAAKC,iBAAgC,CACvC,IAAM76G,EAAa,KAAK80G,mBAAmBz+B,cAAgB,KAAKy+B,mBAAmBz+B,aAAar2E,WAChG,KAAK66G,iBACH76G,GACAA,EAAWylG,gBACXpgG,MAAMQ,QAAQ7F,EAAWylG,eAAeC,uBACuC,IAA/E1lG,EAAWylG,eAAeC,oBAAoBx9F,QAAQgvE,GAAAA,UAE1D,OAAO,KAAK2jC,gBACd,GApiDW,8BAsiDH,SAAiBshB,EAAkB15C,EAAmBrnE,GAC5D,QAAS5lB,EAAI2mI,EAAQlxE,MAAMx1D,OAAS,EAAGD,GAAK,EAAGA,IAAK,CAClD,IAAMmY,EAAOwuH,EAAQlxE,MAAMz1D,GAC3B,GAAI4qF,GAAOzyE,IACLA,EAAKinB,MAAO,CACd,GAAIxZ,EAASzN,EAAKinB,MAAM,GACtB,OAAOp/B,EADT,GAEW4lB,GAAUzN,EAAKinB,MAAM,GAC9B,OAAOp/B,GAMf,OAAO,CACT,KArjDW,KAwjDP4mI,GAAc,QACpB,SAASf,GAAqBvH,GAC5B,IAAIh5H,EAMJ,GAAqB,KAJnBA,EADmB,kBAAVg5H,EACDA,EAEA,GAAKA,GAELr+H,OACR,OAAOqF,EAGT,GAAc,SAAVA,GAA8B,UAAVA,GAA+B,SAAVA,GAAoBshI,GAAYz2H,KAAK7K,GAChF,iBAAWA,EAAX,MAGyB,IAAvBA,EAAMoN,QAAQ,OAChBpN,EAAQA,EAAMsc,QAAQu/G,GAA0B,MAGlD,IAAI0F,GAAWj8H,MAAMqwF,SAAS31F,KAA+B,MAApBA,EAAMyG,OAAO,GAEtD,IAAK86H,EAIH,IADA,IAAI7qG,EAAM12B,EAAMoN,QAAQ,IAAK,GACtBspB,EAAM,GAAKA,EAAM12B,EAAMrF,OAAQ+7B,EAAM12B,EAAMoN,QAAQ,IAAKspB,EAAM,GAAI,CACvE,GAAIA,IAAQ12B,EAAMrF,OAAS,EAAG,CAE5B4mI,GAAU,EACV,MAKF,IAAMpvB,EAAWnyG,EAAMyG,OAAOiwB,EAAM,GACpC,GAAiB,OAAby7E,GAAkC,MAAbA,EAAkB,CACzCovB,GAAU,EACV,OASN,OAJIA,IACFvhI,EAAA,WAAYA,EAAZ,MAGKA,CACT,CCxqDO,SAASwhI,KAA6B,CCWvC,IC0CMjR,GAAAA,GD1CCkR,GAAA,WACX,WAA6BvQ,GAAoB,UAApB,KAAAA,UAAAA,CAAuB,CADzC,uCAGX,SAAc/0G,EAAwBm6G,GACpC,IACE,IAAMtC,EAAe3G,GAAmBgE,gBAAgBl1G,GAClDmE,EAASnE,EAASquD,SAAS8rD,EAAO18F,UAClCk4F,EAAarM,GAAsBnlG,EAAQ0zG,GACjD,GAAIlC,EAAY,CACd,IAAOj/G,EAAP,EAAei/G,EAAWsK,oBAAoB97G,EAAQ,IAAIwsG,GAAW3wG,IAArE,MACA,GAAItJ,GAAQkyE,GAAQlyE,GAAO,CACzB,IAAM6uH,EAAU7uH,EAAK5X,QAAQ62H,EAAWjM,kBACxC,GAAI6b,GAAWA,EAAQ5nG,MAAO,CAC5B,IAAM8/C,EAAcrgD,GAAAA,OAAapd,EAAS8rD,WAAWy5D,EAAQ5nG,MAAM,IAAK3d,EAAS8rD,WAAWy5D,EAAQ5nG,MAAM,KACpGqoD,EAAiB5oD,GAAAA,OAAapd,EAAS8rD,WAAWy5D,EAAQ5nG,MAAM,IAAK3d,EAAS8rD,WAAWy5D,EAAQ5nG,MAAM,KAC7G,MAAO,CAACk+C,GAAAA,OAAoB77D,EAAS2a,IAAK8iD,EAAauI,OAX/D,MAeSphF,GACP,KAAKmwH,UAAUK,UAAU,wBAAyB,CAAEluH,MAAO41G,GAA2Bl4G,KAI1F,KAxBW,KCmKP,SAAU4gI,GACdC,EACAC,EACAC,EACA5Q,EACA6Q,EACA/nB,GAEA,IAAMF,EAAgB,IAAIuU,GAAkBuT,EAAsBC,GAC5DG,EAAY,IAAIjG,GAAejiB,EAAeE,EAAoBqT,GAAoB6D,GACtFW,EAAQ,IAAIH,GAAU5X,EAAeoX,GACrC+Q,EAAsB,IAAIhR,GAAoBnX,EAAeoX,GAC7DgR,EAAiB,IAAItO,GAAe9Z,EAAeoX,GACnDiR,EAAY,IAAIzN,GAChB0N,EAAkB,IAAI/L,GAAgBrc,GACtCqoB,EAAe,IAAIzJ,GAAa9e,EAAeoX,GAC/CoR,EAAY,IAAIpN,GAAUhE,GAC1BqR,EAAiB,IAAId,GAAevQ,GAM1C,OAJA,IAAIsQ,GAAoB1nB,EAAeioB,EAAcD,GC3LjD,SAA2B/J,EAAkC+J,GACjE/J,EAAgByK,gBAAgBtP,GAAa+D,eAA7Cc,WAAAA,IAAAA,EAAAA,EAAAA,IAAAA,MAA6D,WAAOjhG,GAAP,8EACtDA,EADsD,wDAKtDA,EAAInV,WAAW,SAAY,gBAAgB9W,KAAKisB,KAC7C2rG,EAAUhtG,GAAAA,MAAUqB,GACpB4rG,EAAYjtG,GAAAA,KAAS,CACzBM,OAAQ,cACRJ,UAAW8sG,EAAQ9sG,UACnB57B,KAAM0oI,EAAQ1oI,KAAKiyF,SAAS,SAAWy2C,EAAQ1oI,KAAO0oI,EAAQ1oI,KAAO,QACrE87B,SAAUiB,IAEZA,EAAM4rG,EAAU93H,YAId,gBAAgBC,KAAKisB,KACjB6rG,EAASltG,GAAAA,KAASqB,GACxBA,EAAM6rG,EAAO/3H,YAnB4C,SAsBtCk3H,EAAWviI,OAAOq3H,aAAa,CAAE9/F,IAAAA,EAAUK,UAAU,EAAOyrG,WAAW,IAtBjC,eAwBzDd,EAAWviI,OAAOsjI,iBAAlB,sBAAkD/rG,IAxBO,2CAA7DihG,OAAAA,SAAAA,GAAAA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,CAAAA,CAAAA,GA2BF,CDkKE+K,CAAiB/K,GAAiB+J,GAC3B,CACL3gB,UAAW,SAACplE,GACV+9D,EAAclE,uBACV75D,EAASw8C,UACXuhB,EAAc0U,sBAAwB,IAAIrhH,IAC1C4uC,EAASw8C,QAAQ91F,SAAQ,SAACs5C,GACxB,IAAMgnF,EAAehnF,EAASk0E,SAAWl0E,EAASk0E,SAAW,EAC7DnW,EAAckpB,kBAAkBjnF,EAASjlB,IAAKisG,GAC9CjpB,EAAcpE,uBACZ35D,EAASjlB,IACTilB,EAASknF,UACTlnF,EAASsuC,OACTtuC,EAASl+C,KACTk+C,EAASo/B,YACTp/B,EAASz+B,SAEZ,KAEH4kH,EAAe/gB,UAAUplE,GACzB81E,EAAM1Q,UAAUplE,GAChBimF,EAAU7gB,UAAUplE,GACpBomF,EAAUhhB,UAAUplE,GACpBqmF,EAAgBjhB,UAAUplE,EAC5B,EACAmnF,6BAA8B,SAACC,GAC7BrpB,EAAcopB,6BAA6BC,EAC7C,EACApe,UAAWud,EAAUvd,UAAUh9G,KAAKu6H,GACpCloB,WAAY4nB,EAAU5nB,WAAWryG,KAAKi6H,GACtC1gB,aAAc4gB,EAAe5gB,aAAav5G,KAAKm6H,GAC/C/hB,QAAS0R,EAAM1R,QAAQp4G,KAAK8pH,GAC5B1O,oBAAqB8e,EAAoB9e,oBAAoBp7G,KAAKk6H,GAClEje,qBAAsBie,EAAoBmB,gCAAgCr7H,KAAKk6H,GAC/EoB,aAAcd,EAAee,cAAcv7H,KAAKw6H,GAChDgB,YAAa,SAACzsG,GACZ,OAAOgjF,EAActF,iBAAiB19E,EACxC,EACA0sG,SAAUrB,EAAU5kI,OAAOwK,KAAKo6H,GAChCjK,2BAAAA,GACAuL,UAAW,SAACC,EAAkBr5C,GAC5B,OAAOyvB,EAAc+W,WAAW6S,EAAUr5C,EAC5C,EACAomC,aAAc,SAACiT,GACb,OAAO5pB,EAAc2W,aAAaiT,EACpC,EACAC,oBAAqB,SAACC,GACpB,OAAO9pB,EAAc+pB,WAAWD,EAClC,EACAE,oBAAqB,SAACC,GACpB,OAAOjqB,EAAckqB,cAAcD,EACrC,EACAE,mBAAoB,SAACF,GACnB,OAAOjqB,EAAcoqB,cAAcH,EACrC,EACA1O,iBAAAA,GACA8O,cAAe,SAAChoH,EAAUm6G,GACxB,OAAO8L,EAAgB+B,cAAchoH,EAAUm6G,EACjD,EACA8N,YAAa,SAACjoH,GACZ,OAAOkmH,EAAa+B,YAAYjoH,EAClC,EACAkoH,gBAAiB,SAACrL,GAAD,OAAWqJ,EAAagC,gBAAgBrL,EAAxC,EAErB,EA/MYzI,GAAAA,KAAAA,GAAc,KACxBA,GAAAA,YAAA,iBACAA,GAAAA,GAAAA,kBAAA,uBACAA,GAAAA,GAAAA,SAAA,uBErCaqR,GAAqB,uEAApC,WAAoC9qG,GAApC,uFACyBwtG,MAAMxtG,GAD/B,YACQytG,EADR,QAEeC,GAFf,yCAGWD,EAAS5lG,QAHpB,aAKQ,IAAIl7B,MAAJ,oCAAuCqzB,IAL/C,kEAiCA,IClD2Bj1B,GDkDrBqvH,GAAuB,CAE3BrpE,KAF2B,WAEnB,EACR0pE,UAH2B,SAGjB1zH,EAAM0qG,GAEdv2F,QAAQ3O,MAAM,cAAexF,EAAM0qG,EACrC,EAEAk8B,UAR2B,WAQd,GC1DY5iI,GD6DQ,SAAC6sE,EAAD,GAAoD,IAA5Cg2D,EAA4C,EAA5CA,oBAAqB9S,EAAuB,EAAvBA,iBACxD+S,EAAkBhD,GAEtB+C,EAAsB9C,GAAuB,KAC7C,KACA,KACA1Q,GACA,MAEFyT,EAAgBxjB,UAAUyQ,GAE1B,IAAMgT,EAAkB,SAAC9tG,GACvB,IADiE,MAClD43C,EAAIC,mBAD8C,IAEjE,2BAA4B,KAAjB/rC,EAAiB,QAC1B,GAAIr5B,OAAOq5B,EAAM9L,OAASA,EACxB,OAAO84C,GAAapuE,OAAOs1B,EElFT,OFkF0B8L,EAAMutC,QAASvtC,EAAMmmC,WAErE,CANiE,+BAOnE,EAEA,MAAO,CACLu4C,aADK,SACQxqF,GACX,IAAM3a,EAAWyoH,EAAgB9tG,GACjC,GAAI3a,EACF,OAAOwoH,EAAgBrjB,aAAanlG,EAAUxT,QAAQipH,EAAiBxK,cAE3E,EAEAhN,WARK,SAQMtjF,EAAK8C,GACd,IAAMzd,EAAWyoH,EAAgB9tG,GACjC,GAAI3a,EACF,OAAOwoH,EAAgBvqB,WACrBj+F,EACAyd,EACAjxB,QAAQipH,EAAiBxK,cAG/B,EAEAic,aAnBK,SAmBQvsG,EAAK8C,GAChB,IAAMzd,EAAWyoH,EAAgB9tG,GACjC,GAAI3a,EACF,OAAOwoH,EAAgBtB,aAAalnH,EAAU,CAAEyd,SAAAA,EAAU2hD,aAAc,CAAEzkD,IAAAA,IAE9E,EAEAqpF,QA1BK,SA0BGrpF,EAAK8C,GACX,IAAMzd,EAAWyoH,EAAgB9tG,GACjC,GAAI3a,EACF,OAAOwoH,EAAgBxkB,QAAQhkG,EAAUyd,EAE7C,EAEAr8B,OAjCK,SAiCEu5B,EAAKviB,GACV,IAAM4H,EAAWyoH,EAAgB9tG,GACjC,GAAI3a,EACF,OAAOwoH,EAAgBnB,SAASrnH,EAAU5H,EAE9C,EAEAgvH,YAxCK,SAwCOzsG,GACV,OAAO6tG,EAAgBpB,YAAYzsG,EACrC,EAEAqsF,oBA5CK,SA4CersF,GAClB,IAAM3a,EAAWyoH,EAAgB9tG,GACjC,GAAI3a,EACF,OAAOwoH,EAAgB3gB,qBAAqB7nG,EAAU,CAAC,EAE3D,EAEA4oG,UAnDK,SAmDKjuF,GACR,IAAM3a,EAAWyoH,EAAgB9tG,GACjC,GAAI3a,EACF,OAAOwoH,EAAgB5f,UAAU5oG,EAErC,EAEAgoH,cA1DK,SA0DSrtG,EAAKgD,EAAOmpD,GACxB,IAAM9mE,EAAWyoH,EAAgB9tG,GACjC,GAAI3a,EACF,OAAOwoH,EAAgBR,cAAchoH,EAAU,CAC7C2d,MAAAA,EACAyhD,aAAc,CAAEzkD,IAAAA,GAChBr1B,QAAS,CAAEwhF,YAAAA,IAGjB,EAEH,ECrJG9hF,KAAKwuE,UAAY,WACbk1D,IAAiB,SAACn2D,EAAKJ,GAAN,OAAqBxvE,OAAO0C,OAAOK,GAAG6sE,EAAKJ,GAA3C,GACpB","sources":["../node_modules/path-browserify/index.js","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/global","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/esm/construct.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","../node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","../node_modules/monaco-editor/esm/vs/base/common/errors.js","../node_modules/monaco-editor/esm/vs/base/common/iterator.js","../node_modules/monaco-editor/esm/vs/base/common/functional.js","../node_modules/monaco-editor/esm/vs/base/common/lifecycle.js","../node_modules/monaco-editor/esm/vs/base/common/linkedList.js","../node_modules/monaco-editor/esm/vs/base/common/event.js","../node_modules/monaco-editor/esm/vs/base/common/stopwatch.js","../node_modules/monaco-editor/esm/vs/base/common/objects.js","../node_modules/monaco-editor/esm/vs/nls.js","../node_modules/monaco-editor/esm/vs/base/common/platform.js","../node_modules/monaco-editor/esm/vs/base/common/strings.js","../node_modules/monaco-editor/esm/vs/base/common/cache.js","../node_modules/monaco-editor/esm/vs/base/common/lazy.js","../node_modules/monaco-editor/esm/vs/base/common/worker/simpleWorker.js","../node_modules/monaco-editor/esm/vs/base/common/diff/diffChange.js","../node_modules/monaco-editor/esm/vs/base/common/hash.js","../node_modules/monaco-editor/esm/vs/base/common/diff/diff.js","../node_modules/monaco-editor/esm/vs/base/common/process.js","../node_modules/monaco-editor/esm/vs/base/common/path.js","../node_modules/monaco-editor/esm/vs/base/common/uri.js","../node_modules/monaco-editor/esm/vs/editor/common/core/position.js","../node_modules/monaco-editor/esm/vs/base/common/arrays.js","../node_modules/monaco-editor/esm/vs/editor/common/core/range.js","../node_modules/monaco-editor/esm/vs/base/common/uint.js","../node_modules/monaco-editor/esm/vs/editor/common/model/prefixSumComputer.js","../node_modules/monaco-editor/esm/vs/editor/common/model/mirrorTextModel.js","../node_modules/monaco-editor/esm/vs/editor/common/core/wordHelper.js","../node_modules/monaco-editor/esm/vs/editor/common/core/characterClassifier.js","../node_modules/monaco-editor/esm/vs/editor/common/languages/linkComputer.js","../node_modules/monaco-editor/esm/vs/editor/common/languages/supports/inplaceReplaceSupport.js","../node_modules/monaco-editor/esm/vs/base/common/cancellation.js","../node_modules/monaco-editor/esm/vs/base/common/keyCodes.js","../node_modules/monaco-editor/esm/vs/editor/common/core/selection.js","../node_modules/monaco-editor/esm/vs/base/common/types.js","../node_modules/monaco-editor/esm/vs/base/common/codicons.js","../node_modules/monaco-editor/esm/vs/editor/common/languages.js","../node_modules/monaco-editor/esm/vs/editor/common/tokenizationRegistry.js","../node_modules/monaco-editor/esm/vs/editor/common/standalone/standaloneEnums.js","../node_modules/monaco-editor/esm/vs/editor/common/services/editorBaseApi.js","../node_modules/monaco-editor/esm/vs/editor/common/core/wordCharacterClassifier.js","../node_modules/monaco-editor/esm/vs/editor/common/model.js","../node_modules/monaco-editor/esm/vs/editor/common/model/textModelSearch.js","../node_modules/monaco-editor/esm/vs/base/common/assert.js","../node_modules/monaco-editor/esm/vs/editor/common/services/unicodeTextModelHighlighter.js","../node_modules/monaco-editor/esm/vs/editor/common/core/lineRange.js","../node_modules/monaco-editor/esm/vs/editor/common/diff/linesDiffComputer.js","../node_modules/monaco-editor/esm/vs/editor/common/diff/smartLinesDiffComputer.js","../node_modules/monaco-editor/esm/vs/editor/common/core/offsetRange.js","../node_modules/monaco-editor/esm/vs/editor/common/diff/algorithms/diffAlgorithm.js","../node_modules/monaco-editor/esm/vs/editor/common/diff/algorithms/utils.js","../node_modules/monaco-editor/esm/vs/editor/common/diff/algorithms/dynamicProgrammingDiffing.js","../node_modules/monaco-editor/esm/vs/editor/common/diff/algorithms/joinSequenceDiffs.js","../node_modules/monaco-editor/esm/vs/editor/common/diff/algorithms/myersDiffAlgorithm.js","../node_modules/monaco-editor/esm/vs/editor/common/diff/standardLinesDiffComputer.js","../node_modules/monaco-editor/esm/vs/editor/common/diff/linesDiffComputers.js","../node_modules/monaco-editor/esm/vs/base/common/color.js","../node_modules/monaco-editor/esm/vs/editor/common/languages/defaultDocumentColorsComputer.js","../node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js","../node_modules/monaco-editor/esm/vs/editor/editor.worker.js","../node_modules/vscode-languageserver-textdocument/lib/esm/main.js","../node_modules/jsonc-parser/lib/esm/impl/scanner.js","../node_modules/jsonc-parser/lib/esm/impl/parser.js","../node_modules/jsonc-parser/lib/esm/main.js","../LIB/node_modules/path-browserify/index.js","../LIB/webpack/bootstrap","../LIB/webpack/runtime/define property getters","../LIB/webpack/runtime/hasOwnProperty shorthand","../LIB/webpack/runtime/make namespace object","../LIB/src/platform.ts","../LIB/src/uri.ts","../LIB/src/utils.ts","../node_modules/vscode-languageserver-types/lib/esm/main.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/nodes/identity.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/visit.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/doc/directives.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/doc/anchors.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/doc/applyReviver.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/nodes/toJS.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/nodes/Node.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/nodes/Alias.js","../node_modules/@babel/runtime/helpers/esm/toArray.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/nodes/Scalar.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/doc/createNode.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/nodes/Collection.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/stringify/stringifyComment.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/stringify/foldFlowLines.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/stringify/stringifyString.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/stringify/stringify.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/log.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/nodes/addPairToJSMap.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/nodes/Pair.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/stringify/stringifyPair.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/stringify/stringifyCollection.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/nodes/YAMLMap.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/common/map.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/nodes/YAMLSeq.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/common/seq.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/common/string.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/common/null.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/core/bool.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/stringify/stringifyNumber.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/core/float.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/core/int.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/core/schema.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/json/schema.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/yaml-1.1/binary.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/yaml-1.1/pairs.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/yaml-1.1/omap.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/yaml-1.1/bool.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/yaml-1.1/float.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/yaml-1.1/int.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/yaml-1.1/set.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/yaml-1.1/timestamp.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/yaml-1.1/schema.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/tags.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/schema/Schema.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/doc/Document.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/stringify/stringifyDocument.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/errors.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/compose/resolve-props.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/compose/util-contains-newline.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/compose/util-flow-indent-check.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/compose/util-map-includes.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/compose/resolve-block-map.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/compose/resolve-end.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/compose/resolve-flow-collection.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/compose/compose-collection.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/compose/resolve-block-seq.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/compose/resolve-block-scalar.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/compose/resolve-flow-scalar.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/compose/compose-scalar.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/compose/util-empty-scalar-position.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/compose/compose-node.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/compose/compose-doc.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/compose/composer.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/parse/cst-stringify.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/parse/cst-visit.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/parse/cst.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/parse/lexer.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/parse/line-counter.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/parse/parser.js","../node_modules/monaco-yaml/node_modules/yaml/browser/dist/public-api.js","../node_modules/monaco-yaml/node_modules/yaml/browser/index.js","../stubs/prettier.js","../node_modules/monaco-yaml/node_modules/vscode-json-languageservice/lib/esm/jsonLanguageTypes.js","../node_modules/monaco-yaml/node_modules/yaml-language-server/node_modules/ajv/dist/refs/json-schema-draft-07.json","../node_modules/monaco-yaml/node_modules/vscode-json-languageservice/lib/esm/utils/strings.js","../node_modules/monaco-yaml/node_modules/vscode-json-languageservice/lib/esm/utils/objects.js","../node_modules/monaco-yaml/src/fillers/vscode-nls.ts","../node_modules/monaco-yaml/node_modules/vscode-json-languageservice/lib/esm/parser/jsonParser.js","../node_modules/monaco-yaml/node_modules/vscode-json-languageservice/lib/esm/utils/glob.js","../node_modules/monaco-yaml/node_modules/vscode-json-languageservice/lib/esm/services/jsonSchemaService.js","../node_modules/yaml-language-server/src/languageservice/utils/strings.ts","../node_modules/yaml-language-server/src/languageservice/utils/objects.ts","../node_modules/yaml-language-server/src/languageservice/utils/schemaUtils.ts","../node_modules/monaco-yaml/node_modules/vscode-json-languageservice/lib/esm/utils/json.js","../node_modules/monaco-yaml/node_modules/vscode-json-languageservice/lib/esm/services/jsonCompletion.js","../node_modules/monaco-yaml/node_modules/vscode-json-languageservice/lib/esm/services/jsonHover.js","../node_modules/monaco-yaml/node_modules/vscode-json-languageservice/lib/esm/services/jsonValidation.js","../node_modules/monaco-yaml/node_modules/vscode-json-languageservice/lib/esm/utils/colors.js","../node_modules/monaco-yaml/node_modules/vscode-json-languageservice/lib/esm/services/jsonDocumentSymbols.js","../node_modules/monaco-yaml/node_modules/vscode-json-languageservice/lib/esm/services/configuration.js","../node_modules/monaco-yaml/node_modules/vscode-json-languageservice/lib/esm/services/jsonLinks.js","../node_modules/yaml-language-server/src/languageservice/utils/arrUtils.ts","../node_modules/yaml-language-server/src/languageservice/parser/jsonParser07.ts","../node_modules/yaml-language-server/src/languageservice/parser/ast-converter.ts","../node_modules/yaml-language-server/src/languageservice/utils/astUtils.ts","../node_modules/yaml-language-server/src/languageservice/parser/yaml-documents.ts","../node_modules/yaml-language-server/src/languageservice/parser/yamlParser07.ts","../node_modules/yaml-language-server/src/languageservice/parser/custom-tag-provider.ts","../node_modules/yaml-language-server/src/languageservice/utils/textBuffer.ts","../node_modules/yaml-language-server/src/languageservice/services/modelineUtil.ts","../node_modules/monaco-yaml/src/fillers/ajv.ts","../node_modules/yaml-language-server/src/languageservice/services/yamlSchemaService.ts","../node_modules/yaml-language-server/src/languageservice/services/documentSymbols.ts","../node_modules/yaml-language-server/src/languageservice/parser/isKubernetes.ts","../node_modules/yaml-language-server/src/languageservice/services/yamlHover.ts","../node_modules/yaml-language-server/src/languageservice/services/validation/unused-anchors.ts","../node_modules/yaml-language-server/src/languageservice/services/validation/yaml-style.ts","../node_modules/yaml-language-server/src/commands.ts","../node_modules/yaml-language-server/src/languageservice/services/yamlValidation.ts","../node_modules/yaml-language-server/src/languageservice/services/yamlFormatter.ts","../node_modules/yaml-language-server/src/languageservice/services/yamlLinks.ts","../node_modules/yaml-language-server/src/languageservice/services/yamlFolding.ts","../node_modules/yaml-language-server/src/languageservice/utils/flow-style-rewriter.ts","../node_modules/yaml-language-server/src/languageservice/services/yamlCodeActions.ts","../node_modules/yaml-language-server/src/languageserver/commandExecutor.ts","../node_modules/yaml-language-server/src/languageservice/services/yamlOnTypeFormatting.ts","../node_modules/yaml-language-server/src/languageservice/utils/schemaUrls.ts","../node_modules/yaml-language-server/src/languageservice/services/yamlCodeLens.ts","../node_modules/yaml-language-server/src/languageservice/utils/indentationGuesser.ts","../node_modules/yaml-language-server/src/languageservice/utils/json.ts","../node_modules/yaml-language-server/src/languageservice/services/yamlCompletion.ts","../node_modules/monaco-yaml/src/fillers/schemaSelectionHandlers.ts","../node_modules/yaml-language-server/src/languageservice/services/yamlDefinition.ts","../node_modules/yaml-language-server/src/languageservice/yamlLanguageService.ts","../node_modules/yaml-language-server/src/languageservice/services/yamlCommands.ts","../node_modules/monaco-yaml/src/yaml.worker.ts","../node_modules/monaco-worker-manager/worker.js","../node_modules/monaco-yaml/src/constants.ts"],"sourcesContent":["// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nexport default function _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return possibleConstructorReturn(this, result);\n  };\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// Avoid circular dependency on EventEmitter by implementing a subset of the interface.\nexport class ErrorHandler {\n    constructor() {\n        this.listeners = [];\n        this.unexpectedErrorHandler = function (e) {\n            setTimeout(() => {\n                if (e.stack) {\n                    if (ErrorNoTelemetry.isErrorNoTelemetry(e)) {\n                        throw new ErrorNoTelemetry(e.message + '\\n\\n' + e.stack);\n                    }\n                    throw new Error(e.message + '\\n\\n' + e.stack);\n                }\n                throw e;\n            }, 0);\n        };\n    }\n    emit(e) {\n        this.listeners.forEach((listener) => {\n            listener(e);\n        });\n    }\n    onUnexpectedError(e) {\n        this.unexpectedErrorHandler(e);\n        this.emit(e);\n    }\n    // For external errors, we don't want the listeners to be called\n    onUnexpectedExternalError(e) {\n        this.unexpectedErrorHandler(e);\n    }\n}\nexport const errorHandler = new ErrorHandler();\nexport function onUnexpectedError(e) {\n    // ignore errors from cancelled promises\n    if (!isCancellationError(e)) {\n        errorHandler.onUnexpectedError(e);\n    }\n    return undefined;\n}\nexport function onUnexpectedExternalError(e) {\n    // ignore errors from cancelled promises\n    if (!isCancellationError(e)) {\n        errorHandler.onUnexpectedExternalError(e);\n    }\n    return undefined;\n}\nexport function transformErrorForSerialization(error) {\n    if (error instanceof Error) {\n        const { name, message } = error;\n        const stack = error.stacktrace || error.stack;\n        return {\n            $isError: true,\n            name,\n            message,\n            stack,\n            noTelemetry: ErrorNoTelemetry.isErrorNoTelemetry(error)\n        };\n    }\n    // return as is\n    return error;\n}\nconst canceledName = 'Canceled';\n/**\n * Checks if the given error is a promise in canceled state\n */\nexport function isCancellationError(error) {\n    if (error instanceof CancellationError) {\n        return true;\n    }\n    return error instanceof Error && error.name === canceledName && error.message === canceledName;\n}\n// !!!IMPORTANT!!!\n// Do NOT change this class because it is also used as an API-type.\nexport class CancellationError extends Error {\n    constructor() {\n        super(canceledName);\n        this.name = this.message;\n    }\n}\n/**\n * @deprecated use {@link CancellationError `new CancellationError()`} instead\n */\nexport function canceled() {\n    const error = new Error(canceledName);\n    error.name = error.message;\n    return error;\n}\nexport function illegalArgument(name) {\n    if (name) {\n        return new Error(`Illegal argument: ${name}`);\n    }\n    else {\n        return new Error('Illegal argument');\n    }\n}\nexport function illegalState(name) {\n    if (name) {\n        return new Error(`Illegal state: ${name}`);\n    }\n    else {\n        return new Error('Illegal state');\n    }\n}\nexport class NotSupportedError extends Error {\n    constructor(message) {\n        super('NotSupported');\n        if (message) {\n            this.message = message;\n        }\n    }\n}\n/**\n * Error that when thrown won't be logged in telemetry as an unhandled error.\n */\nexport class ErrorNoTelemetry extends Error {\n    constructor(msg) {\n        super(msg);\n        this.name = 'CodeExpectedError';\n    }\n    static fromError(err) {\n        if (err instanceof ErrorNoTelemetry) {\n            return err;\n        }\n        const result = new ErrorNoTelemetry();\n        result.message = err.message;\n        result.stack = err.stack;\n        return result;\n    }\n    static isErrorNoTelemetry(err) {\n        return err.name === 'CodeExpectedError';\n    }\n}\n/**\n * This error indicates a bug.\n * Do not throw this for invalid user input.\n * Only catch this error to recover gracefully from bugs.\n */\nexport class BugIndicatingError extends Error {\n    constructor(message) {\n        super(message || 'An unexpected bug occurred.');\n        Object.setPrototypeOf(this, BugIndicatingError.prototype);\n        // Because we know for sure only buggy code throws this,\n        // we definitely want to break here and fix the bug.\n        // eslint-disable-next-line no-debugger\n        // debugger;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport var Iterable;\n(function (Iterable) {\n    function is(thing) {\n        return thing && typeof thing === 'object' && typeof thing[Symbol.iterator] === 'function';\n    }\n    Iterable.is = is;\n    const _empty = Object.freeze([]);\n    function empty() {\n        return _empty;\n    }\n    Iterable.empty = empty;\n    function* single(element) {\n        yield element;\n    }\n    Iterable.single = single;\n    function wrap(iterableOrElement) {\n        if (is(iterableOrElement)) {\n            return iterableOrElement;\n        }\n        else {\n            return single(iterableOrElement);\n        }\n    }\n    Iterable.wrap = wrap;\n    function from(iterable) {\n        return iterable || _empty;\n    }\n    Iterable.from = from;\n    function isEmpty(iterable) {\n        return !iterable || iterable[Symbol.iterator]().next().done === true;\n    }\n    Iterable.isEmpty = isEmpty;\n    function first(iterable) {\n        return iterable[Symbol.iterator]().next().value;\n    }\n    Iterable.first = first;\n    function some(iterable, predicate) {\n        for (const element of iterable) {\n            if (predicate(element)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    Iterable.some = some;\n    function find(iterable, predicate) {\n        for (const element of iterable) {\n            if (predicate(element)) {\n                return element;\n            }\n        }\n        return undefined;\n    }\n    Iterable.find = find;\n    function* filter(iterable, predicate) {\n        for (const element of iterable) {\n            if (predicate(element)) {\n                yield element;\n            }\n        }\n    }\n    Iterable.filter = filter;\n    function* map(iterable, fn) {\n        let index = 0;\n        for (const element of iterable) {\n            yield fn(element, index++);\n        }\n    }\n    Iterable.map = map;\n    function* concat(...iterables) {\n        for (const iterable of iterables) {\n            for (const element of iterable) {\n                yield element;\n            }\n        }\n    }\n    Iterable.concat = concat;\n    function reduce(iterable, reducer, initialValue) {\n        let value = initialValue;\n        for (const element of iterable) {\n            value = reducer(value, element);\n        }\n        return value;\n    }\n    Iterable.reduce = reduce;\n    /**\n     * Returns an iterable slice of the array, with the same semantics as `array.slice()`.\n     */\n    function* slice(arr, from, to = arr.length) {\n        if (from < 0) {\n            from += arr.length;\n        }\n        if (to < 0) {\n            to += arr.length;\n        }\n        else if (to > arr.length) {\n            to = arr.length;\n        }\n        for (; from < to; from++) {\n            yield arr[from];\n        }\n    }\n    Iterable.slice = slice;\n    /**\n     * Consumes `atMost` elements from iterable and returns the consumed elements,\n     * and an iterable for the rest of the elements.\n     */\n    function consume(iterable, atMost = Number.POSITIVE_INFINITY) {\n        const consumed = [];\n        if (atMost === 0) {\n            return [consumed, iterable];\n        }\n        const iterator = iterable[Symbol.iterator]();\n        for (let i = 0; i < atMost; i++) {\n            const next = iterator.next();\n            if (next.done) {\n                return [consumed, Iterable.empty()];\n            }\n            consumed.push(next.value);\n        }\n        return [consumed, { [Symbol.iterator]() { return iterator; } }];\n    }\n    Iterable.consume = consume;\n})(Iterable || (Iterable = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function once(fn) {\n    const _this = this;\n    let didCall = false;\n    let result;\n    return function () {\n        if (didCall) {\n            return result;\n        }\n        didCall = true;\n        result = fn.apply(_this, arguments);\n        return result;\n    };\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { once } from './functional.js';\nimport { Iterable } from './iterator.js';\n// #region Disposable Tracking\n/**\n * Enables logging of potentially leaked disposables.\n *\n * A disposable is considered leaked if it is not disposed or not registered as the child of\n * another disposable. This tracking is very simple an only works for classes that either\n * extend Disposable or use a DisposableStore. This means there are a lot of false positives.\n */\nconst TRACK_DISPOSABLES = false;\nlet disposableTracker = null;\nexport function setDisposableTracker(tracker) {\n    disposableTracker = tracker;\n}\nif (TRACK_DISPOSABLES) {\n    const __is_disposable_tracked__ = '__is_disposable_tracked__';\n    setDisposableTracker(new class {\n        trackDisposable(x) {\n            const stack = new Error('Potentially leaked disposable').stack;\n            setTimeout(() => {\n                if (!x[__is_disposable_tracked__]) {\n                    console.log(stack);\n                }\n            }, 3000);\n        }\n        setParent(child, parent) {\n            if (child && child !== Disposable.None) {\n                try {\n                    child[__is_disposable_tracked__] = true;\n                }\n                catch (_a) {\n                    // noop\n                }\n            }\n        }\n        markAsDisposed(disposable) {\n            if (disposable && disposable !== Disposable.None) {\n                try {\n                    disposable[__is_disposable_tracked__] = true;\n                }\n                catch (_a) {\n                    // noop\n                }\n            }\n        }\n        markAsSingleton(disposable) { }\n    });\n}\nfunction trackDisposable(x) {\n    disposableTracker === null || disposableTracker === void 0 ? void 0 : disposableTracker.trackDisposable(x);\n    return x;\n}\nfunction markAsDisposed(disposable) {\n    disposableTracker === null || disposableTracker === void 0 ? void 0 : disposableTracker.markAsDisposed(disposable);\n}\nfunction setParentOfDisposable(child, parent) {\n    disposableTracker === null || disposableTracker === void 0 ? void 0 : disposableTracker.setParent(child, parent);\n}\nfunction setParentOfDisposables(children, parent) {\n    if (!disposableTracker) {\n        return;\n    }\n    for (const child of children) {\n        disposableTracker.setParent(child, parent);\n    }\n}\n/**\n * Indicates that the given object is a singleton which does not need to be disposed.\n*/\nexport function markAsSingleton(singleton) {\n    disposableTracker === null || disposableTracker === void 0 ? void 0 : disposableTracker.markAsSingleton(singleton);\n    return singleton;\n}\n/**\n * Check if `thing` is {@link IDisposable disposable}.\n */\nexport function isDisposable(thing) {\n    return typeof thing.dispose === 'function' && thing.dispose.length === 0;\n}\nexport function dispose(arg) {\n    if (Iterable.is(arg)) {\n        const errors = [];\n        for (const d of arg) {\n            if (d) {\n                try {\n                    d.dispose();\n                }\n                catch (e) {\n                    errors.push(e);\n                }\n            }\n        }\n        if (errors.length === 1) {\n            throw errors[0];\n        }\n        else if (errors.length > 1) {\n            throw new AggregateError(errors, 'Encountered errors while disposing of store');\n        }\n        return Array.isArray(arg) ? [] : arg;\n    }\n    else if (arg) {\n        arg.dispose();\n        return arg;\n    }\n}\n/**\n * Combine multiple disposable values into a single {@link IDisposable}.\n */\nexport function combinedDisposable(...disposables) {\n    const parent = toDisposable(() => dispose(disposables));\n    setParentOfDisposables(disposables, parent);\n    return parent;\n}\n/**\n * Turn a function that implements dispose into an {@link IDisposable}.\n *\n * @param fn Clean up function, guaranteed to be called only **once**.\n */\nexport function toDisposable(fn) {\n    const self = trackDisposable({\n        dispose: once(() => {\n            markAsDisposed(self);\n            fn();\n        })\n    });\n    return self;\n}\n/**\n * Manages a collection of disposable values.\n *\n * This is the preferred way to manage multiple disposables. A `DisposableStore` is safer to work with than an\n * `IDisposable[]` as it considers edge cases, such as registering the same value multiple times or adding an item to a\n * store that has already been disposed of.\n */\nexport class DisposableStore {\n    constructor() {\n        this._toDispose = new Set();\n        this._isDisposed = false;\n        trackDisposable(this);\n    }\n    /**\n     * Dispose of all registered disposables and mark this object as disposed.\n     *\n     * Any future disposables added to this object will be disposed of on `add`.\n     */\n    dispose() {\n        if (this._isDisposed) {\n            return;\n        }\n        markAsDisposed(this);\n        this._isDisposed = true;\n        this.clear();\n    }\n    /**\n     * @return `true` if this object has been disposed of.\n     */\n    get isDisposed() {\n        return this._isDisposed;\n    }\n    /**\n     * Dispose of all registered disposables but do not mark this object as disposed.\n     */\n    clear() {\n        if (this._toDispose.size === 0) {\n            return;\n        }\n        try {\n            dispose(this._toDispose);\n        }\n        finally {\n            this._toDispose.clear();\n        }\n    }\n    /**\n     * Add a new {@link IDisposable disposable} to the collection.\n     */\n    add(o) {\n        if (!o) {\n            return o;\n        }\n        if (o === this) {\n            throw new Error('Cannot register a disposable on itself!');\n        }\n        setParentOfDisposable(o, this);\n        if (this._isDisposed) {\n            if (!DisposableStore.DISABLE_DISPOSED_WARNING) {\n                console.warn(new Error('Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!').stack);\n            }\n        }\n        else {\n            this._toDispose.add(o);\n        }\n        return o;\n    }\n}\nDisposableStore.DISABLE_DISPOSED_WARNING = false;\n/**\n * Abstract base class for a {@link IDisposable disposable} object.\n *\n * Subclasses can {@linkcode _register} disposables that will be automatically cleaned up when this object is disposed of.\n */\nexport class Disposable {\n    constructor() {\n        this._store = new DisposableStore();\n        trackDisposable(this);\n        setParentOfDisposable(this._store, this);\n    }\n    dispose() {\n        markAsDisposed(this);\n        this._store.dispose();\n    }\n    /**\n     * Adds `o` to the collection of disposables managed by this object.\n     */\n    _register(o) {\n        if (o === this) {\n            throw new Error('Cannot register a disposable on itself!');\n        }\n        return this._store.add(o);\n    }\n}\n/**\n * A disposable that does nothing when it is disposed of.\n *\n * TODO: This should not be a static property.\n */\nDisposable.None = Object.freeze({ dispose() { } });\n/**\n * Manages the lifecycle of a disposable value that may be changed.\n *\n * This ensures that when the disposable value is changed, the previously held disposable is disposed of. You can\n * also register a `MutableDisposable` on a `Disposable` to ensure it is automatically cleaned up.\n */\nexport class MutableDisposable {\n    constructor() {\n        this._isDisposed = false;\n        trackDisposable(this);\n    }\n    get value() {\n        return this._isDisposed ? undefined : this._value;\n    }\n    set value(value) {\n        var _a;\n        if (this._isDisposed || value === this._value) {\n            return;\n        }\n        (_a = this._value) === null || _a === void 0 ? void 0 : _a.dispose();\n        if (value) {\n            setParentOfDisposable(value, this);\n        }\n        this._value = value;\n    }\n    /**\n     * Resets the stored value and disposed of the previously stored value.\n     */\n    clear() {\n        this.value = undefined;\n    }\n    dispose() {\n        var _a;\n        this._isDisposed = true;\n        markAsDisposed(this);\n        (_a = this._value) === null || _a === void 0 ? void 0 : _a.dispose();\n        this._value = undefined;\n    }\n}\nexport class RefCountedDisposable {\n    constructor(_disposable) {\n        this._disposable = _disposable;\n        this._counter = 1;\n    }\n    acquire() {\n        this._counter++;\n        return this;\n    }\n    release() {\n        if (--this._counter === 0) {\n            this._disposable.dispose();\n        }\n        return this;\n    }\n}\nexport class ImmortalReference {\n    constructor(object) {\n        this.object = object;\n    }\n    dispose() { }\n}\n/**\n * A map the manages the lifecycle of the values that it stores.\n */\nexport class DisposableMap {\n    constructor() {\n        this._store = new Map();\n        this._isDisposed = false;\n        trackDisposable(this);\n    }\n    /**\n     * Disposes of all stored values and mark this object as disposed.\n     *\n     * Trying to use this object after it has been disposed of is an error.\n     */\n    dispose() {\n        markAsDisposed(this);\n        this._isDisposed = true;\n        this.clearAndDisposeAll();\n    }\n    /**\n     * Disposes of all stored values and clear the map, but DO NOT mark this object as disposed.\n     */\n    clearAndDisposeAll() {\n        if (!this._store.size) {\n            return;\n        }\n        try {\n            dispose(this._store.values());\n        }\n        finally {\n            this._store.clear();\n        }\n    }\n    get(key) {\n        return this._store.get(key);\n    }\n    set(key, value, skipDisposeOnOverwrite = false) {\n        var _a;\n        if (this._isDisposed) {\n            console.warn(new Error('Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!').stack);\n        }\n        if (!skipDisposeOnOverwrite) {\n            (_a = this._store.get(key)) === null || _a === void 0 ? void 0 : _a.dispose();\n        }\n        this._store.set(key, value);\n    }\n    /**\n     * Delete the value stored for `key` from this map and also dispose of it.\n     */\n    deleteAndDispose(key) {\n        var _a;\n        (_a = this._store.get(key)) === null || _a === void 0 ? void 0 : _a.dispose();\n        this._store.delete(key);\n    }\n    [Symbol.iterator]() {\n        return this._store[Symbol.iterator]();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nclass Node {\n    constructor(element) {\n        this.element = element;\n        this.next = Node.Undefined;\n        this.prev = Node.Undefined;\n    }\n}\nNode.Undefined = new Node(undefined);\nexport class LinkedList {\n    constructor() {\n        this._first = Node.Undefined;\n        this._last = Node.Undefined;\n        this._size = 0;\n    }\n    get size() {\n        return this._size;\n    }\n    isEmpty() {\n        return this._first === Node.Undefined;\n    }\n    clear() {\n        let node = this._first;\n        while (node !== Node.Undefined) {\n            const next = node.next;\n            node.prev = Node.Undefined;\n            node.next = Node.Undefined;\n            node = next;\n        }\n        this._first = Node.Undefined;\n        this._last = Node.Undefined;\n        this._size = 0;\n    }\n    unshift(element) {\n        return this._insert(element, false);\n    }\n    push(element) {\n        return this._insert(element, true);\n    }\n    _insert(element, atTheEnd) {\n        const newNode = new Node(element);\n        if (this._first === Node.Undefined) {\n            this._first = newNode;\n            this._last = newNode;\n        }\n        else if (atTheEnd) {\n            // push\n            const oldLast = this._last;\n            this._last = newNode;\n            newNode.prev = oldLast;\n            oldLast.next = newNode;\n        }\n        else {\n            // unshift\n            const oldFirst = this._first;\n            this._first = newNode;\n            newNode.next = oldFirst;\n            oldFirst.prev = newNode;\n        }\n        this._size += 1;\n        let didRemove = false;\n        return () => {\n            if (!didRemove) {\n                didRemove = true;\n                this._remove(newNode);\n            }\n        };\n    }\n    shift() {\n        if (this._first === Node.Undefined) {\n            return undefined;\n        }\n        else {\n            const res = this._first.element;\n            this._remove(this._first);\n            return res;\n        }\n    }\n    pop() {\n        if (this._last === Node.Undefined) {\n            return undefined;\n        }\n        else {\n            const res = this._last.element;\n            this._remove(this._last);\n            return res;\n        }\n    }\n    _remove(node) {\n        if (node.prev !== Node.Undefined && node.next !== Node.Undefined) {\n            // middle\n            const anchor = node.prev;\n            anchor.next = node.next;\n            node.next.prev = anchor;\n        }\n        else if (node.prev === Node.Undefined && node.next === Node.Undefined) {\n            // only node\n            this._first = Node.Undefined;\n            this._last = Node.Undefined;\n        }\n        else if (node.next === Node.Undefined) {\n            // last\n            this._last = this._last.prev;\n            this._last.next = Node.Undefined;\n        }\n        else if (node.prev === Node.Undefined) {\n            // first\n            this._first = this._first.next;\n            this._first.prev = Node.Undefined;\n        }\n        // done\n        this._size -= 1;\n    }\n    *[Symbol.iterator]() {\n        let node = this._first;\n        while (node !== Node.Undefined) {\n            yield node.element;\n            node = node.next;\n        }\n    }\n}\n","import { onUnexpectedError } from './errors.js';\nimport { once as onceFn } from './functional.js';\nimport { combinedDisposable, Disposable, DisposableStore, toDisposable } from './lifecycle.js';\nimport { LinkedList } from './linkedList.js';\nimport { StopWatch } from './stopwatch.js';\n// -----------------------------------------------------------------------------------------------------------------------\n// Uncomment the next line to print warnings whenever an emitter with listeners is disposed. That is a sign of code smell.\n// -----------------------------------------------------------------------------------------------------------------------\nconst _enableDisposeWithListenerWarning = false;\n// _enableDisposeWithListenerWarning = Boolean(\"TRUE\"); // causes a linter warning so that it cannot be pushed\n// -----------------------------------------------------------------------------------------------------------------------\n// Uncomment the next line to print warnings whenever a snapshotted event is used repeatedly without cleanup.\n// See https://github.com/microsoft/vscode/issues/142851\n// -----------------------------------------------------------------------------------------------------------------------\nconst _enableSnapshotPotentialLeakWarning = false;\nexport var Event;\n(function (Event) {\n    Event.None = () => Disposable.None;\n    function _addLeakageTraceLogic(options) {\n        if (_enableSnapshotPotentialLeakWarning) {\n            const { onDidAddListener: origListenerDidAdd } = options;\n            const stack = Stacktrace.create();\n            let count = 0;\n            options.onDidAddListener = () => {\n                if (++count === 2) {\n                    console.warn('snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here');\n                    stack.print();\n                }\n                origListenerDidAdd === null || origListenerDidAdd === void 0 ? void 0 : origListenerDidAdd();\n            };\n        }\n    }\n    /**\n     * Given an event, returns another event which debounces calls and defers the listeners to a later task via a shared\n     * `setTimeout`. The event is converted into a signal (`Event<void>`) to avoid additional object creation as a\n     * result of merging events and to try prevent race conditions that could arise when using related deferred and\n     * non-deferred events.\n     *\n     * This is useful for deferring non-critical work (eg. general UI updates) to ensure it does not block critical work\n     * (eg. latency of keypress to text rendered).\n     *\n     * *NOTE* that this function returns an `Event` and it MUST be called with a `DisposableStore` whenever the returned\n     * event is accessible to \"third parties\", e.g the event is a public property. Otherwise a leaked listener on the\n     * returned event causes this utility to leak a listener on the original event.\n     *\n     * @param event The event source for the new event.\n     * @param disposable A disposable store to add the new EventEmitter to.\n     */\n    function defer(event, disposable) {\n        return debounce(event, () => void 0, 0, undefined, true, undefined, disposable);\n    }\n    Event.defer = defer;\n    /**\n     * Given an event, returns another event which only fires once.\n     *\n     * @param event The event source for the new event.\n     */\n    function once(event) {\n        return (listener, thisArgs = null, disposables) => {\n            // we need this, in case the event fires during the listener call\n            let didFire = false;\n            let result = undefined;\n            result = event(e => {\n                if (didFire) {\n                    return;\n                }\n                else if (result) {\n                    result.dispose();\n                }\n                else {\n                    didFire = true;\n                }\n                return listener.call(thisArgs, e);\n            }, null, disposables);\n            if (didFire) {\n                result.dispose();\n            }\n            return result;\n        };\n    }\n    Event.once = once;\n    /**\n     * Maps an event of one type into an event of another type using a mapping function, similar to how\n     * `Array.prototype.map` works.\n     *\n     * *NOTE* that this function returns an `Event` and it MUST be called with a `DisposableStore` whenever the returned\n     * event is accessible to \"third parties\", e.g the event is a public property. Otherwise a leaked listener on the\n     * returned event causes this utility to leak a listener on the original event.\n     *\n     * @param event The event source for the new event.\n     * @param map The mapping function.\n     * @param disposable A disposable store to add the new EventEmitter to.\n     */\n    function map(event, map, disposable) {\n        return snapshot((listener, thisArgs = null, disposables) => event(i => listener.call(thisArgs, map(i)), null, disposables), disposable);\n    }\n    Event.map = map;\n    /**\n     * Wraps an event in another event that performs some function on the event object before firing.\n     *\n     * *NOTE* that this function returns an `Event` and it MUST be called with a `DisposableStore` whenever the returned\n     * event is accessible to \"third parties\", e.g the event is a public property. Otherwise a leaked listener on the\n     * returned event causes this utility to leak a listener on the original event.\n     *\n     * @param event The event source for the new event.\n     * @param each The function to perform on the event object.\n     * @param disposable A disposable store to add the new EventEmitter to.\n     */\n    function forEach(event, each, disposable) {\n        return snapshot((listener, thisArgs = null, disposables) => event(i => { each(i); listener.call(thisArgs, i); }, null, disposables), disposable);\n    }\n    Event.forEach = forEach;\n    function filter(event, filter, disposable) {\n        return snapshot((listener, thisArgs = null, disposables) => event(e => filter(e) && listener.call(thisArgs, e), null, disposables), disposable);\n    }\n    Event.filter = filter;\n    /**\n     * Given an event, returns the same event but typed as `Event<void>`.\n     */\n    function signal(event) {\n        return event;\n    }\n    Event.signal = signal;\n    function any(...events) {\n        return (listener, thisArgs = null, disposables) => combinedDisposable(...events.map(event => event(e => listener.call(thisArgs, e), null, disposables)));\n    }\n    Event.any = any;\n    /**\n     * *NOTE* that this function returns an `Event` and it MUST be called with a `DisposableStore` whenever the returned\n     * event is accessible to \"third parties\", e.g the event is a public property. Otherwise a leaked listener on the\n     * returned event causes this utility to leak a listener on the original event.\n     */\n    function reduce(event, merge, initial, disposable) {\n        let output = initial;\n        return map(event, e => {\n            output = merge(output, e);\n            return output;\n        }, disposable);\n    }\n    Event.reduce = reduce;\n    function snapshot(event, disposable) {\n        let listener;\n        const options = {\n            onWillAddFirstListener() {\n                listener = event(emitter.fire, emitter);\n            },\n            onDidRemoveLastListener() {\n                listener === null || listener === void 0 ? void 0 : listener.dispose();\n            }\n        };\n        if (!disposable) {\n            _addLeakageTraceLogic(options);\n        }\n        const emitter = new Emitter(options);\n        disposable === null || disposable === void 0 ? void 0 : disposable.add(emitter);\n        return emitter.event;\n    }\n    function debounce(event, merge, delay = 100, leading = false, flushOnListenerRemove = false, leakWarningThreshold, disposable) {\n        let subscription;\n        let output = undefined;\n        let handle = undefined;\n        let numDebouncedCalls = 0;\n        let doFire;\n        const options = {\n            leakWarningThreshold,\n            onWillAddFirstListener() {\n                subscription = event(cur => {\n                    numDebouncedCalls++;\n                    output = merge(output, cur);\n                    if (leading && !handle) {\n                        emitter.fire(output);\n                        output = undefined;\n                    }\n                    doFire = () => {\n                        const _output = output;\n                        output = undefined;\n                        handle = undefined;\n                        if (!leading || numDebouncedCalls > 1) {\n                            emitter.fire(_output);\n                        }\n                        numDebouncedCalls = 0;\n                    };\n                    if (typeof delay === 'number') {\n                        clearTimeout(handle);\n                        handle = setTimeout(doFire, delay);\n                    }\n                    else {\n                        if (handle === undefined) {\n                            handle = 0;\n                            queueMicrotask(doFire);\n                        }\n                    }\n                });\n            },\n            onWillRemoveListener() {\n                if (flushOnListenerRemove && numDebouncedCalls > 0) {\n                    doFire === null || doFire === void 0 ? void 0 : doFire();\n                }\n            },\n            onDidRemoveLastListener() {\n                doFire = undefined;\n                subscription.dispose();\n            }\n        };\n        if (!disposable) {\n            _addLeakageTraceLogic(options);\n        }\n        const emitter = new Emitter(options);\n        disposable === null || disposable === void 0 ? void 0 : disposable.add(emitter);\n        return emitter.event;\n    }\n    Event.debounce = debounce;\n    /**\n     * Debounces an event, firing after some delay (default=0) with an array of all event original objects.\n     *\n     * *NOTE* that this function returns an `Event` and it MUST be called with a `DisposableStore` whenever the returned\n     * event is accessible to \"third parties\", e.g the event is a public property. Otherwise a leaked listener on the\n     * returned event causes this utility to leak a listener on the original event.\n     */\n    function accumulate(event, delay = 0, disposable) {\n        return Event.debounce(event, (last, e) => {\n            if (!last) {\n                return [e];\n            }\n            last.push(e);\n            return last;\n        }, delay, undefined, true, undefined, disposable);\n    }\n    Event.accumulate = accumulate;\n    /**\n     * Filters an event such that some condition is _not_ met more than once in a row, effectively ensuring duplicate\n     * event objects from different sources do not fire the same event object.\n     *\n     * *NOTE* that this function returns an `Event` and it MUST be called with a `DisposableStore` whenever the returned\n     * event is accessible to \"third parties\", e.g the event is a public property. Otherwise a leaked listener on the\n     * returned event causes this utility to leak a listener on the original event.\n     *\n     * @param event The event source for the new event.\n     * @param equals The equality condition.\n     * @param disposable A disposable store to add the new EventEmitter to.\n     *\n     * @example\n     * ```\n     * // Fire only one time when a single window is opened or focused\n     * Event.latch(Event.any(onDidOpenWindow, onDidFocusWindow))\n     * ```\n     */\n    function latch(event, equals = (a, b) => a === b, disposable) {\n        let firstCall = true;\n        let cache;\n        return filter(event, value => {\n            const shouldEmit = firstCall || !equals(value, cache);\n            firstCall = false;\n            cache = value;\n            return shouldEmit;\n        }, disposable);\n    }\n    Event.latch = latch;\n    /**\n     * Splits an event whose parameter is a union type into 2 separate events for each type in the union.\n     *\n     * *NOTE* that this function returns an `Event` and it MUST be called with a `DisposableStore` whenever the returned\n     * event is accessible to \"third parties\", e.g the event is a public property. Otherwise a leaked listener on the\n     * returned event causes this utility to leak a listener on the original event.\n     *\n     * @example\n     * ```\n     * const event = new EventEmitter<number | undefined>().event;\n     * const [numberEvent, undefinedEvent] = Event.split(event, isUndefined);\n     * ```\n     *\n     * @param event The event source for the new event.\n     * @param isT A function that determines what event is of the first type.\n     * @param disposable A disposable store to add the new EventEmitter to.\n     */\n    function split(event, isT, disposable) {\n        return [\n            Event.filter(event, isT, disposable),\n            Event.filter(event, e => !isT(e), disposable),\n        ];\n    }\n    Event.split = split;\n    /**\n     * Buffers an event until it has a listener attached.\n     *\n     * *NOTE* that this function returns an `Event` and it MUST be called with a `DisposableStore` whenever the returned\n     * event is accessible to \"third parties\", e.g the event is a public property. Otherwise a leaked listener on the\n     * returned event causes this utility to leak a listener on the original event.\n     *\n     * @param event The event source for the new event.\n     * @param flushAfterTimeout Determines whether to flush the buffer after a timeout immediately or after a\n     * `setTimeout` when the first event listener is added.\n     * @param _buffer Internal: A source event array used for tests.\n     *\n     * @example\n     * ```\n     * // Start accumulating events, when the first listener is attached, flush\n     * // the event after a timeout such that multiple listeners attached before\n     * // the timeout would receive the event\n     * this.onInstallExtension = Event.buffer(service.onInstallExtension, true);\n     * ```\n     */\n    function buffer(event, flushAfterTimeout = false, _buffer = []) {\n        let buffer = _buffer.slice();\n        let listener = event(e => {\n            if (buffer) {\n                buffer.push(e);\n            }\n            else {\n                emitter.fire(e);\n            }\n        });\n        const flush = () => {\n            buffer === null || buffer === void 0 ? void 0 : buffer.forEach(e => emitter.fire(e));\n            buffer = null;\n        };\n        const emitter = new Emitter({\n            onWillAddFirstListener() {\n                if (!listener) {\n                    listener = event(e => emitter.fire(e));\n                }\n            },\n            onDidAddFirstListener() {\n                if (buffer) {\n                    if (flushAfterTimeout) {\n                        setTimeout(flush);\n                    }\n                    else {\n                        flush();\n                    }\n                }\n            },\n            onDidRemoveLastListener() {\n                if (listener) {\n                    listener.dispose();\n                }\n                listener = null;\n            }\n        });\n        return emitter.event;\n    }\n    Event.buffer = buffer;\n    class ChainableEvent {\n        constructor(event) {\n            this.event = event;\n            this.disposables = new DisposableStore();\n        }\n        /** @see {@link Event.map} */\n        map(fn) {\n            return new ChainableEvent(map(this.event, fn, this.disposables));\n        }\n        /** @see {@link Event.forEach} */\n        forEach(fn) {\n            return new ChainableEvent(forEach(this.event, fn, this.disposables));\n        }\n        filter(fn) {\n            return new ChainableEvent(filter(this.event, fn, this.disposables));\n        }\n        /** @see {@link Event.reduce} */\n        reduce(merge, initial) {\n            return new ChainableEvent(reduce(this.event, merge, initial, this.disposables));\n        }\n        /** @see {@link Event.reduce} */\n        latch() {\n            return new ChainableEvent(latch(this.event, undefined, this.disposables));\n        }\n        debounce(merge, delay = 100, leading = false, flushOnListenerRemove = false, leakWarningThreshold) {\n            return new ChainableEvent(debounce(this.event, merge, delay, leading, flushOnListenerRemove, leakWarningThreshold, this.disposables));\n        }\n        /**\n         * Attach a listener to the event.\n         */\n        on(listener, thisArgs, disposables) {\n            return this.event(listener, thisArgs, disposables);\n        }\n        /** @see {@link Event.once} */\n        once(listener, thisArgs, disposables) {\n            return once(this.event)(listener, thisArgs, disposables);\n        }\n        dispose() {\n            this.disposables.dispose();\n        }\n    }\n    /**\n     * Wraps the event in an {@link IChainableEvent}, allowing a more functional programming style.\n     *\n     * @example\n     * ```\n     * // Normal\n     * const onEnterPressNormal = Event.filter(\n     *   Event.map(onKeyPress.event, e => new StandardKeyboardEvent(e)),\n     *   e.keyCode === KeyCode.Enter\n     * ).event;\n     *\n     * // Using chain\n     * const onEnterPressChain = Event.chain(onKeyPress.event)\n     *   .map(e => new StandardKeyboardEvent(e))\n     *   .filter(e => e.keyCode === KeyCode.Enter)\n     *   .event;\n     * ```\n     */\n    function chain(event) {\n        return new ChainableEvent(event);\n    }\n    Event.chain = chain;\n    /**\n     * Creates an {@link Event} from a node event emitter.\n     */\n    function fromNodeEventEmitter(emitter, eventName, map = id => id) {\n        const fn = (...args) => result.fire(map(...args));\n        const onFirstListenerAdd = () => emitter.on(eventName, fn);\n        const onLastListenerRemove = () => emitter.removeListener(eventName, fn);\n        const result = new Emitter({ onWillAddFirstListener: onFirstListenerAdd, onDidRemoveLastListener: onLastListenerRemove });\n        return result.event;\n    }\n    Event.fromNodeEventEmitter = fromNodeEventEmitter;\n    /**\n     * Creates an {@link Event} from a DOM event emitter.\n     */\n    function fromDOMEventEmitter(emitter, eventName, map = id => id) {\n        const fn = (...args) => result.fire(map(...args));\n        const onFirstListenerAdd = () => emitter.addEventListener(eventName, fn);\n        const onLastListenerRemove = () => emitter.removeEventListener(eventName, fn);\n        const result = new Emitter({ onWillAddFirstListener: onFirstListenerAdd, onDidRemoveLastListener: onLastListenerRemove });\n        return result.event;\n    }\n    Event.fromDOMEventEmitter = fromDOMEventEmitter;\n    /**\n     * Creates a promise out of an event, using the {@link Event.once} helper.\n     */\n    function toPromise(event) {\n        return new Promise(resolve => once(event)(resolve));\n    }\n    Event.toPromise = toPromise;\n    /**\n     * Adds a listener to an event and calls the listener immediately with undefined as the event object.\n     *\n     * @example\n     * ```\n     * // Initialize the UI and update it when dataChangeEvent fires\n     * runAndSubscribe(dataChangeEvent, () => this._updateUI());\n     * ```\n     */\n    function runAndSubscribe(event, handler) {\n        handler(undefined);\n        return event(e => handler(e));\n    }\n    Event.runAndSubscribe = runAndSubscribe;\n    /**\n     * Adds a listener to an event and calls the listener immediately with undefined as the event object. A new\n     * {@link DisposableStore} is passed to the listener which is disposed when the returned disposable is disposed.\n     */\n    function runAndSubscribeWithStore(event, handler) {\n        let store = null;\n        function run(e) {\n            store === null || store === void 0 ? void 0 : store.dispose();\n            store = new DisposableStore();\n            handler(e, store);\n        }\n        run(undefined);\n        const disposable = event(e => run(e));\n        return toDisposable(() => {\n            disposable.dispose();\n            store === null || store === void 0 ? void 0 : store.dispose();\n        });\n    }\n    Event.runAndSubscribeWithStore = runAndSubscribeWithStore;\n    class EmitterObserver {\n        constructor(_observable, store) {\n            this._observable = _observable;\n            this._counter = 0;\n            this._hasChanged = false;\n            const options = {\n                onWillAddFirstListener: () => {\n                    _observable.addObserver(this);\n                },\n                onDidRemoveLastListener: () => {\n                    _observable.removeObserver(this);\n                }\n            };\n            if (!store) {\n                _addLeakageTraceLogic(options);\n            }\n            this.emitter = new Emitter(options);\n            if (store) {\n                store.add(this.emitter);\n            }\n        }\n        beginUpdate(_observable) {\n            // assert(_observable === this.obs);\n            this._counter++;\n        }\n        handlePossibleChange(_observable) {\n            // assert(_observable === this.obs);\n        }\n        handleChange(_observable, _change) {\n            // assert(_observable === this.obs);\n            this._hasChanged = true;\n        }\n        endUpdate(_observable) {\n            // assert(_observable === this.obs);\n            this._counter--;\n            if (this._counter === 0) {\n                this._observable.reportChanges();\n                if (this._hasChanged) {\n                    this._hasChanged = false;\n                    this.emitter.fire(this._observable.get());\n                }\n            }\n        }\n    }\n    /**\n     * Creates an event emitter that is fired when the observable changes.\n     * Each listeners subscribes to the emitter.\n     */\n    function fromObservable(obs, store) {\n        const observer = new EmitterObserver(obs, store);\n        return observer.emitter.event;\n    }\n    Event.fromObservable = fromObservable;\n    /**\n     * Each listener is attached to the observable directly.\n     */\n    function fromObservableLight(observable) {\n        return (listener) => {\n            let count = 0;\n            let didChange = false;\n            const observer = {\n                beginUpdate() {\n                    count++;\n                },\n                endUpdate() {\n                    count--;\n                    if (count === 0) {\n                        observable.reportChanges();\n                        if (didChange) {\n                            didChange = false;\n                            listener();\n                        }\n                    }\n                },\n                handlePossibleChange() {\n                    // noop\n                },\n                handleChange() {\n                    didChange = true;\n                }\n            };\n            observable.addObserver(observer);\n            return {\n                dispose() {\n                    observable.removeObserver(observer);\n                }\n            };\n        };\n    }\n    Event.fromObservableLight = fromObservableLight;\n})(Event || (Event = {}));\nexport class EventProfiling {\n    constructor(name) {\n        this.listenerCount = 0;\n        this.invocationCount = 0;\n        this.elapsedOverall = 0;\n        this.durations = [];\n        this.name = `${name}_${EventProfiling._idPool++}`;\n        EventProfiling.all.add(this);\n    }\n    start(listenerCount) {\n        this._stopWatch = new StopWatch();\n        this.listenerCount = listenerCount;\n    }\n    stop() {\n        if (this._stopWatch) {\n            const elapsed = this._stopWatch.elapsed();\n            this.durations.push(elapsed);\n            this.elapsedOverall += elapsed;\n            this.invocationCount += 1;\n            this._stopWatch = undefined;\n        }\n    }\n}\nEventProfiling.all = new Set();\nEventProfiling._idPool = 0;\nlet _globalLeakWarningThreshold = -1;\nclass LeakageMonitor {\n    constructor(threshold, name = Math.random().toString(18).slice(2, 5)) {\n        this.threshold = threshold;\n        this.name = name;\n        this._warnCountdown = 0;\n    }\n    dispose() {\n        var _a;\n        (_a = this._stacks) === null || _a === void 0 ? void 0 : _a.clear();\n    }\n    check(stack, listenerCount) {\n        const threshold = this.threshold;\n        if (threshold <= 0 || listenerCount < threshold) {\n            return undefined;\n        }\n        if (!this._stacks) {\n            this._stacks = new Map();\n        }\n        const count = (this._stacks.get(stack.value) || 0);\n        this._stacks.set(stack.value, count + 1);\n        this._warnCountdown -= 1;\n        if (this._warnCountdown <= 0) {\n            // only warn on first exceed and then every time the limit\n            // is exceeded by 50% again\n            this._warnCountdown = threshold * 0.5;\n            // find most frequent listener and print warning\n            let topStack;\n            let topCount = 0;\n            for (const [stack, count] of this._stacks) {\n                if (!topStack || topCount < count) {\n                    topStack = stack;\n                    topCount = count;\n                }\n            }\n            console.warn(`[${this.name}] potential listener LEAK detected, having ${listenerCount} listeners already. MOST frequent listener (${topCount}):`);\n            console.warn(topStack);\n        }\n        return () => {\n            const count = (this._stacks.get(stack.value) || 0);\n            this._stacks.set(stack.value, count - 1);\n        };\n    }\n}\nclass Stacktrace {\n    static create() {\n        var _a;\n        return new Stacktrace((_a = new Error().stack) !== null && _a !== void 0 ? _a : '');\n    }\n    constructor(value) {\n        this.value = value;\n    }\n    print() {\n        console.warn(this.value.split('\\n').slice(2).join('\\n'));\n    }\n}\nclass UniqueContainer {\n    constructor(value) {\n        this.value = value;\n    }\n}\nconst compactionThreshold = 2;\nconst forEachListener = (listeners, fn) => {\n    if (listeners instanceof UniqueContainer) {\n        fn(listeners);\n    }\n    else {\n        for (let i = 0; i < listeners.length; i++) {\n            const l = listeners[i];\n            if (l) {\n                fn(l);\n            }\n        }\n    }\n};\n/**\n * The Emitter can be used to expose an Event to the public\n * to fire it from the insides.\n * Sample:\n    class Document {\n\n        private readonly _onDidChange = new Emitter<(value:string)=>any>();\n\n        public onDidChange = this._onDidChange.event;\n\n        // getter-style\n        // get onDidChange(): Event<(value:string)=>any> {\n        // \treturn this._onDidChange.event;\n        // }\n\n        private _doIt() {\n            //...\n            this._onDidChange.fire(value);\n        }\n    }\n */\nexport class Emitter {\n    constructor(options) {\n        var _a, _b, _c, _d, _e;\n        this._size = 0;\n        this._options = options;\n        this._leakageMon = _globalLeakWarningThreshold > 0 || ((_a = this._options) === null || _a === void 0 ? void 0 : _a.leakWarningThreshold) ? new LeakageMonitor((_c = (_b = this._options) === null || _b === void 0 ? void 0 : _b.leakWarningThreshold) !== null && _c !== void 0 ? _c : _globalLeakWarningThreshold) : undefined;\n        this._perfMon = ((_d = this._options) === null || _d === void 0 ? void 0 : _d._profName) ? new EventProfiling(this._options._profName) : undefined;\n        this._deliveryQueue = (_e = this._options) === null || _e === void 0 ? void 0 : _e.deliveryQueue;\n    }\n    dispose() {\n        var _a, _b, _c, _d;\n        if (!this._disposed) {\n            this._disposed = true;\n            // It is bad to have listeners at the time of disposing an emitter, it is worst to have listeners keep the emitter\n            // alive via the reference that's embedded in their disposables. Therefore we loop over all remaining listeners and\n            // unset their subscriptions/disposables. Looping and blaming remaining listeners is done on next tick because the\n            // the following programming pattern is very popular:\n            //\n            // const someModel = this._disposables.add(new ModelObject()); // (1) create and register model\n            // this._disposables.add(someModel.onDidChange(() => { ... }); // (2) subscribe and register model-event listener\n            // ...later...\n            // this._disposables.dispose(); disposes (1) then (2): don't warn after (1) but after the \"overall dispose\" is done\n            if (((_a = this._deliveryQueue) === null || _a === void 0 ? void 0 : _a.current) === this) {\n                this._deliveryQueue.reset();\n            }\n            if (this._listeners) {\n                if (_enableDisposeWithListenerWarning) {\n                    const listeners = this._listeners;\n                    queueMicrotask(() => {\n                        forEachListener(listeners, l => { var _a; return (_a = l.stack) === null || _a === void 0 ? void 0 : _a.print(); });\n                    });\n                }\n                this._listeners = undefined;\n                this._size = 0;\n            }\n            (_c = (_b = this._options) === null || _b === void 0 ? void 0 : _b.onDidRemoveLastListener) === null || _c === void 0 ? void 0 : _c.call(_b);\n            (_d = this._leakageMon) === null || _d === void 0 ? void 0 : _d.dispose();\n        }\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        var _a;\n        (_a = this._event) !== null && _a !== void 0 ? _a : (this._event = (callback, thisArgs, disposables) => {\n            var _a, _b, _c, _d, _e;\n            if (this._leakageMon && this._size > this._leakageMon.threshold * 3) {\n                console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`);\n                return Disposable.None;\n            }\n            if (this._disposed) {\n                // todo: should we warn if a listener is added to a disposed emitter? This happens often\n                return Disposable.None;\n            }\n            if (thisArgs) {\n                callback = callback.bind(thisArgs);\n            }\n            const contained = new UniqueContainer(callback);\n            let removeMonitor;\n            let stack;\n            if (this._leakageMon && this._size >= Math.ceil(this._leakageMon.threshold * 0.2)) {\n                // check and record this emitter for potential leakage\n                contained.stack = Stacktrace.create();\n                removeMonitor = this._leakageMon.check(contained.stack, this._size + 1);\n            }\n            if (_enableDisposeWithListenerWarning) {\n                contained.stack = stack !== null && stack !== void 0 ? stack : Stacktrace.create();\n            }\n            if (!this._listeners) {\n                (_b = (_a = this._options) === null || _a === void 0 ? void 0 : _a.onWillAddFirstListener) === null || _b === void 0 ? void 0 : _b.call(_a, this);\n                this._listeners = contained;\n                (_d = (_c = this._options) === null || _c === void 0 ? void 0 : _c.onDidAddFirstListener) === null || _d === void 0 ? void 0 : _d.call(_c, this);\n            }\n            else if (this._listeners instanceof UniqueContainer) {\n                (_e = this._deliveryQueue) !== null && _e !== void 0 ? _e : (this._deliveryQueue = new EventDeliveryQueuePrivate());\n                this._listeners = [this._listeners, contained];\n            }\n            else {\n                this._listeners.push(contained);\n            }\n            this._size++;\n            const result = toDisposable(() => { removeMonitor === null || removeMonitor === void 0 ? void 0 : removeMonitor(); this._removeListener(contained); });\n            if (disposables instanceof DisposableStore) {\n                disposables.add(result);\n            }\n            else if (Array.isArray(disposables)) {\n                disposables.push(result);\n            }\n            return result;\n        });\n        return this._event;\n    }\n    _removeListener(listener) {\n        var _a, _b, _c, _d;\n        (_b = (_a = this._options) === null || _a === void 0 ? void 0 : _a.onWillRemoveListener) === null || _b === void 0 ? void 0 : _b.call(_a, this);\n        if (!this._listeners) {\n            return; // expected if a listener gets disposed\n        }\n        if (this._size === 1) {\n            this._listeners = undefined;\n            (_d = (_c = this._options) === null || _c === void 0 ? void 0 : _c.onDidRemoveLastListener) === null || _d === void 0 ? void 0 : _d.call(_c, this);\n            this._size = 0;\n            return;\n        }\n        // size > 1 which requires that listeners be a list:\n        const listeners = this._listeners;\n        const index = listeners.indexOf(listener);\n        if (index === -1) {\n            console.log('disposed?', this._disposed);\n            console.log('size?', this._size);\n            console.log('arr?', JSON.stringify(this._listeners));\n            throw new Error('Attempted to dispose unknown listener');\n        }\n        this._size--;\n        listeners[index] = undefined;\n        const adjustDeliveryQueue = this._deliveryQueue.current === this;\n        if (this._size * compactionThreshold <= listeners.length) {\n            let n = 0;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listeners[i]) {\n                    listeners[n++] = listeners[i];\n                }\n                else if (adjustDeliveryQueue) {\n                    this._deliveryQueue.end--;\n                    if (n < this._deliveryQueue.i) {\n                        this._deliveryQueue.i--;\n                    }\n                }\n            }\n            listeners.length = n;\n        }\n    }\n    _deliver(listener, value) {\n        var _a;\n        if (!listener) {\n            return;\n        }\n        const errorHandler = ((_a = this._options) === null || _a === void 0 ? void 0 : _a.onListenerError) || onUnexpectedError;\n        if (!errorHandler) {\n            listener.value(value);\n            return;\n        }\n        try {\n            listener.value(value);\n        }\n        catch (e) {\n            errorHandler(e);\n        }\n    }\n    /** Delivers items in the queue. Assumes the queue is ready to go. */\n    _deliverQueue(dq) {\n        const listeners = dq.current._listeners;\n        while (dq.i < dq.end) {\n            // important: dq.i is incremented before calling deliver() because it might reenter deliverQueue()\n            this._deliver(listeners[dq.i++], dq.value);\n        }\n        dq.reset();\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        var _a, _b, _c, _d;\n        if ((_a = this._deliveryQueue) === null || _a === void 0 ? void 0 : _a.current) {\n            this._deliverQueue(this._deliveryQueue);\n            (_b = this._perfMon) === null || _b === void 0 ? void 0 : _b.stop(); // last fire() will have starting perfmon, stop it before starting the next dispatch\n        }\n        (_c = this._perfMon) === null || _c === void 0 ? void 0 : _c.start(this._size);\n        if (!this._listeners) {\n            // no-op\n        }\n        else if (this._listeners instanceof UniqueContainer) {\n            this._deliver(this._listeners, event);\n        }\n        else {\n            const dq = this._deliveryQueue;\n            dq.enqueue(this, event, this._listeners.length);\n            this._deliverQueue(dq);\n        }\n        (_d = this._perfMon) === null || _d === void 0 ? void 0 : _d.stop();\n    }\n    hasListeners() {\n        return this._size > 0;\n    }\n}\nexport const createEventDeliveryQueue = () => new EventDeliveryQueuePrivate();\nclass EventDeliveryQueuePrivate {\n    constructor() {\n        /**\n         * Index in current's listener list.\n         */\n        this.i = -1;\n        /**\n         * The last index in the listener's list to deliver.\n         */\n        this.end = 0;\n    }\n    enqueue(emitter, value, end) {\n        this.i = 0;\n        this.end = end;\n        this.current = emitter;\n        this.value = value;\n    }\n    reset() {\n        this.i = this.end; // force any current emission loop to stop, mainly for during dispose\n        this.current = undefined;\n        this.value = undefined;\n    }\n}\nexport class PauseableEmitter extends Emitter {\n    constructor(options) {\n        super(options);\n        this._isPaused = 0;\n        this._eventQueue = new LinkedList();\n        this._mergeFn = options === null || options === void 0 ? void 0 : options.merge;\n    }\n    pause() {\n        this._isPaused++;\n    }\n    resume() {\n        if (this._isPaused !== 0 && --this._isPaused === 0) {\n            if (this._mergeFn) {\n                // use the merge function to create a single composite\n                // event. make a copy in case firing pauses this emitter\n                if (this._eventQueue.size > 0) {\n                    const events = Array.from(this._eventQueue);\n                    this._eventQueue.clear();\n                    super.fire(this._mergeFn(events));\n                }\n            }\n            else {\n                // no merging, fire each event individually and test\n                // that this emitter isn't paused halfway through\n                while (!this._isPaused && this._eventQueue.size !== 0) {\n                    super.fire(this._eventQueue.shift());\n                }\n            }\n        }\n    }\n    fire(event) {\n        if (this._size) {\n            if (this._isPaused !== 0) {\n                this._eventQueue.push(event);\n            }\n            else {\n                super.fire(event);\n            }\n        }\n    }\n}\nexport class DebounceEmitter extends PauseableEmitter {\n    constructor(options) {\n        var _a;\n        super(options);\n        this._delay = (_a = options.delay) !== null && _a !== void 0 ? _a : 100;\n    }\n    fire(event) {\n        if (!this._handle) {\n            this.pause();\n            this._handle = setTimeout(() => {\n                this._handle = undefined;\n                this.resume();\n            }, this._delay);\n        }\n        super.fire(event);\n    }\n}\n/**\n * An emitter which queue all events and then process them at the\n * end of the event loop.\n */\nexport class MicrotaskEmitter extends Emitter {\n    constructor(options) {\n        super(options);\n        this._queuedEvents = [];\n        this._mergeFn = options === null || options === void 0 ? void 0 : options.merge;\n    }\n    fire(event) {\n        if (!this.hasListeners()) {\n            return;\n        }\n        this._queuedEvents.push(event);\n        if (this._queuedEvents.length === 1) {\n            queueMicrotask(() => {\n                if (this._mergeFn) {\n                    super.fire(this._mergeFn(this._queuedEvents));\n                }\n                else {\n                    this._queuedEvents.forEach(e => super.fire(e));\n                }\n                this._queuedEvents = [];\n            });\n        }\n    }\n}\nexport class EventMultiplexer {\n    constructor() {\n        this.hasListeners = false;\n        this.events = [];\n        this.emitter = new Emitter({\n            onWillAddFirstListener: () => this.onFirstListenerAdd(),\n            onDidRemoveLastListener: () => this.onLastListenerRemove()\n        });\n    }\n    get event() {\n        return this.emitter.event;\n    }\n    add(event) {\n        const e = { event: event, listener: null };\n        this.events.push(e);\n        if (this.hasListeners) {\n            this.hook(e);\n        }\n        const dispose = () => {\n            if (this.hasListeners) {\n                this.unhook(e);\n            }\n            const idx = this.events.indexOf(e);\n            this.events.splice(idx, 1);\n        };\n        return toDisposable(onceFn(dispose));\n    }\n    onFirstListenerAdd() {\n        this.hasListeners = true;\n        this.events.forEach(e => this.hook(e));\n    }\n    onLastListenerRemove() {\n        this.hasListeners = false;\n        this.events.forEach(e => this.unhook(e));\n    }\n    hook(e) {\n        e.listener = e.event(r => this.emitter.fire(r));\n    }\n    unhook(e) {\n        if (e.listener) {\n            e.listener.dispose();\n        }\n        e.listener = null;\n    }\n    dispose() {\n        this.emitter.dispose();\n    }\n}\n/**\n * The EventBufferer is useful in situations in which you want\n * to delay firing your events during some code.\n * You can wrap that code and be sure that the event will not\n * be fired during that wrap.\n *\n * ```\n * const emitter: Emitter;\n * const delayer = new EventDelayer();\n * const delayedEvent = delayer.wrapEvent(emitter.event);\n *\n * delayedEvent(console.log);\n *\n * delayer.bufferEvents(() => {\n *   emitter.fire(); // event will not be fired yet\n * });\n *\n * // event will only be fired at this point\n * ```\n */\nexport class EventBufferer {\n    constructor() {\n        this.buffers = [];\n    }\n    wrapEvent(event) {\n        return (listener, thisArgs, disposables) => {\n            return event(i => {\n                const buffer = this.buffers[this.buffers.length - 1];\n                if (buffer) {\n                    buffer.push(() => listener.call(thisArgs, i));\n                }\n                else {\n                    listener.call(thisArgs, i);\n                }\n            }, undefined, disposables);\n        };\n    }\n    bufferEvents(fn) {\n        const buffer = [];\n        this.buffers.push(buffer);\n        const r = fn();\n        this.buffers.pop();\n        buffer.forEach(flush => flush());\n        return r;\n    }\n}\n/**\n * A Relay is an event forwarder which functions as a replugabble event pipe.\n * Once created, you can connect an input event to it and it will simply forward\n * events from that input event through its own `event` property. The `input`\n * can be changed at any point in time.\n */\nexport class Relay {\n    constructor() {\n        this.listening = false;\n        this.inputEvent = Event.None;\n        this.inputEventListener = Disposable.None;\n        this.emitter = new Emitter({\n            onDidAddFirstListener: () => {\n                this.listening = true;\n                this.inputEventListener = this.inputEvent(this.emitter.fire, this.emitter);\n            },\n            onDidRemoveLastListener: () => {\n                this.listening = false;\n                this.inputEventListener.dispose();\n            }\n        });\n        this.event = this.emitter.event;\n    }\n    set input(event) {\n        this.inputEvent = event;\n        if (this.listening) {\n            this.inputEventListener.dispose();\n            this.inputEventListener = event(this.emitter.fire, this.emitter);\n        }\n    }\n    dispose() {\n        this.inputEventListener.dispose();\n        this.emitter.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nconst hasPerformanceNow = (globalThis.performance && typeof globalThis.performance.now === 'function');\nexport class StopWatch {\n    static create(highResolution) {\n        return new StopWatch(highResolution);\n    }\n    constructor(highResolution) {\n        this._now = hasPerformanceNow && highResolution === false ? Date.now : globalThis.performance.now.bind(globalThis.performance);\n        this._startTime = this._now();\n        this._stopTime = -1;\n    }\n    stop() {\n        this._stopTime = this._now();\n    }\n    elapsed() {\n        if (this._stopTime !== -1) {\n            return this._stopTime - this._startTime;\n        }\n        return this._now() - this._startTime;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isTypedArray, isObject, isUndefinedOrNull } from './types.js';\nexport function deepClone(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return obj;\n    }\n    if (obj instanceof RegExp) {\n        return obj;\n    }\n    const result = Array.isArray(obj) ? [] : {};\n    Object.entries(obj).forEach(([key, value]) => {\n        result[key] = value && typeof value === 'object' ? deepClone(value) : value;\n    });\n    return result;\n}\nexport function deepFreeze(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return obj;\n    }\n    const stack = [obj];\n    while (stack.length > 0) {\n        const obj = stack.shift();\n        Object.freeze(obj);\n        for (const key in obj) {\n            if (_hasOwnProperty.call(obj, key)) {\n                const prop = obj[key];\n                if (typeof prop === 'object' && !Object.isFrozen(prop) && !isTypedArray(prop)) {\n                    stack.push(prop);\n                }\n            }\n        }\n    }\n    return obj;\n}\nconst _hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function cloneAndChange(obj, changer) {\n    return _cloneAndChange(obj, changer, new Set());\n}\nfunction _cloneAndChange(obj, changer, seen) {\n    if (isUndefinedOrNull(obj)) {\n        return obj;\n    }\n    const changed = changer(obj);\n    if (typeof changed !== 'undefined') {\n        return changed;\n    }\n    if (Array.isArray(obj)) {\n        const r1 = [];\n        for (const e of obj) {\n            r1.push(_cloneAndChange(e, changer, seen));\n        }\n        return r1;\n    }\n    if (isObject(obj)) {\n        if (seen.has(obj)) {\n            throw new Error('Cannot clone recursive data-structure');\n        }\n        seen.add(obj);\n        const r2 = {};\n        for (const i2 in obj) {\n            if (_hasOwnProperty.call(obj, i2)) {\n                r2[i2] = _cloneAndChange(obj[i2], changer, seen);\n            }\n        }\n        seen.delete(obj);\n        return r2;\n    }\n    return obj;\n}\n/**\n * Copies all properties of source into destination. The optional parameter \"overwrite\" allows to control\n * if existing properties on the destination should be overwritten or not. Defaults to true (overwrite).\n */\nexport function mixin(destination, source, overwrite = true) {\n    if (!isObject(destination)) {\n        return source;\n    }\n    if (isObject(source)) {\n        Object.keys(source).forEach(key => {\n            if (key in destination) {\n                if (overwrite) {\n                    if (isObject(destination[key]) && isObject(source[key])) {\n                        mixin(destination[key], source[key], overwrite);\n                    }\n                    else {\n                        destination[key] = source[key];\n                    }\n                }\n            }\n            else {\n                destination[key] = source[key];\n            }\n        });\n    }\n    return destination;\n}\nexport function equals(one, other) {\n    if (one === other) {\n        return true;\n    }\n    if (one === null || one === undefined || other === null || other === undefined) {\n        return false;\n    }\n    if (typeof one !== typeof other) {\n        return false;\n    }\n    if (typeof one !== 'object') {\n        return false;\n    }\n    if ((Array.isArray(one)) !== (Array.isArray(other))) {\n        return false;\n    }\n    let i;\n    let key;\n    if (Array.isArray(one)) {\n        if (one.length !== other.length) {\n            return false;\n        }\n        for (i = 0; i < one.length; i++) {\n            if (!equals(one[i], other[i])) {\n                return false;\n            }\n        }\n    }\n    else {\n        const oneKeys = [];\n        for (key in one) {\n            oneKeys.push(key);\n        }\n        oneKeys.sort();\n        const otherKeys = [];\n        for (key in other) {\n            otherKeys.push(key);\n        }\n        otherKeys.sort();\n        if (!equals(oneKeys, otherKeys)) {\n            return false;\n        }\n        for (i = 0; i < oneKeys.length; i++) {\n            if (!equals(one[oneKeys[i]], other[oneKeys[i]])) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nexport function getAllPropertyNames(obj) {\n    let res = [];\n    let proto = Object.getPrototypeOf(obj);\n    while (Object.prototype !== proto) {\n        res = res.concat(Object.getOwnPropertyNames(proto));\n        proto = Object.getPrototypeOf(proto);\n    }\n    return res;\n}\nexport function getAllMethodNames(obj) {\n    const methods = [];\n    for (const prop of getAllPropertyNames(obj)) {\n        if (typeof obj[prop] === 'function') {\n            methods.push(prop);\n        }\n    }\n    return methods;\n}\nexport function createProxyObject(methodNames, invoke) {\n    const createProxyMethod = (method) => {\n        return function () {\n            const args = Array.prototype.slice.call(arguments, 0);\n            return invoke(method, args);\n        };\n    };\n    const result = {};\n    for (const methodName of methodNames) {\n        result[methodName] = createProxyMethod(methodName);\n    }\n    return result;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nlet isPseudo = (typeof document !== 'undefined' && document.location && document.location.hash.indexOf('pseudo=true') >= 0);\nconst DEFAULT_TAG = 'i-default';\nfunction _format(message, args) {\n    let result;\n    if (args.length === 0) {\n        result = message;\n    }\n    else {\n        result = message.replace(/\\{(\\d+)\\}/g, (match, rest) => {\n            const index = rest[0];\n            const arg = args[index];\n            let result = match;\n            if (typeof arg === 'string') {\n                result = arg;\n            }\n            else if (typeof arg === 'number' || typeof arg === 'boolean' || arg === void 0 || arg === null) {\n                result = String(arg);\n            }\n            return result;\n        });\n    }\n    if (isPseudo) {\n        // FF3B and FF3D is the Unicode zenkaku representation for [ and ]\n        result = '\\uFF3B' + result.replace(/[aouei]/g, '$&$&') + '\\uFF3D';\n    }\n    return result;\n}\nfunction findLanguageForModule(config, name) {\n    let result = config[name];\n    if (result) {\n        return result;\n    }\n    result = config['*'];\n    if (result) {\n        return result;\n    }\n    return null;\n}\nfunction endWithSlash(path) {\n    if (path.charAt(path.length - 1) === '/') {\n        return path;\n    }\n    return path + '/';\n}\nfunction getMessagesFromTranslationsService(translationServiceUrl, language, name) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const url = endWithSlash(translationServiceUrl) + endWithSlash(language) + 'vscode/' + endWithSlash(name);\n        const res = yield fetch(url);\n        if (res.ok) {\n            const messages = yield res.json();\n            return messages;\n        }\n        throw new Error(`${res.status} - ${res.statusText}`);\n    });\n}\nfunction createScopedLocalize(scope) {\n    return function (idx, defaultValue) {\n        const restArgs = Array.prototype.slice.call(arguments, 2);\n        return _format(scope[idx], restArgs);\n    };\n}\n/**\n * @skipMangle\n */\nexport function localize(data, message, ...args) {\n    return _format(message, args);\n}\n/**\n * @skipMangle\n */\nexport function getConfiguredDefaultLocale(_) {\n    // This returns undefined because this implementation isn't used and is overwritten by the loader\n    // when loaded.\n    return undefined;\n}\n/**\n * @skipMangle\n */\nexport function setPseudoTranslation(value) {\n    isPseudo = value;\n}\n/**\n * Invoked in a built product at run-time\n * @skipMangle\n */\nexport function create(key, data) {\n    var _a;\n    return {\n        localize: createScopedLocalize(data[key]),\n        getConfiguredDefaultLocale: (_a = data.getConfiguredDefaultLocale) !== null && _a !== void 0 ? _a : ((_) => undefined)\n    };\n}\n/**\n * Invoked by the loader at run-time\n * @skipMangle\n */\nexport function load(name, req, load, config) {\n    var _a;\n    const pluginConfig = (_a = config['vs/nls']) !== null && _a !== void 0 ? _a : {};\n    if (!name || name.length === 0) {\n        // TODO: We need to give back the mangled names here\n        return load({\n            localize: localize,\n            getConfiguredDefaultLocale: () => { var _a; return (_a = pluginConfig.availableLanguages) === null || _a === void 0 ? void 0 : _a['*']; }\n        });\n    }\n    const language = pluginConfig.availableLanguages ? findLanguageForModule(pluginConfig.availableLanguages, name) : null;\n    const useDefaultLanguage = language === null || language === DEFAULT_TAG;\n    let suffix = '.nls';\n    if (!useDefaultLanguage) {\n        suffix = suffix + '.' + language;\n    }\n    const messagesLoaded = (messages) => {\n        if (Array.isArray(messages)) {\n            messages.localize = createScopedLocalize(messages);\n        }\n        else {\n            messages.localize = createScopedLocalize(messages[name]);\n        }\n        messages.getConfiguredDefaultLocale = () => { var _a; return (_a = pluginConfig.availableLanguages) === null || _a === void 0 ? void 0 : _a['*']; };\n        load(messages);\n    };\n    if (typeof pluginConfig.loadBundle === 'function') {\n        pluginConfig.loadBundle(name, language, (err, messages) => {\n            // We have an error. Load the English default strings to not fail\n            if (err) {\n                req([name + '.nls'], messagesLoaded);\n            }\n            else {\n                messagesLoaded(messages);\n            }\n        });\n    }\n    else if (pluginConfig.translationServiceUrl && !useDefaultLanguage) {\n        (() => __awaiter(this, void 0, void 0, function* () {\n            var _b;\n            try {\n                const messages = yield getMessagesFromTranslationsService(pluginConfig.translationServiceUrl, language, name);\n                return messagesLoaded(messages);\n            }\n            catch (err) {\n                // Language is already as generic as it gets, so require default messages\n                if (!language.includes('-')) {\n                    console.error(err);\n                    return req([name + '.nls'], messagesLoaded);\n                }\n                try {\n                    // Since there is a dash, the language configured is a specific sub-language of the same generic language.\n                    // Since we were unable to load the specific language, try to load the generic language. Ex. we failed to find a\n                    // Swiss German (de-CH), so try to load the generic German (de) messages instead.\n                    const genericLanguage = language.split('-')[0];\n                    const messages = yield getMessagesFromTranslationsService(pluginConfig.translationServiceUrl, genericLanguage, name);\n                    // We got some messages, so we configure the configuration to use the generic language for this session.\n                    (_b = pluginConfig.availableLanguages) !== null && _b !== void 0 ? _b : (pluginConfig.availableLanguages = {});\n                    pluginConfig.availableLanguages['*'] = genericLanguage;\n                    return messagesLoaded(messages);\n                }\n                catch (err) {\n                    console.error(err);\n                    return req([name + '.nls'], messagesLoaded);\n                }\n            }\n        }))();\n    }\n    else {\n        req([name + suffix], messagesLoaded, (err) => {\n            if (suffix === '.nls') {\n                console.error('Failed trying to load default language strings', err);\n                return;\n            }\n            console.error(`Failed to load message bundle for language ${language}. Falling back to the default language:`, err);\n            req([name + '.nls'], messagesLoaded);\n        });\n    }\n}\n","var _a;\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as nls from '../../nls.js';\nexport const LANGUAGE_DEFAULT = 'en';\nlet _isWindows = false;\nlet _isMacintosh = false;\nlet _isLinux = false;\nlet _isLinuxSnap = false;\nlet _isNative = false;\nlet _isWeb = false;\nlet _isElectron = false;\nlet _isIOS = false;\nlet _isCI = false;\nlet _isMobile = false;\nlet _locale = undefined;\nlet _language = LANGUAGE_DEFAULT;\nlet _platformLocale = LANGUAGE_DEFAULT;\nlet _translationsConfigFile = undefined;\nlet _userAgent = undefined;\n/**\n * @deprecated use `globalThis` instead\n */\nexport const globals = (typeof self === 'object' ? self : typeof global === 'object' ? global : {});\nlet nodeProcess = undefined;\nif (typeof globals.vscode !== 'undefined' && typeof globals.vscode.process !== 'undefined') {\n    // Native environment (sandboxed)\n    nodeProcess = globals.vscode.process;\n}\nelse if (typeof process !== 'undefined') {\n    // Native environment (non-sandboxed)\n    nodeProcess = process;\n}\nconst isElectronProcess = typeof ((_a = nodeProcess === null || nodeProcess === void 0 ? void 0 : nodeProcess.versions) === null || _a === void 0 ? void 0 : _a.electron) === 'string';\nconst isElectronRenderer = isElectronProcess && (nodeProcess === null || nodeProcess === void 0 ? void 0 : nodeProcess.type) === 'renderer';\n// Web environment\nif (typeof navigator === 'object' && !isElectronRenderer) {\n    _userAgent = navigator.userAgent;\n    _isWindows = _userAgent.indexOf('Windows') >= 0;\n    _isMacintosh = _userAgent.indexOf('Macintosh') >= 0;\n    _isIOS = (_userAgent.indexOf('Macintosh') >= 0 || _userAgent.indexOf('iPad') >= 0 || _userAgent.indexOf('iPhone') >= 0) && !!navigator.maxTouchPoints && navigator.maxTouchPoints > 0;\n    _isLinux = _userAgent.indexOf('Linux') >= 0;\n    _isMobile = (_userAgent === null || _userAgent === void 0 ? void 0 : _userAgent.indexOf('Mobi')) >= 0;\n    _isWeb = true;\n    const configuredLocale = nls.getConfiguredDefaultLocale(\n    // This call _must_ be done in the file that calls `nls.getConfiguredDefaultLocale`\n    // to ensure that the NLS AMD Loader plugin has been loaded and configured.\n    // This is because the loader plugin decides what the default locale is based on\n    // how it's able to resolve the strings.\n    nls.localize({ key: 'ensureLoaderPluginIsLoaded', comment: ['{Locked}'] }, '_'));\n    _locale = configuredLocale || LANGUAGE_DEFAULT;\n    _language = _locale;\n    _platformLocale = navigator.language;\n}\n// Native environment\nelse if (typeof nodeProcess === 'object') {\n    _isWindows = (nodeProcess.platform === 'win32');\n    _isMacintosh = (nodeProcess.platform === 'darwin');\n    _isLinux = (nodeProcess.platform === 'linux');\n    _isLinuxSnap = _isLinux && !!nodeProcess.env['SNAP'] && !!nodeProcess.env['SNAP_REVISION'];\n    _isElectron = isElectronProcess;\n    _isCI = !!nodeProcess.env['CI'] || !!nodeProcess.env['BUILD_ARTIFACTSTAGINGDIRECTORY'];\n    _locale = LANGUAGE_DEFAULT;\n    _language = LANGUAGE_DEFAULT;\n    const rawNlsConfig = nodeProcess.env['VSCODE_NLS_CONFIG'];\n    if (rawNlsConfig) {\n        try {\n            const nlsConfig = JSON.parse(rawNlsConfig);\n            const resolved = nlsConfig.availableLanguages['*'];\n            _locale = nlsConfig.locale;\n            _platformLocale = nlsConfig.osLocale;\n            // VSCode's default language is 'en'\n            _language = resolved ? resolved : LANGUAGE_DEFAULT;\n            _translationsConfigFile = nlsConfig._translationsConfigFile;\n        }\n        catch (e) {\n        }\n    }\n    _isNative = true;\n}\n// Unknown environment\nelse {\n    console.error('Unable to resolve platform.');\n}\nlet _platform = 0 /* Platform.Web */;\nif (_isMacintosh) {\n    _platform = 1 /* Platform.Mac */;\n}\nelse if (_isWindows) {\n    _platform = 3 /* Platform.Windows */;\n}\nelse if (_isLinux) {\n    _platform = 2 /* Platform.Linux */;\n}\nexport const isWindows = _isWindows;\nexport const isMacintosh = _isMacintosh;\nexport const isLinux = _isLinux;\nexport const isNative = _isNative;\nexport const isWeb = _isWeb;\nexport const isWebWorker = (_isWeb && typeof globals.importScripts === 'function');\nexport const isIOS = _isIOS;\nexport const isMobile = _isMobile;\nexport const userAgent = _userAgent;\n/**\n * The language used for the user interface. The format of\n * the string is all lower case (e.g. zh-tw for Traditional\n * Chinese)\n */\nexport const language = _language;\nexport const setTimeout0IsFaster = (typeof globals.postMessage === 'function' && !globals.importScripts);\n/**\n * See https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#:~:text=than%204%2C%20then-,set%20timeout%20to%204,-.\n *\n * Works similarly to `setTimeout(0)` but doesn't suffer from the 4ms artificial delay\n * that browsers set when the nesting level is > 5.\n */\nexport const setTimeout0 = (() => {\n    if (setTimeout0IsFaster) {\n        const pending = [];\n        globals.addEventListener('message', (e) => {\n            if (e.data && e.data.vscodeScheduleAsyncWork) {\n                for (let i = 0, len = pending.length; i < len; i++) {\n                    const candidate = pending[i];\n                    if (candidate.id === e.data.vscodeScheduleAsyncWork) {\n                        pending.splice(i, 1);\n                        candidate.callback();\n                        return;\n                    }\n                }\n            }\n        });\n        let lastId = 0;\n        return (callback) => {\n            const myId = ++lastId;\n            pending.push({\n                id: myId,\n                callback: callback\n            });\n            globals.postMessage({ vscodeScheduleAsyncWork: myId }, '*');\n        };\n    }\n    return (callback) => setTimeout(callback);\n})();\nexport const OS = (_isMacintosh || _isIOS ? 2 /* OperatingSystem.Macintosh */ : (_isWindows ? 1 /* OperatingSystem.Windows */ : 3 /* OperatingSystem.Linux */));\nlet _isLittleEndian = true;\nlet _isLittleEndianComputed = false;\nexport function isLittleEndian() {\n    if (!_isLittleEndianComputed) {\n        _isLittleEndianComputed = true;\n        const test = new Uint8Array(2);\n        test[0] = 1;\n        test[1] = 2;\n        const view = new Uint16Array(test.buffer);\n        _isLittleEndian = (view[0] === (2 << 8) + 1);\n    }\n    return _isLittleEndian;\n}\nexport const isChrome = !!(userAgent && userAgent.indexOf('Chrome') >= 0);\nexport const isFirefox = !!(userAgent && userAgent.indexOf('Firefox') >= 0);\nexport const isSafari = !!(!isChrome && (userAgent && userAgent.indexOf('Safari') >= 0));\nexport const isEdge = !!(userAgent && userAgent.indexOf('Edg/') >= 0);\nexport const isAndroid = !!(userAgent && userAgent.indexOf('Android') >= 0);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar _a;\nimport { LRUCachedFunction } from './cache.js';\nimport { Lazy } from './lazy.js';\nexport function isFalsyOrWhitespace(str) {\n    if (!str || typeof str !== 'string') {\n        return true;\n    }\n    return str.trim().length === 0;\n}\nconst _formatRegexp = /{(\\d+)}/g;\n/**\n * Helper to produce a string with a variable number of arguments. Insert variable segments\n * into the string using the {n} notation where N is the index of the argument following the string.\n * @param value string to which formatting is applied\n * @param args replacements for {n}-entries\n */\nexport function format(value, ...args) {\n    if (args.length === 0) {\n        return value;\n    }\n    return value.replace(_formatRegexp, function (match, group) {\n        const idx = parseInt(group, 10);\n        return isNaN(idx) || idx < 0 || idx >= args.length ?\n            match :\n            args[idx];\n    });\n}\n/**\n * Converts HTML characters inside the string to use entities instead. Makes the string safe from\n * being used e.g. in HTMLElement.innerHTML.\n */\nexport function escape(html) {\n    return html.replace(/[<>&]/g, function (match) {\n        switch (match) {\n            case '<': return '&lt;';\n            case '>': return '&gt;';\n            case '&': return '&amp;';\n            default: return match;\n        }\n    });\n}\n/**\n * Escapes regular expression characters in a given string\n */\nexport function escapeRegExpCharacters(value) {\n    return value.replace(/[\\\\\\{\\}\\*\\+\\?\\|\\^\\$\\.\\[\\]\\(\\)]/g, '\\\\$&');\n}\n/**\n * Removes all occurrences of needle from the beginning and end of haystack.\n * @param haystack string to trim\n * @param needle the thing to trim (default is a blank)\n */\nexport function trim(haystack, needle = ' ') {\n    const trimmed = ltrim(haystack, needle);\n    return rtrim(trimmed, needle);\n}\n/**\n * Removes all occurrences of needle from the beginning of haystack.\n * @param haystack string to trim\n * @param needle the thing to trim\n */\nexport function ltrim(haystack, needle) {\n    if (!haystack || !needle) {\n        return haystack;\n    }\n    const needleLen = needle.length;\n    if (needleLen === 0 || haystack.length === 0) {\n        return haystack;\n    }\n    let offset = 0;\n    while (haystack.indexOf(needle, offset) === offset) {\n        offset = offset + needleLen;\n    }\n    return haystack.substring(offset);\n}\n/**\n * Removes all occurrences of needle from the end of haystack.\n * @param haystack string to trim\n * @param needle the thing to trim\n */\nexport function rtrim(haystack, needle) {\n    if (!haystack || !needle) {\n        return haystack;\n    }\n    const needleLen = needle.length, haystackLen = haystack.length;\n    if (needleLen === 0 || haystackLen === 0) {\n        return haystack;\n    }\n    let offset = haystackLen, idx = -1;\n    while (true) {\n        idx = haystack.lastIndexOf(needle, offset - 1);\n        if (idx === -1 || idx + needleLen !== offset) {\n            break;\n        }\n        if (idx === 0) {\n            return '';\n        }\n        offset = idx;\n    }\n    return haystack.substring(0, offset);\n}\nexport function convertSimple2RegExpPattern(pattern) {\n    return pattern.replace(/[\\-\\\\\\{\\}\\+\\?\\|\\^\\$\\.\\,\\[\\]\\(\\)\\#\\s]/g, '\\\\$&').replace(/[\\*]/g, '.*');\n}\nexport function stripWildcards(pattern) {\n    return pattern.replace(/\\*/g, '');\n}\nexport function createRegExp(searchString, isRegex, options = {}) {\n    if (!searchString) {\n        throw new Error('Cannot create regex from empty string');\n    }\n    if (!isRegex) {\n        searchString = escapeRegExpCharacters(searchString);\n    }\n    if (options.wholeWord) {\n        if (!/\\B/.test(searchString.charAt(0))) {\n            searchString = '\\\\b' + searchString;\n        }\n        if (!/\\B/.test(searchString.charAt(searchString.length - 1))) {\n            searchString = searchString + '\\\\b';\n        }\n    }\n    let modifiers = '';\n    if (options.global) {\n        modifiers += 'g';\n    }\n    if (!options.matchCase) {\n        modifiers += 'i';\n    }\n    if (options.multiline) {\n        modifiers += 'm';\n    }\n    if (options.unicode) {\n        modifiers += 'u';\n    }\n    return new RegExp(searchString, modifiers);\n}\nexport function regExpLeadsToEndlessLoop(regexp) {\n    // Exit early if it's one of these special cases which are meant to match\n    // against an empty string\n    if (regexp.source === '^' || regexp.source === '^$' || regexp.source === '$' || regexp.source === '^\\\\s*$') {\n        return false;\n    }\n    // We check against an empty string. If the regular expression doesn't advance\n    // (e.g. ends in an endless loop) it will match an empty string.\n    const match = regexp.exec('');\n    return !!(match && regexp.lastIndex === 0);\n}\nexport function regExpFlags(regexp) {\n    return (regexp.global ? 'g' : '')\n        + (regexp.ignoreCase ? 'i' : '')\n        + (regexp.multiline ? 'm' : '')\n        + (regexp /* standalone editor compilation */.unicode ? 'u' : '');\n}\nexport function splitLines(str) {\n    return str.split(/\\r\\n|\\r|\\n/);\n}\n/**\n * Returns first index of the string that is not whitespace.\n * If string is empty or contains only whitespaces, returns -1\n */\nexport function firstNonWhitespaceIndex(str) {\n    for (let i = 0, len = str.length; i < len; i++) {\n        const chCode = str.charCodeAt(i);\n        if (chCode !== 32 /* CharCode.Space */ && chCode !== 9 /* CharCode.Tab */) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * Returns the leading whitespace of the string.\n * If the string contains only whitespaces, returns entire string\n */\nexport function getLeadingWhitespace(str, start = 0, end = str.length) {\n    for (let i = start; i < end; i++) {\n        const chCode = str.charCodeAt(i);\n        if (chCode !== 32 /* CharCode.Space */ && chCode !== 9 /* CharCode.Tab */) {\n            return str.substring(start, i);\n        }\n    }\n    return str.substring(start, end);\n}\n/**\n * Returns last index of the string that is not whitespace.\n * If string is empty or contains only whitespaces, returns -1\n */\nexport function lastNonWhitespaceIndex(str, startIndex = str.length - 1) {\n    for (let i = startIndex; i >= 0; i--) {\n        const chCode = str.charCodeAt(i);\n        if (chCode !== 32 /* CharCode.Space */ && chCode !== 9 /* CharCode.Tab */) {\n            return i;\n        }\n    }\n    return -1;\n}\nexport function compare(a, b) {\n    if (a < b) {\n        return -1;\n    }\n    else if (a > b) {\n        return 1;\n    }\n    else {\n        return 0;\n    }\n}\nexport function compareSubstring(a, b, aStart = 0, aEnd = a.length, bStart = 0, bEnd = b.length) {\n    for (; aStart < aEnd && bStart < bEnd; aStart++, bStart++) {\n        const codeA = a.charCodeAt(aStart);\n        const codeB = b.charCodeAt(bStart);\n        if (codeA < codeB) {\n            return -1;\n        }\n        else if (codeA > codeB) {\n            return 1;\n        }\n    }\n    const aLen = aEnd - aStart;\n    const bLen = bEnd - bStart;\n    if (aLen < bLen) {\n        return -1;\n    }\n    else if (aLen > bLen) {\n        return 1;\n    }\n    return 0;\n}\nexport function compareIgnoreCase(a, b) {\n    return compareSubstringIgnoreCase(a, b, 0, a.length, 0, b.length);\n}\nexport function compareSubstringIgnoreCase(a, b, aStart = 0, aEnd = a.length, bStart = 0, bEnd = b.length) {\n    for (; aStart < aEnd && bStart < bEnd; aStart++, bStart++) {\n        let codeA = a.charCodeAt(aStart);\n        let codeB = b.charCodeAt(bStart);\n        if (codeA === codeB) {\n            // equal\n            continue;\n        }\n        if (codeA >= 128 || codeB >= 128) {\n            // not ASCII letters -> fallback to lower-casing strings\n            return compareSubstring(a.toLowerCase(), b.toLowerCase(), aStart, aEnd, bStart, bEnd);\n        }\n        // mapper lower-case ascii letter onto upper-case varinats\n        // [97-122] (lower ascii) --> [65-90] (upper ascii)\n        if (isLowerAsciiLetter(codeA)) {\n            codeA -= 32;\n        }\n        if (isLowerAsciiLetter(codeB)) {\n            codeB -= 32;\n        }\n        // compare both code points\n        const diff = codeA - codeB;\n        if (diff === 0) {\n            continue;\n        }\n        return diff;\n    }\n    const aLen = aEnd - aStart;\n    const bLen = bEnd - bStart;\n    if (aLen < bLen) {\n        return -1;\n    }\n    else if (aLen > bLen) {\n        return 1;\n    }\n    return 0;\n}\nexport function isAsciiDigit(code) {\n    return code >= 48 /* CharCode.Digit0 */ && code <= 57 /* CharCode.Digit9 */;\n}\nexport function isLowerAsciiLetter(code) {\n    return code >= 97 /* CharCode.a */ && code <= 122 /* CharCode.z */;\n}\nexport function isUpperAsciiLetter(code) {\n    return code >= 65 /* CharCode.A */ && code <= 90 /* CharCode.Z */;\n}\nexport function equalsIgnoreCase(a, b) {\n    return a.length === b.length && compareSubstringIgnoreCase(a, b) === 0;\n}\nexport function startsWithIgnoreCase(str, candidate) {\n    const candidateLength = candidate.length;\n    if (candidate.length > str.length) {\n        return false;\n    }\n    return compareSubstringIgnoreCase(str, candidate, 0, candidateLength) === 0;\n}\n/**\n * @returns the length of the common prefix of the two strings.\n */\nexport function commonPrefixLength(a, b) {\n    const len = Math.min(a.length, b.length);\n    let i;\n    for (i = 0; i < len; i++) {\n        if (a.charCodeAt(i) !== b.charCodeAt(i)) {\n            return i;\n        }\n    }\n    return len;\n}\n/**\n * @returns the length of the common suffix of the two strings.\n */\nexport function commonSuffixLength(a, b) {\n    const len = Math.min(a.length, b.length);\n    let i;\n    const aLastIndex = a.length - 1;\n    const bLastIndex = b.length - 1;\n    for (i = 0; i < len; i++) {\n        if (a.charCodeAt(aLastIndex - i) !== b.charCodeAt(bLastIndex - i)) {\n            return i;\n        }\n    }\n    return len;\n}\n/**\n * See http://en.wikipedia.org/wiki/Surrogate_pair\n */\nexport function isHighSurrogate(charCode) {\n    return (0xD800 <= charCode && charCode <= 0xDBFF);\n}\n/**\n * See http://en.wikipedia.org/wiki/Surrogate_pair\n */\nexport function isLowSurrogate(charCode) {\n    return (0xDC00 <= charCode && charCode <= 0xDFFF);\n}\n/**\n * See http://en.wikipedia.org/wiki/Surrogate_pair\n */\nexport function computeCodePoint(highSurrogate, lowSurrogate) {\n    return ((highSurrogate - 0xD800) << 10) + (lowSurrogate - 0xDC00) + 0x10000;\n}\n/**\n * get the code point that begins at offset `offset`\n */\nexport function getNextCodePoint(str, len, offset) {\n    const charCode = str.charCodeAt(offset);\n    if (isHighSurrogate(charCode) && offset + 1 < len) {\n        const nextCharCode = str.charCodeAt(offset + 1);\n        if (isLowSurrogate(nextCharCode)) {\n            return computeCodePoint(charCode, nextCharCode);\n        }\n    }\n    return charCode;\n}\n/**\n * get the code point that ends right before offset `offset`\n */\nfunction getPrevCodePoint(str, offset) {\n    const charCode = str.charCodeAt(offset - 1);\n    if (isLowSurrogate(charCode) && offset > 1) {\n        const prevCharCode = str.charCodeAt(offset - 2);\n        if (isHighSurrogate(prevCharCode)) {\n            return computeCodePoint(prevCharCode, charCode);\n        }\n    }\n    return charCode;\n}\nexport class CodePointIterator {\n    get offset() {\n        return this._offset;\n    }\n    constructor(str, offset = 0) {\n        this._str = str;\n        this._len = str.length;\n        this._offset = offset;\n    }\n    setOffset(offset) {\n        this._offset = offset;\n    }\n    prevCodePoint() {\n        const codePoint = getPrevCodePoint(this._str, this._offset);\n        this._offset -= (codePoint >= 65536 /* Constants.UNICODE_SUPPLEMENTARY_PLANE_BEGIN */ ? 2 : 1);\n        return codePoint;\n    }\n    nextCodePoint() {\n        const codePoint = getNextCodePoint(this._str, this._len, this._offset);\n        this._offset += (codePoint >= 65536 /* Constants.UNICODE_SUPPLEMENTARY_PLANE_BEGIN */ ? 2 : 1);\n        return codePoint;\n    }\n    eol() {\n        return (this._offset >= this._len);\n    }\n}\nexport class GraphemeIterator {\n    get offset() {\n        return this._iterator.offset;\n    }\n    constructor(str, offset = 0) {\n        this._iterator = new CodePointIterator(str, offset);\n    }\n    nextGraphemeLength() {\n        const graphemeBreakTree = GraphemeBreakTree.getInstance();\n        const iterator = this._iterator;\n        const initialOffset = iterator.offset;\n        let graphemeBreakType = graphemeBreakTree.getGraphemeBreakType(iterator.nextCodePoint());\n        while (!iterator.eol()) {\n            const offset = iterator.offset;\n            const nextGraphemeBreakType = graphemeBreakTree.getGraphemeBreakType(iterator.nextCodePoint());\n            if (breakBetweenGraphemeBreakType(graphemeBreakType, nextGraphemeBreakType)) {\n                // move iterator back\n                iterator.setOffset(offset);\n                break;\n            }\n            graphemeBreakType = nextGraphemeBreakType;\n        }\n        return (iterator.offset - initialOffset);\n    }\n    prevGraphemeLength() {\n        const graphemeBreakTree = GraphemeBreakTree.getInstance();\n        const iterator = this._iterator;\n        const initialOffset = iterator.offset;\n        let graphemeBreakType = graphemeBreakTree.getGraphemeBreakType(iterator.prevCodePoint());\n        while (iterator.offset > 0) {\n            const offset = iterator.offset;\n            const prevGraphemeBreakType = graphemeBreakTree.getGraphemeBreakType(iterator.prevCodePoint());\n            if (breakBetweenGraphemeBreakType(prevGraphemeBreakType, graphemeBreakType)) {\n                // move iterator back\n                iterator.setOffset(offset);\n                break;\n            }\n            graphemeBreakType = prevGraphemeBreakType;\n        }\n        return (initialOffset - iterator.offset);\n    }\n    eol() {\n        return this._iterator.eol();\n    }\n}\nexport function nextCharLength(str, initialOffset) {\n    const iterator = new GraphemeIterator(str, initialOffset);\n    return iterator.nextGraphemeLength();\n}\nexport function prevCharLength(str, initialOffset) {\n    const iterator = new GraphemeIterator(str, initialOffset);\n    return iterator.prevGraphemeLength();\n}\nexport function getCharContainingOffset(str, offset) {\n    if (offset > 0 && isLowSurrogate(str.charCodeAt(offset))) {\n        offset--;\n    }\n    const endOffset = offset + nextCharLength(str, offset);\n    const startOffset = endOffset - prevCharLength(str, endOffset);\n    return [startOffset, endOffset];\n}\nlet CONTAINS_RTL = undefined;\nfunction makeContainsRtl() {\n    // Generated using https://github.com/alexdima/unicode-utils/blob/main/rtl-test.js\n    return /(?:[\\u05BE\\u05C0\\u05C3\\u05C6\\u05D0-\\u05F4\\u0608\\u060B\\u060D\\u061B-\\u064A\\u066D-\\u066F\\u0671-\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1-\\u07EA\\u07F4\\u07F5\\u07FA\\u07FE-\\u0815\\u081A\\u0824\\u0828\\u0830-\\u0858\\u085E-\\u088E\\u08A0-\\u08C9\\u200F\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFD3D\\uFD50-\\uFDC7\\uFDF0-\\uFDFC\\uFE70-\\uFEFC]|\\uD802[\\uDC00-\\uDD1B\\uDD20-\\uDE00\\uDE10-\\uDE35\\uDE40-\\uDEE4\\uDEEB-\\uDF35\\uDF40-\\uDFFF]|\\uD803[\\uDC00-\\uDD23\\uDE80-\\uDEA9\\uDEAD-\\uDF45\\uDF51-\\uDF81\\uDF86-\\uDFF6]|\\uD83A[\\uDC00-\\uDCCF\\uDD00-\\uDD43\\uDD4B-\\uDFFF]|\\uD83B[\\uDC00-\\uDEBB])/;\n}\n/**\n * Returns true if `str` contains any Unicode character that is classified as \"R\" or \"AL\".\n */\nexport function containsRTL(str) {\n    if (!CONTAINS_RTL) {\n        CONTAINS_RTL = makeContainsRtl();\n    }\n    return CONTAINS_RTL.test(str);\n}\nconst IS_BASIC_ASCII = /^[\\t\\n\\r\\x20-\\x7E]*$/;\n/**\n * Returns true if `str` contains only basic ASCII characters in the range 32 - 126 (including 32 and 126) or \\n, \\r, \\t\n */\nexport function isBasicASCII(str) {\n    return IS_BASIC_ASCII.test(str);\n}\nexport const UNUSUAL_LINE_TERMINATORS = /[\\u2028\\u2029]/; // LINE SEPARATOR (LS) or PARAGRAPH SEPARATOR (PS)\n/**\n * Returns true if `str` contains unusual line terminators, like LS or PS\n */\nexport function containsUnusualLineTerminators(str) {\n    return UNUSUAL_LINE_TERMINATORS.test(str);\n}\nexport function isFullWidthCharacter(charCode) {\n    // Do a cheap trick to better support wrapping of wide characters, treat them as 2 columns\n    // http://jrgraphix.net/research/unicode_blocks.php\n    //          2E80 - 2EFF   CJK Radicals Supplement\n    //          2F00 - 2FDF   Kangxi Radicals\n    //          2FF0 - 2FFF   Ideographic Description Characters\n    //          3000 - 303F   CJK Symbols and Punctuation\n    //          3040 - 309F   Hiragana\n    //          30A0 - 30FF   Katakana\n    //          3100 - 312F   Bopomofo\n    //          3130 - 318F   Hangul Compatibility Jamo\n    //          3190 - 319F   Kanbun\n    //          31A0 - 31BF   Bopomofo Extended\n    //          31F0 - 31FF   Katakana Phonetic Extensions\n    //          3200 - 32FF   Enclosed CJK Letters and Months\n    //          3300 - 33FF   CJK Compatibility\n    //          3400 - 4DBF   CJK Unified Ideographs Extension A\n    //          4DC0 - 4DFF   Yijing Hexagram Symbols\n    //          4E00 - 9FFF   CJK Unified Ideographs\n    //          A000 - A48F   Yi Syllables\n    //          A490 - A4CF   Yi Radicals\n    //          AC00 - D7AF   Hangul Syllables\n    // [IGNORE] D800 - DB7F   High Surrogates\n    // [IGNORE] DB80 - DBFF   High Private Use Surrogates\n    // [IGNORE] DC00 - DFFF   Low Surrogates\n    // [IGNORE] E000 - F8FF   Private Use Area\n    //          F900 - FAFF   CJK Compatibility Ideographs\n    // [IGNORE] FB00 - FB4F   Alphabetic Presentation Forms\n    // [IGNORE] FB50 - FDFF   Arabic Presentation Forms-A\n    // [IGNORE] FE00 - FE0F   Variation Selectors\n    // [IGNORE] FE20 - FE2F   Combining Half Marks\n    // [IGNORE] FE30 - FE4F   CJK Compatibility Forms\n    // [IGNORE] FE50 - FE6F   Small Form Variants\n    // [IGNORE] FE70 - FEFF   Arabic Presentation Forms-B\n    //          FF00 - FFEF   Halfwidth and Fullwidth Forms\n    //               [https://en.wikipedia.org/wiki/Halfwidth_and_fullwidth_forms]\n    //               of which FF01 - FF5E fullwidth ASCII of 21 to 7E\n    // [IGNORE]    and FF65 - FFDC halfwidth of Katakana and Hangul\n    // [IGNORE] FFF0 - FFFF   Specials\n    return ((charCode >= 0x2E80 && charCode <= 0xD7AF)\n        || (charCode >= 0xF900 && charCode <= 0xFAFF)\n        || (charCode >= 0xFF01 && charCode <= 0xFF5E));\n}\n/**\n * A fast function (therefore imprecise) to check if code points are emojis.\n * Generated using https://github.com/alexdima/unicode-utils/blob/main/emoji-test.js\n */\nexport function isEmojiImprecise(x) {\n    return ((x >= 0x1F1E6 && x <= 0x1F1FF) || (x === 8986) || (x === 8987) || (x === 9200)\n        || (x === 9203) || (x >= 9728 && x <= 10175) || (x === 11088) || (x === 11093)\n        || (x >= 127744 && x <= 128591) || (x >= 128640 && x <= 128764)\n        || (x >= 128992 && x <= 129008) || (x >= 129280 && x <= 129535)\n        || (x >= 129648 && x <= 129782));\n}\n// -- UTF-8 BOM\nexport const UTF8_BOM_CHARACTER = String.fromCharCode(65279 /* CharCode.UTF8_BOM */);\nexport function startsWithUTF8BOM(str) {\n    return !!(str && str.length > 0 && str.charCodeAt(0) === 65279 /* CharCode.UTF8_BOM */);\n}\nexport function containsUppercaseCharacter(target, ignoreEscapedChars = false) {\n    if (!target) {\n        return false;\n    }\n    if (ignoreEscapedChars) {\n        target = target.replace(/\\\\./g, '');\n    }\n    return target.toLowerCase() !== target;\n}\n/**\n * Produces 'a'-'z', followed by 'A'-'Z'... followed by 'a'-'z', etc.\n */\nexport function singleLetterHash(n) {\n    const LETTERS_CNT = (90 /* CharCode.Z */ - 65 /* CharCode.A */ + 1);\n    n = n % (2 * LETTERS_CNT);\n    if (n < LETTERS_CNT) {\n        return String.fromCharCode(97 /* CharCode.a */ + n);\n    }\n    return String.fromCharCode(65 /* CharCode.A */ + n - LETTERS_CNT);\n}\nfunction breakBetweenGraphemeBreakType(breakTypeA, breakTypeB) {\n    // http://www.unicode.org/reports/tr29/#Grapheme_Cluster_Boundary_Rules\n    // !!! Let's make the common case a bit faster\n    if (breakTypeA === 0 /* GraphemeBreakType.Other */) {\n        // see https://www.unicode.org/Public/13.0.0/ucd/auxiliary/GraphemeBreakTest-13.0.0d10.html#table\n        return (breakTypeB !== 5 /* GraphemeBreakType.Extend */ && breakTypeB !== 7 /* GraphemeBreakType.SpacingMark */);\n    }\n    // Do not break between a CR and LF. Otherwise, break before and after controls.\n    // GB3                                        CR  LF\n    // GB4                       (Control | CR | LF) \n    // GB5                                            (Control | CR | LF)\n    if (breakTypeA === 2 /* GraphemeBreakType.CR */) {\n        if (breakTypeB === 3 /* GraphemeBreakType.LF */) {\n            return false; // GB3\n        }\n    }\n    if (breakTypeA === 4 /* GraphemeBreakType.Control */ || breakTypeA === 2 /* GraphemeBreakType.CR */ || breakTypeA === 3 /* GraphemeBreakType.LF */) {\n        return true; // GB4\n    }\n    if (breakTypeB === 4 /* GraphemeBreakType.Control */ || breakTypeB === 2 /* GraphemeBreakType.CR */ || breakTypeB === 3 /* GraphemeBreakType.LF */) {\n        return true; // GB5\n    }\n    // Do not break Hangul syllable sequences.\n    // GB6                                         L  (L | V | LV | LVT)\n    // GB7                                  (LV | V)  (V | T)\n    // GB8                                 (LVT | T)  T\n    if (breakTypeA === 8 /* GraphemeBreakType.L */) {\n        if (breakTypeB === 8 /* GraphemeBreakType.L */ || breakTypeB === 9 /* GraphemeBreakType.V */ || breakTypeB === 11 /* GraphemeBreakType.LV */ || breakTypeB === 12 /* GraphemeBreakType.LVT */) {\n            return false; // GB6\n        }\n    }\n    if (breakTypeA === 11 /* GraphemeBreakType.LV */ || breakTypeA === 9 /* GraphemeBreakType.V */) {\n        if (breakTypeB === 9 /* GraphemeBreakType.V */ || breakTypeB === 10 /* GraphemeBreakType.T */) {\n            return false; // GB7\n        }\n    }\n    if (breakTypeA === 12 /* GraphemeBreakType.LVT */ || breakTypeA === 10 /* GraphemeBreakType.T */) {\n        if (breakTypeB === 10 /* GraphemeBreakType.T */) {\n            return false; // GB8\n        }\n    }\n    // Do not break before extending characters or ZWJ.\n    // GB9                                            (Extend | ZWJ)\n    if (breakTypeB === 5 /* GraphemeBreakType.Extend */ || breakTypeB === 13 /* GraphemeBreakType.ZWJ */) {\n        return false; // GB9\n    }\n    // The GB9a and GB9b rules only apply to extended grapheme clusters:\n    // Do not break before SpacingMarks, or after Prepend characters.\n    // GB9a                                           SpacingMark\n    // GB9b                                  Prepend \n    if (breakTypeB === 7 /* GraphemeBreakType.SpacingMark */) {\n        return false; // GB9a\n    }\n    if (breakTypeA === 1 /* GraphemeBreakType.Prepend */) {\n        return false; // GB9b\n    }\n    // Do not break within emoji modifier sequences or emoji zwj sequences.\n    // GB11    \\p{Extended_Pictographic} Extend* ZWJ  \\p{Extended_Pictographic}\n    if (breakTypeA === 13 /* GraphemeBreakType.ZWJ */ && breakTypeB === 14 /* GraphemeBreakType.Extended_Pictographic */) {\n        // Note: we are not implementing the rule entirely here to avoid introducing states\n        return false; // GB11\n    }\n    // GB12                          sot (RI RI)* RI  RI\n    // GB13                        [^RI] (RI RI)* RI  RI\n    if (breakTypeA === 6 /* GraphemeBreakType.Regional_Indicator */ && breakTypeB === 6 /* GraphemeBreakType.Regional_Indicator */) {\n        // Note: we are not implementing the rule entirely here to avoid introducing states\n        return false; // GB12 & GB13\n    }\n    // GB999                                     Any  Any\n    return true;\n}\nclass GraphemeBreakTree {\n    static getInstance() {\n        if (!GraphemeBreakTree._INSTANCE) {\n            GraphemeBreakTree._INSTANCE = new GraphemeBreakTree();\n        }\n        return GraphemeBreakTree._INSTANCE;\n    }\n    constructor() {\n        this._data = getGraphemeBreakRawData();\n    }\n    getGraphemeBreakType(codePoint) {\n        // !!! Let's make 7bit ASCII a bit faster: 0..31\n        if (codePoint < 32) {\n            if (codePoint === 10 /* CharCode.LineFeed */) {\n                return 3 /* GraphemeBreakType.LF */;\n            }\n            if (codePoint === 13 /* CharCode.CarriageReturn */) {\n                return 2 /* GraphemeBreakType.CR */;\n            }\n            return 4 /* GraphemeBreakType.Control */;\n        }\n        // !!! Let's make 7bit ASCII a bit faster: 32..126\n        if (codePoint < 127) {\n            return 0 /* GraphemeBreakType.Other */;\n        }\n        const data = this._data;\n        const nodeCount = data.length / 3;\n        let nodeIndex = 1;\n        while (nodeIndex <= nodeCount) {\n            if (codePoint < data[3 * nodeIndex]) {\n                // go left\n                nodeIndex = 2 * nodeIndex;\n            }\n            else if (codePoint > data[3 * nodeIndex + 1]) {\n                // go right\n                nodeIndex = 2 * nodeIndex + 1;\n            }\n            else {\n                // hit\n                return data[3 * nodeIndex + 2];\n            }\n        }\n        return 0 /* GraphemeBreakType.Other */;\n    }\n}\nGraphemeBreakTree._INSTANCE = null;\nfunction getGraphemeBreakRawData() {\n    // generated using https://github.com/alexdima/unicode-utils/blob/main/grapheme-break.js\n    return JSON.parse('[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]');\n}\n//#endregion\n/**\n * Computes the offset after performing a left delete on the given string,\n * while considering unicode grapheme/emoji rules.\n*/\nexport function getLeftDeleteOffset(offset, str) {\n    if (offset === 0) {\n        return 0;\n    }\n    // Try to delete emoji part.\n    const emojiOffset = getOffsetBeforeLastEmojiComponent(offset, str);\n    if (emojiOffset !== undefined) {\n        return emojiOffset;\n    }\n    // Otherwise, just skip a single code point.\n    const iterator = new CodePointIterator(str, offset);\n    iterator.prevCodePoint();\n    return iterator.offset;\n}\nfunction getOffsetBeforeLastEmojiComponent(initialOffset, str) {\n    // See https://www.unicode.org/reports/tr51/tr51-14.html#EBNF_and_Regex for the\n    // structure of emojis.\n    const iterator = new CodePointIterator(str, initialOffset);\n    let codePoint = iterator.prevCodePoint();\n    // Skip modifiers\n    while ((isEmojiModifier(codePoint) || codePoint === 65039 /* CodePoint.emojiVariantSelector */ || codePoint === 8419 /* CodePoint.enclosingKeyCap */)) {\n        if (iterator.offset === 0) {\n            // Cannot skip modifier, no preceding emoji base.\n            return undefined;\n        }\n        codePoint = iterator.prevCodePoint();\n    }\n    // Expect base emoji\n    if (!isEmojiImprecise(codePoint)) {\n        // Unexpected code point, not a valid emoji.\n        return undefined;\n    }\n    let resultOffset = iterator.offset;\n    if (resultOffset > 0) {\n        // Skip optional ZWJ code points that combine multiple emojis.\n        // In theory, we should check if that ZWJ actually combines multiple emojis\n        // to prevent deleting ZWJs in situations we didn't account for.\n        const optionalZwjCodePoint = iterator.prevCodePoint();\n        if (optionalZwjCodePoint === 8205 /* CodePoint.zwj */) {\n            resultOffset = iterator.offset;\n        }\n    }\n    return resultOffset;\n}\nfunction isEmojiModifier(codePoint) {\n    return 0x1F3FB <= codePoint && codePoint <= 0x1F3FF;\n}\nexport const noBreakWhitespace = '\\xa0';\nexport class AmbiguousCharacters {\n    static getInstance(locales) {\n        return AmbiguousCharacters.cache.get(Array.from(locales));\n    }\n    static getLocales() {\n        return AmbiguousCharacters._locales.value;\n    }\n    constructor(confusableDictionary) {\n        this.confusableDictionary = confusableDictionary;\n    }\n    isAmbiguous(codePoint) {\n        return this.confusableDictionary.has(codePoint);\n    }\n    /**\n     * Returns the non basic ASCII code point that the given code point can be confused,\n     * or undefined if such code point does note exist.\n     */\n    getPrimaryConfusable(codePoint) {\n        return this.confusableDictionary.get(codePoint);\n    }\n    getConfusableCodePoints() {\n        return new Set(this.confusableDictionary.keys());\n    }\n}\n_a = AmbiguousCharacters;\nAmbiguousCharacters.ambiguousCharacterData = new Lazy(() => {\n    // Generated using https://github.com/hediet/vscode-unicode-data\n    // Stored as key1, value1, key2, value2, ...\n    return JSON.parse('{\\\"_common\\\":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],\\\"_default\\\":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"cs\\\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"de\\\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"es\\\":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"fr\\\":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"it\\\":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"ja\\\":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],\\\"ko\\\":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"pl\\\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"pt-BR\\\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"qps-ploc\\\":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"ru\\\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"tr\\\":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"zh-hans\\\":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],\\\"zh-hant\\\":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}');\n});\nAmbiguousCharacters.cache = new LRUCachedFunction((locales) => {\n    function arrayToMap(arr) {\n        const result = new Map();\n        for (let i = 0; i < arr.length; i += 2) {\n            result.set(arr[i], arr[i + 1]);\n        }\n        return result;\n    }\n    function mergeMaps(map1, map2) {\n        const result = new Map(map1);\n        for (const [key, value] of map2) {\n            result.set(key, value);\n        }\n        return result;\n    }\n    function intersectMaps(map1, map2) {\n        if (!map1) {\n            return map2;\n        }\n        const result = new Map();\n        for (const [key, value] of map1) {\n            if (map2.has(key)) {\n                result.set(key, value);\n            }\n        }\n        return result;\n    }\n    const data = _a.ambiguousCharacterData.value;\n    let filteredLocales = locales.filter((l) => !l.startsWith('_') && l in data);\n    if (filteredLocales.length === 0) {\n        filteredLocales = ['_default'];\n    }\n    let languageSpecificMap = undefined;\n    for (const locale of filteredLocales) {\n        const map = arrayToMap(data[locale]);\n        languageSpecificMap = intersectMaps(languageSpecificMap, map);\n    }\n    const commonMap = arrayToMap(data['_common']);\n    const map = mergeMaps(commonMap, languageSpecificMap);\n    return new AmbiguousCharacters(map);\n});\nAmbiguousCharacters._locales = new Lazy(() => Object.keys(AmbiguousCharacters.ambiguousCharacterData.value).filter((k) => !k.startsWith('_')));\nexport class InvisibleCharacters {\n    static getRawData() {\n        // Generated using https://github.com/hediet/vscode-unicode-data\n        return JSON.parse('[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]');\n    }\n    static getData() {\n        if (!this._data) {\n            this._data = new Set(InvisibleCharacters.getRawData());\n        }\n        return this._data;\n    }\n    static isInvisibleCharacter(codePoint) {\n        return InvisibleCharacters.getData().has(codePoint);\n    }\n    static get codePoints() {\n        return InvisibleCharacters.getData();\n    }\n}\nInvisibleCharacters._data = undefined;\n","/**\n * Uses a LRU cache to make a given parametrized function cached.\n * Caches just the last value.\n * The key must be JSON serializable.\n*/\nexport class LRUCachedFunction {\n    constructor(fn) {\n        this.fn = fn;\n        this.lastCache = undefined;\n        this.lastArgKey = undefined;\n    }\n    get(arg) {\n        const key = JSON.stringify(arg);\n        if (this.lastArgKey !== key) {\n            this.lastArgKey = key;\n            this.lastCache = this.fn(arg);\n        }\n        return this.lastCache;\n    }\n}\n/**\n * Uses an unbounded cache (referential equality) to memoize the results of the given function.\n*/\nexport class CachedFunction {\n    get cachedValues() {\n        return this._map;\n    }\n    constructor(fn) {\n        this.fn = fn;\n        this._map = new Map();\n    }\n    get(arg) {\n        if (this._map.has(arg)) {\n            return this._map.get(arg);\n        }\n        const value = this.fn(arg);\n        this._map.set(arg, value);\n        return value;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class Lazy {\n    constructor(executor) {\n        this.executor = executor;\n        this._didRun = false;\n    }\n    /**\n     * Get the wrapped value.\n     *\n     * This will force evaluation of the lazy value if it has not been resolved yet. Lazy values are only\n     * resolved once. `getValue` will re-throw exceptions that are hit while resolving the value\n     */\n    get value() {\n        if (!this._didRun) {\n            try {\n                this._value = this.executor();\n            }\n            catch (err) {\n                this._error = err;\n            }\n            finally {\n                this._didRun = true;\n            }\n        }\n        if (this._error) {\n            throw this._error;\n        }\n        return this._value;\n    }\n    /**\n     * Get the wrapped value without forcing evaluation.\n     */\n    get rawValue() { return this._value; }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { transformErrorForSerialization } from '../errors.js';\nimport { Emitter } from '../event.js';\nimport { Disposable } from '../lifecycle.js';\nimport { getAllMethodNames } from '../objects.js';\nimport { isWeb } from '../platform.js';\nimport * as strings from '../strings.js';\nconst INITIALIZE = '$initialize';\nlet webWorkerWarningLogged = false;\nexport function logOnceWebWorkerWarning(err) {\n    if (!isWeb) {\n        // running tests\n        return;\n    }\n    if (!webWorkerWarningLogged) {\n        webWorkerWarningLogged = true;\n        console.warn('Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq');\n    }\n    console.warn(err.message);\n}\nclass RequestMessage {\n    constructor(vsWorker, req, method, args) {\n        this.vsWorker = vsWorker;\n        this.req = req;\n        this.method = method;\n        this.args = args;\n        this.type = 0 /* MessageType.Request */;\n    }\n}\nclass ReplyMessage {\n    constructor(vsWorker, seq, res, err) {\n        this.vsWorker = vsWorker;\n        this.seq = seq;\n        this.res = res;\n        this.err = err;\n        this.type = 1 /* MessageType.Reply */;\n    }\n}\nclass SubscribeEventMessage {\n    constructor(vsWorker, req, eventName, arg) {\n        this.vsWorker = vsWorker;\n        this.req = req;\n        this.eventName = eventName;\n        this.arg = arg;\n        this.type = 2 /* MessageType.SubscribeEvent */;\n    }\n}\nclass EventMessage {\n    constructor(vsWorker, req, event) {\n        this.vsWorker = vsWorker;\n        this.req = req;\n        this.event = event;\n        this.type = 3 /* MessageType.Event */;\n    }\n}\nclass UnsubscribeEventMessage {\n    constructor(vsWorker, req) {\n        this.vsWorker = vsWorker;\n        this.req = req;\n        this.type = 4 /* MessageType.UnsubscribeEvent */;\n    }\n}\nclass SimpleWorkerProtocol {\n    constructor(handler) {\n        this._workerId = -1;\n        this._handler = handler;\n        this._lastSentReq = 0;\n        this._pendingReplies = Object.create(null);\n        this._pendingEmitters = new Map();\n        this._pendingEvents = new Map();\n    }\n    setWorkerId(workerId) {\n        this._workerId = workerId;\n    }\n    sendMessage(method, args) {\n        const req = String(++this._lastSentReq);\n        return new Promise((resolve, reject) => {\n            this._pendingReplies[req] = {\n                resolve: resolve,\n                reject: reject\n            };\n            this._send(new RequestMessage(this._workerId, req, method, args));\n        });\n    }\n    listen(eventName, arg) {\n        let req = null;\n        const emitter = new Emitter({\n            onWillAddFirstListener: () => {\n                req = String(++this._lastSentReq);\n                this._pendingEmitters.set(req, emitter);\n                this._send(new SubscribeEventMessage(this._workerId, req, eventName, arg));\n            },\n            onDidRemoveLastListener: () => {\n                this._pendingEmitters.delete(req);\n                this._send(new UnsubscribeEventMessage(this._workerId, req));\n                req = null;\n            }\n        });\n        return emitter.event;\n    }\n    handleMessage(message) {\n        if (!message || !message.vsWorker) {\n            return;\n        }\n        if (this._workerId !== -1 && message.vsWorker !== this._workerId) {\n            return;\n        }\n        this._handleMessage(message);\n    }\n    _handleMessage(msg) {\n        switch (msg.type) {\n            case 1 /* MessageType.Reply */:\n                return this._handleReplyMessage(msg);\n            case 0 /* MessageType.Request */:\n                return this._handleRequestMessage(msg);\n            case 2 /* MessageType.SubscribeEvent */:\n                return this._handleSubscribeEventMessage(msg);\n            case 3 /* MessageType.Event */:\n                return this._handleEventMessage(msg);\n            case 4 /* MessageType.UnsubscribeEvent */:\n                return this._handleUnsubscribeEventMessage(msg);\n        }\n    }\n    _handleReplyMessage(replyMessage) {\n        if (!this._pendingReplies[replyMessage.seq]) {\n            console.warn('Got reply to unknown seq');\n            return;\n        }\n        const reply = this._pendingReplies[replyMessage.seq];\n        delete this._pendingReplies[replyMessage.seq];\n        if (replyMessage.err) {\n            let err = replyMessage.err;\n            if (replyMessage.err.$isError) {\n                err = new Error();\n                err.name = replyMessage.err.name;\n                err.message = replyMessage.err.message;\n                err.stack = replyMessage.err.stack;\n            }\n            reply.reject(err);\n            return;\n        }\n        reply.resolve(replyMessage.res);\n    }\n    _handleRequestMessage(requestMessage) {\n        const req = requestMessage.req;\n        const result = this._handler.handleMessage(requestMessage.method, requestMessage.args);\n        result.then((r) => {\n            this._send(new ReplyMessage(this._workerId, req, r, undefined));\n        }, (e) => {\n            if (e.detail instanceof Error) {\n                // Loading errors have a detail property that points to the actual error\n                e.detail = transformErrorForSerialization(e.detail);\n            }\n            this._send(new ReplyMessage(this._workerId, req, undefined, transformErrorForSerialization(e)));\n        });\n    }\n    _handleSubscribeEventMessage(msg) {\n        const req = msg.req;\n        const disposable = this._handler.handleEvent(msg.eventName, msg.arg)((event) => {\n            this._send(new EventMessage(this._workerId, req, event));\n        });\n        this._pendingEvents.set(req, disposable);\n    }\n    _handleEventMessage(msg) {\n        if (!this._pendingEmitters.has(msg.req)) {\n            console.warn('Got event for unknown req');\n            return;\n        }\n        this._pendingEmitters.get(msg.req).fire(msg.event);\n    }\n    _handleUnsubscribeEventMessage(msg) {\n        if (!this._pendingEvents.has(msg.req)) {\n            console.warn('Got unsubscribe for unknown req');\n            return;\n        }\n        this._pendingEvents.get(msg.req).dispose();\n        this._pendingEvents.delete(msg.req);\n    }\n    _send(msg) {\n        const transfer = [];\n        if (msg.type === 0 /* MessageType.Request */) {\n            for (let i = 0; i < msg.args.length; i++) {\n                if (msg.args[i] instanceof ArrayBuffer) {\n                    transfer.push(msg.args[i]);\n                }\n            }\n        }\n        else if (msg.type === 1 /* MessageType.Reply */) {\n            if (msg.res instanceof ArrayBuffer) {\n                transfer.push(msg.res);\n            }\n        }\n        this._handler.sendMessage(msg, transfer);\n    }\n}\n/**\n * Main thread side\n */\nexport class SimpleWorkerClient extends Disposable {\n    constructor(workerFactory, moduleId, host) {\n        super();\n        let lazyProxyReject = null;\n        this._worker = this._register(workerFactory.create('vs/base/common/worker/simpleWorker', (msg) => {\n            this._protocol.handleMessage(msg);\n        }, (err) => {\n            // in Firefox, web workers fail lazily :(\n            // we will reject the proxy\n            lazyProxyReject === null || lazyProxyReject === void 0 ? void 0 : lazyProxyReject(err);\n        }));\n        this._protocol = new SimpleWorkerProtocol({\n            sendMessage: (msg, transfer) => {\n                this._worker.postMessage(msg, transfer);\n            },\n            handleMessage: (method, args) => {\n                if (typeof host[method] !== 'function') {\n                    return Promise.reject(new Error('Missing method ' + method + ' on main thread host.'));\n                }\n                try {\n                    return Promise.resolve(host[method].apply(host, args));\n                }\n                catch (e) {\n                    return Promise.reject(e);\n                }\n            },\n            handleEvent: (eventName, arg) => {\n                if (propertyIsDynamicEvent(eventName)) {\n                    const event = host[eventName].call(host, arg);\n                    if (typeof event !== 'function') {\n                        throw new Error(`Missing dynamic event ${eventName} on main thread host.`);\n                    }\n                    return event;\n                }\n                if (propertyIsEvent(eventName)) {\n                    const event = host[eventName];\n                    if (typeof event !== 'function') {\n                        throw new Error(`Missing event ${eventName} on main thread host.`);\n                    }\n                    return event;\n                }\n                throw new Error(`Malformed event name ${eventName}`);\n            }\n        });\n        this._protocol.setWorkerId(this._worker.getId());\n        // Gather loader configuration\n        let loaderConfiguration = null;\n        const globalRequire = globalThis.require;\n        if (typeof globalRequire !== 'undefined' && typeof globalRequire.getConfig === 'function') {\n            // Get the configuration from the Monaco AMD Loader\n            loaderConfiguration = globalRequire.getConfig();\n        }\n        else if (typeof globalThis.requirejs !== 'undefined') {\n            // Get the configuration from requirejs\n            loaderConfiguration = globalThis.requirejs.s.contexts._.config;\n        }\n        const hostMethods = getAllMethodNames(host);\n        // Send initialize message\n        this._onModuleLoaded = this._protocol.sendMessage(INITIALIZE, [\n            this._worker.getId(),\n            JSON.parse(JSON.stringify(loaderConfiguration)),\n            moduleId,\n            hostMethods,\n        ]);\n        // Create proxy to loaded code\n        const proxyMethodRequest = (method, args) => {\n            return this._request(method, args);\n        };\n        const proxyListen = (eventName, arg) => {\n            return this._protocol.listen(eventName, arg);\n        };\n        this._lazyProxy = new Promise((resolve, reject) => {\n            lazyProxyReject = reject;\n            this._onModuleLoaded.then((availableMethods) => {\n                resolve(createProxyObject(availableMethods, proxyMethodRequest, proxyListen));\n            }, (e) => {\n                reject(e);\n                this._onError('Worker failed to load ' + moduleId, e);\n            });\n        });\n    }\n    getProxyObject() {\n        return this._lazyProxy;\n    }\n    _request(method, args) {\n        return new Promise((resolve, reject) => {\n            this._onModuleLoaded.then(() => {\n                this._protocol.sendMessage(method, args).then(resolve, reject);\n            }, reject);\n        });\n    }\n    _onError(message, error) {\n        console.error(message);\n        console.info(error);\n    }\n}\nfunction propertyIsEvent(name) {\n    // Assume a property is an event if it has a form of \"onSomething\"\n    return name[0] === 'o' && name[1] === 'n' && strings.isUpperAsciiLetter(name.charCodeAt(2));\n}\nfunction propertyIsDynamicEvent(name) {\n    // Assume a property is a dynamic event (a method that returns an event) if it has a form of \"onDynamicSomething\"\n    return /^onDynamic/.test(name) && strings.isUpperAsciiLetter(name.charCodeAt(9));\n}\nfunction createProxyObject(methodNames, invoke, proxyListen) {\n    const createProxyMethod = (method) => {\n        return function () {\n            const args = Array.prototype.slice.call(arguments, 0);\n            return invoke(method, args);\n        };\n    };\n    const createProxyDynamicEvent = (eventName) => {\n        return function (arg) {\n            return proxyListen(eventName, arg);\n        };\n    };\n    const result = {};\n    for (const methodName of methodNames) {\n        if (propertyIsDynamicEvent(methodName)) {\n            result[methodName] = createProxyDynamicEvent(methodName);\n            continue;\n        }\n        if (propertyIsEvent(methodName)) {\n            result[methodName] = proxyListen(methodName, undefined);\n            continue;\n        }\n        result[methodName] = createProxyMethod(methodName);\n    }\n    return result;\n}\n/**\n * Worker side\n */\nexport class SimpleWorkerServer {\n    constructor(postMessage, requestHandlerFactory) {\n        this._requestHandlerFactory = requestHandlerFactory;\n        this._requestHandler = null;\n        this._protocol = new SimpleWorkerProtocol({\n            sendMessage: (msg, transfer) => {\n                postMessage(msg, transfer);\n            },\n            handleMessage: (method, args) => this._handleMessage(method, args),\n            handleEvent: (eventName, arg) => this._handleEvent(eventName, arg)\n        });\n    }\n    onmessage(msg) {\n        this._protocol.handleMessage(msg);\n    }\n    _handleMessage(method, args) {\n        if (method === INITIALIZE) {\n            return this.initialize(args[0], args[1], args[2], args[3]);\n        }\n        if (!this._requestHandler || typeof this._requestHandler[method] !== 'function') {\n            return Promise.reject(new Error('Missing requestHandler or method: ' + method));\n        }\n        try {\n            return Promise.resolve(this._requestHandler[method].apply(this._requestHandler, args));\n        }\n        catch (e) {\n            return Promise.reject(e);\n        }\n    }\n    _handleEvent(eventName, arg) {\n        if (!this._requestHandler) {\n            throw new Error(`Missing requestHandler`);\n        }\n        if (propertyIsDynamicEvent(eventName)) {\n            const event = this._requestHandler[eventName].call(this._requestHandler, arg);\n            if (typeof event !== 'function') {\n                throw new Error(`Missing dynamic event ${eventName} on request handler.`);\n            }\n            return event;\n        }\n        if (propertyIsEvent(eventName)) {\n            const event = this._requestHandler[eventName];\n            if (typeof event !== 'function') {\n                throw new Error(`Missing event ${eventName} on request handler.`);\n            }\n            return event;\n        }\n        throw new Error(`Malformed event name ${eventName}`);\n    }\n    initialize(workerId, loaderConfig, moduleId, hostMethods) {\n        this._protocol.setWorkerId(workerId);\n        const proxyMethodRequest = (method, args) => {\n            return this._protocol.sendMessage(method, args);\n        };\n        const proxyListen = (eventName, arg) => {\n            return this._protocol.listen(eventName, arg);\n        };\n        const hostProxy = createProxyObject(hostMethods, proxyMethodRequest, proxyListen);\n        if (this._requestHandlerFactory) {\n            // static request handler\n            this._requestHandler = this._requestHandlerFactory(hostProxy);\n            return Promise.resolve(getAllMethodNames(this._requestHandler));\n        }\n        if (loaderConfig) {\n            // Remove 'baseUrl', handling it is beyond scope for now\n            if (typeof loaderConfig.baseUrl !== 'undefined') {\n                delete loaderConfig['baseUrl'];\n            }\n            if (typeof loaderConfig.paths !== 'undefined') {\n                if (typeof loaderConfig.paths.vs !== 'undefined') {\n                    delete loaderConfig.paths['vs'];\n                }\n            }\n            if (typeof loaderConfig.trustedTypesPolicy !== undefined) {\n                // don't use, it has been destroyed during serialize\n                delete loaderConfig['trustedTypesPolicy'];\n            }\n            // Since this is in a web worker, enable catching errors\n            loaderConfig.catchError = true;\n            globalThis.require.config(loaderConfig);\n        }\n        return new Promise((resolve, reject) => {\n            // Use the global require to be sure to get the global config\n            // ESM-comment-begin\n            // \t\t\tconst req = (globalThis.require || require);\n            // ESM-comment-end\n            // ESM-uncomment-begin\n            const req = globalThis.require;\n            // ESM-uncomment-end\n            req([moduleId], (module) => {\n                this._requestHandler = module.create(hostProxy);\n                if (!this._requestHandler) {\n                    reject(new Error(`No RequestHandler!`));\n                    return;\n                }\n                resolve(getAllMethodNames(this._requestHandler));\n            }, reject);\n        });\n    }\n}\n/**\n * Called on the worker side\n * @skipMangle\n */\nexport function create(postMessage) {\n    return new SimpleWorkerServer(postMessage, null);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/**\n * Represents information about a specific difference between two sequences.\n */\nexport class DiffChange {\n    /**\n     * Constructs a new DiffChange with the given sequence information\n     * and content.\n     */\n    constructor(originalStart, originalLength, modifiedStart, modifiedLength) {\n        //Debug.Assert(originalLength > 0 || modifiedLength > 0, \"originalLength and modifiedLength cannot both be <= 0\");\n        this.originalStart = originalStart;\n        this.originalLength = originalLength;\n        this.modifiedStart = modifiedStart;\n        this.modifiedLength = modifiedLength;\n    }\n    /**\n     * The end point (exclusive) of the change in the original sequence.\n     */\n    getOriginalEnd() {\n        return this.originalStart + this.originalLength;\n    }\n    /**\n     * The end point (exclusive) of the change in the modified sequence.\n     */\n    getModifiedEnd() {\n        return this.modifiedStart + this.modifiedLength;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as strings from './strings.js';\n/**\n * Return a hash value for an object.\n */\nexport function hash(obj) {\n    return doHash(obj, 0);\n}\nexport function doHash(obj, hashVal) {\n    switch (typeof obj) {\n        case 'object':\n            if (obj === null) {\n                return numberHash(349, hashVal);\n            }\n            else if (Array.isArray(obj)) {\n                return arrayHash(obj, hashVal);\n            }\n            return objectHash(obj, hashVal);\n        case 'string':\n            return stringHash(obj, hashVal);\n        case 'boolean':\n            return booleanHash(obj, hashVal);\n        case 'number':\n            return numberHash(obj, hashVal);\n        case 'undefined':\n            return numberHash(937, hashVal);\n        default:\n            return numberHash(617, hashVal);\n    }\n}\nexport function numberHash(val, initialHashVal) {\n    return (((initialHashVal << 5) - initialHashVal) + val) | 0; // hashVal * 31 + ch, keep as int32\n}\nfunction booleanHash(b, initialHashVal) {\n    return numberHash(b ? 433 : 863, initialHashVal);\n}\nexport function stringHash(s, hashVal) {\n    hashVal = numberHash(149417, hashVal);\n    for (let i = 0, length = s.length; i < length; i++) {\n        hashVal = numberHash(s.charCodeAt(i), hashVal);\n    }\n    return hashVal;\n}\nfunction arrayHash(arr, initialHashVal) {\n    initialHashVal = numberHash(104579, initialHashVal);\n    return arr.reduce((hashVal, item) => doHash(item, hashVal), initialHashVal);\n}\nfunction objectHash(obj, initialHashVal) {\n    initialHashVal = numberHash(181387, initialHashVal);\n    return Object.keys(obj).sort().reduce((hashVal, key) => {\n        hashVal = stringHash(key, hashVal);\n        return doHash(obj[key], hashVal);\n    }, initialHashVal);\n}\nfunction leftRotate(value, bits, totalBits = 32) {\n    // delta + bits = totalBits\n    const delta = totalBits - bits;\n    // All ones, expect `delta` zeros aligned to the right\n    const mask = ~((1 << delta) - 1);\n    // Join (value left-shifted `bits` bits) with (masked value right-shifted `delta` bits)\n    return ((value << bits) | ((mask & value) >>> delta)) >>> 0;\n}\nfunction fill(dest, index = 0, count = dest.byteLength, value = 0) {\n    for (let i = 0; i < count; i++) {\n        dest[index + i] = value;\n    }\n}\nfunction leftPad(value, length, char = '0') {\n    while (value.length < length) {\n        value = char + value;\n    }\n    return value;\n}\nexport function toHexString(bufferOrValue, bitsize = 32) {\n    if (bufferOrValue instanceof ArrayBuffer) {\n        return Array.from(new Uint8Array(bufferOrValue)).map(b => b.toString(16).padStart(2, '0')).join('');\n    }\n    return leftPad((bufferOrValue >>> 0).toString(16), bitsize / 4);\n}\n/**\n * A SHA1 implementation that works with strings and does not allocate.\n */\nexport class StringSHA1 {\n    constructor() {\n        this._h0 = 0x67452301;\n        this._h1 = 0xEFCDAB89;\n        this._h2 = 0x98BADCFE;\n        this._h3 = 0x10325476;\n        this._h4 = 0xC3D2E1F0;\n        this._buff = new Uint8Array(64 /* SHA1Constant.BLOCK_SIZE */ + 3 /* to fit any utf-8 */);\n        this._buffDV = new DataView(this._buff.buffer);\n        this._buffLen = 0;\n        this._totalLen = 0;\n        this._leftoverHighSurrogate = 0;\n        this._finished = false;\n    }\n    update(str) {\n        const strLen = str.length;\n        if (strLen === 0) {\n            return;\n        }\n        const buff = this._buff;\n        let buffLen = this._buffLen;\n        let leftoverHighSurrogate = this._leftoverHighSurrogate;\n        let charCode;\n        let offset;\n        if (leftoverHighSurrogate !== 0) {\n            charCode = leftoverHighSurrogate;\n            offset = -1;\n            leftoverHighSurrogate = 0;\n        }\n        else {\n            charCode = str.charCodeAt(0);\n            offset = 0;\n        }\n        while (true) {\n            let codePoint = charCode;\n            if (strings.isHighSurrogate(charCode)) {\n                if (offset + 1 < strLen) {\n                    const nextCharCode = str.charCodeAt(offset + 1);\n                    if (strings.isLowSurrogate(nextCharCode)) {\n                        offset++;\n                        codePoint = strings.computeCodePoint(charCode, nextCharCode);\n                    }\n                    else {\n                        // illegal => unicode replacement character\n                        codePoint = 65533 /* SHA1Constant.UNICODE_REPLACEMENT */;\n                    }\n                }\n                else {\n                    // last character is a surrogate pair\n                    leftoverHighSurrogate = charCode;\n                    break;\n                }\n            }\n            else if (strings.isLowSurrogate(charCode)) {\n                // illegal => unicode replacement character\n                codePoint = 65533 /* SHA1Constant.UNICODE_REPLACEMENT */;\n            }\n            buffLen = this._push(buff, buffLen, codePoint);\n            offset++;\n            if (offset < strLen) {\n                charCode = str.charCodeAt(offset);\n            }\n            else {\n                break;\n            }\n        }\n        this._buffLen = buffLen;\n        this._leftoverHighSurrogate = leftoverHighSurrogate;\n    }\n    _push(buff, buffLen, codePoint) {\n        if (codePoint < 0x0080) {\n            buff[buffLen++] = codePoint;\n        }\n        else if (codePoint < 0x0800) {\n            buff[buffLen++] = 0b11000000 | ((codePoint & 0b00000000000000000000011111000000) >>> 6);\n            buff[buffLen++] = 0b10000000 | ((codePoint & 0b00000000000000000000000000111111) >>> 0);\n        }\n        else if (codePoint < 0x10000) {\n            buff[buffLen++] = 0b11100000 | ((codePoint & 0b00000000000000001111000000000000) >>> 12);\n            buff[buffLen++] = 0b10000000 | ((codePoint & 0b00000000000000000000111111000000) >>> 6);\n            buff[buffLen++] = 0b10000000 | ((codePoint & 0b00000000000000000000000000111111) >>> 0);\n        }\n        else {\n            buff[buffLen++] = 0b11110000 | ((codePoint & 0b00000000000111000000000000000000) >>> 18);\n            buff[buffLen++] = 0b10000000 | ((codePoint & 0b00000000000000111111000000000000) >>> 12);\n            buff[buffLen++] = 0b10000000 | ((codePoint & 0b00000000000000000000111111000000) >>> 6);\n            buff[buffLen++] = 0b10000000 | ((codePoint & 0b00000000000000000000000000111111) >>> 0);\n        }\n        if (buffLen >= 64 /* SHA1Constant.BLOCK_SIZE */) {\n            this._step();\n            buffLen -= 64 /* SHA1Constant.BLOCK_SIZE */;\n            this._totalLen += 64 /* SHA1Constant.BLOCK_SIZE */;\n            // take last 3 in case of UTF8 overflow\n            buff[0] = buff[64 /* SHA1Constant.BLOCK_SIZE */ + 0];\n            buff[1] = buff[64 /* SHA1Constant.BLOCK_SIZE */ + 1];\n            buff[2] = buff[64 /* SHA1Constant.BLOCK_SIZE */ + 2];\n        }\n        return buffLen;\n    }\n    digest() {\n        if (!this._finished) {\n            this._finished = true;\n            if (this._leftoverHighSurrogate) {\n                // illegal => unicode replacement character\n                this._leftoverHighSurrogate = 0;\n                this._buffLen = this._push(this._buff, this._buffLen, 65533 /* SHA1Constant.UNICODE_REPLACEMENT */);\n            }\n            this._totalLen += this._buffLen;\n            this._wrapUp();\n        }\n        return toHexString(this._h0) + toHexString(this._h1) + toHexString(this._h2) + toHexString(this._h3) + toHexString(this._h4);\n    }\n    _wrapUp() {\n        this._buff[this._buffLen++] = 0x80;\n        fill(this._buff, this._buffLen);\n        if (this._buffLen > 56) {\n            this._step();\n            fill(this._buff);\n        }\n        // this will fit because the mantissa can cover up to 52 bits\n        const ml = 8 * this._totalLen;\n        this._buffDV.setUint32(56, Math.floor(ml / 4294967296), false);\n        this._buffDV.setUint32(60, ml % 4294967296, false);\n        this._step();\n    }\n    _step() {\n        const bigBlock32 = StringSHA1._bigBlock32;\n        const data = this._buffDV;\n        for (let j = 0; j < 64 /* 16*4 */; j += 4) {\n            bigBlock32.setUint32(j, data.getUint32(j, false), false);\n        }\n        for (let j = 64; j < 320 /* 80*4 */; j += 4) {\n            bigBlock32.setUint32(j, leftRotate((bigBlock32.getUint32(j - 12, false) ^ bigBlock32.getUint32(j - 32, false) ^ bigBlock32.getUint32(j - 56, false) ^ bigBlock32.getUint32(j - 64, false)), 1), false);\n        }\n        let a = this._h0;\n        let b = this._h1;\n        let c = this._h2;\n        let d = this._h3;\n        let e = this._h4;\n        let f, k;\n        let temp;\n        for (let j = 0; j < 80; j++) {\n            if (j < 20) {\n                f = (b & c) | ((~b) & d);\n                k = 0x5A827999;\n            }\n            else if (j < 40) {\n                f = b ^ c ^ d;\n                k = 0x6ED9EBA1;\n            }\n            else if (j < 60) {\n                f = (b & c) | (b & d) | (c & d);\n                k = 0x8F1BBCDC;\n            }\n            else {\n                f = b ^ c ^ d;\n                k = 0xCA62C1D6;\n            }\n            temp = (leftRotate(a, 5) + f + e + k + bigBlock32.getUint32(j * 4, false)) & 0xffffffff;\n            e = d;\n            d = c;\n            c = leftRotate(b, 30);\n            b = a;\n            a = temp;\n        }\n        this._h0 = (this._h0 + a) & 0xffffffff;\n        this._h1 = (this._h1 + b) & 0xffffffff;\n        this._h2 = (this._h2 + c) & 0xffffffff;\n        this._h3 = (this._h3 + d) & 0xffffffff;\n        this._h4 = (this._h4 + e) & 0xffffffff;\n    }\n}\nStringSHA1._bigBlock32 = new DataView(new ArrayBuffer(320)); // 80 * 4 = 320\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { DiffChange } from './diffChange.js';\nimport { stringHash } from '../hash.js';\nexport class StringDiffSequence {\n    constructor(source) {\n        this.source = source;\n    }\n    getElements() {\n        const source = this.source;\n        const characters = new Int32Array(source.length);\n        for (let i = 0, len = source.length; i < len; i++) {\n            characters[i] = source.charCodeAt(i);\n        }\n        return characters;\n    }\n}\nexport function stringDiff(original, modified, pretty) {\n    return new LcsDiff(new StringDiffSequence(original), new StringDiffSequence(modified)).ComputeDiff(pretty).changes;\n}\n//\n// The code below has been ported from a C# implementation in VS\n//\nclass Debug {\n    static Assert(condition, message) {\n        if (!condition) {\n            throw new Error(message);\n        }\n    }\n}\nclass MyArray {\n    /**\n     * Copies a range of elements from an Array starting at the specified source index and pastes\n     * them to another Array starting at the specified destination index. The length and the indexes\n     * are specified as 64-bit integers.\n     * sourceArray:\n     *\t\tThe Array that contains the data to copy.\n     * sourceIndex:\n     *\t\tA 64-bit integer that represents the index in the sourceArray at which copying begins.\n     * destinationArray:\n     *\t\tThe Array that receives the data.\n     * destinationIndex:\n     *\t\tA 64-bit integer that represents the index in the destinationArray at which storing begins.\n     * length:\n     *\t\tA 64-bit integer that represents the number of elements to copy.\n     */\n    static Copy(sourceArray, sourceIndex, destinationArray, destinationIndex, length) {\n        for (let i = 0; i < length; i++) {\n            destinationArray[destinationIndex + i] = sourceArray[sourceIndex + i];\n        }\n    }\n    static Copy2(sourceArray, sourceIndex, destinationArray, destinationIndex, length) {\n        for (let i = 0; i < length; i++) {\n            destinationArray[destinationIndex + i] = sourceArray[sourceIndex + i];\n        }\n    }\n}\n/**\n * A utility class which helps to create the set of DiffChanges from\n * a difference operation. This class accepts original DiffElements and\n * modified DiffElements that are involved in a particular change. The\n * MarkNextChange() method can be called to mark the separation between\n * distinct changes. At the end, the Changes property can be called to retrieve\n * the constructed changes.\n */\nclass DiffChangeHelper {\n    /**\n     * Constructs a new DiffChangeHelper for the given DiffSequences.\n     */\n    constructor() {\n        this.m_changes = [];\n        this.m_originalStart = 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */;\n        this.m_modifiedStart = 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */;\n        this.m_originalCount = 0;\n        this.m_modifiedCount = 0;\n    }\n    /**\n     * Marks the beginning of the next change in the set of differences.\n     */\n    MarkNextChange() {\n        // Only add to the list if there is something to add\n        if (this.m_originalCount > 0 || this.m_modifiedCount > 0) {\n            // Add the new change to our list\n            this.m_changes.push(new DiffChange(this.m_originalStart, this.m_originalCount, this.m_modifiedStart, this.m_modifiedCount));\n        }\n        // Reset for the next change\n        this.m_originalCount = 0;\n        this.m_modifiedCount = 0;\n        this.m_originalStart = 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */;\n        this.m_modifiedStart = 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */;\n    }\n    /**\n     * Adds the original element at the given position to the elements\n     * affected by the current change. The modified index gives context\n     * to the change position with respect to the original sequence.\n     * @param originalIndex The index of the original element to add.\n     * @param modifiedIndex The index of the modified element that provides corresponding position in the modified sequence.\n     */\n    AddOriginalElement(originalIndex, modifiedIndex) {\n        // The 'true' start index is the smallest of the ones we've seen\n        this.m_originalStart = Math.min(this.m_originalStart, originalIndex);\n        this.m_modifiedStart = Math.min(this.m_modifiedStart, modifiedIndex);\n        this.m_originalCount++;\n    }\n    /**\n     * Adds the modified element at the given position to the elements\n     * affected by the current change. The original index gives context\n     * to the change position with respect to the modified sequence.\n     * @param originalIndex The index of the original element that provides corresponding position in the original sequence.\n     * @param modifiedIndex The index of the modified element to add.\n     */\n    AddModifiedElement(originalIndex, modifiedIndex) {\n        // The 'true' start index is the smallest of the ones we've seen\n        this.m_originalStart = Math.min(this.m_originalStart, originalIndex);\n        this.m_modifiedStart = Math.min(this.m_modifiedStart, modifiedIndex);\n        this.m_modifiedCount++;\n    }\n    /**\n     * Retrieves all of the changes marked by the class.\n     */\n    getChanges() {\n        if (this.m_originalCount > 0 || this.m_modifiedCount > 0) {\n            // Finish up on whatever is left\n            this.MarkNextChange();\n        }\n        return this.m_changes;\n    }\n    /**\n     * Retrieves all of the changes marked by the class in the reverse order\n     */\n    getReverseChanges() {\n        if (this.m_originalCount > 0 || this.m_modifiedCount > 0) {\n            // Finish up on whatever is left\n            this.MarkNextChange();\n        }\n        this.m_changes.reverse();\n        return this.m_changes;\n    }\n}\n/**\n * An implementation of the difference algorithm described in\n * \"An O(ND) Difference Algorithm and its variations\" by Eugene W. Myers\n */\nexport class LcsDiff {\n    /**\n     * Constructs the DiffFinder\n     */\n    constructor(originalSequence, modifiedSequence, continueProcessingPredicate = null) {\n        this.ContinueProcessingPredicate = continueProcessingPredicate;\n        this._originalSequence = originalSequence;\n        this._modifiedSequence = modifiedSequence;\n        const [originalStringElements, originalElementsOrHash, originalHasStrings] = LcsDiff._getElements(originalSequence);\n        const [modifiedStringElements, modifiedElementsOrHash, modifiedHasStrings] = LcsDiff._getElements(modifiedSequence);\n        this._hasStrings = (originalHasStrings && modifiedHasStrings);\n        this._originalStringElements = originalStringElements;\n        this._originalElementsOrHash = originalElementsOrHash;\n        this._modifiedStringElements = modifiedStringElements;\n        this._modifiedElementsOrHash = modifiedElementsOrHash;\n        this.m_forwardHistory = [];\n        this.m_reverseHistory = [];\n    }\n    static _isStringArray(arr) {\n        return (arr.length > 0 && typeof arr[0] === 'string');\n    }\n    static _getElements(sequence) {\n        const elements = sequence.getElements();\n        if (LcsDiff._isStringArray(elements)) {\n            const hashes = new Int32Array(elements.length);\n            for (let i = 0, len = elements.length; i < len; i++) {\n                hashes[i] = stringHash(elements[i], 0);\n            }\n            return [elements, hashes, true];\n        }\n        if (elements instanceof Int32Array) {\n            return [[], elements, false];\n        }\n        return [[], new Int32Array(elements), false];\n    }\n    ElementsAreEqual(originalIndex, newIndex) {\n        if (this._originalElementsOrHash[originalIndex] !== this._modifiedElementsOrHash[newIndex]) {\n            return false;\n        }\n        return (this._hasStrings ? this._originalStringElements[originalIndex] === this._modifiedStringElements[newIndex] : true);\n    }\n    ElementsAreStrictEqual(originalIndex, newIndex) {\n        if (!this.ElementsAreEqual(originalIndex, newIndex)) {\n            return false;\n        }\n        const originalElement = LcsDiff._getStrictElement(this._originalSequence, originalIndex);\n        const modifiedElement = LcsDiff._getStrictElement(this._modifiedSequence, newIndex);\n        return (originalElement === modifiedElement);\n    }\n    static _getStrictElement(sequence, index) {\n        if (typeof sequence.getStrictElement === 'function') {\n            return sequence.getStrictElement(index);\n        }\n        return null;\n    }\n    OriginalElementsAreEqual(index1, index2) {\n        if (this._originalElementsOrHash[index1] !== this._originalElementsOrHash[index2]) {\n            return false;\n        }\n        return (this._hasStrings ? this._originalStringElements[index1] === this._originalStringElements[index2] : true);\n    }\n    ModifiedElementsAreEqual(index1, index2) {\n        if (this._modifiedElementsOrHash[index1] !== this._modifiedElementsOrHash[index2]) {\n            return false;\n        }\n        return (this._hasStrings ? this._modifiedStringElements[index1] === this._modifiedStringElements[index2] : true);\n    }\n    ComputeDiff(pretty) {\n        return this._ComputeDiff(0, this._originalElementsOrHash.length - 1, 0, this._modifiedElementsOrHash.length - 1, pretty);\n    }\n    /**\n     * Computes the differences between the original and modified input\n     * sequences on the bounded range.\n     * @returns An array of the differences between the two input sequences.\n     */\n    _ComputeDiff(originalStart, originalEnd, modifiedStart, modifiedEnd, pretty) {\n        const quitEarlyArr = [false];\n        let changes = this.ComputeDiffRecursive(originalStart, originalEnd, modifiedStart, modifiedEnd, quitEarlyArr);\n        if (pretty) {\n            // We have to clean up the computed diff to be more intuitive\n            // but it turns out this cannot be done correctly until the entire set\n            // of diffs have been computed\n            changes = this.PrettifyChanges(changes);\n        }\n        return {\n            quitEarly: quitEarlyArr[0],\n            changes: changes\n        };\n    }\n    /**\n     * Private helper method which computes the differences on the bounded range\n     * recursively.\n     * @returns An array of the differences between the two input sequences.\n     */\n    ComputeDiffRecursive(originalStart, originalEnd, modifiedStart, modifiedEnd, quitEarlyArr) {\n        quitEarlyArr[0] = false;\n        // Find the start of the differences\n        while (originalStart <= originalEnd && modifiedStart <= modifiedEnd && this.ElementsAreEqual(originalStart, modifiedStart)) {\n            originalStart++;\n            modifiedStart++;\n        }\n        // Find the end of the differences\n        while (originalEnd >= originalStart && modifiedEnd >= modifiedStart && this.ElementsAreEqual(originalEnd, modifiedEnd)) {\n            originalEnd--;\n            modifiedEnd--;\n        }\n        // In the special case where we either have all insertions or all deletions or the sequences are identical\n        if (originalStart > originalEnd || modifiedStart > modifiedEnd) {\n            let changes;\n            if (modifiedStart <= modifiedEnd) {\n                Debug.Assert(originalStart === originalEnd + 1, 'originalStart should only be one more than originalEnd');\n                // All insertions\n                changes = [\n                    new DiffChange(originalStart, 0, modifiedStart, modifiedEnd - modifiedStart + 1)\n                ];\n            }\n            else if (originalStart <= originalEnd) {\n                Debug.Assert(modifiedStart === modifiedEnd + 1, 'modifiedStart should only be one more than modifiedEnd');\n                // All deletions\n                changes = [\n                    new DiffChange(originalStart, originalEnd - originalStart + 1, modifiedStart, 0)\n                ];\n            }\n            else {\n                Debug.Assert(originalStart === originalEnd + 1, 'originalStart should only be one more than originalEnd');\n                Debug.Assert(modifiedStart === modifiedEnd + 1, 'modifiedStart should only be one more than modifiedEnd');\n                // Identical sequences - No differences\n                changes = [];\n            }\n            return changes;\n        }\n        // This problem can be solved using the Divide-And-Conquer technique.\n        const midOriginalArr = [0];\n        const midModifiedArr = [0];\n        const result = this.ComputeRecursionPoint(originalStart, originalEnd, modifiedStart, modifiedEnd, midOriginalArr, midModifiedArr, quitEarlyArr);\n        const midOriginal = midOriginalArr[0];\n        const midModified = midModifiedArr[0];\n        if (result !== null) {\n            // Result is not-null when there was enough memory to compute the changes while\n            // searching for the recursion point\n            return result;\n        }\n        else if (!quitEarlyArr[0]) {\n            // We can break the problem down recursively by finding the changes in the\n            // First Half:   (originalStart, modifiedStart) to (midOriginal, midModified)\n            // Second Half:  (midOriginal + 1, minModified + 1) to (originalEnd, modifiedEnd)\n            // NOTE: ComputeDiff() is inclusive, therefore the second range starts on the next point\n            const leftChanges = this.ComputeDiffRecursive(originalStart, midOriginal, modifiedStart, midModified, quitEarlyArr);\n            let rightChanges = [];\n            if (!quitEarlyArr[0]) {\n                rightChanges = this.ComputeDiffRecursive(midOriginal + 1, originalEnd, midModified + 1, modifiedEnd, quitEarlyArr);\n            }\n            else {\n                // We didn't have time to finish the first half, so we don't have time to compute this half.\n                // Consider the entire rest of the sequence different.\n                rightChanges = [\n                    new DiffChange(midOriginal + 1, originalEnd - (midOriginal + 1) + 1, midModified + 1, modifiedEnd - (midModified + 1) + 1)\n                ];\n            }\n            return this.ConcatenateChanges(leftChanges, rightChanges);\n        }\n        // If we hit here, we quit early, and so can't return anything meaningful\n        return [\n            new DiffChange(originalStart, originalEnd - originalStart + 1, modifiedStart, modifiedEnd - modifiedStart + 1)\n        ];\n    }\n    WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset, diagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset, forwardPoints, reversePoints, originalIndex, originalEnd, midOriginalArr, modifiedIndex, modifiedEnd, midModifiedArr, deltaIsEven, quitEarlyArr) {\n        let forwardChanges = null;\n        let reverseChanges = null;\n        // First, walk backward through the forward diagonals history\n        let changeHelper = new DiffChangeHelper();\n        let diagonalMin = diagonalForwardStart;\n        let diagonalMax = diagonalForwardEnd;\n        let diagonalRelative = (midOriginalArr[0] - midModifiedArr[0]) - diagonalForwardOffset;\n        let lastOriginalIndex = -1073741824 /* Constants.MIN_SAFE_SMALL_INTEGER */;\n        let historyIndex = this.m_forwardHistory.length - 1;\n        do {\n            // Get the diagonal index from the relative diagonal number\n            const diagonal = diagonalRelative + diagonalForwardBase;\n            // Figure out where we came from\n            if (diagonal === diagonalMin || (diagonal < diagonalMax && forwardPoints[diagonal - 1] < forwardPoints[diagonal + 1])) {\n                // Vertical line (the element is an insert)\n                originalIndex = forwardPoints[diagonal + 1];\n                modifiedIndex = originalIndex - diagonalRelative - diagonalForwardOffset;\n                if (originalIndex < lastOriginalIndex) {\n                    changeHelper.MarkNextChange();\n                }\n                lastOriginalIndex = originalIndex;\n                changeHelper.AddModifiedElement(originalIndex + 1, modifiedIndex);\n                diagonalRelative = (diagonal + 1) - diagonalForwardBase; //Setup for the next iteration\n            }\n            else {\n                // Horizontal line (the element is a deletion)\n                originalIndex = forwardPoints[diagonal - 1] + 1;\n                modifiedIndex = originalIndex - diagonalRelative - diagonalForwardOffset;\n                if (originalIndex < lastOriginalIndex) {\n                    changeHelper.MarkNextChange();\n                }\n                lastOriginalIndex = originalIndex - 1;\n                changeHelper.AddOriginalElement(originalIndex, modifiedIndex + 1);\n                diagonalRelative = (diagonal - 1) - diagonalForwardBase; //Setup for the next iteration\n            }\n            if (historyIndex >= 0) {\n                forwardPoints = this.m_forwardHistory[historyIndex];\n                diagonalForwardBase = forwardPoints[0]; //We stored this in the first spot\n                diagonalMin = 1;\n                diagonalMax = forwardPoints.length - 1;\n            }\n        } while (--historyIndex >= -1);\n        // Ironically, we get the forward changes as the reverse of the\n        // order we added them since we technically added them backwards\n        forwardChanges = changeHelper.getReverseChanges();\n        if (quitEarlyArr[0]) {\n            // TODO: Calculate a partial from the reverse diagonals.\n            //       For now, just assume everything after the midOriginal/midModified point is a diff\n            let originalStartPoint = midOriginalArr[0] + 1;\n            let modifiedStartPoint = midModifiedArr[0] + 1;\n            if (forwardChanges !== null && forwardChanges.length > 0) {\n                const lastForwardChange = forwardChanges[forwardChanges.length - 1];\n                originalStartPoint = Math.max(originalStartPoint, lastForwardChange.getOriginalEnd());\n                modifiedStartPoint = Math.max(modifiedStartPoint, lastForwardChange.getModifiedEnd());\n            }\n            reverseChanges = [\n                new DiffChange(originalStartPoint, originalEnd - originalStartPoint + 1, modifiedStartPoint, modifiedEnd - modifiedStartPoint + 1)\n            ];\n        }\n        else {\n            // Now walk backward through the reverse diagonals history\n            changeHelper = new DiffChangeHelper();\n            diagonalMin = diagonalReverseStart;\n            diagonalMax = diagonalReverseEnd;\n            diagonalRelative = (midOriginalArr[0] - midModifiedArr[0]) - diagonalReverseOffset;\n            lastOriginalIndex = 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */;\n            historyIndex = (deltaIsEven) ? this.m_reverseHistory.length - 1 : this.m_reverseHistory.length - 2;\n            do {\n                // Get the diagonal index from the relative diagonal number\n                const diagonal = diagonalRelative + diagonalReverseBase;\n                // Figure out where we came from\n                if (diagonal === diagonalMin || (diagonal < diagonalMax && reversePoints[diagonal - 1] >= reversePoints[diagonal + 1])) {\n                    // Horizontal line (the element is a deletion))\n                    originalIndex = reversePoints[diagonal + 1] - 1;\n                    modifiedIndex = originalIndex - diagonalRelative - diagonalReverseOffset;\n                    if (originalIndex > lastOriginalIndex) {\n                        changeHelper.MarkNextChange();\n                    }\n                    lastOriginalIndex = originalIndex + 1;\n                    changeHelper.AddOriginalElement(originalIndex + 1, modifiedIndex + 1);\n                    diagonalRelative = (diagonal + 1) - diagonalReverseBase; //Setup for the next iteration\n                }\n                else {\n                    // Vertical line (the element is an insertion)\n                    originalIndex = reversePoints[diagonal - 1];\n                    modifiedIndex = originalIndex - diagonalRelative - diagonalReverseOffset;\n                    if (originalIndex > lastOriginalIndex) {\n                        changeHelper.MarkNextChange();\n                    }\n                    lastOriginalIndex = originalIndex;\n                    changeHelper.AddModifiedElement(originalIndex + 1, modifiedIndex + 1);\n                    diagonalRelative = (diagonal - 1) - diagonalReverseBase; //Setup for the next iteration\n                }\n                if (historyIndex >= 0) {\n                    reversePoints = this.m_reverseHistory[historyIndex];\n                    diagonalReverseBase = reversePoints[0]; //We stored this in the first spot\n                    diagonalMin = 1;\n                    diagonalMax = reversePoints.length - 1;\n                }\n            } while (--historyIndex >= -1);\n            // There are cases where the reverse history will find diffs that\n            // are correct, but not intuitive, so we need shift them.\n            reverseChanges = changeHelper.getChanges();\n        }\n        return this.ConcatenateChanges(forwardChanges, reverseChanges);\n    }\n    /**\n     * Given the range to compute the diff on, this method finds the point:\n     * (midOriginal, midModified)\n     * that exists in the middle of the LCS of the two sequences and\n     * is the point at which the LCS problem may be broken down recursively.\n     * This method will try to keep the LCS trace in memory. If the LCS recursion\n     * point is calculated and the full trace is available in memory, then this method\n     * will return the change list.\n     * @param originalStart The start bound of the original sequence range\n     * @param originalEnd The end bound of the original sequence range\n     * @param modifiedStart The start bound of the modified sequence range\n     * @param modifiedEnd The end bound of the modified sequence range\n     * @param midOriginal The middle point of the original sequence range\n     * @param midModified The middle point of the modified sequence range\n     * @returns The diff changes, if available, otherwise null\n     */\n    ComputeRecursionPoint(originalStart, originalEnd, modifiedStart, modifiedEnd, midOriginalArr, midModifiedArr, quitEarlyArr) {\n        let originalIndex = 0, modifiedIndex = 0;\n        let diagonalForwardStart = 0, diagonalForwardEnd = 0;\n        let diagonalReverseStart = 0, diagonalReverseEnd = 0;\n        // To traverse the edit graph and produce the proper LCS, our actual\n        // start position is just outside the given boundary\n        originalStart--;\n        modifiedStart--;\n        // We set these up to make the compiler happy, but they will\n        // be replaced before we return with the actual recursion point\n        midOriginalArr[0] = 0;\n        midModifiedArr[0] = 0;\n        // Clear out the history\n        this.m_forwardHistory = [];\n        this.m_reverseHistory = [];\n        // Each cell in the two arrays corresponds to a diagonal in the edit graph.\n        // The integer value in the cell represents the originalIndex of the furthest\n        // reaching point found so far that ends in that diagonal.\n        // The modifiedIndex can be computed mathematically from the originalIndex and the diagonal number.\n        const maxDifferences = (originalEnd - originalStart) + (modifiedEnd - modifiedStart);\n        const numDiagonals = maxDifferences + 1;\n        const forwardPoints = new Int32Array(numDiagonals);\n        const reversePoints = new Int32Array(numDiagonals);\n        // diagonalForwardBase: Index into forwardPoints of the diagonal which passes through (originalStart, modifiedStart)\n        // diagonalReverseBase: Index into reversePoints of the diagonal which passes through (originalEnd, modifiedEnd)\n        const diagonalForwardBase = (modifiedEnd - modifiedStart);\n        const diagonalReverseBase = (originalEnd - originalStart);\n        // diagonalForwardOffset: Geometric offset which allows modifiedIndex to be computed from originalIndex and the\n        //    diagonal number (relative to diagonalForwardBase)\n        // diagonalReverseOffset: Geometric offset which allows modifiedIndex to be computed from originalIndex and the\n        //    diagonal number (relative to diagonalReverseBase)\n        const diagonalForwardOffset = (originalStart - modifiedStart);\n        const diagonalReverseOffset = (originalEnd - modifiedEnd);\n        // delta: The difference between the end diagonal and the start diagonal. This is used to relate diagonal numbers\n        //   relative to the start diagonal with diagonal numbers relative to the end diagonal.\n        // The Even/Oddn-ness of this delta is important for determining when we should check for overlap\n        const delta = diagonalReverseBase - diagonalForwardBase;\n        const deltaIsEven = (delta % 2 === 0);\n        // Here we set up the start and end points as the furthest points found so far\n        // in both the forward and reverse directions, respectively\n        forwardPoints[diagonalForwardBase] = originalStart;\n        reversePoints[diagonalReverseBase] = originalEnd;\n        // Remember if we quit early, and thus need to do a best-effort result instead of a real result.\n        quitEarlyArr[0] = false;\n        // A couple of points:\n        // --With this method, we iterate on the number of differences between the two sequences.\n        //   The more differences there actually are, the longer this will take.\n        // --Also, as the number of differences increases, we have to search on diagonals further\n        //   away from the reference diagonal (which is diagonalForwardBase for forward, diagonalReverseBase for reverse).\n        // --We extend on even diagonals (relative to the reference diagonal) only when numDifferences\n        //   is even and odd diagonals only when numDifferences is odd.\n        for (let numDifferences = 1; numDifferences <= (maxDifferences / 2) + 1; numDifferences++) {\n            let furthestOriginalIndex = 0;\n            let furthestModifiedIndex = 0;\n            // Run the algorithm in the forward direction\n            diagonalForwardStart = this.ClipDiagonalBound(diagonalForwardBase - numDifferences, numDifferences, diagonalForwardBase, numDiagonals);\n            diagonalForwardEnd = this.ClipDiagonalBound(diagonalForwardBase + numDifferences, numDifferences, diagonalForwardBase, numDiagonals);\n            for (let diagonal = diagonalForwardStart; diagonal <= diagonalForwardEnd; diagonal += 2) {\n                // STEP 1: We extend the furthest reaching point in the present diagonal\n                // by looking at the diagonals above and below and picking the one whose point\n                // is further away from the start point (originalStart, modifiedStart)\n                if (diagonal === diagonalForwardStart || (diagonal < diagonalForwardEnd && forwardPoints[diagonal - 1] < forwardPoints[diagonal + 1])) {\n                    originalIndex = forwardPoints[diagonal + 1];\n                }\n                else {\n                    originalIndex = forwardPoints[diagonal - 1] + 1;\n                }\n                modifiedIndex = originalIndex - (diagonal - diagonalForwardBase) - diagonalForwardOffset;\n                // Save the current originalIndex so we can test for false overlap in step 3\n                const tempOriginalIndex = originalIndex;\n                // STEP 2: We can continue to extend the furthest reaching point in the present diagonal\n                // so long as the elements are equal.\n                while (originalIndex < originalEnd && modifiedIndex < modifiedEnd && this.ElementsAreEqual(originalIndex + 1, modifiedIndex + 1)) {\n                    originalIndex++;\n                    modifiedIndex++;\n                }\n                forwardPoints[diagonal] = originalIndex;\n                if (originalIndex + modifiedIndex > furthestOriginalIndex + furthestModifiedIndex) {\n                    furthestOriginalIndex = originalIndex;\n                    furthestModifiedIndex = modifiedIndex;\n                }\n                // STEP 3: If delta is odd (overlap first happens on forward when delta is odd)\n                // and diagonal is in the range of reverse diagonals computed for numDifferences-1\n                // (the previous iteration; we haven't computed reverse diagonals for numDifferences yet)\n                // then check for overlap.\n                if (!deltaIsEven && Math.abs(diagonal - diagonalReverseBase) <= (numDifferences - 1)) {\n                    if (originalIndex >= reversePoints[diagonal]) {\n                        midOriginalArr[0] = originalIndex;\n                        midModifiedArr[0] = modifiedIndex;\n                        if (tempOriginalIndex <= reversePoints[diagonal] && 1447 /* LocalConstants.MaxDifferencesHistory */ > 0 && numDifferences <= (1447 /* LocalConstants.MaxDifferencesHistory */ + 1)) {\n                            // BINGO! We overlapped, and we have the full trace in memory!\n                            return this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset, diagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset, forwardPoints, reversePoints, originalIndex, originalEnd, midOriginalArr, modifiedIndex, modifiedEnd, midModifiedArr, deltaIsEven, quitEarlyArr);\n                        }\n                        else {\n                            // Either false overlap, or we didn't have enough memory for the full trace\n                            // Just return the recursion point\n                            return null;\n                        }\n                    }\n                }\n            }\n            // Check to see if we should be quitting early, before moving on to the next iteration.\n            const matchLengthOfLongest = ((furthestOriginalIndex - originalStart) + (furthestModifiedIndex - modifiedStart) - numDifferences) / 2;\n            if (this.ContinueProcessingPredicate !== null && !this.ContinueProcessingPredicate(furthestOriginalIndex, matchLengthOfLongest)) {\n                // We can't finish, so skip ahead to generating a result from what we have.\n                quitEarlyArr[0] = true;\n                // Use the furthest distance we got in the forward direction.\n                midOriginalArr[0] = furthestOriginalIndex;\n                midModifiedArr[0] = furthestModifiedIndex;\n                if (matchLengthOfLongest > 0 && 1447 /* LocalConstants.MaxDifferencesHistory */ > 0 && numDifferences <= (1447 /* LocalConstants.MaxDifferencesHistory */ + 1)) {\n                    // Enough of the history is in memory to walk it backwards\n                    return this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset, diagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset, forwardPoints, reversePoints, originalIndex, originalEnd, midOriginalArr, modifiedIndex, modifiedEnd, midModifiedArr, deltaIsEven, quitEarlyArr);\n                }\n                else {\n                    // We didn't actually remember enough of the history.\n                    //Since we are quitting the diff early, we need to shift back the originalStart and modified start\n                    //back into the boundary limits since we decremented their value above beyond the boundary limit.\n                    originalStart++;\n                    modifiedStart++;\n                    return [\n                        new DiffChange(originalStart, originalEnd - originalStart + 1, modifiedStart, modifiedEnd - modifiedStart + 1)\n                    ];\n                }\n            }\n            // Run the algorithm in the reverse direction\n            diagonalReverseStart = this.ClipDiagonalBound(diagonalReverseBase - numDifferences, numDifferences, diagonalReverseBase, numDiagonals);\n            diagonalReverseEnd = this.ClipDiagonalBound(diagonalReverseBase + numDifferences, numDifferences, diagonalReverseBase, numDiagonals);\n            for (let diagonal = diagonalReverseStart; diagonal <= diagonalReverseEnd; diagonal += 2) {\n                // STEP 1: We extend the furthest reaching point in the present diagonal\n                // by looking at the diagonals above and below and picking the one whose point\n                // is further away from the start point (originalEnd, modifiedEnd)\n                if (diagonal === diagonalReverseStart || (diagonal < diagonalReverseEnd && reversePoints[diagonal - 1] >= reversePoints[diagonal + 1])) {\n                    originalIndex = reversePoints[diagonal + 1] - 1;\n                }\n                else {\n                    originalIndex = reversePoints[diagonal - 1];\n                }\n                modifiedIndex = originalIndex - (diagonal - diagonalReverseBase) - diagonalReverseOffset;\n                // Save the current originalIndex so we can test for false overlap\n                const tempOriginalIndex = originalIndex;\n                // STEP 2: We can continue to extend the furthest reaching point in the present diagonal\n                // as long as the elements are equal.\n                while (originalIndex > originalStart && modifiedIndex > modifiedStart && this.ElementsAreEqual(originalIndex, modifiedIndex)) {\n                    originalIndex--;\n                    modifiedIndex--;\n                }\n                reversePoints[diagonal] = originalIndex;\n                // STEP 4: If delta is even (overlap first happens on reverse when delta is even)\n                // and diagonal is in the range of forward diagonals computed for numDifferences\n                // then check for overlap.\n                if (deltaIsEven && Math.abs(diagonal - diagonalForwardBase) <= numDifferences) {\n                    if (originalIndex <= forwardPoints[diagonal]) {\n                        midOriginalArr[0] = originalIndex;\n                        midModifiedArr[0] = modifiedIndex;\n                        if (tempOriginalIndex >= forwardPoints[diagonal] && 1447 /* LocalConstants.MaxDifferencesHistory */ > 0 && numDifferences <= (1447 /* LocalConstants.MaxDifferencesHistory */ + 1)) {\n                            // BINGO! We overlapped, and we have the full trace in memory!\n                            return this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset, diagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset, forwardPoints, reversePoints, originalIndex, originalEnd, midOriginalArr, modifiedIndex, modifiedEnd, midModifiedArr, deltaIsEven, quitEarlyArr);\n                        }\n                        else {\n                            // Either false overlap, or we didn't have enough memory for the full trace\n                            // Just return the recursion point\n                            return null;\n                        }\n                    }\n                }\n            }\n            // Save current vectors to history before the next iteration\n            if (numDifferences <= 1447 /* LocalConstants.MaxDifferencesHistory */) {\n                // We are allocating space for one extra int, which we fill with\n                // the index of the diagonal base index\n                let temp = new Int32Array(diagonalForwardEnd - diagonalForwardStart + 2);\n                temp[0] = diagonalForwardBase - diagonalForwardStart + 1;\n                MyArray.Copy2(forwardPoints, diagonalForwardStart, temp, 1, diagonalForwardEnd - diagonalForwardStart + 1);\n                this.m_forwardHistory.push(temp);\n                temp = new Int32Array(diagonalReverseEnd - diagonalReverseStart + 2);\n                temp[0] = diagonalReverseBase - diagonalReverseStart + 1;\n                MyArray.Copy2(reversePoints, diagonalReverseStart, temp, 1, diagonalReverseEnd - diagonalReverseStart + 1);\n                this.m_reverseHistory.push(temp);\n            }\n        }\n        // If we got here, then we have the full trace in history. We just have to convert it to a change list\n        // NOTE: This part is a bit messy\n        return this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset, diagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset, forwardPoints, reversePoints, originalIndex, originalEnd, midOriginalArr, modifiedIndex, modifiedEnd, midModifiedArr, deltaIsEven, quitEarlyArr);\n    }\n    /**\n     * Shifts the given changes to provide a more intuitive diff.\n     * While the first element in a diff matches the first element after the diff,\n     * we shift the diff down.\n     *\n     * @param changes The list of changes to shift\n     * @returns The shifted changes\n     */\n    PrettifyChanges(changes) {\n        // Shift all the changes down first\n        for (let i = 0; i < changes.length; i++) {\n            const change = changes[i];\n            const originalStop = (i < changes.length - 1) ? changes[i + 1].originalStart : this._originalElementsOrHash.length;\n            const modifiedStop = (i < changes.length - 1) ? changes[i + 1].modifiedStart : this._modifiedElementsOrHash.length;\n            const checkOriginal = change.originalLength > 0;\n            const checkModified = change.modifiedLength > 0;\n            while (change.originalStart + change.originalLength < originalStop\n                && change.modifiedStart + change.modifiedLength < modifiedStop\n                && (!checkOriginal || this.OriginalElementsAreEqual(change.originalStart, change.originalStart + change.originalLength))\n                && (!checkModified || this.ModifiedElementsAreEqual(change.modifiedStart, change.modifiedStart + change.modifiedLength))) {\n                const startStrictEqual = this.ElementsAreStrictEqual(change.originalStart, change.modifiedStart);\n                const endStrictEqual = this.ElementsAreStrictEqual(change.originalStart + change.originalLength, change.modifiedStart + change.modifiedLength);\n                if (endStrictEqual && !startStrictEqual) {\n                    // moving the change down would create an equal change, but the elements are not strict equal\n                    break;\n                }\n                change.originalStart++;\n                change.modifiedStart++;\n            }\n            const mergedChangeArr = [null];\n            if (i < changes.length - 1 && this.ChangesOverlap(changes[i], changes[i + 1], mergedChangeArr)) {\n                changes[i] = mergedChangeArr[0];\n                changes.splice(i + 1, 1);\n                i--;\n                continue;\n            }\n        }\n        // Shift changes back up until we hit empty or whitespace-only lines\n        for (let i = changes.length - 1; i >= 0; i--) {\n            const change = changes[i];\n            let originalStop = 0;\n            let modifiedStop = 0;\n            if (i > 0) {\n                const prevChange = changes[i - 1];\n                originalStop = prevChange.originalStart + prevChange.originalLength;\n                modifiedStop = prevChange.modifiedStart + prevChange.modifiedLength;\n            }\n            const checkOriginal = change.originalLength > 0;\n            const checkModified = change.modifiedLength > 0;\n            let bestDelta = 0;\n            let bestScore = this._boundaryScore(change.originalStart, change.originalLength, change.modifiedStart, change.modifiedLength);\n            for (let delta = 1;; delta++) {\n                const originalStart = change.originalStart - delta;\n                const modifiedStart = change.modifiedStart - delta;\n                if (originalStart < originalStop || modifiedStart < modifiedStop) {\n                    break;\n                }\n                if (checkOriginal && !this.OriginalElementsAreEqual(originalStart, originalStart + change.originalLength)) {\n                    break;\n                }\n                if (checkModified && !this.ModifiedElementsAreEqual(modifiedStart, modifiedStart + change.modifiedLength)) {\n                    break;\n                }\n                const touchingPreviousChange = (originalStart === originalStop && modifiedStart === modifiedStop);\n                const score = ((touchingPreviousChange ? 5 : 0)\n                    + this._boundaryScore(originalStart, change.originalLength, modifiedStart, change.modifiedLength));\n                if (score > bestScore) {\n                    bestScore = score;\n                    bestDelta = delta;\n                }\n            }\n            change.originalStart -= bestDelta;\n            change.modifiedStart -= bestDelta;\n            const mergedChangeArr = [null];\n            if (i > 0 && this.ChangesOverlap(changes[i - 1], changes[i], mergedChangeArr)) {\n                changes[i - 1] = mergedChangeArr[0];\n                changes.splice(i, 1);\n                i++;\n                continue;\n            }\n        }\n        // There could be multiple longest common substrings.\n        // Give preference to the ones containing longer lines\n        if (this._hasStrings) {\n            for (let i = 1, len = changes.length; i < len; i++) {\n                const aChange = changes[i - 1];\n                const bChange = changes[i];\n                const matchedLength = bChange.originalStart - aChange.originalStart - aChange.originalLength;\n                const aOriginalStart = aChange.originalStart;\n                const bOriginalEnd = bChange.originalStart + bChange.originalLength;\n                const abOriginalLength = bOriginalEnd - aOriginalStart;\n                const aModifiedStart = aChange.modifiedStart;\n                const bModifiedEnd = bChange.modifiedStart + bChange.modifiedLength;\n                const abModifiedLength = bModifiedEnd - aModifiedStart;\n                // Avoid wasting a lot of time with these searches\n                if (matchedLength < 5 && abOriginalLength < 20 && abModifiedLength < 20) {\n                    const t = this._findBetterContiguousSequence(aOriginalStart, abOriginalLength, aModifiedStart, abModifiedLength, matchedLength);\n                    if (t) {\n                        const [originalMatchStart, modifiedMatchStart] = t;\n                        if (originalMatchStart !== aChange.originalStart + aChange.originalLength || modifiedMatchStart !== aChange.modifiedStart + aChange.modifiedLength) {\n                            // switch to another sequence that has a better score\n                            aChange.originalLength = originalMatchStart - aChange.originalStart;\n                            aChange.modifiedLength = modifiedMatchStart - aChange.modifiedStart;\n                            bChange.originalStart = originalMatchStart + matchedLength;\n                            bChange.modifiedStart = modifiedMatchStart + matchedLength;\n                            bChange.originalLength = bOriginalEnd - bChange.originalStart;\n                            bChange.modifiedLength = bModifiedEnd - bChange.modifiedStart;\n                        }\n                    }\n                }\n            }\n        }\n        return changes;\n    }\n    _findBetterContiguousSequence(originalStart, originalLength, modifiedStart, modifiedLength, desiredLength) {\n        if (originalLength < desiredLength || modifiedLength < desiredLength) {\n            return null;\n        }\n        const originalMax = originalStart + originalLength - desiredLength + 1;\n        const modifiedMax = modifiedStart + modifiedLength - desiredLength + 1;\n        let bestScore = 0;\n        let bestOriginalStart = 0;\n        let bestModifiedStart = 0;\n        for (let i = originalStart; i < originalMax; i++) {\n            for (let j = modifiedStart; j < modifiedMax; j++) {\n                const score = this._contiguousSequenceScore(i, j, desiredLength);\n                if (score > 0 && score > bestScore) {\n                    bestScore = score;\n                    bestOriginalStart = i;\n                    bestModifiedStart = j;\n                }\n            }\n        }\n        if (bestScore > 0) {\n            return [bestOriginalStart, bestModifiedStart];\n        }\n        return null;\n    }\n    _contiguousSequenceScore(originalStart, modifiedStart, length) {\n        let score = 0;\n        for (let l = 0; l < length; l++) {\n            if (!this.ElementsAreEqual(originalStart + l, modifiedStart + l)) {\n                return 0;\n            }\n            score += this._originalStringElements[originalStart + l].length;\n        }\n        return score;\n    }\n    _OriginalIsBoundary(index) {\n        if (index <= 0 || index >= this._originalElementsOrHash.length - 1) {\n            return true;\n        }\n        return (this._hasStrings && /^\\s*$/.test(this._originalStringElements[index]));\n    }\n    _OriginalRegionIsBoundary(originalStart, originalLength) {\n        if (this._OriginalIsBoundary(originalStart) || this._OriginalIsBoundary(originalStart - 1)) {\n            return true;\n        }\n        if (originalLength > 0) {\n            const originalEnd = originalStart + originalLength;\n            if (this._OriginalIsBoundary(originalEnd - 1) || this._OriginalIsBoundary(originalEnd)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    _ModifiedIsBoundary(index) {\n        if (index <= 0 || index >= this._modifiedElementsOrHash.length - 1) {\n            return true;\n        }\n        return (this._hasStrings && /^\\s*$/.test(this._modifiedStringElements[index]));\n    }\n    _ModifiedRegionIsBoundary(modifiedStart, modifiedLength) {\n        if (this._ModifiedIsBoundary(modifiedStart) || this._ModifiedIsBoundary(modifiedStart - 1)) {\n            return true;\n        }\n        if (modifiedLength > 0) {\n            const modifiedEnd = modifiedStart + modifiedLength;\n            if (this._ModifiedIsBoundary(modifiedEnd - 1) || this._ModifiedIsBoundary(modifiedEnd)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    _boundaryScore(originalStart, originalLength, modifiedStart, modifiedLength) {\n        const originalScore = (this._OriginalRegionIsBoundary(originalStart, originalLength) ? 1 : 0);\n        const modifiedScore = (this._ModifiedRegionIsBoundary(modifiedStart, modifiedLength) ? 1 : 0);\n        return (originalScore + modifiedScore);\n    }\n    /**\n     * Concatenates the two input DiffChange lists and returns the resulting\n     * list.\n     * @param The left changes\n     * @param The right changes\n     * @returns The concatenated list\n     */\n    ConcatenateChanges(left, right) {\n        const mergedChangeArr = [];\n        if (left.length === 0 || right.length === 0) {\n            return (right.length > 0) ? right : left;\n        }\n        else if (this.ChangesOverlap(left[left.length - 1], right[0], mergedChangeArr)) {\n            // Since we break the problem down recursively, it is possible that we\n            // might recurse in the middle of a change thereby splitting it into\n            // two changes. Here in the combining stage, we detect and fuse those\n            // changes back together\n            const result = new Array(left.length + right.length - 1);\n            MyArray.Copy(left, 0, result, 0, left.length - 1);\n            result[left.length - 1] = mergedChangeArr[0];\n            MyArray.Copy(right, 1, result, left.length, right.length - 1);\n            return result;\n        }\n        else {\n            const result = new Array(left.length + right.length);\n            MyArray.Copy(left, 0, result, 0, left.length);\n            MyArray.Copy(right, 0, result, left.length, right.length);\n            return result;\n        }\n    }\n    /**\n     * Returns true if the two changes overlap and can be merged into a single\n     * change\n     * @param left The left change\n     * @param right The right change\n     * @param mergedChange The merged change if the two overlap, null otherwise\n     * @returns True if the two changes overlap\n     */\n    ChangesOverlap(left, right, mergedChangeArr) {\n        Debug.Assert(left.originalStart <= right.originalStart, 'Left change is not less than or equal to right change');\n        Debug.Assert(left.modifiedStart <= right.modifiedStart, 'Left change is not less than or equal to right change');\n        if (left.originalStart + left.originalLength >= right.originalStart || left.modifiedStart + left.modifiedLength >= right.modifiedStart) {\n            const originalStart = left.originalStart;\n            let originalLength = left.originalLength;\n            const modifiedStart = left.modifiedStart;\n            let modifiedLength = left.modifiedLength;\n            if (left.originalStart + left.originalLength >= right.originalStart) {\n                originalLength = right.originalStart + right.originalLength - left.originalStart;\n            }\n            if (left.modifiedStart + left.modifiedLength >= right.modifiedStart) {\n                modifiedLength = right.modifiedStart + right.modifiedLength - left.modifiedStart;\n            }\n            mergedChangeArr[0] = new DiffChange(originalStart, originalLength, modifiedStart, modifiedLength);\n            return true;\n        }\n        else {\n            mergedChangeArr[0] = null;\n            return false;\n        }\n    }\n    /**\n     * Helper method used to clip a diagonal index to the range of valid\n     * diagonals. This also decides whether or not the diagonal index,\n     * if it exceeds the boundary, should be clipped to the boundary or clipped\n     * one inside the boundary depending on the Even/Odd status of the boundary\n     * and numDifferences.\n     * @param diagonal The index of the diagonal to clip.\n     * @param numDifferences The current number of differences being iterated upon.\n     * @param diagonalBaseIndex The base reference diagonal.\n     * @param numDiagonals The total number of diagonals.\n     * @returns The clipped diagonal index.\n     */\n    ClipDiagonalBound(diagonal, numDifferences, diagonalBaseIndex, numDiagonals) {\n        if (diagonal >= 0 && diagonal < numDiagonals) {\n            // Nothing to clip, its in range\n            return diagonal;\n        }\n        // diagonalsBelow: The number of diagonals below the reference diagonal\n        // diagonalsAbove: The number of diagonals above the reference diagonal\n        const diagonalsBelow = diagonalBaseIndex;\n        const diagonalsAbove = numDiagonals - diagonalBaseIndex - 1;\n        const diffEven = (numDifferences % 2 === 0);\n        if (diagonal < 0) {\n            const lowerBoundEven = (diagonalsBelow % 2 === 0);\n            return (diffEven === lowerBoundEven) ? 0 : 1;\n        }\n        else {\n            const upperBoundEven = (diagonalsAbove % 2 === 0);\n            return (diffEven === upperBoundEven) ? numDiagonals - 1 : numDiagonals - 2;\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { globals, isMacintosh, isWindows } from './platform.js';\nlet safeProcess;\n// Native sandbox environment\nif (typeof globals.vscode !== 'undefined' && typeof globals.vscode.process !== 'undefined') {\n    const sandboxProcess = globals.vscode.process;\n    safeProcess = {\n        get platform() { return sandboxProcess.platform; },\n        get arch() { return sandboxProcess.arch; },\n        get env() { return sandboxProcess.env; },\n        cwd() { return sandboxProcess.cwd(); }\n    };\n}\n// Native node.js environment\nelse if (typeof process !== 'undefined') {\n    safeProcess = {\n        get platform() { return process.platform; },\n        get arch() { return process.arch; },\n        get env() { return process.env; },\n        cwd() { return process.env['VSCODE_CWD'] || process.cwd(); }\n    };\n}\n// Web environment\nelse {\n    safeProcess = {\n        // Supported\n        get platform() { return isWindows ? 'win32' : isMacintosh ? 'darwin' : 'linux'; },\n        get arch() { return undefined; /* arch is undefined in web */ },\n        // Unsupported\n        get env() { return {}; },\n        cwd() { return '/'; }\n    };\n}\n/**\n * Provides safe access to the `cwd` property in node.js, sandboxed or web\n * environments.\n *\n * Note: in web, this property is hardcoded to be `/`.\n *\n * @skipMangle\n */\nexport const cwd = safeProcess.cwd;\n/**\n * Provides safe access to the `env` property in node.js, sandboxed or web\n * environments.\n *\n * Note: in web, this property is hardcoded to be `{}`.\n */\nexport const env = safeProcess.env;\n/**\n * Provides safe access to the `platform` property in node.js, sandboxed or web\n * environments.\n */\nexport const platform = safeProcess.platform;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// NOTE: VSCode's copy of nodejs path library to be usable in common (non-node) namespace\n// Copied from: https://github.com/nodejs/node/blob/v16.14.2/lib/path.js\n/**\n * Copyright Joyent, Inc. and other Node contributors.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to permit\n * persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included\n * in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n * NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n * USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\nimport * as process from './process.js';\nconst CHAR_UPPERCASE_A = 65; /* A */\nconst CHAR_LOWERCASE_A = 97; /* a */\nconst CHAR_UPPERCASE_Z = 90; /* Z */\nconst CHAR_LOWERCASE_Z = 122; /* z */\nconst CHAR_DOT = 46; /* . */\nconst CHAR_FORWARD_SLASH = 47; /* / */\nconst CHAR_BACKWARD_SLASH = 92; /* \\ */\nconst CHAR_COLON = 58; /* : */\nconst CHAR_QUESTION_MARK = 63; /* ? */\nclass ErrorInvalidArgType extends Error {\n    constructor(name, expected, actual) {\n        // determiner: 'must be' or 'must not be'\n        let determiner;\n        if (typeof expected === 'string' && expected.indexOf('not ') === 0) {\n            determiner = 'must not be';\n            expected = expected.replace(/^not /, '');\n        }\n        else {\n            determiner = 'must be';\n        }\n        const type = name.indexOf('.') !== -1 ? 'property' : 'argument';\n        let msg = `The \"${name}\" ${type} ${determiner} of type ${expected}`;\n        msg += `. Received type ${typeof actual}`;\n        super(msg);\n        this.code = 'ERR_INVALID_ARG_TYPE';\n    }\n}\nfunction validateObject(pathObject, name) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n        throw new ErrorInvalidArgType(name, 'Object', pathObject);\n    }\n}\nfunction validateString(value, name) {\n    if (typeof value !== 'string') {\n        throw new ErrorInvalidArgType(name, 'string', value);\n    }\n}\nconst platformIsWin32 = (process.platform === 'win32');\nfunction isPathSeparator(code) {\n    return code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;\n}\nfunction isPosixPathSeparator(code) {\n    return code === CHAR_FORWARD_SLASH;\n}\nfunction isWindowsDeviceRoot(code) {\n    return (code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z) ||\n        (code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z);\n}\n// Resolves . and .. elements in a path with directory names\nfunction normalizeString(path, allowAboveRoot, separator, isPathSeparator) {\n    let res = '';\n    let lastSegmentLength = 0;\n    let lastSlash = -1;\n    let dots = 0;\n    let code = 0;\n    for (let i = 0; i <= path.length; ++i) {\n        if (i < path.length) {\n            code = path.charCodeAt(i);\n        }\n        else if (isPathSeparator(code)) {\n            break;\n        }\n        else {\n            code = CHAR_FORWARD_SLASH;\n        }\n        if (isPathSeparator(code)) {\n            if (lastSlash === i - 1 || dots === 1) {\n                // NOOP\n            }\n            else if (dots === 2) {\n                if (res.length < 2 || lastSegmentLength !== 2 ||\n                    res.charCodeAt(res.length - 1) !== CHAR_DOT ||\n                    res.charCodeAt(res.length - 2) !== CHAR_DOT) {\n                    if (res.length > 2) {\n                        const lastSlashIndex = res.lastIndexOf(separator);\n                        if (lastSlashIndex === -1) {\n                            res = '';\n                            lastSegmentLength = 0;\n                        }\n                        else {\n                            res = res.slice(0, lastSlashIndex);\n                            lastSegmentLength = res.length - 1 - res.lastIndexOf(separator);\n                        }\n                        lastSlash = i;\n                        dots = 0;\n                        continue;\n                    }\n                    else if (res.length !== 0) {\n                        res = '';\n                        lastSegmentLength = 0;\n                        lastSlash = i;\n                        dots = 0;\n                        continue;\n                    }\n                }\n                if (allowAboveRoot) {\n                    res += res.length > 0 ? `${separator}..` : '..';\n                    lastSegmentLength = 2;\n                }\n            }\n            else {\n                if (res.length > 0) {\n                    res += `${separator}${path.slice(lastSlash + 1, i)}`;\n                }\n                else {\n                    res = path.slice(lastSlash + 1, i);\n                }\n                lastSegmentLength = i - lastSlash - 1;\n            }\n            lastSlash = i;\n            dots = 0;\n        }\n        else if (code === CHAR_DOT && dots !== -1) {\n            ++dots;\n        }\n        else {\n            dots = -1;\n        }\n    }\n    return res;\n}\nfunction _format(sep, pathObject) {\n    validateObject(pathObject, 'pathObject');\n    const dir = pathObject.dir || pathObject.root;\n    const base = pathObject.base ||\n        `${pathObject.name || ''}${pathObject.ext || ''}`;\n    if (!dir) {\n        return base;\n    }\n    return dir === pathObject.root ? `${dir}${base}` : `${dir}${sep}${base}`;\n}\nexport const win32 = {\n    // path.resolve([from ...], to)\n    resolve(...pathSegments) {\n        let resolvedDevice = '';\n        let resolvedTail = '';\n        let resolvedAbsolute = false;\n        for (let i = pathSegments.length - 1; i >= -1; i--) {\n            let path;\n            if (i >= 0) {\n                path = pathSegments[i];\n                validateString(path, 'path');\n                // Skip empty entries\n                if (path.length === 0) {\n                    continue;\n                }\n            }\n            else if (resolvedDevice.length === 0) {\n                path = process.cwd();\n            }\n            else {\n                // Windows has the concept of drive-specific current working\n                // directories. If we've resolved a drive letter but not yet an\n                // absolute path, get cwd for that drive, or the process cwd if\n                // the drive cwd is not available. We're sure the device is not\n                // a UNC path at this points, because UNC paths are always absolute.\n                path = process.env[`=${resolvedDevice}`] || process.cwd();\n                // Verify that a cwd was found and that it actually points\n                // to our drive. If not, default to the drive's root.\n                if (path === undefined ||\n                    (path.slice(0, 2).toLowerCase() !== resolvedDevice.toLowerCase() &&\n                        path.charCodeAt(2) === CHAR_BACKWARD_SLASH)) {\n                    path = `${resolvedDevice}\\\\`;\n                }\n            }\n            const len = path.length;\n            let rootEnd = 0;\n            let device = '';\n            let isAbsolute = false;\n            const code = path.charCodeAt(0);\n            // Try to match a root\n            if (len === 1) {\n                if (isPathSeparator(code)) {\n                    // `path` contains just a path separator\n                    rootEnd = 1;\n                    isAbsolute = true;\n                }\n            }\n            else if (isPathSeparator(code)) {\n                // Possible UNC root\n                // If we started with a separator, we know we at least have an\n                // absolute path of some kind (UNC or otherwise)\n                isAbsolute = true;\n                if (isPathSeparator(path.charCodeAt(1))) {\n                    // Matched double path separator at beginning\n                    let j = 2;\n                    let last = j;\n                    // Match 1 or more non-path separators\n                    while (j < len && !isPathSeparator(path.charCodeAt(j))) {\n                        j++;\n                    }\n                    if (j < len && j !== last) {\n                        const firstPart = path.slice(last, j);\n                        // Matched!\n                        last = j;\n                        // Match 1 or more path separators\n                        while (j < len && isPathSeparator(path.charCodeAt(j))) {\n                            j++;\n                        }\n                        if (j < len && j !== last) {\n                            // Matched!\n                            last = j;\n                            // Match 1 or more non-path separators\n                            while (j < len && !isPathSeparator(path.charCodeAt(j))) {\n                                j++;\n                            }\n                            if (j === len || j !== last) {\n                                // We matched a UNC root\n                                device = `\\\\\\\\${firstPart}\\\\${path.slice(last, j)}`;\n                                rootEnd = j;\n                            }\n                        }\n                    }\n                }\n                else {\n                    rootEnd = 1;\n                }\n            }\n            else if (isWindowsDeviceRoot(code) &&\n                path.charCodeAt(1) === CHAR_COLON) {\n                // Possible device root\n                device = path.slice(0, 2);\n                rootEnd = 2;\n                if (len > 2 && isPathSeparator(path.charCodeAt(2))) {\n                    // Treat separator following drive name as an absolute path\n                    // indicator\n                    isAbsolute = true;\n                    rootEnd = 3;\n                }\n            }\n            if (device.length > 0) {\n                if (resolvedDevice.length > 0) {\n                    if (device.toLowerCase() !== resolvedDevice.toLowerCase()) {\n                        // This path points to another device so it is not applicable\n                        continue;\n                    }\n                }\n                else {\n                    resolvedDevice = device;\n                }\n            }\n            if (resolvedAbsolute) {\n                if (resolvedDevice.length > 0) {\n                    break;\n                }\n            }\n            else {\n                resolvedTail = `${path.slice(rootEnd)}\\\\${resolvedTail}`;\n                resolvedAbsolute = isAbsolute;\n                if (isAbsolute && resolvedDevice.length > 0) {\n                    break;\n                }\n            }\n        }\n        // At this point the path should be resolved to a full absolute path,\n        // but handle relative paths to be safe (might happen when process.cwd()\n        // fails)\n        // Normalize the tail path\n        resolvedTail = normalizeString(resolvedTail, !resolvedAbsolute, '\\\\', isPathSeparator);\n        return resolvedAbsolute ?\n            `${resolvedDevice}\\\\${resolvedTail}` :\n            `${resolvedDevice}${resolvedTail}` || '.';\n    },\n    normalize(path) {\n        validateString(path, 'path');\n        const len = path.length;\n        if (len === 0) {\n            return '.';\n        }\n        let rootEnd = 0;\n        let device;\n        let isAbsolute = false;\n        const code = path.charCodeAt(0);\n        // Try to match a root\n        if (len === 1) {\n            // `path` contains just a single char, exit early to avoid\n            // unnecessary work\n            return isPosixPathSeparator(code) ? '\\\\' : path;\n        }\n        if (isPathSeparator(code)) {\n            // Possible UNC root\n            // If we started with a separator, we know we at least have an absolute\n            // path of some kind (UNC or otherwise)\n            isAbsolute = true;\n            if (isPathSeparator(path.charCodeAt(1))) {\n                // Matched double path separator at beginning\n                let j = 2;\n                let last = j;\n                // Match 1 or more non-path separators\n                while (j < len && !isPathSeparator(path.charCodeAt(j))) {\n                    j++;\n                }\n                if (j < len && j !== last) {\n                    const firstPart = path.slice(last, j);\n                    // Matched!\n                    last = j;\n                    // Match 1 or more path separators\n                    while (j < len && isPathSeparator(path.charCodeAt(j))) {\n                        j++;\n                    }\n                    if (j < len && j !== last) {\n                        // Matched!\n                        last = j;\n                        // Match 1 or more non-path separators\n                        while (j < len && !isPathSeparator(path.charCodeAt(j))) {\n                            j++;\n                        }\n                        if (j === len) {\n                            // We matched a UNC root only\n                            // Return the normalized version of the UNC root since there\n                            // is nothing left to process\n                            return `\\\\\\\\${firstPart}\\\\${path.slice(last)}\\\\`;\n                        }\n                        if (j !== last) {\n                            // We matched a UNC root with leftovers\n                            device = `\\\\\\\\${firstPart}\\\\${path.slice(last, j)}`;\n                            rootEnd = j;\n                        }\n                    }\n                }\n            }\n            else {\n                rootEnd = 1;\n            }\n        }\n        else if (isWindowsDeviceRoot(code) && path.charCodeAt(1) === CHAR_COLON) {\n            // Possible device root\n            device = path.slice(0, 2);\n            rootEnd = 2;\n            if (len > 2 && isPathSeparator(path.charCodeAt(2))) {\n                // Treat separator following drive name as an absolute path\n                // indicator\n                isAbsolute = true;\n                rootEnd = 3;\n            }\n        }\n        let tail = rootEnd < len ?\n            normalizeString(path.slice(rootEnd), !isAbsolute, '\\\\', isPathSeparator) :\n            '';\n        if (tail.length === 0 && !isAbsolute) {\n            tail = '.';\n        }\n        if (tail.length > 0 && isPathSeparator(path.charCodeAt(len - 1))) {\n            tail += '\\\\';\n        }\n        if (device === undefined) {\n            return isAbsolute ? `\\\\${tail}` : tail;\n        }\n        return isAbsolute ? `${device}\\\\${tail}` : `${device}${tail}`;\n    },\n    isAbsolute(path) {\n        validateString(path, 'path');\n        const len = path.length;\n        if (len === 0) {\n            return false;\n        }\n        const code = path.charCodeAt(0);\n        return isPathSeparator(code) ||\n            // Possible device root\n            (len > 2 &&\n                isWindowsDeviceRoot(code) &&\n                path.charCodeAt(1) === CHAR_COLON &&\n                isPathSeparator(path.charCodeAt(2)));\n    },\n    join(...paths) {\n        if (paths.length === 0) {\n            return '.';\n        }\n        let joined;\n        let firstPart;\n        for (let i = 0; i < paths.length; ++i) {\n            const arg = paths[i];\n            validateString(arg, 'path');\n            if (arg.length > 0) {\n                if (joined === undefined) {\n                    joined = firstPart = arg;\n                }\n                else {\n                    joined += `\\\\${arg}`;\n                }\n            }\n        }\n        if (joined === undefined) {\n            return '.';\n        }\n        // Make sure that the joined path doesn't start with two slashes, because\n        // normalize() will mistake it for a UNC path then.\n        //\n        // This step is skipped when it is very clear that the user actually\n        // intended to point at a UNC path. This is assumed when the first\n        // non-empty string arguments starts with exactly two slashes followed by\n        // at least one more non-slash character.\n        //\n        // Note that for normalize() to treat a path as a UNC path it needs to\n        // have at least 2 components, so we don't filter for that here.\n        // This means that the user can use join to construct UNC paths from\n        // a server name and a share name; for example:\n        //   path.join('//server', 'share') -> '\\\\\\\\server\\\\share\\\\')\n        let needsReplace = true;\n        let slashCount = 0;\n        if (typeof firstPart === 'string' && isPathSeparator(firstPart.charCodeAt(0))) {\n            ++slashCount;\n            const firstLen = firstPart.length;\n            if (firstLen > 1 && isPathSeparator(firstPart.charCodeAt(1))) {\n                ++slashCount;\n                if (firstLen > 2) {\n                    if (isPathSeparator(firstPart.charCodeAt(2))) {\n                        ++slashCount;\n                    }\n                    else {\n                        // We matched a UNC path in the first part\n                        needsReplace = false;\n                    }\n                }\n            }\n        }\n        if (needsReplace) {\n            // Find any more consecutive slashes we need to replace\n            while (slashCount < joined.length &&\n                isPathSeparator(joined.charCodeAt(slashCount))) {\n                slashCount++;\n            }\n            // Replace the slashes if needed\n            if (slashCount >= 2) {\n                joined = `\\\\${joined.slice(slashCount)}`;\n            }\n        }\n        return win32.normalize(joined);\n    },\n    // It will solve the relative path from `from` to `to`, for instance:\n    //  from = 'C:\\\\orandea\\\\test\\\\aaa'\n    //  to = 'C:\\\\orandea\\\\impl\\\\bbb'\n    // The output of the function should be: '..\\\\..\\\\impl\\\\bbb'\n    relative(from, to) {\n        validateString(from, 'from');\n        validateString(to, 'to');\n        if (from === to) {\n            return '';\n        }\n        const fromOrig = win32.resolve(from);\n        const toOrig = win32.resolve(to);\n        if (fromOrig === toOrig) {\n            return '';\n        }\n        from = fromOrig.toLowerCase();\n        to = toOrig.toLowerCase();\n        if (from === to) {\n            return '';\n        }\n        // Trim any leading backslashes\n        let fromStart = 0;\n        while (fromStart < from.length &&\n            from.charCodeAt(fromStart) === CHAR_BACKWARD_SLASH) {\n            fromStart++;\n        }\n        // Trim trailing backslashes (applicable to UNC paths only)\n        let fromEnd = from.length;\n        while (fromEnd - 1 > fromStart &&\n            from.charCodeAt(fromEnd - 1) === CHAR_BACKWARD_SLASH) {\n            fromEnd--;\n        }\n        const fromLen = fromEnd - fromStart;\n        // Trim any leading backslashes\n        let toStart = 0;\n        while (toStart < to.length &&\n            to.charCodeAt(toStart) === CHAR_BACKWARD_SLASH) {\n            toStart++;\n        }\n        // Trim trailing backslashes (applicable to UNC paths only)\n        let toEnd = to.length;\n        while (toEnd - 1 > toStart &&\n            to.charCodeAt(toEnd - 1) === CHAR_BACKWARD_SLASH) {\n            toEnd--;\n        }\n        const toLen = toEnd - toStart;\n        // Compare paths to find the longest common path from root\n        const length = fromLen < toLen ? fromLen : toLen;\n        let lastCommonSep = -1;\n        let i = 0;\n        for (; i < length; i++) {\n            const fromCode = from.charCodeAt(fromStart + i);\n            if (fromCode !== to.charCodeAt(toStart + i)) {\n                break;\n            }\n            else if (fromCode === CHAR_BACKWARD_SLASH) {\n                lastCommonSep = i;\n            }\n        }\n        // We found a mismatch before the first common path separator was seen, so\n        // return the original `to`.\n        if (i !== length) {\n            if (lastCommonSep === -1) {\n                return toOrig;\n            }\n        }\n        else {\n            if (toLen > length) {\n                if (to.charCodeAt(toStart + i) === CHAR_BACKWARD_SLASH) {\n                    // We get here if `from` is the exact base path for `to`.\n                    // For example: from='C:\\\\foo\\\\bar'; to='C:\\\\foo\\\\bar\\\\baz'\n                    return toOrig.slice(toStart + i + 1);\n                }\n                if (i === 2) {\n                    // We get here if `from` is the device root.\n                    // For example: from='C:\\\\'; to='C:\\\\foo'\n                    return toOrig.slice(toStart + i);\n                }\n            }\n            if (fromLen > length) {\n                if (from.charCodeAt(fromStart + i) === CHAR_BACKWARD_SLASH) {\n                    // We get here if `to` is the exact base path for `from`.\n                    // For example: from='C:\\\\foo\\\\bar'; to='C:\\\\foo'\n                    lastCommonSep = i;\n                }\n                else if (i === 2) {\n                    // We get here if `to` is the device root.\n                    // For example: from='C:\\\\foo\\\\bar'; to='C:\\\\'\n                    lastCommonSep = 3;\n                }\n            }\n            if (lastCommonSep === -1) {\n                lastCommonSep = 0;\n            }\n        }\n        let out = '';\n        // Generate the relative path based on the path difference between `to` and\n        // `from`\n        for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n            if (i === fromEnd || from.charCodeAt(i) === CHAR_BACKWARD_SLASH) {\n                out += out.length === 0 ? '..' : '\\\\..';\n            }\n        }\n        toStart += lastCommonSep;\n        // Lastly, append the rest of the destination (`to`) path that comes after\n        // the common path parts\n        if (out.length > 0) {\n            return `${out}${toOrig.slice(toStart, toEnd)}`;\n        }\n        if (toOrig.charCodeAt(toStart) === CHAR_BACKWARD_SLASH) {\n            ++toStart;\n        }\n        return toOrig.slice(toStart, toEnd);\n    },\n    toNamespacedPath(path) {\n        // Note: this will *probably* throw somewhere.\n        if (typeof path !== 'string' || path.length === 0) {\n            return path;\n        }\n        const resolvedPath = win32.resolve(path);\n        if (resolvedPath.length <= 2) {\n            return path;\n        }\n        if (resolvedPath.charCodeAt(0) === CHAR_BACKWARD_SLASH) {\n            // Possible UNC root\n            if (resolvedPath.charCodeAt(1) === CHAR_BACKWARD_SLASH) {\n                const code = resolvedPath.charCodeAt(2);\n                if (code !== CHAR_QUESTION_MARK && code !== CHAR_DOT) {\n                    // Matched non-long UNC root, convert the path to a long UNC path\n                    return `\\\\\\\\?\\\\UNC\\\\${resolvedPath.slice(2)}`;\n                }\n            }\n        }\n        else if (isWindowsDeviceRoot(resolvedPath.charCodeAt(0)) &&\n            resolvedPath.charCodeAt(1) === CHAR_COLON &&\n            resolvedPath.charCodeAt(2) === CHAR_BACKWARD_SLASH) {\n            // Matched device root, convert the path to a long UNC path\n            return `\\\\\\\\?\\\\${resolvedPath}`;\n        }\n        return path;\n    },\n    dirname(path) {\n        validateString(path, 'path');\n        const len = path.length;\n        if (len === 0) {\n            return '.';\n        }\n        let rootEnd = -1;\n        let offset = 0;\n        const code = path.charCodeAt(0);\n        if (len === 1) {\n            // `path` contains just a path separator, exit early to avoid\n            // unnecessary work or a dot.\n            return isPathSeparator(code) ? path : '.';\n        }\n        // Try to match a root\n        if (isPathSeparator(code)) {\n            // Possible UNC root\n            rootEnd = offset = 1;\n            if (isPathSeparator(path.charCodeAt(1))) {\n                // Matched double path separator at beginning\n                let j = 2;\n                let last = j;\n                // Match 1 or more non-path separators\n                while (j < len && !isPathSeparator(path.charCodeAt(j))) {\n                    j++;\n                }\n                if (j < len && j !== last) {\n                    // Matched!\n                    last = j;\n                    // Match 1 or more path separators\n                    while (j < len && isPathSeparator(path.charCodeAt(j))) {\n                        j++;\n                    }\n                    if (j < len && j !== last) {\n                        // Matched!\n                        last = j;\n                        // Match 1 or more non-path separators\n                        while (j < len && !isPathSeparator(path.charCodeAt(j))) {\n                            j++;\n                        }\n                        if (j === len) {\n                            // We matched a UNC root only\n                            return path;\n                        }\n                        if (j !== last) {\n                            // We matched a UNC root with leftovers\n                            // Offset by 1 to include the separator after the UNC root to\n                            // treat it as a \"normal root\" on top of a (UNC) root\n                            rootEnd = offset = j + 1;\n                        }\n                    }\n                }\n            }\n            // Possible device root\n        }\n        else if (isWindowsDeviceRoot(code) && path.charCodeAt(1) === CHAR_COLON) {\n            rootEnd = len > 2 && isPathSeparator(path.charCodeAt(2)) ? 3 : 2;\n            offset = rootEnd;\n        }\n        let end = -1;\n        let matchedSlash = true;\n        for (let i = len - 1; i >= offset; --i) {\n            if (isPathSeparator(path.charCodeAt(i))) {\n                if (!matchedSlash) {\n                    end = i;\n                    break;\n                }\n            }\n            else {\n                // We saw the first non-path separator\n                matchedSlash = false;\n            }\n        }\n        if (end === -1) {\n            if (rootEnd === -1) {\n                return '.';\n            }\n            end = rootEnd;\n        }\n        return path.slice(0, end);\n    },\n    basename(path, ext) {\n        if (ext !== undefined) {\n            validateString(ext, 'ext');\n        }\n        validateString(path, 'path');\n        let start = 0;\n        let end = -1;\n        let matchedSlash = true;\n        let i;\n        // Check for a drive letter prefix so as not to mistake the following\n        // path separator as an extra separator at the end of the path that can be\n        // disregarded\n        if (path.length >= 2 &&\n            isWindowsDeviceRoot(path.charCodeAt(0)) &&\n            path.charCodeAt(1) === CHAR_COLON) {\n            start = 2;\n        }\n        if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n            if (ext === path) {\n                return '';\n            }\n            let extIdx = ext.length - 1;\n            let firstNonSlashEnd = -1;\n            for (i = path.length - 1; i >= start; --i) {\n                const code = path.charCodeAt(i);\n                if (isPathSeparator(code)) {\n                    // If we reached a path separator that was not part of a set of path\n                    // separators at the end of the string, stop now\n                    if (!matchedSlash) {\n                        start = i + 1;\n                        break;\n                    }\n                }\n                else {\n                    if (firstNonSlashEnd === -1) {\n                        // We saw the first non-path separator, remember this index in case\n                        // we need it if the extension ends up not matching\n                        matchedSlash = false;\n                        firstNonSlashEnd = i + 1;\n                    }\n                    if (extIdx >= 0) {\n                        // Try to match the explicit extension\n                        if (code === ext.charCodeAt(extIdx)) {\n                            if (--extIdx === -1) {\n                                // We matched the extension, so mark this as the end of our path\n                                // component\n                                end = i;\n                            }\n                        }\n                        else {\n                            // Extension does not match, so our result is the entire path\n                            // component\n                            extIdx = -1;\n                            end = firstNonSlashEnd;\n                        }\n                    }\n                }\n            }\n            if (start === end) {\n                end = firstNonSlashEnd;\n            }\n            else if (end === -1) {\n                end = path.length;\n            }\n            return path.slice(start, end);\n        }\n        for (i = path.length - 1; i >= start; --i) {\n            if (isPathSeparator(path.charCodeAt(i))) {\n                // If we reached a path separator that was not part of a set of path\n                // separators at the end of the string, stop now\n                if (!matchedSlash) {\n                    start = i + 1;\n                    break;\n                }\n            }\n            else if (end === -1) {\n                // We saw the first non-path separator, mark this as the end of our\n                // path component\n                matchedSlash = false;\n                end = i + 1;\n            }\n        }\n        if (end === -1) {\n            return '';\n        }\n        return path.slice(start, end);\n    },\n    extname(path) {\n        validateString(path, 'path');\n        let start = 0;\n        let startDot = -1;\n        let startPart = 0;\n        let end = -1;\n        let matchedSlash = true;\n        // Track the state of characters (if any) we see before our first dot and\n        // after any path separator we find\n        let preDotState = 0;\n        // Check for a drive letter prefix so as not to mistake the following\n        // path separator as an extra separator at the end of the path that can be\n        // disregarded\n        if (path.length >= 2 &&\n            path.charCodeAt(1) === CHAR_COLON &&\n            isWindowsDeviceRoot(path.charCodeAt(0))) {\n            start = startPart = 2;\n        }\n        for (let i = path.length - 1; i >= start; --i) {\n            const code = path.charCodeAt(i);\n            if (isPathSeparator(code)) {\n                // If we reached a path separator that was not part of a set of path\n                // separators at the end of the string, stop now\n                if (!matchedSlash) {\n                    startPart = i + 1;\n                    break;\n                }\n                continue;\n            }\n            if (end === -1) {\n                // We saw the first non-path separator, mark this as the end of our\n                // extension\n                matchedSlash = false;\n                end = i + 1;\n            }\n            if (code === CHAR_DOT) {\n                // If this is our first dot, mark it as the start of our extension\n                if (startDot === -1) {\n                    startDot = i;\n                }\n                else if (preDotState !== 1) {\n                    preDotState = 1;\n                }\n            }\n            else if (startDot !== -1) {\n                // We saw a non-dot and non-path separator before our dot, so we should\n                // have a good chance at having a non-empty extension\n                preDotState = -1;\n            }\n        }\n        if (startDot === -1 ||\n            end === -1 ||\n            // We saw a non-dot character immediately before the dot\n            preDotState === 0 ||\n            // The (right-most) trimmed path component is exactly '..'\n            (preDotState === 1 &&\n                startDot === end - 1 &&\n                startDot === startPart + 1)) {\n            return '';\n        }\n        return path.slice(startDot, end);\n    },\n    format: _format.bind(null, '\\\\'),\n    parse(path) {\n        validateString(path, 'path');\n        const ret = { root: '', dir: '', base: '', ext: '', name: '' };\n        if (path.length === 0) {\n            return ret;\n        }\n        const len = path.length;\n        let rootEnd = 0;\n        let code = path.charCodeAt(0);\n        if (len === 1) {\n            if (isPathSeparator(code)) {\n                // `path` contains just a path separator, exit early to avoid\n                // unnecessary work\n                ret.root = ret.dir = path;\n                return ret;\n            }\n            ret.base = ret.name = path;\n            return ret;\n        }\n        // Try to match a root\n        if (isPathSeparator(code)) {\n            // Possible UNC root\n            rootEnd = 1;\n            if (isPathSeparator(path.charCodeAt(1))) {\n                // Matched double path separator at beginning\n                let j = 2;\n                let last = j;\n                // Match 1 or more non-path separators\n                while (j < len && !isPathSeparator(path.charCodeAt(j))) {\n                    j++;\n                }\n                if (j < len && j !== last) {\n                    // Matched!\n                    last = j;\n                    // Match 1 or more path separators\n                    while (j < len && isPathSeparator(path.charCodeAt(j))) {\n                        j++;\n                    }\n                    if (j < len && j !== last) {\n                        // Matched!\n                        last = j;\n                        // Match 1 or more non-path separators\n                        while (j < len && !isPathSeparator(path.charCodeAt(j))) {\n                            j++;\n                        }\n                        if (j === len) {\n                            // We matched a UNC root only\n                            rootEnd = j;\n                        }\n                        else if (j !== last) {\n                            // We matched a UNC root with leftovers\n                            rootEnd = j + 1;\n                        }\n                    }\n                }\n            }\n        }\n        else if (isWindowsDeviceRoot(code) && path.charCodeAt(1) === CHAR_COLON) {\n            // Possible device root\n            if (len <= 2) {\n                // `path` contains just a drive root, exit early to avoid\n                // unnecessary work\n                ret.root = ret.dir = path;\n                return ret;\n            }\n            rootEnd = 2;\n            if (isPathSeparator(path.charCodeAt(2))) {\n                if (len === 3) {\n                    // `path` contains just a drive root, exit early to avoid\n                    // unnecessary work\n                    ret.root = ret.dir = path;\n                    return ret;\n                }\n                rootEnd = 3;\n            }\n        }\n        if (rootEnd > 0) {\n            ret.root = path.slice(0, rootEnd);\n        }\n        let startDot = -1;\n        let startPart = rootEnd;\n        let end = -1;\n        let matchedSlash = true;\n        let i = path.length - 1;\n        // Track the state of characters (if any) we see before our first dot and\n        // after any path separator we find\n        let preDotState = 0;\n        // Get non-dir info\n        for (; i >= rootEnd; --i) {\n            code = path.charCodeAt(i);\n            if (isPathSeparator(code)) {\n                // If we reached a path separator that was not part of a set of path\n                // separators at the end of the string, stop now\n                if (!matchedSlash) {\n                    startPart = i + 1;\n                    break;\n                }\n                continue;\n            }\n            if (end === -1) {\n                // We saw the first non-path separator, mark this as the end of our\n                // extension\n                matchedSlash = false;\n                end = i + 1;\n            }\n            if (code === CHAR_DOT) {\n                // If this is our first dot, mark it as the start of our extension\n                if (startDot === -1) {\n                    startDot = i;\n                }\n                else if (preDotState !== 1) {\n                    preDotState = 1;\n                }\n            }\n            else if (startDot !== -1) {\n                // We saw a non-dot and non-path separator before our dot, so we should\n                // have a good chance at having a non-empty extension\n                preDotState = -1;\n            }\n        }\n        if (end !== -1) {\n            if (startDot === -1 ||\n                // We saw a non-dot character immediately before the dot\n                preDotState === 0 ||\n                // The (right-most) trimmed path component is exactly '..'\n                (preDotState === 1 &&\n                    startDot === end - 1 &&\n                    startDot === startPart + 1)) {\n                ret.base = ret.name = path.slice(startPart, end);\n            }\n            else {\n                ret.name = path.slice(startPart, startDot);\n                ret.base = path.slice(startPart, end);\n                ret.ext = path.slice(startDot, end);\n            }\n        }\n        // If the directory is the root, use the entire root as the `dir` including\n        // the trailing slash if any (`C:\\abc` -> `C:\\`). Otherwise, strip out the\n        // trailing slash (`C:\\abc\\def` -> `C:\\abc`).\n        if (startPart > 0 && startPart !== rootEnd) {\n            ret.dir = path.slice(0, startPart - 1);\n        }\n        else {\n            ret.dir = ret.root;\n        }\n        return ret;\n    },\n    sep: '\\\\',\n    delimiter: ';',\n    win32: null,\n    posix: null\n};\nconst posixCwd = (() => {\n    if (platformIsWin32) {\n        // Converts Windows' backslash path separators to POSIX forward slashes\n        // and truncates any drive indicator\n        const regexp = /\\\\/g;\n        return () => {\n            const cwd = process.cwd().replace(regexp, '/');\n            return cwd.slice(cwd.indexOf('/'));\n        };\n    }\n    // We're already on POSIX, no need for any transformations\n    return () => process.cwd();\n})();\nexport const posix = {\n    // path.resolve([from ...], to)\n    resolve(...pathSegments) {\n        let resolvedPath = '';\n        let resolvedAbsolute = false;\n        for (let i = pathSegments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n            const path = i >= 0 ? pathSegments[i] : posixCwd();\n            validateString(path, 'path');\n            // Skip empty entries\n            if (path.length === 0) {\n                continue;\n            }\n            resolvedPath = `${path}/${resolvedPath}`;\n            resolvedAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;\n        }\n        // At this point the path should be resolved to a full absolute path, but\n        // handle relative paths to be safe (might happen when process.cwd() fails)\n        // Normalize the path\n        resolvedPath = normalizeString(resolvedPath, !resolvedAbsolute, '/', isPosixPathSeparator);\n        if (resolvedAbsolute) {\n            return `/${resolvedPath}`;\n        }\n        return resolvedPath.length > 0 ? resolvedPath : '.';\n    },\n    normalize(path) {\n        validateString(path, 'path');\n        if (path.length === 0) {\n            return '.';\n        }\n        const isAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;\n        const trailingSeparator = path.charCodeAt(path.length - 1) === CHAR_FORWARD_SLASH;\n        // Normalize the path\n        path = normalizeString(path, !isAbsolute, '/', isPosixPathSeparator);\n        if (path.length === 0) {\n            if (isAbsolute) {\n                return '/';\n            }\n            return trailingSeparator ? './' : '.';\n        }\n        if (trailingSeparator) {\n            path += '/';\n        }\n        return isAbsolute ? `/${path}` : path;\n    },\n    isAbsolute(path) {\n        validateString(path, 'path');\n        return path.length > 0 && path.charCodeAt(0) === CHAR_FORWARD_SLASH;\n    },\n    join(...paths) {\n        if (paths.length === 0) {\n            return '.';\n        }\n        let joined;\n        for (let i = 0; i < paths.length; ++i) {\n            const arg = paths[i];\n            validateString(arg, 'path');\n            if (arg.length > 0) {\n                if (joined === undefined) {\n                    joined = arg;\n                }\n                else {\n                    joined += `/${arg}`;\n                }\n            }\n        }\n        if (joined === undefined) {\n            return '.';\n        }\n        return posix.normalize(joined);\n    },\n    relative(from, to) {\n        validateString(from, 'from');\n        validateString(to, 'to');\n        if (from === to) {\n            return '';\n        }\n        // Trim leading forward slashes.\n        from = posix.resolve(from);\n        to = posix.resolve(to);\n        if (from === to) {\n            return '';\n        }\n        const fromStart = 1;\n        const fromEnd = from.length;\n        const fromLen = fromEnd - fromStart;\n        const toStart = 1;\n        const toLen = to.length - toStart;\n        // Compare paths to find the longest common path from root\n        const length = (fromLen < toLen ? fromLen : toLen);\n        let lastCommonSep = -1;\n        let i = 0;\n        for (; i < length; i++) {\n            const fromCode = from.charCodeAt(fromStart + i);\n            if (fromCode !== to.charCodeAt(toStart + i)) {\n                break;\n            }\n            else if (fromCode === CHAR_FORWARD_SLASH) {\n                lastCommonSep = i;\n            }\n        }\n        if (i === length) {\n            if (toLen > length) {\n                if (to.charCodeAt(toStart + i) === CHAR_FORWARD_SLASH) {\n                    // We get here if `from` is the exact base path for `to`.\n                    // For example: from='/foo/bar'; to='/foo/bar/baz'\n                    return to.slice(toStart + i + 1);\n                }\n                if (i === 0) {\n                    // We get here if `from` is the root\n                    // For example: from='/'; to='/foo'\n                    return to.slice(toStart + i);\n                }\n            }\n            else if (fromLen > length) {\n                if (from.charCodeAt(fromStart + i) === CHAR_FORWARD_SLASH) {\n                    // We get here if `to` is the exact base path for `from`.\n                    // For example: from='/foo/bar/baz'; to='/foo/bar'\n                    lastCommonSep = i;\n                }\n                else if (i === 0) {\n                    // We get here if `to` is the root.\n                    // For example: from='/foo/bar'; to='/'\n                    lastCommonSep = 0;\n                }\n            }\n        }\n        let out = '';\n        // Generate the relative path based on the path difference between `to`\n        // and `from`.\n        for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n            if (i === fromEnd || from.charCodeAt(i) === CHAR_FORWARD_SLASH) {\n                out += out.length === 0 ? '..' : '/..';\n            }\n        }\n        // Lastly, append the rest of the destination (`to`) path that comes after\n        // the common path parts.\n        return `${out}${to.slice(toStart + lastCommonSep)}`;\n    },\n    toNamespacedPath(path) {\n        // Non-op on posix systems\n        return path;\n    },\n    dirname(path) {\n        validateString(path, 'path');\n        if (path.length === 0) {\n            return '.';\n        }\n        const hasRoot = path.charCodeAt(0) === CHAR_FORWARD_SLASH;\n        let end = -1;\n        let matchedSlash = true;\n        for (let i = path.length - 1; i >= 1; --i) {\n            if (path.charCodeAt(i) === CHAR_FORWARD_SLASH) {\n                if (!matchedSlash) {\n                    end = i;\n                    break;\n                }\n            }\n            else {\n                // We saw the first non-path separator\n                matchedSlash = false;\n            }\n        }\n        if (end === -1) {\n            return hasRoot ? '/' : '.';\n        }\n        if (hasRoot && end === 1) {\n            return '//';\n        }\n        return path.slice(0, end);\n    },\n    basename(path, ext) {\n        if (ext !== undefined) {\n            validateString(ext, 'ext');\n        }\n        validateString(path, 'path');\n        let start = 0;\n        let end = -1;\n        let matchedSlash = true;\n        let i;\n        if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n            if (ext === path) {\n                return '';\n            }\n            let extIdx = ext.length - 1;\n            let firstNonSlashEnd = -1;\n            for (i = path.length - 1; i >= 0; --i) {\n                const code = path.charCodeAt(i);\n                if (code === CHAR_FORWARD_SLASH) {\n                    // If we reached a path separator that was not part of a set of path\n                    // separators at the end of the string, stop now\n                    if (!matchedSlash) {\n                        start = i + 1;\n                        break;\n                    }\n                }\n                else {\n                    if (firstNonSlashEnd === -1) {\n                        // We saw the first non-path separator, remember this index in case\n                        // we need it if the extension ends up not matching\n                        matchedSlash = false;\n                        firstNonSlashEnd = i + 1;\n                    }\n                    if (extIdx >= 0) {\n                        // Try to match the explicit extension\n                        if (code === ext.charCodeAt(extIdx)) {\n                            if (--extIdx === -1) {\n                                // We matched the extension, so mark this as the end of our path\n                                // component\n                                end = i;\n                            }\n                        }\n                        else {\n                            // Extension does not match, so our result is the entire path\n                            // component\n                            extIdx = -1;\n                            end = firstNonSlashEnd;\n                        }\n                    }\n                }\n            }\n            if (start === end) {\n                end = firstNonSlashEnd;\n            }\n            else if (end === -1) {\n                end = path.length;\n            }\n            return path.slice(start, end);\n        }\n        for (i = path.length - 1; i >= 0; --i) {\n            if (path.charCodeAt(i) === CHAR_FORWARD_SLASH) {\n                // If we reached a path separator that was not part of a set of path\n                // separators at the end of the string, stop now\n                if (!matchedSlash) {\n                    start = i + 1;\n                    break;\n                }\n            }\n            else if (end === -1) {\n                // We saw the first non-path separator, mark this as the end of our\n                // path component\n                matchedSlash = false;\n                end = i + 1;\n            }\n        }\n        if (end === -1) {\n            return '';\n        }\n        return path.slice(start, end);\n    },\n    extname(path) {\n        validateString(path, 'path');\n        let startDot = -1;\n        let startPart = 0;\n        let end = -1;\n        let matchedSlash = true;\n        // Track the state of characters (if any) we see before our first dot and\n        // after any path separator we find\n        let preDotState = 0;\n        for (let i = path.length - 1; i >= 0; --i) {\n            const code = path.charCodeAt(i);\n            if (code === CHAR_FORWARD_SLASH) {\n                // If we reached a path separator that was not part of a set of path\n                // separators at the end of the string, stop now\n                if (!matchedSlash) {\n                    startPart = i + 1;\n                    break;\n                }\n                continue;\n            }\n            if (end === -1) {\n                // We saw the first non-path separator, mark this as the end of our\n                // extension\n                matchedSlash = false;\n                end = i + 1;\n            }\n            if (code === CHAR_DOT) {\n                // If this is our first dot, mark it as the start of our extension\n                if (startDot === -1) {\n                    startDot = i;\n                }\n                else if (preDotState !== 1) {\n                    preDotState = 1;\n                }\n            }\n            else if (startDot !== -1) {\n                // We saw a non-dot and non-path separator before our dot, so we should\n                // have a good chance at having a non-empty extension\n                preDotState = -1;\n            }\n        }\n        if (startDot === -1 ||\n            end === -1 ||\n            // We saw a non-dot character immediately before the dot\n            preDotState === 0 ||\n            // The (right-most) trimmed path component is exactly '..'\n            (preDotState === 1 &&\n                startDot === end - 1 &&\n                startDot === startPart + 1)) {\n            return '';\n        }\n        return path.slice(startDot, end);\n    },\n    format: _format.bind(null, '/'),\n    parse(path) {\n        validateString(path, 'path');\n        const ret = { root: '', dir: '', base: '', ext: '', name: '' };\n        if (path.length === 0) {\n            return ret;\n        }\n        const isAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;\n        let start;\n        if (isAbsolute) {\n            ret.root = '/';\n            start = 1;\n        }\n        else {\n            start = 0;\n        }\n        let startDot = -1;\n        let startPart = 0;\n        let end = -1;\n        let matchedSlash = true;\n        let i = path.length - 1;\n        // Track the state of characters (if any) we see before our first dot and\n        // after any path separator we find\n        let preDotState = 0;\n        // Get non-dir info\n        for (; i >= start; --i) {\n            const code = path.charCodeAt(i);\n            if (code === CHAR_FORWARD_SLASH) {\n                // If we reached a path separator that was not part of a set of path\n                // separators at the end of the string, stop now\n                if (!matchedSlash) {\n                    startPart = i + 1;\n                    break;\n                }\n                continue;\n            }\n            if (end === -1) {\n                // We saw the first non-path separator, mark this as the end of our\n                // extension\n                matchedSlash = false;\n                end = i + 1;\n            }\n            if (code === CHAR_DOT) {\n                // If this is our first dot, mark it as the start of our extension\n                if (startDot === -1) {\n                    startDot = i;\n                }\n                else if (preDotState !== 1) {\n                    preDotState = 1;\n                }\n            }\n            else if (startDot !== -1) {\n                // We saw a non-dot and non-path separator before our dot, so we should\n                // have a good chance at having a non-empty extension\n                preDotState = -1;\n            }\n        }\n        if (end !== -1) {\n            const start = startPart === 0 && isAbsolute ? 1 : startPart;\n            if (startDot === -1 ||\n                // We saw a non-dot character immediately before the dot\n                preDotState === 0 ||\n                // The (right-most) trimmed path component is exactly '..'\n                (preDotState === 1 &&\n                    startDot === end - 1 &&\n                    startDot === startPart + 1)) {\n                ret.base = ret.name = path.slice(start, end);\n            }\n            else {\n                ret.name = path.slice(start, startDot);\n                ret.base = path.slice(start, end);\n                ret.ext = path.slice(startDot, end);\n            }\n        }\n        if (startPart > 0) {\n            ret.dir = path.slice(0, startPart - 1);\n        }\n        else if (isAbsolute) {\n            ret.dir = '/';\n        }\n        return ret;\n    },\n    sep: '/',\n    delimiter: ':',\n    win32: null,\n    posix: null\n};\nposix.win32 = win32.win32 = win32;\nposix.posix = win32.posix = posix;\nexport const normalize = (platformIsWin32 ? win32.normalize : posix.normalize);\nexport const resolve = (platformIsWin32 ? win32.resolve : posix.resolve);\nexport const relative = (platformIsWin32 ? win32.relative : posix.relative);\nexport const dirname = (platformIsWin32 ? win32.dirname : posix.dirname);\nexport const basename = (platformIsWin32 ? win32.basename : posix.basename);\nexport const extname = (platformIsWin32 ? win32.extname : posix.extname);\nexport const sep = (platformIsWin32 ? win32.sep : posix.sep);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as paths from './path.js';\nimport { isWindows } from './platform.js';\nconst _schemePattern = /^\\w[\\w\\d+.-]*$/;\nconst _singleSlashStart = /^\\//;\nconst _doubleSlashStart = /^\\/\\//;\nfunction _validateUri(ret, _strict) {\n    // scheme, must be set\n    if (!ret.scheme && _strict) {\n        throw new Error(`[UriError]: Scheme is missing: {scheme: \"\", authority: \"${ret.authority}\", path: \"${ret.path}\", query: \"${ret.query}\", fragment: \"${ret.fragment}\"}`);\n    }\n    // scheme, https://tools.ietf.org/html/rfc3986#section-3.1\n    // ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\n    if (ret.scheme && !_schemePattern.test(ret.scheme)) {\n        throw new Error('[UriError]: Scheme contains illegal characters.');\n    }\n    // path, http://tools.ietf.org/html/rfc3986#section-3.3\n    // If a URI contains an authority component, then the path component\n    // must either be empty or begin with a slash (\"/\") character.  If a URI\n    // does not contain an authority component, then the path cannot begin\n    // with two slash characters (\"//\").\n    if (ret.path) {\n        if (ret.authority) {\n            if (!_singleSlashStart.test(ret.path)) {\n                throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character');\n            }\n        }\n        else {\n            if (_doubleSlashStart.test(ret.path)) {\n                throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")');\n            }\n        }\n    }\n}\n// for a while we allowed uris *without* schemes and this is the migration\n// for them, e.g. an uri without scheme and without strict-mode warns and falls\n// back to the file-scheme. that should cause the least carnage and still be a\n// clear warning\nfunction _schemeFix(scheme, _strict) {\n    if (!scheme && !_strict) {\n        return 'file';\n    }\n    return scheme;\n}\n// implements a bit of https://tools.ietf.org/html/rfc3986#section-5\nfunction _referenceResolution(scheme, path) {\n    // the slash-character is our 'default base' as we don't\n    // support constructing URIs relative to other URIs. This\n    // also means that we alter and potentially break paths.\n    // see https://tools.ietf.org/html/rfc3986#section-5.1.4\n    switch (scheme) {\n        case 'https':\n        case 'http':\n        case 'file':\n            if (!path) {\n                path = _slash;\n            }\n            else if (path[0] !== _slash) {\n                path = _slash + path;\n            }\n            break;\n    }\n    return path;\n}\nconst _empty = '';\nconst _slash = '/';\nconst _regexp = /^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/;\n/**\n * Uniform Resource Identifier (URI) http://tools.ietf.org/html/rfc3986.\n * This class is a simple parser which creates the basic component parts\n * (http://tools.ietf.org/html/rfc3986#section-3) with minimal validation\n * and encoding.\n *\n * ```txt\n *       foo://example.com:8042/over/there?name=ferret#nose\n *       \\_/   \\______________/\\_________/ \\_________/ \\__/\n *        |           |            |            |        |\n *     scheme     authority       path        query   fragment\n *        |   _____________________|__\n *       / \\ /                        \\\n *       urn:example:animal:ferret:nose\n * ```\n */\nexport class URI {\n    static isUri(thing) {\n        if (thing instanceof URI) {\n            return true;\n        }\n        if (!thing) {\n            return false;\n        }\n        return typeof thing.authority === 'string'\n            && typeof thing.fragment === 'string'\n            && typeof thing.path === 'string'\n            && typeof thing.query === 'string'\n            && typeof thing.scheme === 'string'\n            && typeof thing.fsPath === 'string'\n            && typeof thing.with === 'function'\n            && typeof thing.toString === 'function';\n    }\n    /**\n     * @internal\n     */\n    constructor(schemeOrData, authority, path, query, fragment, _strict = false) {\n        if (typeof schemeOrData === 'object') {\n            this.scheme = schemeOrData.scheme || _empty;\n            this.authority = schemeOrData.authority || _empty;\n            this.path = schemeOrData.path || _empty;\n            this.query = schemeOrData.query || _empty;\n            this.fragment = schemeOrData.fragment || _empty;\n            // no validation because it's this URI\n            // that creates uri components.\n            // _validateUri(this);\n        }\n        else {\n            this.scheme = _schemeFix(schemeOrData, _strict);\n            this.authority = authority || _empty;\n            this.path = _referenceResolution(this.scheme, path || _empty);\n            this.query = query || _empty;\n            this.fragment = fragment || _empty;\n            _validateUri(this, _strict);\n        }\n    }\n    // ---- filesystem path -----------------------\n    /**\n     * Returns a string representing the corresponding file system path of this URI.\n     * Will handle UNC paths, normalizes windows drive letters to lower-case, and uses the\n     * platform specific path separator.\n     *\n     * * Will *not* validate the path for invalid characters and semantics.\n     * * Will *not* look at the scheme of this URI.\n     * * The result shall *not* be used for display purposes but for accessing a file on disk.\n     *\n     *\n     * The *difference* to `URI#path` is the use of the platform specific separator and the handling\n     * of UNC paths. See the below sample of a file-uri with an authority (UNC path).\n     *\n     * ```ts\n        const u = URI.parse('file://server/c$/folder/file.txt')\n        u.authority === 'server'\n        u.path === '/shares/c$/file.txt'\n        u.fsPath === '\\\\server\\c$\\folder\\file.txt'\n    ```\n     *\n     * Using `URI#path` to read a file (using fs-apis) would not be enough because parts of the path,\n     * namely the server name, would be missing. Therefore `URI#fsPath` exists - it's sugar to ease working\n     * with URIs that represent files on disk (`file` scheme).\n     */\n    get fsPath() {\n        // if (this.scheme !== 'file') {\n        // \tconsole.warn(`[UriError] calling fsPath with scheme ${this.scheme}`);\n        // }\n        return uriToFsPath(this, false);\n    }\n    // ---- modify to new -------------------------\n    with(change) {\n        if (!change) {\n            return this;\n        }\n        let { scheme, authority, path, query, fragment } = change;\n        if (scheme === undefined) {\n            scheme = this.scheme;\n        }\n        else if (scheme === null) {\n            scheme = _empty;\n        }\n        if (authority === undefined) {\n            authority = this.authority;\n        }\n        else if (authority === null) {\n            authority = _empty;\n        }\n        if (path === undefined) {\n            path = this.path;\n        }\n        else if (path === null) {\n            path = _empty;\n        }\n        if (query === undefined) {\n            query = this.query;\n        }\n        else if (query === null) {\n            query = _empty;\n        }\n        if (fragment === undefined) {\n            fragment = this.fragment;\n        }\n        else if (fragment === null) {\n            fragment = _empty;\n        }\n        if (scheme === this.scheme\n            && authority === this.authority\n            && path === this.path\n            && query === this.query\n            && fragment === this.fragment) {\n            return this;\n        }\n        return new Uri(scheme, authority, path, query, fragment);\n    }\n    // ---- parse & validate ------------------------\n    /**\n     * Creates a new URI from a string, e.g. `http://www.example.com/some/path`,\n     * `file:///usr/home`, or `scheme:with/path`.\n     *\n     * @param value A string which represents an URI (see `URI#toString`).\n     */\n    static parse(value, _strict = false) {\n        const match = _regexp.exec(value);\n        if (!match) {\n            return new Uri(_empty, _empty, _empty, _empty, _empty);\n        }\n        return new Uri(match[2] || _empty, percentDecode(match[4] || _empty), percentDecode(match[5] || _empty), percentDecode(match[7] || _empty), percentDecode(match[9] || _empty), _strict);\n    }\n    /**\n     * Creates a new URI from a file system path, e.g. `c:\\my\\files`,\n     * `/usr/home`, or `\\\\server\\share\\some\\path`.\n     *\n     * The *difference* between `URI#parse` and `URI#file` is that the latter treats the argument\n     * as path, not as stringified-uri. E.g. `URI.file(path)` is **not the same as**\n     * `URI.parse('file://' + path)` because the path might contain characters that are\n     * interpreted (# and ?). See the following sample:\n     * ```ts\n    const good = URI.file('/coding/c#/project1');\n    good.scheme === 'file';\n    good.path === '/coding/c#/project1';\n    good.fragment === '';\n    const bad = URI.parse('file://' + '/coding/c#/project1');\n    bad.scheme === 'file';\n    bad.path === '/coding/c'; // path is now broken\n    bad.fragment === '/project1';\n    ```\n     *\n     * @param path A file system path (see `URI#fsPath`)\n     */\n    static file(path) {\n        let authority = _empty;\n        // normalize to fwd-slashes on windows,\n        // on other systems bwd-slashes are valid\n        // filename character, eg /f\\oo/ba\\r.txt\n        if (isWindows) {\n            path = path.replace(/\\\\/g, _slash);\n        }\n        // check for authority as used in UNC shares\n        // or use the path as given\n        if (path[0] === _slash && path[1] === _slash) {\n            const idx = path.indexOf(_slash, 2);\n            if (idx === -1) {\n                authority = path.substring(2);\n                path = _slash;\n            }\n            else {\n                authority = path.substring(2, idx);\n                path = path.substring(idx) || _slash;\n            }\n        }\n        return new Uri('file', authority, path, _empty, _empty);\n    }\n    /**\n     * Creates new URI from uri components.\n     *\n     * Unless `strict` is `true` the scheme is defaults to be `file`. This function performs\n     * validation and should be used for untrusted uri components retrieved from storage,\n     * user input, command arguments etc\n     */\n    static from(components, strict) {\n        const result = new Uri(components.scheme, components.authority, components.path, components.query, components.fragment, strict);\n        return result;\n    }\n    /**\n     * Join a URI path with path fragments and normalizes the resulting path.\n     *\n     * @param uri The input URI.\n     * @param pathFragment The path fragment to add to the URI path.\n     * @returns The resulting URI.\n     */\n    static joinPath(uri, ...pathFragment) {\n        if (!uri.path) {\n            throw new Error(`[UriError]: cannot call joinPath on URI without path`);\n        }\n        let newPath;\n        if (isWindows && uri.scheme === 'file') {\n            newPath = URI.file(paths.win32.join(uriToFsPath(uri, true), ...pathFragment)).path;\n        }\n        else {\n            newPath = paths.posix.join(uri.path, ...pathFragment);\n        }\n        return uri.with({ path: newPath });\n    }\n    // ---- printing/externalize ---------------------------\n    /**\n     * Creates a string representation for this URI. It's guaranteed that calling\n     * `URI.parse` with the result of this function creates an URI which is equal\n     * to this URI.\n     *\n     * * The result shall *not* be used for display purposes but for externalization or transport.\n     * * The result will be encoded using the percentage encoding and encoding happens mostly\n     * ignore the scheme-specific encoding rules.\n     *\n     * @param skipEncoding Do not encode the result, default is `false`\n     */\n    toString(skipEncoding = false) {\n        return _asFormatted(this, skipEncoding);\n    }\n    toJSON() {\n        return this;\n    }\n    static revive(data) {\n        var _a, _b;\n        if (!data) {\n            return data;\n        }\n        else if (data instanceof URI) {\n            return data;\n        }\n        else {\n            const result = new Uri(data);\n            result._formatted = (_a = data.external) !== null && _a !== void 0 ? _a : null;\n            result._fsPath = data._sep === _pathSepMarker ? (_b = data.fsPath) !== null && _b !== void 0 ? _b : null : null;\n            return result;\n        }\n    }\n}\nconst _pathSepMarker = isWindows ? 1 : undefined;\n// This class exists so that URI is compatible with vscode.Uri (API).\nclass Uri extends URI {\n    constructor() {\n        super(...arguments);\n        this._formatted = null;\n        this._fsPath = null;\n    }\n    get fsPath() {\n        if (!this._fsPath) {\n            this._fsPath = uriToFsPath(this, false);\n        }\n        return this._fsPath;\n    }\n    toString(skipEncoding = false) {\n        if (!skipEncoding) {\n            if (!this._formatted) {\n                this._formatted = _asFormatted(this, false);\n            }\n            return this._formatted;\n        }\n        else {\n            // we don't cache that\n            return _asFormatted(this, true);\n        }\n    }\n    toJSON() {\n        const res = {\n            $mid: 1 /* MarshalledId.Uri */\n        };\n        // cached state\n        if (this._fsPath) {\n            res.fsPath = this._fsPath;\n            res._sep = _pathSepMarker;\n        }\n        if (this._formatted) {\n            res.external = this._formatted;\n        }\n        //--- uri components\n        if (this.path) {\n            res.path = this.path;\n        }\n        // TODO\n        // this isn't correct and can violate the UriComponents contract but\n        // this is part of the vscode.Uri API and we shouldn't change how that\n        // works anymore\n        if (this.scheme) {\n            res.scheme = this.scheme;\n        }\n        if (this.authority) {\n            res.authority = this.authority;\n        }\n        if (this.query) {\n            res.query = this.query;\n        }\n        if (this.fragment) {\n            res.fragment = this.fragment;\n        }\n        return res;\n    }\n}\n// reserved characters: https://tools.ietf.org/html/rfc3986#section-2.2\nconst encodeTable = {\n    [58 /* CharCode.Colon */]: '%3A',\n    [47 /* CharCode.Slash */]: '%2F',\n    [63 /* CharCode.QuestionMark */]: '%3F',\n    [35 /* CharCode.Hash */]: '%23',\n    [91 /* CharCode.OpenSquareBracket */]: '%5B',\n    [93 /* CharCode.CloseSquareBracket */]: '%5D',\n    [64 /* CharCode.AtSign */]: '%40',\n    [33 /* CharCode.ExclamationMark */]: '%21',\n    [36 /* CharCode.DollarSign */]: '%24',\n    [38 /* CharCode.Ampersand */]: '%26',\n    [39 /* CharCode.SingleQuote */]: '%27',\n    [40 /* CharCode.OpenParen */]: '%28',\n    [41 /* CharCode.CloseParen */]: '%29',\n    [42 /* CharCode.Asterisk */]: '%2A',\n    [43 /* CharCode.Plus */]: '%2B',\n    [44 /* CharCode.Comma */]: '%2C',\n    [59 /* CharCode.Semicolon */]: '%3B',\n    [61 /* CharCode.Equals */]: '%3D',\n    [32 /* CharCode.Space */]: '%20',\n};\nfunction encodeURIComponentFast(uriComponent, isPath, isAuthority) {\n    let res = undefined;\n    let nativeEncodePos = -1;\n    for (let pos = 0; pos < uriComponent.length; pos++) {\n        const code = uriComponent.charCodeAt(pos);\n        // unreserved characters: https://tools.ietf.org/html/rfc3986#section-2.3\n        if ((code >= 97 /* CharCode.a */ && code <= 122 /* CharCode.z */)\n            || (code >= 65 /* CharCode.A */ && code <= 90 /* CharCode.Z */)\n            || (code >= 48 /* CharCode.Digit0 */ && code <= 57 /* CharCode.Digit9 */)\n            || code === 45 /* CharCode.Dash */\n            || code === 46 /* CharCode.Period */\n            || code === 95 /* CharCode.Underline */\n            || code === 126 /* CharCode.Tilde */\n            || (isPath && code === 47 /* CharCode.Slash */)\n            || (isAuthority && code === 91 /* CharCode.OpenSquareBracket */)\n            || (isAuthority && code === 93 /* CharCode.CloseSquareBracket */)\n            || (isAuthority && code === 58 /* CharCode.Colon */)) {\n            // check if we are delaying native encode\n            if (nativeEncodePos !== -1) {\n                res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n                nativeEncodePos = -1;\n            }\n            // check if we write into a new string (by default we try to return the param)\n            if (res !== undefined) {\n                res += uriComponent.charAt(pos);\n            }\n        }\n        else {\n            // encoding needed, we need to allocate a new string\n            if (res === undefined) {\n                res = uriComponent.substr(0, pos);\n            }\n            // check with default table first\n            const escaped = encodeTable[code];\n            if (escaped !== undefined) {\n                // check if we are delaying native encode\n                if (nativeEncodePos !== -1) {\n                    res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n                    nativeEncodePos = -1;\n                }\n                // append escaped variant to result\n                res += escaped;\n            }\n            else if (nativeEncodePos === -1) {\n                // use native encode only when needed\n                nativeEncodePos = pos;\n            }\n        }\n    }\n    if (nativeEncodePos !== -1) {\n        res += encodeURIComponent(uriComponent.substring(nativeEncodePos));\n    }\n    return res !== undefined ? res : uriComponent;\n}\nfunction encodeURIComponentMinimal(path) {\n    let res = undefined;\n    for (let pos = 0; pos < path.length; pos++) {\n        const code = path.charCodeAt(pos);\n        if (code === 35 /* CharCode.Hash */ || code === 63 /* CharCode.QuestionMark */) {\n            if (res === undefined) {\n                res = path.substr(0, pos);\n            }\n            res += encodeTable[code];\n        }\n        else {\n            if (res !== undefined) {\n                res += path[pos];\n            }\n        }\n    }\n    return res !== undefined ? res : path;\n}\n/**\n * Compute `fsPath` for the given uri\n */\nexport function uriToFsPath(uri, keepDriveLetterCasing) {\n    let value;\n    if (uri.authority && uri.path.length > 1 && uri.scheme === 'file') {\n        // unc path: file://shares/c$/far/boo\n        value = `//${uri.authority}${uri.path}`;\n    }\n    else if (uri.path.charCodeAt(0) === 47 /* CharCode.Slash */\n        && (uri.path.charCodeAt(1) >= 65 /* CharCode.A */ && uri.path.charCodeAt(1) <= 90 /* CharCode.Z */ || uri.path.charCodeAt(1) >= 97 /* CharCode.a */ && uri.path.charCodeAt(1) <= 122 /* CharCode.z */)\n        && uri.path.charCodeAt(2) === 58 /* CharCode.Colon */) {\n        if (!keepDriveLetterCasing) {\n            // windows drive letter: file:///c:/far/boo\n            value = uri.path[1].toLowerCase() + uri.path.substr(2);\n        }\n        else {\n            value = uri.path.substr(1);\n        }\n    }\n    else {\n        // other path\n        value = uri.path;\n    }\n    if (isWindows) {\n        value = value.replace(/\\//g, '\\\\');\n    }\n    return value;\n}\n/**\n * Create the external version of a uri\n */\nfunction _asFormatted(uri, skipEncoding) {\n    const encoder = !skipEncoding\n        ? encodeURIComponentFast\n        : encodeURIComponentMinimal;\n    let res = '';\n    let { scheme, authority, path, query, fragment } = uri;\n    if (scheme) {\n        res += scheme;\n        res += ':';\n    }\n    if (authority || scheme === 'file') {\n        res += _slash;\n        res += _slash;\n    }\n    if (authority) {\n        let idx = authority.indexOf('@');\n        if (idx !== -1) {\n            // <user>@<auth>\n            const userinfo = authority.substr(0, idx);\n            authority = authority.substr(idx + 1);\n            idx = userinfo.lastIndexOf(':');\n            if (idx === -1) {\n                res += encoder(userinfo, false, false);\n            }\n            else {\n                // <user>:<pass>@<auth>\n                res += encoder(userinfo.substr(0, idx), false, false);\n                res += ':';\n                res += encoder(userinfo.substr(idx + 1), false, true);\n            }\n            res += '@';\n        }\n        authority = authority.toLowerCase();\n        idx = authority.lastIndexOf(':');\n        if (idx === -1) {\n            res += encoder(authority, false, true);\n        }\n        else {\n            // <auth>:<port>\n            res += encoder(authority.substr(0, idx), false, true);\n            res += authority.substr(idx);\n        }\n    }\n    if (path) {\n        // lower-case windows drive letters in /C:/fff or C:/fff\n        if (path.length >= 3 && path.charCodeAt(0) === 47 /* CharCode.Slash */ && path.charCodeAt(2) === 58 /* CharCode.Colon */) {\n            const code = path.charCodeAt(1);\n            if (code >= 65 /* CharCode.A */ && code <= 90 /* CharCode.Z */) {\n                path = `/${String.fromCharCode(code + 32)}:${path.substr(3)}`; // \"/c:\".length === 3\n            }\n        }\n        else if (path.length >= 2 && path.charCodeAt(1) === 58 /* CharCode.Colon */) {\n            const code = path.charCodeAt(0);\n            if (code >= 65 /* CharCode.A */ && code <= 90 /* CharCode.Z */) {\n                path = `${String.fromCharCode(code + 32)}:${path.substr(2)}`; // \"/c:\".length === 3\n            }\n        }\n        // encode the rest of the path\n        res += encoder(path, true, false);\n    }\n    if (query) {\n        res += '?';\n        res += encoder(query, false, false);\n    }\n    if (fragment) {\n        res += '#';\n        res += !skipEncoding ? encodeURIComponentFast(fragment, false, false) : fragment;\n    }\n    return res;\n}\n// --- decode\nfunction decodeURIComponentGraceful(str) {\n    try {\n        return decodeURIComponent(str);\n    }\n    catch (_a) {\n        if (str.length > 3) {\n            return str.substr(0, 3) + decodeURIComponentGraceful(str.substr(3));\n        }\n        else {\n            return str;\n        }\n    }\n}\nconst _rEncodedAsHex = /(%[0-9A-Za-z][0-9A-Za-z])+/g;\nfunction percentDecode(str) {\n    if (!str.match(_rEncodedAsHex)) {\n        return str;\n    }\n    return str.replace(_rEncodedAsHex, (match) => decodeURIComponentGraceful(match));\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/**\n * A position in the editor.\n */\nexport class Position {\n    constructor(lineNumber, column) {\n        this.lineNumber = lineNumber;\n        this.column = column;\n    }\n    /**\n     * Create a new position from this position.\n     *\n     * @param newLineNumber new line number\n     * @param newColumn new column\n     */\n    with(newLineNumber = this.lineNumber, newColumn = this.column) {\n        if (newLineNumber === this.lineNumber && newColumn === this.column) {\n            return this;\n        }\n        else {\n            return new Position(newLineNumber, newColumn);\n        }\n    }\n    /**\n     * Derive a new position from this position.\n     *\n     * @param deltaLineNumber line number delta\n     * @param deltaColumn column delta\n     */\n    delta(deltaLineNumber = 0, deltaColumn = 0) {\n        return this.with(this.lineNumber + deltaLineNumber, this.column + deltaColumn);\n    }\n    /**\n     * Test if this position equals other position\n     */\n    equals(other) {\n        return Position.equals(this, other);\n    }\n    /**\n     * Test if position `a` equals position `b`\n     */\n    static equals(a, b) {\n        if (!a && !b) {\n            return true;\n        }\n        return (!!a &&\n            !!b &&\n            a.lineNumber === b.lineNumber &&\n            a.column === b.column);\n    }\n    /**\n     * Test if this position is before other position.\n     * If the two positions are equal, the result will be false.\n     */\n    isBefore(other) {\n        return Position.isBefore(this, other);\n    }\n    /**\n     * Test if position `a` is before position `b`.\n     * If the two positions are equal, the result will be false.\n     */\n    static isBefore(a, b) {\n        if (a.lineNumber < b.lineNumber) {\n            return true;\n        }\n        if (b.lineNumber < a.lineNumber) {\n            return false;\n        }\n        return a.column < b.column;\n    }\n    /**\n     * Test if this position is before other position.\n     * If the two positions are equal, the result will be true.\n     */\n    isBeforeOrEqual(other) {\n        return Position.isBeforeOrEqual(this, other);\n    }\n    /**\n     * Test if position `a` is before position `b`.\n     * If the two positions are equal, the result will be true.\n     */\n    static isBeforeOrEqual(a, b) {\n        if (a.lineNumber < b.lineNumber) {\n            return true;\n        }\n        if (b.lineNumber < a.lineNumber) {\n            return false;\n        }\n        return a.column <= b.column;\n    }\n    /**\n     * A function that compares positions, useful for sorting\n     */\n    static compare(a, b) {\n        const aLineNumber = a.lineNumber | 0;\n        const bLineNumber = b.lineNumber | 0;\n        if (aLineNumber === bLineNumber) {\n            const aColumn = a.column | 0;\n            const bColumn = b.column | 0;\n            return aColumn - bColumn;\n        }\n        return aLineNumber - bLineNumber;\n    }\n    /**\n     * Clone this position.\n     */\n    clone() {\n        return new Position(this.lineNumber, this.column);\n    }\n    /**\n     * Convert to a human-readable representation.\n     */\n    toString() {\n        return '(' + this.lineNumber + ',' + this.column + ')';\n    }\n    // ---\n    /**\n     * Create a `Position` from an `IPosition`.\n     */\n    static lift(pos) {\n        return new Position(pos.lineNumber, pos.column);\n    }\n    /**\n     * Test if `obj` is an `IPosition`.\n     */\n    static isIPosition(obj) {\n        return (obj\n            && (typeof obj.lineNumber === 'number')\n            && (typeof obj.column === 'number'));\n    }\n}\n","/**\n * Returns the last element of an array.\n * @param array The array.\n * @param n Which element from the end (default is zero).\n */\nexport function tail(array, n = 0) {\n    return array[array.length - (1 + n)];\n}\nexport function tail2(arr) {\n    if (arr.length === 0) {\n        throw new Error('Invalid tail call');\n    }\n    return [arr.slice(0, arr.length - 1), arr[arr.length - 1]];\n}\nexport function equals(one, other, itemEquals = (a, b) => a === b) {\n    if (one === other) {\n        return true;\n    }\n    if (!one || !other) {\n        return false;\n    }\n    if (one.length !== other.length) {\n        return false;\n    }\n    for (let i = 0, len = one.length; i < len; i++) {\n        if (!itemEquals(one[i], other[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Remove the element at `index` by replacing it with the last element. This is faster than `splice`\n * but changes the order of the array\n */\nexport function removeFastWithoutKeepingOrder(array, index) {\n    const last = array.length - 1;\n    if (index < last) {\n        array[index] = array[last];\n    }\n    array.pop();\n}\n/**\n * Performs a binary search algorithm over a sorted array.\n *\n * @param array The array being searched.\n * @param key The value we search for.\n * @param comparator A function that takes two array elements and returns zero\n *   if they are equal, a negative number if the first element precedes the\n *   second one in the sorting order, or a positive number if the second element\n *   precedes the first one.\n * @return See {@link binarySearch2}\n */\nexport function binarySearch(array, key, comparator) {\n    return binarySearch2(array.length, i => comparator(array[i], key));\n}\n/**\n * Performs a binary search algorithm over a sorted collection. Useful for cases\n * when we need to perform a binary search over something that isn't actually an\n * array, and converting data to an array would defeat the use of binary search\n * in the first place.\n *\n * @param length The collection length.\n * @param compareToKey A function that takes an index of an element in the\n *   collection and returns zero if the value at this index is equal to the\n *   search key, a negative number if the value precedes the search key in the\n *   sorting order, or a positive number if the search key precedes the value.\n * @return A non-negative index of an element, if found. If not found, the\n *   result is -(n+1) (or ~n, using bitwise notation), where n is the index\n *   where the key should be inserted to maintain the sorting order.\n */\nexport function binarySearch2(length, compareToKey) {\n    let low = 0, high = length - 1;\n    while (low <= high) {\n        const mid = ((low + high) / 2) | 0;\n        const comp = compareToKey(mid);\n        if (comp < 0) {\n            low = mid + 1;\n        }\n        else if (comp > 0) {\n            high = mid - 1;\n        }\n        else {\n            return mid;\n        }\n    }\n    return -(low + 1);\n}\n/**\n * Takes a sorted array and a function p. The array is sorted in such a way that all elements where p(x) is false\n * are located before all elements where p(x) is true.\n * @returns the least x for which p(x) is true or array.length if no element fullfills the given function.\n */\nexport function findFirstInSorted(array, p) {\n    let low = 0, high = array.length;\n    if (high === 0) {\n        return 0; // no children\n    }\n    while (low < high) {\n        const mid = Math.floor((low + high) / 2);\n        if (p(array[mid])) {\n            high = mid;\n        }\n        else {\n            low = mid + 1;\n        }\n    }\n    return low;\n}\nexport function quickSelect(nth, data, compare) {\n    nth = nth | 0;\n    if (nth >= data.length) {\n        throw new TypeError('invalid index');\n    }\n    const pivotValue = data[Math.floor(data.length * Math.random())];\n    const lower = [];\n    const higher = [];\n    const pivots = [];\n    for (const value of data) {\n        const val = compare(value, pivotValue);\n        if (val < 0) {\n            lower.push(value);\n        }\n        else if (val > 0) {\n            higher.push(value);\n        }\n        else {\n            pivots.push(value);\n        }\n    }\n    if (nth < lower.length) {\n        return quickSelect(nth, lower, compare);\n    }\n    else if (nth < lower.length + pivots.length) {\n        return pivots[0];\n    }\n    else {\n        return quickSelect(nth - (lower.length + pivots.length), higher, compare);\n    }\n}\nexport function groupBy(data, compare) {\n    const result = [];\n    let currentGroup = undefined;\n    for (const element of data.slice(0).sort(compare)) {\n        if (!currentGroup || compare(currentGroup[0], element) !== 0) {\n            currentGroup = [element];\n            result.push(currentGroup);\n        }\n        else {\n            currentGroup.push(element);\n        }\n    }\n    return result;\n}\n/**\n * @returns New array with all falsy values removed. The original array IS NOT modified.\n */\nexport function coalesce(array) {\n    return array.filter(e => !!e);\n}\n/**\n * Remove all falsy values from `array`. The original array IS modified.\n */\nexport function coalesceInPlace(array) {\n    let to = 0;\n    for (let i = 0; i < array.length; i++) {\n        if (!!array[i]) {\n            array[to] = array[i];\n            to += 1;\n        }\n    }\n    array.length = to;\n}\n/**\n * @returns false if the provided object is an array and not empty.\n */\nexport function isFalsyOrEmpty(obj) {\n    return !Array.isArray(obj) || obj.length === 0;\n}\nexport function isNonEmptyArray(obj) {\n    return Array.isArray(obj) && obj.length > 0;\n}\n/**\n * Removes duplicates from the given array. The optional keyFn allows to specify\n * how elements are checked for equality by returning an alternate value for each.\n */\nexport function distinct(array, keyFn = value => value) {\n    const seen = new Set();\n    return array.filter(element => {\n        const key = keyFn(element);\n        if (seen.has(key)) {\n            return false;\n        }\n        seen.add(key);\n        return true;\n    });\n}\nexport function findLast(arr, predicate) {\n    const idx = lastIndex(arr, predicate);\n    if (idx === -1) {\n        return undefined;\n    }\n    return arr[idx];\n}\nexport function lastIndex(array, fn) {\n    for (let i = array.length - 1; i >= 0; i--) {\n        const element = array[i];\n        if (fn(element)) {\n            return i;\n        }\n    }\n    return -1;\n}\nexport function firstOrDefault(array, notFoundValue) {\n    return array.length > 0 ? array[0] : notFoundValue;\n}\nexport function range(arg, to) {\n    let from = typeof to === 'number' ? arg : 0;\n    if (typeof to === 'number') {\n        from = arg;\n    }\n    else {\n        from = 0;\n        to = arg;\n    }\n    const result = [];\n    if (from <= to) {\n        for (let i = from; i < to; i++) {\n            result.push(i);\n        }\n    }\n    else {\n        for (let i = from; i > to; i--) {\n            result.push(i);\n        }\n    }\n    return result;\n}\n/**\n * Insert `insertArr` inside `target` at `insertIndex`.\n * Please don't touch unless you understand https://jsperf.com/inserting-an-array-within-an-array\n */\nexport function arrayInsert(target, insertIndex, insertArr) {\n    const before = target.slice(0, insertIndex);\n    const after = target.slice(insertIndex);\n    return before.concat(insertArr, after);\n}\n/**\n * Pushes an element to the start of the array, if found.\n */\nexport function pushToStart(arr, value) {\n    const index = arr.indexOf(value);\n    if (index > -1) {\n        arr.splice(index, 1);\n        arr.unshift(value);\n    }\n}\n/**\n * Pushes an element to the end of the array, if found.\n */\nexport function pushToEnd(arr, value) {\n    const index = arr.indexOf(value);\n    if (index > -1) {\n        arr.splice(index, 1);\n        arr.push(value);\n    }\n}\nexport function pushMany(arr, items) {\n    for (const item of items) {\n        arr.push(item);\n    }\n}\nexport function asArray(x) {\n    return Array.isArray(x) ? x : [x];\n}\n/**\n * Returns the first mapped value of the array which is not undefined.\n */\nexport function mapFind(array, mapFn) {\n    for (const value of array) {\n        const mapped = mapFn(value);\n        if (mapped !== undefined) {\n            return mapped;\n        }\n    }\n    return undefined;\n}\n/**\n * Insert the new items in the array.\n * @param array The original array.\n * @param start The zero-based location in the array from which to start inserting elements.\n * @param newItems The items to be inserted\n */\nexport function insertInto(array, start, newItems) {\n    const startIdx = getActualStartIndex(array, start);\n    const originalLength = array.length;\n    const newItemsLength = newItems.length;\n    array.length = originalLength + newItemsLength;\n    // Move the items after the start index, start from the end so that we don't overwrite any value.\n    for (let i = originalLength - 1; i >= startIdx; i--) {\n        array[i + newItemsLength] = array[i];\n    }\n    for (let i = 0; i < newItemsLength; i++) {\n        array[i + startIdx] = newItems[i];\n    }\n}\n/**\n * Removes elements from an array and inserts new elements in their place, returning the deleted elements. Alternative to the native Array.splice method, it\n * can only support limited number of items due to the maximum call stack size limit.\n * @param array The original array.\n * @param start The zero-based location in the array from which to start removing elements.\n * @param deleteCount The number of elements to remove.\n * @returns An array containing the elements that were deleted.\n */\nexport function splice(array, start, deleteCount, newItems) {\n    const index = getActualStartIndex(array, start);\n    const result = array.splice(index, deleteCount);\n    insertInto(array, index, newItems);\n    return result;\n}\n/**\n * Determine the actual start index (same logic as the native splice() or slice())\n * If greater than the length of the array, start will be set to the length of the array. In this case, no element will be deleted but the method will behave as an adding function, adding as many element as item[n*] provided.\n * If negative, it will begin that many elements from the end of the array. (In this case, the origin -1, meaning -n is the index of the nth last element, and is therefore equivalent to the index of array.length - n.) If array.length + start is less than 0, it will begin from index 0.\n * @param array The target array.\n * @param start The operation index.\n */\nfunction getActualStartIndex(array, start) {\n    return start < 0 ? Math.max(start + array.length, 0) : Math.min(start, array.length);\n}\nexport var CompareResult;\n(function (CompareResult) {\n    function isLessThan(result) {\n        return result < 0;\n    }\n    CompareResult.isLessThan = isLessThan;\n    function isGreaterThan(result) {\n        return result > 0;\n    }\n    CompareResult.isGreaterThan = isGreaterThan;\n    function isNeitherLessOrGreaterThan(result) {\n        return result === 0;\n    }\n    CompareResult.isNeitherLessOrGreaterThan = isNeitherLessOrGreaterThan;\n    CompareResult.greaterThan = 1;\n    CompareResult.lessThan = -1;\n    CompareResult.neitherLessOrGreaterThan = 0;\n})(CompareResult || (CompareResult = {}));\nexport function compareBy(selector, comparator) {\n    return (a, b) => comparator(selector(a), selector(b));\n}\n/**\n * The natural order on numbers.\n*/\nexport const numberComparator = (a, b) => a - b;\n/**\n * Returns the first item that is equal to or greater than every other item.\n*/\nexport function findMaxBy(items, comparator) {\n    if (items.length === 0) {\n        return undefined;\n    }\n    let max = items[0];\n    for (let i = 1; i < items.length; i++) {\n        const item = items[i];\n        if (comparator(item, max) > 0) {\n            max = item;\n        }\n    }\n    return max;\n}\n/**\n * Returns the last item that is equal to or greater than every other item.\n*/\nexport function findLastMaxBy(items, comparator) {\n    if (items.length === 0) {\n        return undefined;\n    }\n    let max = items[0];\n    for (let i = 1; i < items.length; i++) {\n        const item = items[i];\n        if (comparator(item, max) >= 0) {\n            max = item;\n        }\n    }\n    return max;\n}\n/**\n * Returns the first item that is equal to or less than every other item.\n*/\nexport function findMinBy(items, comparator) {\n    return findMaxBy(items, (a, b) => -comparator(a, b));\n}\nexport class ArrayQueue {\n    /**\n     * Constructs a queue that is backed by the given array. Runtime is O(1).\n    */\n    constructor(items) {\n        this.items = items;\n        this.firstIdx = 0;\n        this.lastIdx = this.items.length - 1;\n    }\n    get length() {\n        return this.lastIdx - this.firstIdx + 1;\n    }\n    /**\n     * Consumes elements from the beginning of the queue as long as the predicate returns true.\n     * If no elements were consumed, `null` is returned. Has a runtime of O(result.length).\n    */\n    takeWhile(predicate) {\n        // P(k) := k <= this.lastIdx && predicate(this.items[k])\n        // Find s := min { k | k >= this.firstIdx && !P(k) } and return this.data[this.firstIdx...s)\n        let startIdx = this.firstIdx;\n        while (startIdx < this.items.length && predicate(this.items[startIdx])) {\n            startIdx++;\n        }\n        const result = startIdx === this.firstIdx ? null : this.items.slice(this.firstIdx, startIdx);\n        this.firstIdx = startIdx;\n        return result;\n    }\n    /**\n     * Consumes elements from the end of the queue as long as the predicate returns true.\n     * If no elements were consumed, `null` is returned.\n     * The result has the same order as the underlying array!\n    */\n    takeFromEndWhile(predicate) {\n        // P(k) := this.firstIdx >= k && predicate(this.items[k])\n        // Find s := max { k | k <= this.lastIdx && !P(k) } and return this.data(s...this.lastIdx]\n        let endIdx = this.lastIdx;\n        while (endIdx >= 0 && predicate(this.items[endIdx])) {\n            endIdx--;\n        }\n        const result = endIdx === this.lastIdx ? null : this.items.slice(endIdx + 1, this.lastIdx + 1);\n        this.lastIdx = endIdx;\n        return result;\n    }\n    peek() {\n        if (this.length === 0) {\n            return undefined;\n        }\n        return this.items[this.firstIdx];\n    }\n    dequeue() {\n        const result = this.items[this.firstIdx];\n        this.firstIdx++;\n        return result;\n    }\n    takeCount(count) {\n        const result = this.items.slice(this.firstIdx, this.firstIdx + count);\n        this.firstIdx += count;\n        return result;\n    }\n}\n/**\n * This class is faster than an iterator and array for lazy computed data.\n*/\nexport class CallbackIterable {\n    constructor(\n    /**\n     * Calls the callback for every item.\n     * Stops when the callback returns false.\n    */\n    iterate) {\n        this.iterate = iterate;\n    }\n    toArray() {\n        const result = [];\n        this.iterate(item => { result.push(item); return true; });\n        return result;\n    }\n    filter(predicate) {\n        return new CallbackIterable(cb => this.iterate(item => predicate(item) ? cb(item) : true));\n    }\n    map(mapFn) {\n        return new CallbackIterable(cb => this.iterate(item => cb(mapFn(item))));\n    }\n    findLast(predicate) {\n        let result;\n        this.iterate(item => {\n            if (predicate(item)) {\n                result = item;\n            }\n            return true;\n        });\n        return result;\n    }\n    findLastMaxBy(comparator) {\n        let result;\n        let first = true;\n        this.iterate(item => {\n            if (first || CompareResult.isGreaterThan(comparator(item, result))) {\n                first = false;\n                result = item;\n            }\n            return true;\n        });\n        return result;\n    }\n}\nCallbackIterable.empty = new CallbackIterable(_callback => { });\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Position } from './position.js';\n/**\n * A range in the editor. (startLineNumber,startColumn) is <= (endLineNumber,endColumn)\n */\nexport class Range {\n    constructor(startLineNumber, startColumn, endLineNumber, endColumn) {\n        if ((startLineNumber > endLineNumber) || (startLineNumber === endLineNumber && startColumn > endColumn)) {\n            this.startLineNumber = endLineNumber;\n            this.startColumn = endColumn;\n            this.endLineNumber = startLineNumber;\n            this.endColumn = startColumn;\n        }\n        else {\n            this.startLineNumber = startLineNumber;\n            this.startColumn = startColumn;\n            this.endLineNumber = endLineNumber;\n            this.endColumn = endColumn;\n        }\n    }\n    /**\n     * Test if this range is empty.\n     */\n    isEmpty() {\n        return Range.isEmpty(this);\n    }\n    /**\n     * Test if `range` is empty.\n     */\n    static isEmpty(range) {\n        return (range.startLineNumber === range.endLineNumber && range.startColumn === range.endColumn);\n    }\n    /**\n     * Test if position is in this range. If the position is at the edges, will return true.\n     */\n    containsPosition(position) {\n        return Range.containsPosition(this, position);\n    }\n    /**\n     * Test if `position` is in `range`. If the position is at the edges, will return true.\n     */\n    static containsPosition(range, position) {\n        if (position.lineNumber < range.startLineNumber || position.lineNumber > range.endLineNumber) {\n            return false;\n        }\n        if (position.lineNumber === range.startLineNumber && position.column < range.startColumn) {\n            return false;\n        }\n        if (position.lineNumber === range.endLineNumber && position.column > range.endColumn) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Test if `position` is in `range`. If the position is at the edges, will return false.\n     * @internal\n     */\n    static strictContainsPosition(range, position) {\n        if (position.lineNumber < range.startLineNumber || position.lineNumber > range.endLineNumber) {\n            return false;\n        }\n        if (position.lineNumber === range.startLineNumber && position.column <= range.startColumn) {\n            return false;\n        }\n        if (position.lineNumber === range.endLineNumber && position.column >= range.endColumn) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Test if range is in this range. If the range is equal to this range, will return true.\n     */\n    containsRange(range) {\n        return Range.containsRange(this, range);\n    }\n    /**\n     * Test if `otherRange` is in `range`. If the ranges are equal, will return true.\n     */\n    static containsRange(range, otherRange) {\n        if (otherRange.startLineNumber < range.startLineNumber || otherRange.endLineNumber < range.startLineNumber) {\n            return false;\n        }\n        if (otherRange.startLineNumber > range.endLineNumber || otherRange.endLineNumber > range.endLineNumber) {\n            return false;\n        }\n        if (otherRange.startLineNumber === range.startLineNumber && otherRange.startColumn < range.startColumn) {\n            return false;\n        }\n        if (otherRange.endLineNumber === range.endLineNumber && otherRange.endColumn > range.endColumn) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Test if `range` is strictly in this range. `range` must start after and end before this range for the result to be true.\n     */\n    strictContainsRange(range) {\n        return Range.strictContainsRange(this, range);\n    }\n    /**\n     * Test if `otherRange` is strictly in `range` (must start after, and end before). If the ranges are equal, will return false.\n     */\n    static strictContainsRange(range, otherRange) {\n        if (otherRange.startLineNumber < range.startLineNumber || otherRange.endLineNumber < range.startLineNumber) {\n            return false;\n        }\n        if (otherRange.startLineNumber > range.endLineNumber || otherRange.endLineNumber > range.endLineNumber) {\n            return false;\n        }\n        if (otherRange.startLineNumber === range.startLineNumber && otherRange.startColumn <= range.startColumn) {\n            return false;\n        }\n        if (otherRange.endLineNumber === range.endLineNumber && otherRange.endColumn >= range.endColumn) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * A reunion of the two ranges.\n     * The smallest position will be used as the start point, and the largest one as the end point.\n     */\n    plusRange(range) {\n        return Range.plusRange(this, range);\n    }\n    /**\n     * A reunion of the two ranges.\n     * The smallest position will be used as the start point, and the largest one as the end point.\n     */\n    static plusRange(a, b) {\n        let startLineNumber;\n        let startColumn;\n        let endLineNumber;\n        let endColumn;\n        if (b.startLineNumber < a.startLineNumber) {\n            startLineNumber = b.startLineNumber;\n            startColumn = b.startColumn;\n        }\n        else if (b.startLineNumber === a.startLineNumber) {\n            startLineNumber = b.startLineNumber;\n            startColumn = Math.min(b.startColumn, a.startColumn);\n        }\n        else {\n            startLineNumber = a.startLineNumber;\n            startColumn = a.startColumn;\n        }\n        if (b.endLineNumber > a.endLineNumber) {\n            endLineNumber = b.endLineNumber;\n            endColumn = b.endColumn;\n        }\n        else if (b.endLineNumber === a.endLineNumber) {\n            endLineNumber = b.endLineNumber;\n            endColumn = Math.max(b.endColumn, a.endColumn);\n        }\n        else {\n            endLineNumber = a.endLineNumber;\n            endColumn = a.endColumn;\n        }\n        return new Range(startLineNumber, startColumn, endLineNumber, endColumn);\n    }\n    /**\n     * A intersection of the two ranges.\n     */\n    intersectRanges(range) {\n        return Range.intersectRanges(this, range);\n    }\n    /**\n     * A intersection of the two ranges.\n     */\n    static intersectRanges(a, b) {\n        let resultStartLineNumber = a.startLineNumber;\n        let resultStartColumn = a.startColumn;\n        let resultEndLineNumber = a.endLineNumber;\n        let resultEndColumn = a.endColumn;\n        const otherStartLineNumber = b.startLineNumber;\n        const otherStartColumn = b.startColumn;\n        const otherEndLineNumber = b.endLineNumber;\n        const otherEndColumn = b.endColumn;\n        if (resultStartLineNumber < otherStartLineNumber) {\n            resultStartLineNumber = otherStartLineNumber;\n            resultStartColumn = otherStartColumn;\n        }\n        else if (resultStartLineNumber === otherStartLineNumber) {\n            resultStartColumn = Math.max(resultStartColumn, otherStartColumn);\n        }\n        if (resultEndLineNumber > otherEndLineNumber) {\n            resultEndLineNumber = otherEndLineNumber;\n            resultEndColumn = otherEndColumn;\n        }\n        else if (resultEndLineNumber === otherEndLineNumber) {\n            resultEndColumn = Math.min(resultEndColumn, otherEndColumn);\n        }\n        // Check if selection is now empty\n        if (resultStartLineNumber > resultEndLineNumber) {\n            return null;\n        }\n        if (resultStartLineNumber === resultEndLineNumber && resultStartColumn > resultEndColumn) {\n            return null;\n        }\n        return new Range(resultStartLineNumber, resultStartColumn, resultEndLineNumber, resultEndColumn);\n    }\n    /**\n     * Test if this range equals other.\n     */\n    equalsRange(other) {\n        return Range.equalsRange(this, other);\n    }\n    /**\n     * Test if range `a` equals `b`.\n     */\n    static equalsRange(a, b) {\n        if (!a && !b) {\n            return true;\n        }\n        return (!!a &&\n            !!b &&\n            a.startLineNumber === b.startLineNumber &&\n            a.startColumn === b.startColumn &&\n            a.endLineNumber === b.endLineNumber &&\n            a.endColumn === b.endColumn);\n    }\n    /**\n     * Return the end position (which will be after or equal to the start position)\n     */\n    getEndPosition() {\n        return Range.getEndPosition(this);\n    }\n    /**\n     * Return the end position (which will be after or equal to the start position)\n     */\n    static getEndPosition(range) {\n        return new Position(range.endLineNumber, range.endColumn);\n    }\n    /**\n     * Return the start position (which will be before or equal to the end position)\n     */\n    getStartPosition() {\n        return Range.getStartPosition(this);\n    }\n    /**\n     * Return the start position (which will be before or equal to the end position)\n     */\n    static getStartPosition(range) {\n        return new Position(range.startLineNumber, range.startColumn);\n    }\n    /**\n     * Transform to a user presentable string representation.\n     */\n    toString() {\n        return '[' + this.startLineNumber + ',' + this.startColumn + ' -> ' + this.endLineNumber + ',' + this.endColumn + ']';\n    }\n    /**\n     * Create a new range using this range's start position, and using endLineNumber and endColumn as the end position.\n     */\n    setEndPosition(endLineNumber, endColumn) {\n        return new Range(this.startLineNumber, this.startColumn, endLineNumber, endColumn);\n    }\n    /**\n     * Create a new range using this range's end position, and using startLineNumber and startColumn as the start position.\n     */\n    setStartPosition(startLineNumber, startColumn) {\n        return new Range(startLineNumber, startColumn, this.endLineNumber, this.endColumn);\n    }\n    /**\n     * Create a new empty range using this range's start position.\n     */\n    collapseToStart() {\n        return Range.collapseToStart(this);\n    }\n    /**\n     * Create a new empty range using this range's start position.\n     */\n    static collapseToStart(range) {\n        return new Range(range.startLineNumber, range.startColumn, range.startLineNumber, range.startColumn);\n    }\n    /**\n     * Create a new empty range using this range's end position.\n     */\n    collapseToEnd() {\n        return Range.collapseToEnd(this);\n    }\n    /**\n     * Create a new empty range using this range's end position.\n     */\n    static collapseToEnd(range) {\n        return new Range(range.endLineNumber, range.endColumn, range.endLineNumber, range.endColumn);\n    }\n    /**\n     * Moves the range by the given amount of lines.\n     */\n    delta(lineCount) {\n        return new Range(this.startLineNumber + lineCount, this.startColumn, this.endLineNumber + lineCount, this.endColumn);\n    }\n    // ---\n    static fromPositions(start, end = start) {\n        return new Range(start.lineNumber, start.column, end.lineNumber, end.column);\n    }\n    static lift(range) {\n        if (!range) {\n            return null;\n        }\n        return new Range(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn);\n    }\n    /**\n     * Test if `obj` is an `IRange`.\n     */\n    static isIRange(obj) {\n        return (obj\n            && (typeof obj.startLineNumber === 'number')\n            && (typeof obj.startColumn === 'number')\n            && (typeof obj.endLineNumber === 'number')\n            && (typeof obj.endColumn === 'number'));\n    }\n    /**\n     * Test if the two ranges are touching in any way.\n     */\n    static areIntersectingOrTouching(a, b) {\n        // Check if `a` is before `b`\n        if (a.endLineNumber < b.startLineNumber || (a.endLineNumber === b.startLineNumber && a.endColumn < b.startColumn)) {\n            return false;\n        }\n        // Check if `b` is before `a`\n        if (b.endLineNumber < a.startLineNumber || (b.endLineNumber === a.startLineNumber && b.endColumn < a.startColumn)) {\n            return false;\n        }\n        // These ranges must intersect\n        return true;\n    }\n    /**\n     * Test if the two ranges are intersecting. If the ranges are touching it returns true.\n     */\n    static areIntersecting(a, b) {\n        // Check if `a` is before `b`\n        if (a.endLineNumber < b.startLineNumber || (a.endLineNumber === b.startLineNumber && a.endColumn <= b.startColumn)) {\n            return false;\n        }\n        // Check if `b` is before `a`\n        if (b.endLineNumber < a.startLineNumber || (b.endLineNumber === a.startLineNumber && b.endColumn <= a.startColumn)) {\n            return false;\n        }\n        // These ranges must intersect\n        return true;\n    }\n    /**\n     * A function that compares ranges, useful for sorting ranges\n     * It will first compare ranges on the startPosition and then on the endPosition\n     */\n    static compareRangesUsingStarts(a, b) {\n        if (a && b) {\n            const aStartLineNumber = a.startLineNumber | 0;\n            const bStartLineNumber = b.startLineNumber | 0;\n            if (aStartLineNumber === bStartLineNumber) {\n                const aStartColumn = a.startColumn | 0;\n                const bStartColumn = b.startColumn | 0;\n                if (aStartColumn === bStartColumn) {\n                    const aEndLineNumber = a.endLineNumber | 0;\n                    const bEndLineNumber = b.endLineNumber | 0;\n                    if (aEndLineNumber === bEndLineNumber) {\n                        const aEndColumn = a.endColumn | 0;\n                        const bEndColumn = b.endColumn | 0;\n                        return aEndColumn - bEndColumn;\n                    }\n                    return aEndLineNumber - bEndLineNumber;\n                }\n                return aStartColumn - bStartColumn;\n            }\n            return aStartLineNumber - bStartLineNumber;\n        }\n        const aExists = (a ? 1 : 0);\n        const bExists = (b ? 1 : 0);\n        return aExists - bExists;\n    }\n    /**\n     * A function that compares ranges, useful for sorting ranges\n     * It will first compare ranges on the endPosition and then on the startPosition\n     */\n    static compareRangesUsingEnds(a, b) {\n        if (a.endLineNumber === b.endLineNumber) {\n            if (a.endColumn === b.endColumn) {\n                if (a.startLineNumber === b.startLineNumber) {\n                    return a.startColumn - b.startColumn;\n                }\n                return a.startLineNumber - b.startLineNumber;\n            }\n            return a.endColumn - b.endColumn;\n        }\n        return a.endLineNumber - b.endLineNumber;\n    }\n    /**\n     * Test if the range spans multiple lines.\n     */\n    static spansMultipleLines(range) {\n        return range.endLineNumber > range.startLineNumber;\n    }\n    toJSON() {\n        return this;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function toUint8(v) {\n    if (v < 0) {\n        return 0;\n    }\n    if (v > 255 /* Constants.MAX_UINT_8 */) {\n        return 255 /* Constants.MAX_UINT_8 */;\n    }\n    return v | 0;\n}\nexport function toUint32(v) {\n    if (v < 0) {\n        return 0;\n    }\n    if (v > 4294967295 /* Constants.MAX_UINT_32 */) {\n        return 4294967295 /* Constants.MAX_UINT_32 */;\n    }\n    return v | 0;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { arrayInsert } from '../../../base/common/arrays.js';\nimport { toUint32 } from '../../../base/common/uint.js';\nexport class PrefixSumComputer {\n    constructor(values) {\n        this.values = values;\n        this.prefixSum = new Uint32Array(values.length);\n        this.prefixSumValidIndex = new Int32Array(1);\n        this.prefixSumValidIndex[0] = -1;\n    }\n    insertValues(insertIndex, insertValues) {\n        insertIndex = toUint32(insertIndex);\n        const oldValues = this.values;\n        const oldPrefixSum = this.prefixSum;\n        const insertValuesLen = insertValues.length;\n        if (insertValuesLen === 0) {\n            return false;\n        }\n        this.values = new Uint32Array(oldValues.length + insertValuesLen);\n        this.values.set(oldValues.subarray(0, insertIndex), 0);\n        this.values.set(oldValues.subarray(insertIndex), insertIndex + insertValuesLen);\n        this.values.set(insertValues, insertIndex);\n        if (insertIndex - 1 < this.prefixSumValidIndex[0]) {\n            this.prefixSumValidIndex[0] = insertIndex - 1;\n        }\n        this.prefixSum = new Uint32Array(this.values.length);\n        if (this.prefixSumValidIndex[0] >= 0) {\n            this.prefixSum.set(oldPrefixSum.subarray(0, this.prefixSumValidIndex[0] + 1));\n        }\n        return true;\n    }\n    setValue(index, value) {\n        index = toUint32(index);\n        value = toUint32(value);\n        if (this.values[index] === value) {\n            return false;\n        }\n        this.values[index] = value;\n        if (index - 1 < this.prefixSumValidIndex[0]) {\n            this.prefixSumValidIndex[0] = index - 1;\n        }\n        return true;\n    }\n    removeValues(startIndex, count) {\n        startIndex = toUint32(startIndex);\n        count = toUint32(count);\n        const oldValues = this.values;\n        const oldPrefixSum = this.prefixSum;\n        if (startIndex >= oldValues.length) {\n            return false;\n        }\n        const maxCount = oldValues.length - startIndex;\n        if (count >= maxCount) {\n            count = maxCount;\n        }\n        if (count === 0) {\n            return false;\n        }\n        this.values = new Uint32Array(oldValues.length - count);\n        this.values.set(oldValues.subarray(0, startIndex), 0);\n        this.values.set(oldValues.subarray(startIndex + count), startIndex);\n        this.prefixSum = new Uint32Array(this.values.length);\n        if (startIndex - 1 < this.prefixSumValidIndex[0]) {\n            this.prefixSumValidIndex[0] = startIndex - 1;\n        }\n        if (this.prefixSumValidIndex[0] >= 0) {\n            this.prefixSum.set(oldPrefixSum.subarray(0, this.prefixSumValidIndex[0] + 1));\n        }\n        return true;\n    }\n    getTotalSum() {\n        if (this.values.length === 0) {\n            return 0;\n        }\n        return this._getPrefixSum(this.values.length - 1);\n    }\n    /**\n     * Returns the sum of the first `index + 1` many items.\n     * @returns `SUM(0 <= j <= index, values[j])`.\n     */\n    getPrefixSum(index) {\n        if (index < 0) {\n            return 0;\n        }\n        index = toUint32(index);\n        return this._getPrefixSum(index);\n    }\n    _getPrefixSum(index) {\n        if (index <= this.prefixSumValidIndex[0]) {\n            return this.prefixSum[index];\n        }\n        let startIndex = this.prefixSumValidIndex[0] + 1;\n        if (startIndex === 0) {\n            this.prefixSum[0] = this.values[0];\n            startIndex++;\n        }\n        if (index >= this.values.length) {\n            index = this.values.length - 1;\n        }\n        for (let i = startIndex; i <= index; i++) {\n            this.prefixSum[i] = this.prefixSum[i - 1] + this.values[i];\n        }\n        this.prefixSumValidIndex[0] = Math.max(this.prefixSumValidIndex[0], index);\n        return this.prefixSum[index];\n    }\n    getIndexOf(sum) {\n        sum = Math.floor(sum);\n        // Compute all sums (to get a fully valid prefixSum)\n        this.getTotalSum();\n        let low = 0;\n        let high = this.values.length - 1;\n        let mid = 0;\n        let midStop = 0;\n        let midStart = 0;\n        while (low <= high) {\n            mid = low + ((high - low) / 2) | 0;\n            midStop = this.prefixSum[mid];\n            midStart = midStop - this.values[mid];\n            if (sum < midStart) {\n                high = mid - 1;\n            }\n            else if (sum >= midStop) {\n                low = mid + 1;\n            }\n            else {\n                break;\n            }\n        }\n        return new PrefixSumIndexOfResult(mid, sum - midStart);\n    }\n}\n/**\n * {@link getIndexOf} has an amortized runtime complexity of O(1).\n *\n * ({@link PrefixSumComputer.getIndexOf} is just  O(log n))\n*/\nexport class ConstantTimePrefixSumComputer {\n    constructor(values) {\n        this._values = values;\n        this._isValid = false;\n        this._validEndIndex = -1;\n        this._prefixSum = [];\n        this._indexBySum = [];\n    }\n    /**\n     * @returns SUM(0 <= j < values.length, values[j])\n     */\n    getTotalSum() {\n        this._ensureValid();\n        return this._indexBySum.length;\n    }\n    /**\n     * Returns the sum of the first `count` many items.\n     * @returns `SUM(0 <= j < count, values[j])`.\n     */\n    getPrefixSum(count) {\n        this._ensureValid();\n        if (count === 0) {\n            return 0;\n        }\n        return this._prefixSum[count - 1];\n    }\n    /**\n     * @returns `result`, such that `getPrefixSum(result.index) + result.remainder = sum`\n     */\n    getIndexOf(sum) {\n        this._ensureValid();\n        const idx = this._indexBySum[sum];\n        const viewLinesAbove = idx > 0 ? this._prefixSum[idx - 1] : 0;\n        return new PrefixSumIndexOfResult(idx, sum - viewLinesAbove);\n    }\n    removeValues(start, deleteCount) {\n        this._values.splice(start, deleteCount);\n        this._invalidate(start);\n    }\n    insertValues(insertIndex, insertArr) {\n        this._values = arrayInsert(this._values, insertIndex, insertArr);\n        this._invalidate(insertIndex);\n    }\n    _invalidate(index) {\n        this._isValid = false;\n        this._validEndIndex = Math.min(this._validEndIndex, index - 1);\n    }\n    _ensureValid() {\n        if (this._isValid) {\n            return;\n        }\n        for (let i = this._validEndIndex + 1, len = this._values.length; i < len; i++) {\n            const value = this._values[i];\n            const sumAbove = i > 0 ? this._prefixSum[i - 1] : 0;\n            this._prefixSum[i] = sumAbove + value;\n            for (let j = 0; j < value; j++) {\n                this._indexBySum[sumAbove + j] = i;\n            }\n        }\n        // trim things\n        this._prefixSum.length = this._values.length;\n        this._indexBySum.length = this._prefixSum[this._prefixSum.length - 1];\n        // mark as valid\n        this._isValid = true;\n        this._validEndIndex = this._values.length - 1;\n    }\n    setValue(index, value) {\n        if (this._values[index] === value) {\n            // no change\n            return;\n        }\n        this._values[index] = value;\n        this._invalidate(index);\n    }\n}\nexport class PrefixSumIndexOfResult {\n    constructor(index, remainder) {\n        this.index = index;\n        this.remainder = remainder;\n        this._prefixSumIndexOfResultBrand = undefined;\n        this.index = index;\n        this.remainder = remainder;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { splitLines } from '../../../base/common/strings.js';\nimport { Position } from '../core/position.js';\nimport { PrefixSumComputer } from './prefixSumComputer.js';\nexport class MirrorTextModel {\n    constructor(uri, lines, eol, versionId) {\n        this._uri = uri;\n        this._lines = lines;\n        this._eol = eol;\n        this._versionId = versionId;\n        this._lineStarts = null;\n        this._cachedTextValue = null;\n    }\n    dispose() {\n        this._lines.length = 0;\n    }\n    get version() {\n        return this._versionId;\n    }\n    getText() {\n        if (this._cachedTextValue === null) {\n            this._cachedTextValue = this._lines.join(this._eol);\n        }\n        return this._cachedTextValue;\n    }\n    onEvents(e) {\n        if (e.eol && e.eol !== this._eol) {\n            this._eol = e.eol;\n            this._lineStarts = null;\n        }\n        // Update my lines\n        const changes = e.changes;\n        for (const change of changes) {\n            this._acceptDeleteRange(change.range);\n            this._acceptInsertText(new Position(change.range.startLineNumber, change.range.startColumn), change.text);\n        }\n        this._versionId = e.versionId;\n        this._cachedTextValue = null;\n    }\n    _ensureLineStarts() {\n        if (!this._lineStarts) {\n            const eolLength = this._eol.length;\n            const linesLength = this._lines.length;\n            const lineStartValues = new Uint32Array(linesLength);\n            for (let i = 0; i < linesLength; i++) {\n                lineStartValues[i] = this._lines[i].length + eolLength;\n            }\n            this._lineStarts = new PrefixSumComputer(lineStartValues);\n        }\n    }\n    /**\n     * All changes to a line's text go through this method\n     */\n    _setLineText(lineIndex, newValue) {\n        this._lines[lineIndex] = newValue;\n        if (this._lineStarts) {\n            // update prefix sum\n            this._lineStarts.setValue(lineIndex, this._lines[lineIndex].length + this._eol.length);\n        }\n    }\n    _acceptDeleteRange(range) {\n        if (range.startLineNumber === range.endLineNumber) {\n            if (range.startColumn === range.endColumn) {\n                // Nothing to delete\n                return;\n            }\n            // Delete text on the affected line\n            this._setLineText(range.startLineNumber - 1, this._lines[range.startLineNumber - 1].substring(0, range.startColumn - 1)\n                + this._lines[range.startLineNumber - 1].substring(range.endColumn - 1));\n            return;\n        }\n        // Take remaining text on last line and append it to remaining text on first line\n        this._setLineText(range.startLineNumber - 1, this._lines[range.startLineNumber - 1].substring(0, range.startColumn - 1)\n            + this._lines[range.endLineNumber - 1].substring(range.endColumn - 1));\n        // Delete middle lines\n        this._lines.splice(range.startLineNumber, range.endLineNumber - range.startLineNumber);\n        if (this._lineStarts) {\n            // update prefix sum\n            this._lineStarts.removeValues(range.startLineNumber, range.endLineNumber - range.startLineNumber);\n        }\n    }\n    _acceptInsertText(position, insertText) {\n        if (insertText.length === 0) {\n            // Nothing to insert\n            return;\n        }\n        const insertLines = splitLines(insertText);\n        if (insertLines.length === 1) {\n            // Inserting text on one line\n            this._setLineText(position.lineNumber - 1, this._lines[position.lineNumber - 1].substring(0, position.column - 1)\n                + insertLines[0]\n                + this._lines[position.lineNumber - 1].substring(position.column - 1));\n            return;\n        }\n        // Append overflowing text from first line to the end of text to insert\n        insertLines[insertLines.length - 1] += this._lines[position.lineNumber - 1].substring(position.column - 1);\n        // Delete overflowing text from first line and insert text on first line\n        this._setLineText(position.lineNumber - 1, this._lines[position.lineNumber - 1].substring(0, position.column - 1)\n            + insertLines[0]);\n        // Insert new lines & store lengths\n        const newLengths = new Uint32Array(insertLines.length - 1);\n        for (let i = 1; i < insertLines.length; i++) {\n            this._lines.splice(position.lineNumber + i - 1, 0, insertLines[i]);\n            newLengths[i - 1] = insertLines[i].length + this._eol.length;\n        }\n        if (this._lineStarts) {\n            // update prefix sum\n            this._lineStarts.insertValues(position.lineNumber, newLengths);\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Iterable } from '../../../base/common/iterator.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\nexport const USUAL_WORD_SEPARATORS = '`~!@#$%^&*()-=+[{]}\\\\|;:\\'\",.<>/?';\n/**\n * Create a word definition regular expression based on default word separators.\n * Optionally provide allowed separators that should be included in words.\n *\n * The default would look like this:\n * /(-?\\d*\\.\\d\\w*)|([^\\`\\~\\!\\@\\#\\$\\%\\^\\&\\*\\(\\)\\-\\=\\+\\[\\{\\]\\}\\\\\\|\\;\\:\\'\\\"\\,\\.\\<\\>\\/\\?\\s]+)/g\n */\nfunction createWordRegExp(allowInWords = '') {\n    let source = '(-?\\\\d*\\\\.\\\\d\\\\w*)|([^';\n    for (const sep of USUAL_WORD_SEPARATORS) {\n        if (allowInWords.indexOf(sep) >= 0) {\n            continue;\n        }\n        source += '\\\\' + sep;\n    }\n    source += '\\\\s]+)';\n    return new RegExp(source, 'g');\n}\n// catches numbers (including floating numbers) in the first group, and alphanum in the second\nexport const DEFAULT_WORD_REGEXP = createWordRegExp();\nexport function ensureValidWordDefinition(wordDefinition) {\n    let result = DEFAULT_WORD_REGEXP;\n    if (wordDefinition && (wordDefinition instanceof RegExp)) {\n        if (!wordDefinition.global) {\n            let flags = 'g';\n            if (wordDefinition.ignoreCase) {\n                flags += 'i';\n            }\n            if (wordDefinition.multiline) {\n                flags += 'm';\n            }\n            if (wordDefinition.unicode) {\n                flags += 'u';\n            }\n            result = new RegExp(wordDefinition.source, flags);\n        }\n        else {\n            result = wordDefinition;\n        }\n    }\n    result.lastIndex = 0;\n    return result;\n}\nconst _defaultConfig = new LinkedList();\n_defaultConfig.unshift({\n    maxLen: 1000,\n    windowSize: 15,\n    timeBudget: 150\n});\nexport function getWordAtText(column, wordDefinition, text, textOffset, config) {\n    if (!config) {\n        config = Iterable.first(_defaultConfig);\n    }\n    if (text.length > config.maxLen) {\n        // don't throw strings that long at the regexp\n        // but use a sub-string in which a word must occur\n        let start = column - config.maxLen / 2;\n        if (start < 0) {\n            start = 0;\n        }\n        else {\n            textOffset += start;\n        }\n        text = text.substring(start, column + config.maxLen / 2);\n        return getWordAtText(column, wordDefinition, text, textOffset, config);\n    }\n    const t1 = Date.now();\n    const pos = column - 1 - textOffset;\n    let prevRegexIndex = -1;\n    let match = null;\n    for (let i = 1;; i++) {\n        // check time budget\n        if (Date.now() - t1 >= config.timeBudget) {\n            break;\n        }\n        // reset the index at which the regexp should start matching, also know where it\n        // should stop so that subsequent search don't repeat previous searches\n        const regexIndex = pos - config.windowSize * i;\n        wordDefinition.lastIndex = Math.max(0, regexIndex);\n        const thisMatch = _findRegexMatchEnclosingPosition(wordDefinition, text, pos, prevRegexIndex);\n        if (!thisMatch && match) {\n            // stop: we have something\n            break;\n        }\n        match = thisMatch;\n        // stop: searched at start\n        if (regexIndex <= 0) {\n            break;\n        }\n        prevRegexIndex = regexIndex;\n    }\n    if (match) {\n        const result = {\n            word: match[0],\n            startColumn: textOffset + 1 + match.index,\n            endColumn: textOffset + 1 + match.index + match[0].length\n        };\n        wordDefinition.lastIndex = 0;\n        return result;\n    }\n    return null;\n}\nfunction _findRegexMatchEnclosingPosition(wordDefinition, text, pos, stopPos) {\n    let match;\n    while (match = wordDefinition.exec(text)) {\n        const matchIndex = match.index || 0;\n        if (matchIndex <= pos && wordDefinition.lastIndex >= pos) {\n            return match;\n        }\n        else if (stopPos > 0 && matchIndex > stopPos) {\n            return null;\n        }\n    }\n    return null;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { toUint8 } from '../../../base/common/uint.js';\n/**\n * A fast character classifier that uses a compact array for ASCII values.\n */\nexport class CharacterClassifier {\n    constructor(_defaultValue) {\n        const defaultValue = toUint8(_defaultValue);\n        this._defaultValue = defaultValue;\n        this._asciiMap = CharacterClassifier._createAsciiMap(defaultValue);\n        this._map = new Map();\n    }\n    static _createAsciiMap(defaultValue) {\n        const asciiMap = new Uint8Array(256);\n        asciiMap.fill(defaultValue);\n        return asciiMap;\n    }\n    set(charCode, _value) {\n        const value = toUint8(_value);\n        if (charCode >= 0 && charCode < 256) {\n            this._asciiMap[charCode] = value;\n        }\n        else {\n            this._map.set(charCode, value);\n        }\n    }\n    get(charCode) {\n        if (charCode >= 0 && charCode < 256) {\n            return this._asciiMap[charCode];\n        }\n        else {\n            return (this._map.get(charCode) || this._defaultValue);\n        }\n    }\n    clear() {\n        this._asciiMap.fill(this._defaultValue);\n        this._map.clear();\n    }\n}\nexport class CharacterSet {\n    constructor() {\n        this._actual = new CharacterClassifier(0 /* Boolean.False */);\n    }\n    add(charCode) {\n        this._actual.set(charCode, 1 /* Boolean.True */);\n    }\n    has(charCode) {\n        return (this._actual.get(charCode) === 1 /* Boolean.True */);\n    }\n    clear() {\n        return this._actual.clear();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { CharacterClassifier } from '../core/characterClassifier.js';\nclass Uint8Matrix {\n    constructor(rows, cols, defaultValue) {\n        const data = new Uint8Array(rows * cols);\n        for (let i = 0, len = rows * cols; i < len; i++) {\n            data[i] = defaultValue;\n        }\n        this._data = data;\n        this.rows = rows;\n        this.cols = cols;\n    }\n    get(row, col) {\n        return this._data[row * this.cols + col];\n    }\n    set(row, col, value) {\n        this._data[row * this.cols + col] = value;\n    }\n}\nexport class StateMachine {\n    constructor(edges) {\n        let maxCharCode = 0;\n        let maxState = 0 /* State.Invalid */;\n        for (let i = 0, len = edges.length; i < len; i++) {\n            const [from, chCode, to] = edges[i];\n            if (chCode > maxCharCode) {\n                maxCharCode = chCode;\n            }\n            if (from > maxState) {\n                maxState = from;\n            }\n            if (to > maxState) {\n                maxState = to;\n            }\n        }\n        maxCharCode++;\n        maxState++;\n        const states = new Uint8Matrix(maxState, maxCharCode, 0 /* State.Invalid */);\n        for (let i = 0, len = edges.length; i < len; i++) {\n            const [from, chCode, to] = edges[i];\n            states.set(from, chCode, to);\n        }\n        this._states = states;\n        this._maxCharCode = maxCharCode;\n    }\n    nextState(currentState, chCode) {\n        if (chCode < 0 || chCode >= this._maxCharCode) {\n            return 0 /* State.Invalid */;\n        }\n        return this._states.get(currentState, chCode);\n    }\n}\n// State machine for http:// or https:// or file://\nlet _stateMachine = null;\nfunction getStateMachine() {\n    if (_stateMachine === null) {\n        _stateMachine = new StateMachine([\n            [1 /* State.Start */, 104 /* CharCode.h */, 2 /* State.H */],\n            [1 /* State.Start */, 72 /* CharCode.H */, 2 /* State.H */],\n            [1 /* State.Start */, 102 /* CharCode.f */, 6 /* State.F */],\n            [1 /* State.Start */, 70 /* CharCode.F */, 6 /* State.F */],\n            [2 /* State.H */, 116 /* CharCode.t */, 3 /* State.HT */],\n            [2 /* State.H */, 84 /* CharCode.T */, 3 /* State.HT */],\n            [3 /* State.HT */, 116 /* CharCode.t */, 4 /* State.HTT */],\n            [3 /* State.HT */, 84 /* CharCode.T */, 4 /* State.HTT */],\n            [4 /* State.HTT */, 112 /* CharCode.p */, 5 /* State.HTTP */],\n            [4 /* State.HTT */, 80 /* CharCode.P */, 5 /* State.HTTP */],\n            [5 /* State.HTTP */, 115 /* CharCode.s */, 9 /* State.BeforeColon */],\n            [5 /* State.HTTP */, 83 /* CharCode.S */, 9 /* State.BeforeColon */],\n            [5 /* State.HTTP */, 58 /* CharCode.Colon */, 10 /* State.AfterColon */],\n            [6 /* State.F */, 105 /* CharCode.i */, 7 /* State.FI */],\n            [6 /* State.F */, 73 /* CharCode.I */, 7 /* State.FI */],\n            [7 /* State.FI */, 108 /* CharCode.l */, 8 /* State.FIL */],\n            [7 /* State.FI */, 76 /* CharCode.L */, 8 /* State.FIL */],\n            [8 /* State.FIL */, 101 /* CharCode.e */, 9 /* State.BeforeColon */],\n            [8 /* State.FIL */, 69 /* CharCode.E */, 9 /* State.BeforeColon */],\n            [9 /* State.BeforeColon */, 58 /* CharCode.Colon */, 10 /* State.AfterColon */],\n            [10 /* State.AfterColon */, 47 /* CharCode.Slash */, 11 /* State.AlmostThere */],\n            [11 /* State.AlmostThere */, 47 /* CharCode.Slash */, 12 /* State.End */],\n        ]);\n    }\n    return _stateMachine;\n}\nlet _classifier = null;\nfunction getClassifier() {\n    if (_classifier === null) {\n        _classifier = new CharacterClassifier(0 /* CharacterClass.None */);\n        // allow-any-unicode-next-line\n        const FORCE_TERMINATION_CHARACTERS = ' \\t<>\\'\\\"';\n        for (let i = 0; i < FORCE_TERMINATION_CHARACTERS.length; i++) {\n            _classifier.set(FORCE_TERMINATION_CHARACTERS.charCodeAt(i), 1 /* CharacterClass.ForceTermination */);\n        }\n        const CANNOT_END_WITH_CHARACTERS = '.,;:';\n        for (let i = 0; i < CANNOT_END_WITH_CHARACTERS.length; i++) {\n            _classifier.set(CANNOT_END_WITH_CHARACTERS.charCodeAt(i), 2 /* CharacterClass.CannotEndIn */);\n        }\n    }\n    return _classifier;\n}\nexport class LinkComputer {\n    static _createLink(classifier, line, lineNumber, linkBeginIndex, linkEndIndex) {\n        // Do not allow to end link in certain characters...\n        let lastIncludedCharIndex = linkEndIndex - 1;\n        do {\n            const chCode = line.charCodeAt(lastIncludedCharIndex);\n            const chClass = classifier.get(chCode);\n            if (chClass !== 2 /* CharacterClass.CannotEndIn */) {\n                break;\n            }\n            lastIncludedCharIndex--;\n        } while (lastIncludedCharIndex > linkBeginIndex);\n        // Handle links enclosed in parens, square brackets and curlys.\n        if (linkBeginIndex > 0) {\n            const charCodeBeforeLink = line.charCodeAt(linkBeginIndex - 1);\n            const lastCharCodeInLink = line.charCodeAt(lastIncludedCharIndex);\n            if ((charCodeBeforeLink === 40 /* CharCode.OpenParen */ && lastCharCodeInLink === 41 /* CharCode.CloseParen */)\n                || (charCodeBeforeLink === 91 /* CharCode.OpenSquareBracket */ && lastCharCodeInLink === 93 /* CharCode.CloseSquareBracket */)\n                || (charCodeBeforeLink === 123 /* CharCode.OpenCurlyBrace */ && lastCharCodeInLink === 125 /* CharCode.CloseCurlyBrace */)) {\n                // Do not end in ) if ( is before the link start\n                // Do not end in ] if [ is before the link start\n                // Do not end in } if { is before the link start\n                lastIncludedCharIndex--;\n            }\n        }\n        return {\n            range: {\n                startLineNumber: lineNumber,\n                startColumn: linkBeginIndex + 1,\n                endLineNumber: lineNumber,\n                endColumn: lastIncludedCharIndex + 2\n            },\n            url: line.substring(linkBeginIndex, lastIncludedCharIndex + 1)\n        };\n    }\n    static computeLinks(model, stateMachine = getStateMachine()) {\n        const classifier = getClassifier();\n        const result = [];\n        for (let i = 1, lineCount = model.getLineCount(); i <= lineCount; i++) {\n            const line = model.getLineContent(i);\n            const len = line.length;\n            let j = 0;\n            let linkBeginIndex = 0;\n            let linkBeginChCode = 0;\n            let state = 1 /* State.Start */;\n            let hasOpenParens = false;\n            let hasOpenSquareBracket = false;\n            let inSquareBrackets = false;\n            let hasOpenCurlyBracket = false;\n            while (j < len) {\n                let resetStateMachine = false;\n                const chCode = line.charCodeAt(j);\n                if (state === 13 /* State.Accept */) {\n                    let chClass;\n                    switch (chCode) {\n                        case 40 /* CharCode.OpenParen */:\n                            hasOpenParens = true;\n                            chClass = 0 /* CharacterClass.None */;\n                            break;\n                        case 41 /* CharCode.CloseParen */:\n                            chClass = (hasOpenParens ? 0 /* CharacterClass.None */ : 1 /* CharacterClass.ForceTermination */);\n                            break;\n                        case 91 /* CharCode.OpenSquareBracket */:\n                            inSquareBrackets = true;\n                            hasOpenSquareBracket = true;\n                            chClass = 0 /* CharacterClass.None */;\n                            break;\n                        case 93 /* CharCode.CloseSquareBracket */:\n                            inSquareBrackets = false;\n                            chClass = (hasOpenSquareBracket ? 0 /* CharacterClass.None */ : 1 /* CharacterClass.ForceTermination */);\n                            break;\n                        case 123 /* CharCode.OpenCurlyBrace */:\n                            hasOpenCurlyBracket = true;\n                            chClass = 0 /* CharacterClass.None */;\n                            break;\n                        case 125 /* CharCode.CloseCurlyBrace */:\n                            chClass = (hasOpenCurlyBracket ? 0 /* CharacterClass.None */ : 1 /* CharacterClass.ForceTermination */);\n                            break;\n                        // The following three rules make it that ' or \" or ` are allowed inside links\n                        // only if the link is wrapped by some other quote character\n                        case 39 /* CharCode.SingleQuote */:\n                        case 34 /* CharCode.DoubleQuote */:\n                        case 96 /* CharCode.BackTick */:\n                            if (linkBeginChCode === chCode) {\n                                chClass = 1 /* CharacterClass.ForceTermination */;\n                            }\n                            else if (linkBeginChCode === 39 /* CharCode.SingleQuote */ || linkBeginChCode === 34 /* CharCode.DoubleQuote */ || linkBeginChCode === 96 /* CharCode.BackTick */) {\n                                chClass = 0 /* CharacterClass.None */;\n                            }\n                            else {\n                                chClass = 1 /* CharacterClass.ForceTermination */;\n                            }\n                            break;\n                        case 42 /* CharCode.Asterisk */:\n                            // `*` terminates a link if the link began with `*`\n                            chClass = (linkBeginChCode === 42 /* CharCode.Asterisk */) ? 1 /* CharacterClass.ForceTermination */ : 0 /* CharacterClass.None */;\n                            break;\n                        case 124 /* CharCode.Pipe */:\n                            // `|` terminates a link if the link began with `|`\n                            chClass = (linkBeginChCode === 124 /* CharCode.Pipe */) ? 1 /* CharacterClass.ForceTermination */ : 0 /* CharacterClass.None */;\n                            break;\n                        case 32 /* CharCode.Space */:\n                            // ` ` allow space in between [ and ]\n                            chClass = (inSquareBrackets ? 0 /* CharacterClass.None */ : 1 /* CharacterClass.ForceTermination */);\n                            break;\n                        default:\n                            chClass = classifier.get(chCode);\n                    }\n                    // Check if character terminates link\n                    if (chClass === 1 /* CharacterClass.ForceTermination */) {\n                        result.push(LinkComputer._createLink(classifier, line, i, linkBeginIndex, j));\n                        resetStateMachine = true;\n                    }\n                }\n                else if (state === 12 /* State.End */) {\n                    let chClass;\n                    if (chCode === 91 /* CharCode.OpenSquareBracket */) {\n                        // Allow for the authority part to contain ipv6 addresses which contain [ and ]\n                        hasOpenSquareBracket = true;\n                        chClass = 0 /* CharacterClass.None */;\n                    }\n                    else {\n                        chClass = classifier.get(chCode);\n                    }\n                    // Check if character terminates link\n                    if (chClass === 1 /* CharacterClass.ForceTermination */) {\n                        resetStateMachine = true;\n                    }\n                    else {\n                        state = 13 /* State.Accept */;\n                    }\n                }\n                else {\n                    state = stateMachine.nextState(state, chCode);\n                    if (state === 0 /* State.Invalid */) {\n                        resetStateMachine = true;\n                    }\n                }\n                if (resetStateMachine) {\n                    state = 1 /* State.Start */;\n                    hasOpenParens = false;\n                    hasOpenSquareBracket = false;\n                    hasOpenCurlyBracket = false;\n                    // Record where the link started\n                    linkBeginIndex = j + 1;\n                    linkBeginChCode = chCode;\n                }\n                j++;\n            }\n            if (state === 13 /* State.Accept */) {\n                result.push(LinkComputer._createLink(classifier, line, i, linkBeginIndex, len));\n            }\n        }\n        return result;\n    }\n}\n/**\n * Returns an array of all links contains in the provided\n * document. *Note* that this operation is computational\n * expensive and should not run in the UI thread.\n */\nexport function computeLinks(model) {\n    if (!model || typeof model.getLineCount !== 'function' || typeof model.getLineContent !== 'function') {\n        // Unknown caller!\n        return [];\n    }\n    return LinkComputer.computeLinks(model);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class BasicInplaceReplace {\n    constructor() {\n        this._defaultValueSet = [\n            ['true', 'false'],\n            ['True', 'False'],\n            ['Private', 'Public', 'Friend', 'ReadOnly', 'Partial', 'Protected', 'WriteOnly'],\n            ['public', 'protected', 'private'],\n        ];\n    }\n    navigateValueSet(range1, text1, range2, text2, up) {\n        if (range1 && text1) {\n            const result = this.doNavigateValueSet(text1, up);\n            if (result) {\n                return {\n                    range: range1,\n                    value: result\n                };\n            }\n        }\n        if (range2 && text2) {\n            const result = this.doNavigateValueSet(text2, up);\n            if (result) {\n                return {\n                    range: range2,\n                    value: result\n                };\n            }\n        }\n        return null;\n    }\n    doNavigateValueSet(text, up) {\n        const numberResult = this.numberReplace(text, up);\n        if (numberResult !== null) {\n            return numberResult;\n        }\n        return this.textReplace(text, up);\n    }\n    numberReplace(value, up) {\n        const precision = Math.pow(10, value.length - (value.lastIndexOf('.') + 1));\n        let n1 = Number(value);\n        const n2 = parseFloat(value);\n        if (!isNaN(n1) && !isNaN(n2) && n1 === n2) {\n            if (n1 === 0 && !up) {\n                return null; // don't do negative\n                //\t\t\t} else if(n1 === 9 && up) {\n                //\t\t\t\treturn null; // don't insert 10 into a number\n            }\n            else {\n                n1 = Math.floor(n1 * precision);\n                n1 += up ? precision : -precision;\n                return String(n1 / precision);\n            }\n        }\n        return null;\n    }\n    textReplace(value, up) {\n        return this.valueSetsReplace(this._defaultValueSet, value, up);\n    }\n    valueSetsReplace(valueSets, value, up) {\n        let result = null;\n        for (let i = 0, len = valueSets.length; result === null && i < len; i++) {\n            result = this.valueSetReplace(valueSets[i], value, up);\n        }\n        return result;\n    }\n    valueSetReplace(valueSet, value, up) {\n        let idx = valueSet.indexOf(value);\n        if (idx >= 0) {\n            idx += up ? +1 : -1;\n            if (idx < 0) {\n                idx = valueSet.length - 1;\n            }\n            else {\n                idx %= valueSet.length;\n            }\n            return valueSet[idx];\n        }\n        return null;\n    }\n}\nBasicInplaceReplace.INSTANCE = new BasicInplaceReplace();\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter, Event } from './event.js';\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = setTimeout(callback.bind(context), 0);\n    return { dispose() { clearTimeout(handle); } };\n});\nexport var CancellationToken;\n(function (CancellationToken) {\n    function isCancellationToken(thing) {\n        if (thing === CancellationToken.None || thing === CancellationToken.Cancelled) {\n            return true;\n        }\n        if (thing instanceof MutableToken) {\n            return true;\n        }\n        if (!thing || typeof thing !== 'object') {\n            return false;\n        }\n        return typeof thing.isCancellationRequested === 'boolean'\n            && typeof thing.onCancellationRequested === 'function';\n    }\n    CancellationToken.isCancellationToken = isCancellationToken;\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: shortcutEvent\n    });\n})(CancellationToken || (CancellationToken = {}));\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n        this._emitter = null;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = null;\n        }\n    }\n}\nexport class CancellationTokenSource {\n    constructor(parent) {\n        this._token = undefined;\n        this._parentListener = undefined;\n        this._parentListener = parent && parent.onCancellationRequested(this.cancel, this);\n    }\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually cancel\n            this._token.cancel();\n        }\n    }\n    dispose(cancel = false) {\n        var _a;\n        if (cancel) {\n            this.cancel();\n        }\n        (_a = this._parentListener) === null || _a === void 0 ? void 0 : _a.dispose();\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nclass KeyCodeStrMap {\n    constructor() {\n        this._keyCodeToStr = [];\n        this._strToKeyCode = Object.create(null);\n    }\n    define(keyCode, str) {\n        this._keyCodeToStr[keyCode] = str;\n        this._strToKeyCode[str.toLowerCase()] = keyCode;\n    }\n    keyCodeToStr(keyCode) {\n        return this._keyCodeToStr[keyCode];\n    }\n    strToKeyCode(str) {\n        return this._strToKeyCode[str.toLowerCase()] || 0 /* KeyCode.Unknown */;\n    }\n}\nconst uiMap = new KeyCodeStrMap();\nconst userSettingsUSMap = new KeyCodeStrMap();\nconst userSettingsGeneralMap = new KeyCodeStrMap();\nexport const EVENT_KEY_CODE_MAP = new Array(230);\nexport const NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE = {};\nconst scanCodeIntToStr = [];\nconst scanCodeStrToInt = Object.create(null);\nconst scanCodeLowerCaseStrToInt = Object.create(null);\n/**\n * -1 if a ScanCode => KeyCode mapping depends on kb layout.\n */\nexport const IMMUTABLE_CODE_TO_KEY_CODE = [];\n/**\n * -1 if a KeyCode => ScanCode mapping depends on kb layout.\n */\nexport const IMMUTABLE_KEY_CODE_TO_CODE = [];\nfor (let i = 0; i <= 193 /* ScanCode.MAX_VALUE */; i++) {\n    IMMUTABLE_CODE_TO_KEY_CODE[i] = -1 /* KeyCode.DependsOnKbLayout */;\n}\nfor (let i = 0; i <= 132 /* KeyCode.MAX_VALUE */; i++) {\n    IMMUTABLE_KEY_CODE_TO_CODE[i] = -1 /* ScanCode.DependsOnKbLayout */;\n}\n(function () {\n    // See https://msdn.microsoft.com/en-us/library/windows/desktop/dd375731(v=vs.85).aspx\n    // See https://github.com/microsoft/node-native-keymap/blob/88c0b0e5/deps/chromium/keyboard_codes_win.h\n    const empty = '';\n    const mappings = [\n        // immutable, scanCode, scanCodeStr, keyCode, keyCodeStr, eventKeyCode, vkey, usUserSettingsLabel, generalUserSettingsLabel\n        [1, 0 /* ScanCode.None */, 'None', 0 /* KeyCode.Unknown */, 'unknown', 0, 'VK_UNKNOWN', empty, empty],\n        [1, 1 /* ScanCode.Hyper */, 'Hyper', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 2 /* ScanCode.Super */, 'Super', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 3 /* ScanCode.Fn */, 'Fn', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 4 /* ScanCode.FnLock */, 'FnLock', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 5 /* ScanCode.Suspend */, 'Suspend', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 6 /* ScanCode.Resume */, 'Resume', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 7 /* ScanCode.Turbo */, 'Turbo', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 8 /* ScanCode.Sleep */, 'Sleep', 0 /* KeyCode.Unknown */, empty, 0, 'VK_SLEEP', empty, empty],\n        [1, 9 /* ScanCode.WakeUp */, 'WakeUp', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [0, 10 /* ScanCode.KeyA */, 'KeyA', 31 /* KeyCode.KeyA */, 'A', 65, 'VK_A', empty, empty],\n        [0, 11 /* ScanCode.KeyB */, 'KeyB', 32 /* KeyCode.KeyB */, 'B', 66, 'VK_B', empty, empty],\n        [0, 12 /* ScanCode.KeyC */, 'KeyC', 33 /* KeyCode.KeyC */, 'C', 67, 'VK_C', empty, empty],\n        [0, 13 /* ScanCode.KeyD */, 'KeyD', 34 /* KeyCode.KeyD */, 'D', 68, 'VK_D', empty, empty],\n        [0, 14 /* ScanCode.KeyE */, 'KeyE', 35 /* KeyCode.KeyE */, 'E', 69, 'VK_E', empty, empty],\n        [0, 15 /* ScanCode.KeyF */, 'KeyF', 36 /* KeyCode.KeyF */, 'F', 70, 'VK_F', empty, empty],\n        [0, 16 /* ScanCode.KeyG */, 'KeyG', 37 /* KeyCode.KeyG */, 'G', 71, 'VK_G', empty, empty],\n        [0, 17 /* ScanCode.KeyH */, 'KeyH', 38 /* KeyCode.KeyH */, 'H', 72, 'VK_H', empty, empty],\n        [0, 18 /* ScanCode.KeyI */, 'KeyI', 39 /* KeyCode.KeyI */, 'I', 73, 'VK_I', empty, empty],\n        [0, 19 /* ScanCode.KeyJ */, 'KeyJ', 40 /* KeyCode.KeyJ */, 'J', 74, 'VK_J', empty, empty],\n        [0, 20 /* ScanCode.KeyK */, 'KeyK', 41 /* KeyCode.KeyK */, 'K', 75, 'VK_K', empty, empty],\n        [0, 21 /* ScanCode.KeyL */, 'KeyL', 42 /* KeyCode.KeyL */, 'L', 76, 'VK_L', empty, empty],\n        [0, 22 /* ScanCode.KeyM */, 'KeyM', 43 /* KeyCode.KeyM */, 'M', 77, 'VK_M', empty, empty],\n        [0, 23 /* ScanCode.KeyN */, 'KeyN', 44 /* KeyCode.KeyN */, 'N', 78, 'VK_N', empty, empty],\n        [0, 24 /* ScanCode.KeyO */, 'KeyO', 45 /* KeyCode.KeyO */, 'O', 79, 'VK_O', empty, empty],\n        [0, 25 /* ScanCode.KeyP */, 'KeyP', 46 /* KeyCode.KeyP */, 'P', 80, 'VK_P', empty, empty],\n        [0, 26 /* ScanCode.KeyQ */, 'KeyQ', 47 /* KeyCode.KeyQ */, 'Q', 81, 'VK_Q', empty, empty],\n        [0, 27 /* ScanCode.KeyR */, 'KeyR', 48 /* KeyCode.KeyR */, 'R', 82, 'VK_R', empty, empty],\n        [0, 28 /* ScanCode.KeyS */, 'KeyS', 49 /* KeyCode.KeyS */, 'S', 83, 'VK_S', empty, empty],\n        [0, 29 /* ScanCode.KeyT */, 'KeyT', 50 /* KeyCode.KeyT */, 'T', 84, 'VK_T', empty, empty],\n        [0, 30 /* ScanCode.KeyU */, 'KeyU', 51 /* KeyCode.KeyU */, 'U', 85, 'VK_U', empty, empty],\n        [0, 31 /* ScanCode.KeyV */, 'KeyV', 52 /* KeyCode.KeyV */, 'V', 86, 'VK_V', empty, empty],\n        [0, 32 /* ScanCode.KeyW */, 'KeyW', 53 /* KeyCode.KeyW */, 'W', 87, 'VK_W', empty, empty],\n        [0, 33 /* ScanCode.KeyX */, 'KeyX', 54 /* KeyCode.KeyX */, 'X', 88, 'VK_X', empty, empty],\n        [0, 34 /* ScanCode.KeyY */, 'KeyY', 55 /* KeyCode.KeyY */, 'Y', 89, 'VK_Y', empty, empty],\n        [0, 35 /* ScanCode.KeyZ */, 'KeyZ', 56 /* KeyCode.KeyZ */, 'Z', 90, 'VK_Z', empty, empty],\n        [0, 36 /* ScanCode.Digit1 */, 'Digit1', 22 /* KeyCode.Digit1 */, '1', 49, 'VK_1', empty, empty],\n        [0, 37 /* ScanCode.Digit2 */, 'Digit2', 23 /* KeyCode.Digit2 */, '2', 50, 'VK_2', empty, empty],\n        [0, 38 /* ScanCode.Digit3 */, 'Digit3', 24 /* KeyCode.Digit3 */, '3', 51, 'VK_3', empty, empty],\n        [0, 39 /* ScanCode.Digit4 */, 'Digit4', 25 /* KeyCode.Digit4 */, '4', 52, 'VK_4', empty, empty],\n        [0, 40 /* ScanCode.Digit5 */, 'Digit5', 26 /* KeyCode.Digit5 */, '5', 53, 'VK_5', empty, empty],\n        [0, 41 /* ScanCode.Digit6 */, 'Digit6', 27 /* KeyCode.Digit6 */, '6', 54, 'VK_6', empty, empty],\n        [0, 42 /* ScanCode.Digit7 */, 'Digit7', 28 /* KeyCode.Digit7 */, '7', 55, 'VK_7', empty, empty],\n        [0, 43 /* ScanCode.Digit8 */, 'Digit8', 29 /* KeyCode.Digit8 */, '8', 56, 'VK_8', empty, empty],\n        [0, 44 /* ScanCode.Digit9 */, 'Digit9', 30 /* KeyCode.Digit9 */, '9', 57, 'VK_9', empty, empty],\n        [0, 45 /* ScanCode.Digit0 */, 'Digit0', 21 /* KeyCode.Digit0 */, '0', 48, 'VK_0', empty, empty],\n        [1, 46 /* ScanCode.Enter */, 'Enter', 3 /* KeyCode.Enter */, 'Enter', 13, 'VK_RETURN', empty, empty],\n        [1, 47 /* ScanCode.Escape */, 'Escape', 9 /* KeyCode.Escape */, 'Escape', 27, 'VK_ESCAPE', empty, empty],\n        [1, 48 /* ScanCode.Backspace */, 'Backspace', 1 /* KeyCode.Backspace */, 'Backspace', 8, 'VK_BACK', empty, empty],\n        [1, 49 /* ScanCode.Tab */, 'Tab', 2 /* KeyCode.Tab */, 'Tab', 9, 'VK_TAB', empty, empty],\n        [1, 50 /* ScanCode.Space */, 'Space', 10 /* KeyCode.Space */, 'Space', 32, 'VK_SPACE', empty, empty],\n        [0, 51 /* ScanCode.Minus */, 'Minus', 88 /* KeyCode.Minus */, '-', 189, 'VK_OEM_MINUS', '-', 'OEM_MINUS'],\n        [0, 52 /* ScanCode.Equal */, 'Equal', 86 /* KeyCode.Equal */, '=', 187, 'VK_OEM_PLUS', '=', 'OEM_PLUS'],\n        [0, 53 /* ScanCode.BracketLeft */, 'BracketLeft', 92 /* KeyCode.BracketLeft */, '[', 219, 'VK_OEM_4', '[', 'OEM_4'],\n        [0, 54 /* ScanCode.BracketRight */, 'BracketRight', 94 /* KeyCode.BracketRight */, ']', 221, 'VK_OEM_6', ']', 'OEM_6'],\n        [0, 55 /* ScanCode.Backslash */, 'Backslash', 93 /* KeyCode.Backslash */, '\\\\', 220, 'VK_OEM_5', '\\\\', 'OEM_5'],\n        [0, 56 /* ScanCode.IntlHash */, 'IntlHash', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [0, 57 /* ScanCode.Semicolon */, 'Semicolon', 85 /* KeyCode.Semicolon */, ';', 186, 'VK_OEM_1', ';', 'OEM_1'],\n        [0, 58 /* ScanCode.Quote */, 'Quote', 95 /* KeyCode.Quote */, '\\'', 222, 'VK_OEM_7', '\\'', 'OEM_7'],\n        [0, 59 /* ScanCode.Backquote */, 'Backquote', 91 /* KeyCode.Backquote */, '`', 192, 'VK_OEM_3', '`', 'OEM_3'],\n        [0, 60 /* ScanCode.Comma */, 'Comma', 87 /* KeyCode.Comma */, ',', 188, 'VK_OEM_COMMA', ',', 'OEM_COMMA'],\n        [0, 61 /* ScanCode.Period */, 'Period', 89 /* KeyCode.Period */, '.', 190, 'VK_OEM_PERIOD', '.', 'OEM_PERIOD'],\n        [0, 62 /* ScanCode.Slash */, 'Slash', 90 /* KeyCode.Slash */, '/', 191, 'VK_OEM_2', '/', 'OEM_2'],\n        [1, 63 /* ScanCode.CapsLock */, 'CapsLock', 8 /* KeyCode.CapsLock */, 'CapsLock', 20, 'VK_CAPITAL', empty, empty],\n        [1, 64 /* ScanCode.F1 */, 'F1', 59 /* KeyCode.F1 */, 'F1', 112, 'VK_F1', empty, empty],\n        [1, 65 /* ScanCode.F2 */, 'F2', 60 /* KeyCode.F2 */, 'F2', 113, 'VK_F2', empty, empty],\n        [1, 66 /* ScanCode.F3 */, 'F3', 61 /* KeyCode.F3 */, 'F3', 114, 'VK_F3', empty, empty],\n        [1, 67 /* ScanCode.F4 */, 'F4', 62 /* KeyCode.F4 */, 'F4', 115, 'VK_F4', empty, empty],\n        [1, 68 /* ScanCode.F5 */, 'F5', 63 /* KeyCode.F5 */, 'F5', 116, 'VK_F5', empty, empty],\n        [1, 69 /* ScanCode.F6 */, 'F6', 64 /* KeyCode.F6 */, 'F6', 117, 'VK_F6', empty, empty],\n        [1, 70 /* ScanCode.F7 */, 'F7', 65 /* KeyCode.F7 */, 'F7', 118, 'VK_F7', empty, empty],\n        [1, 71 /* ScanCode.F8 */, 'F8', 66 /* KeyCode.F8 */, 'F8', 119, 'VK_F8', empty, empty],\n        [1, 72 /* ScanCode.F9 */, 'F9', 67 /* KeyCode.F9 */, 'F9', 120, 'VK_F9', empty, empty],\n        [1, 73 /* ScanCode.F10 */, 'F10', 68 /* KeyCode.F10 */, 'F10', 121, 'VK_F10', empty, empty],\n        [1, 74 /* ScanCode.F11 */, 'F11', 69 /* KeyCode.F11 */, 'F11', 122, 'VK_F11', empty, empty],\n        [1, 75 /* ScanCode.F12 */, 'F12', 70 /* KeyCode.F12 */, 'F12', 123, 'VK_F12', empty, empty],\n        [1, 76 /* ScanCode.PrintScreen */, 'PrintScreen', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 77 /* ScanCode.ScrollLock */, 'ScrollLock', 84 /* KeyCode.ScrollLock */, 'ScrollLock', 145, 'VK_SCROLL', empty, empty],\n        [1, 78 /* ScanCode.Pause */, 'Pause', 7 /* KeyCode.PauseBreak */, 'PauseBreak', 19, 'VK_PAUSE', empty, empty],\n        [1, 79 /* ScanCode.Insert */, 'Insert', 19 /* KeyCode.Insert */, 'Insert', 45, 'VK_INSERT', empty, empty],\n        [1, 80 /* ScanCode.Home */, 'Home', 14 /* KeyCode.Home */, 'Home', 36, 'VK_HOME', empty, empty],\n        [1, 81 /* ScanCode.PageUp */, 'PageUp', 11 /* KeyCode.PageUp */, 'PageUp', 33, 'VK_PRIOR', empty, empty],\n        [1, 82 /* ScanCode.Delete */, 'Delete', 20 /* KeyCode.Delete */, 'Delete', 46, 'VK_DELETE', empty, empty],\n        [1, 83 /* ScanCode.End */, 'End', 13 /* KeyCode.End */, 'End', 35, 'VK_END', empty, empty],\n        [1, 84 /* ScanCode.PageDown */, 'PageDown', 12 /* KeyCode.PageDown */, 'PageDown', 34, 'VK_NEXT', empty, empty],\n        [1, 85 /* ScanCode.ArrowRight */, 'ArrowRight', 17 /* KeyCode.RightArrow */, 'RightArrow', 39, 'VK_RIGHT', 'Right', empty],\n        [1, 86 /* ScanCode.ArrowLeft */, 'ArrowLeft', 15 /* KeyCode.LeftArrow */, 'LeftArrow', 37, 'VK_LEFT', 'Left', empty],\n        [1, 87 /* ScanCode.ArrowDown */, 'ArrowDown', 18 /* KeyCode.DownArrow */, 'DownArrow', 40, 'VK_DOWN', 'Down', empty],\n        [1, 88 /* ScanCode.ArrowUp */, 'ArrowUp', 16 /* KeyCode.UpArrow */, 'UpArrow', 38, 'VK_UP', 'Up', empty],\n        [1, 89 /* ScanCode.NumLock */, 'NumLock', 83 /* KeyCode.NumLock */, 'NumLock', 144, 'VK_NUMLOCK', empty, empty],\n        [1, 90 /* ScanCode.NumpadDivide */, 'NumpadDivide', 113 /* KeyCode.NumpadDivide */, 'NumPad_Divide', 111, 'VK_DIVIDE', empty, empty],\n        [1, 91 /* ScanCode.NumpadMultiply */, 'NumpadMultiply', 108 /* KeyCode.NumpadMultiply */, 'NumPad_Multiply', 106, 'VK_MULTIPLY', empty, empty],\n        [1, 92 /* ScanCode.NumpadSubtract */, 'NumpadSubtract', 111 /* KeyCode.NumpadSubtract */, 'NumPad_Subtract', 109, 'VK_SUBTRACT', empty, empty],\n        [1, 93 /* ScanCode.NumpadAdd */, 'NumpadAdd', 109 /* KeyCode.NumpadAdd */, 'NumPad_Add', 107, 'VK_ADD', empty, empty],\n        [1, 94 /* ScanCode.NumpadEnter */, 'NumpadEnter', 3 /* KeyCode.Enter */, empty, 0, empty, empty, empty],\n        [1, 95 /* ScanCode.Numpad1 */, 'Numpad1', 99 /* KeyCode.Numpad1 */, 'NumPad1', 97, 'VK_NUMPAD1', empty, empty],\n        [1, 96 /* ScanCode.Numpad2 */, 'Numpad2', 100 /* KeyCode.Numpad2 */, 'NumPad2', 98, 'VK_NUMPAD2', empty, empty],\n        [1, 97 /* ScanCode.Numpad3 */, 'Numpad3', 101 /* KeyCode.Numpad3 */, 'NumPad3', 99, 'VK_NUMPAD3', empty, empty],\n        [1, 98 /* ScanCode.Numpad4 */, 'Numpad4', 102 /* KeyCode.Numpad4 */, 'NumPad4', 100, 'VK_NUMPAD4', empty, empty],\n        [1, 99 /* ScanCode.Numpad5 */, 'Numpad5', 103 /* KeyCode.Numpad5 */, 'NumPad5', 101, 'VK_NUMPAD5', empty, empty],\n        [1, 100 /* ScanCode.Numpad6 */, 'Numpad6', 104 /* KeyCode.Numpad6 */, 'NumPad6', 102, 'VK_NUMPAD6', empty, empty],\n        [1, 101 /* ScanCode.Numpad7 */, 'Numpad7', 105 /* KeyCode.Numpad7 */, 'NumPad7', 103, 'VK_NUMPAD7', empty, empty],\n        [1, 102 /* ScanCode.Numpad8 */, 'Numpad8', 106 /* KeyCode.Numpad8 */, 'NumPad8', 104, 'VK_NUMPAD8', empty, empty],\n        [1, 103 /* ScanCode.Numpad9 */, 'Numpad9', 107 /* KeyCode.Numpad9 */, 'NumPad9', 105, 'VK_NUMPAD9', empty, empty],\n        [1, 104 /* ScanCode.Numpad0 */, 'Numpad0', 98 /* KeyCode.Numpad0 */, 'NumPad0', 96, 'VK_NUMPAD0', empty, empty],\n        [1, 105 /* ScanCode.NumpadDecimal */, 'NumpadDecimal', 112 /* KeyCode.NumpadDecimal */, 'NumPad_Decimal', 110, 'VK_DECIMAL', empty, empty],\n        [0, 106 /* ScanCode.IntlBackslash */, 'IntlBackslash', 97 /* KeyCode.IntlBackslash */, 'OEM_102', 226, 'VK_OEM_102', empty, empty],\n        [1, 107 /* ScanCode.ContextMenu */, 'ContextMenu', 58 /* KeyCode.ContextMenu */, 'ContextMenu', 93, empty, empty, empty],\n        [1, 108 /* ScanCode.Power */, 'Power', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 109 /* ScanCode.NumpadEqual */, 'NumpadEqual', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 110 /* ScanCode.F13 */, 'F13', 71 /* KeyCode.F13 */, 'F13', 124, 'VK_F13', empty, empty],\n        [1, 111 /* ScanCode.F14 */, 'F14', 72 /* KeyCode.F14 */, 'F14', 125, 'VK_F14', empty, empty],\n        [1, 112 /* ScanCode.F15 */, 'F15', 73 /* KeyCode.F15 */, 'F15', 126, 'VK_F15', empty, empty],\n        [1, 113 /* ScanCode.F16 */, 'F16', 74 /* KeyCode.F16 */, 'F16', 127, 'VK_F16', empty, empty],\n        [1, 114 /* ScanCode.F17 */, 'F17', 75 /* KeyCode.F17 */, 'F17', 128, 'VK_F17', empty, empty],\n        [1, 115 /* ScanCode.F18 */, 'F18', 76 /* KeyCode.F18 */, 'F18', 129, 'VK_F18', empty, empty],\n        [1, 116 /* ScanCode.F19 */, 'F19', 77 /* KeyCode.F19 */, 'F19', 130, 'VK_F19', empty, empty],\n        [1, 117 /* ScanCode.F20 */, 'F20', 78 /* KeyCode.F20 */, 'F20', 131, 'VK_F20', empty, empty],\n        [1, 118 /* ScanCode.F21 */, 'F21', 79 /* KeyCode.F21 */, 'F21', 132, 'VK_F21', empty, empty],\n        [1, 119 /* ScanCode.F22 */, 'F22', 80 /* KeyCode.F22 */, 'F22', 133, 'VK_F22', empty, empty],\n        [1, 120 /* ScanCode.F23 */, 'F23', 81 /* KeyCode.F23 */, 'F23', 134, 'VK_F23', empty, empty],\n        [1, 121 /* ScanCode.F24 */, 'F24', 82 /* KeyCode.F24 */, 'F24', 135, 'VK_F24', empty, empty],\n        [1, 122 /* ScanCode.Open */, 'Open', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 123 /* ScanCode.Help */, 'Help', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 124 /* ScanCode.Select */, 'Select', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 125 /* ScanCode.Again */, 'Again', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 126 /* ScanCode.Undo */, 'Undo', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 127 /* ScanCode.Cut */, 'Cut', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 128 /* ScanCode.Copy */, 'Copy', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 129 /* ScanCode.Paste */, 'Paste', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 130 /* ScanCode.Find */, 'Find', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 131 /* ScanCode.AudioVolumeMute */, 'AudioVolumeMute', 117 /* KeyCode.AudioVolumeMute */, 'AudioVolumeMute', 173, 'VK_VOLUME_MUTE', empty, empty],\n        [1, 132 /* ScanCode.AudioVolumeUp */, 'AudioVolumeUp', 118 /* KeyCode.AudioVolumeUp */, 'AudioVolumeUp', 175, 'VK_VOLUME_UP', empty, empty],\n        [1, 133 /* ScanCode.AudioVolumeDown */, 'AudioVolumeDown', 119 /* KeyCode.AudioVolumeDown */, 'AudioVolumeDown', 174, 'VK_VOLUME_DOWN', empty, empty],\n        [1, 134 /* ScanCode.NumpadComma */, 'NumpadComma', 110 /* KeyCode.NUMPAD_SEPARATOR */, 'NumPad_Separator', 108, 'VK_SEPARATOR', empty, empty],\n        [0, 135 /* ScanCode.IntlRo */, 'IntlRo', 115 /* KeyCode.ABNT_C1 */, 'ABNT_C1', 193, 'VK_ABNT_C1', empty, empty],\n        [1, 136 /* ScanCode.KanaMode */, 'KanaMode', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [0, 137 /* ScanCode.IntlYen */, 'IntlYen', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 138 /* ScanCode.Convert */, 'Convert', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 139 /* ScanCode.NonConvert */, 'NonConvert', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 140 /* ScanCode.Lang1 */, 'Lang1', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 141 /* ScanCode.Lang2 */, 'Lang2', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 142 /* ScanCode.Lang3 */, 'Lang3', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 143 /* ScanCode.Lang4 */, 'Lang4', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 144 /* ScanCode.Lang5 */, 'Lang5', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 145 /* ScanCode.Abort */, 'Abort', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 146 /* ScanCode.Props */, 'Props', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 147 /* ScanCode.NumpadParenLeft */, 'NumpadParenLeft', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 148 /* ScanCode.NumpadParenRight */, 'NumpadParenRight', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 149 /* ScanCode.NumpadBackspace */, 'NumpadBackspace', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 150 /* ScanCode.NumpadMemoryStore */, 'NumpadMemoryStore', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 151 /* ScanCode.NumpadMemoryRecall */, 'NumpadMemoryRecall', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 152 /* ScanCode.NumpadMemoryClear */, 'NumpadMemoryClear', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 153 /* ScanCode.NumpadMemoryAdd */, 'NumpadMemoryAdd', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 154 /* ScanCode.NumpadMemorySubtract */, 'NumpadMemorySubtract', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 155 /* ScanCode.NumpadClear */, 'NumpadClear', 131 /* KeyCode.Clear */, 'Clear', 12, 'VK_CLEAR', empty, empty],\n        [1, 156 /* ScanCode.NumpadClearEntry */, 'NumpadClearEntry', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 5 /* KeyCode.Ctrl */, 'Ctrl', 17, 'VK_CONTROL', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 4 /* KeyCode.Shift */, 'Shift', 16, 'VK_SHIFT', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 6 /* KeyCode.Alt */, 'Alt', 18, 'VK_MENU', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 57 /* KeyCode.Meta */, 'Meta', 91, 'VK_COMMAND', empty, empty],\n        [1, 157 /* ScanCode.ControlLeft */, 'ControlLeft', 5 /* KeyCode.Ctrl */, empty, 0, 'VK_LCONTROL', empty, empty],\n        [1, 158 /* ScanCode.ShiftLeft */, 'ShiftLeft', 4 /* KeyCode.Shift */, empty, 0, 'VK_LSHIFT', empty, empty],\n        [1, 159 /* ScanCode.AltLeft */, 'AltLeft', 6 /* KeyCode.Alt */, empty, 0, 'VK_LMENU', empty, empty],\n        [1, 160 /* ScanCode.MetaLeft */, 'MetaLeft', 57 /* KeyCode.Meta */, empty, 0, 'VK_LWIN', empty, empty],\n        [1, 161 /* ScanCode.ControlRight */, 'ControlRight', 5 /* KeyCode.Ctrl */, empty, 0, 'VK_RCONTROL', empty, empty],\n        [1, 162 /* ScanCode.ShiftRight */, 'ShiftRight', 4 /* KeyCode.Shift */, empty, 0, 'VK_RSHIFT', empty, empty],\n        [1, 163 /* ScanCode.AltRight */, 'AltRight', 6 /* KeyCode.Alt */, empty, 0, 'VK_RMENU', empty, empty],\n        [1, 164 /* ScanCode.MetaRight */, 'MetaRight', 57 /* KeyCode.Meta */, empty, 0, 'VK_RWIN', empty, empty],\n        [1, 165 /* ScanCode.BrightnessUp */, 'BrightnessUp', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 166 /* ScanCode.BrightnessDown */, 'BrightnessDown', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 167 /* ScanCode.MediaPlay */, 'MediaPlay', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 168 /* ScanCode.MediaRecord */, 'MediaRecord', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 169 /* ScanCode.MediaFastForward */, 'MediaFastForward', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 170 /* ScanCode.MediaRewind */, 'MediaRewind', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 171 /* ScanCode.MediaTrackNext */, 'MediaTrackNext', 124 /* KeyCode.MediaTrackNext */, 'MediaTrackNext', 176, 'VK_MEDIA_NEXT_TRACK', empty, empty],\n        [1, 172 /* ScanCode.MediaTrackPrevious */, 'MediaTrackPrevious', 125 /* KeyCode.MediaTrackPrevious */, 'MediaTrackPrevious', 177, 'VK_MEDIA_PREV_TRACK', empty, empty],\n        [1, 173 /* ScanCode.MediaStop */, 'MediaStop', 126 /* KeyCode.MediaStop */, 'MediaStop', 178, 'VK_MEDIA_STOP', empty, empty],\n        [1, 174 /* ScanCode.Eject */, 'Eject', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 175 /* ScanCode.MediaPlayPause */, 'MediaPlayPause', 127 /* KeyCode.MediaPlayPause */, 'MediaPlayPause', 179, 'VK_MEDIA_PLAY_PAUSE', empty, empty],\n        [1, 176 /* ScanCode.MediaSelect */, 'MediaSelect', 128 /* KeyCode.LaunchMediaPlayer */, 'LaunchMediaPlayer', 181, 'VK_MEDIA_LAUNCH_MEDIA_SELECT', empty, empty],\n        [1, 177 /* ScanCode.LaunchMail */, 'LaunchMail', 129 /* KeyCode.LaunchMail */, 'LaunchMail', 180, 'VK_MEDIA_LAUNCH_MAIL', empty, empty],\n        [1, 178 /* ScanCode.LaunchApp2 */, 'LaunchApp2', 130 /* KeyCode.LaunchApp2 */, 'LaunchApp2', 183, 'VK_MEDIA_LAUNCH_APP2', empty, empty],\n        [1, 179 /* ScanCode.LaunchApp1 */, 'LaunchApp1', 0 /* KeyCode.Unknown */, empty, 0, 'VK_MEDIA_LAUNCH_APP1', empty, empty],\n        [1, 180 /* ScanCode.SelectTask */, 'SelectTask', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 181 /* ScanCode.LaunchScreenSaver */, 'LaunchScreenSaver', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 182 /* ScanCode.BrowserSearch */, 'BrowserSearch', 120 /* KeyCode.BrowserSearch */, 'BrowserSearch', 170, 'VK_BROWSER_SEARCH', empty, empty],\n        [1, 183 /* ScanCode.BrowserHome */, 'BrowserHome', 121 /* KeyCode.BrowserHome */, 'BrowserHome', 172, 'VK_BROWSER_HOME', empty, empty],\n        [1, 184 /* ScanCode.BrowserBack */, 'BrowserBack', 122 /* KeyCode.BrowserBack */, 'BrowserBack', 166, 'VK_BROWSER_BACK', empty, empty],\n        [1, 185 /* ScanCode.BrowserForward */, 'BrowserForward', 123 /* KeyCode.BrowserForward */, 'BrowserForward', 167, 'VK_BROWSER_FORWARD', empty, empty],\n        [1, 186 /* ScanCode.BrowserStop */, 'BrowserStop', 0 /* KeyCode.Unknown */, empty, 0, 'VK_BROWSER_STOP', empty, empty],\n        [1, 187 /* ScanCode.BrowserRefresh */, 'BrowserRefresh', 0 /* KeyCode.Unknown */, empty, 0, 'VK_BROWSER_REFRESH', empty, empty],\n        [1, 188 /* ScanCode.BrowserFavorites */, 'BrowserFavorites', 0 /* KeyCode.Unknown */, empty, 0, 'VK_BROWSER_FAVORITES', empty, empty],\n        [1, 189 /* ScanCode.ZoomToggle */, 'ZoomToggle', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 190 /* ScanCode.MailReply */, 'MailReply', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 191 /* ScanCode.MailForward */, 'MailForward', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 192 /* ScanCode.MailSend */, 'MailSend', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        // See https://lists.w3.org/Archives/Public/www-dom/2010JulSep/att-0182/keyCode-spec.html\n        // If an Input Method Editor is processing key input and the event is keydown, return 229.\n        [1, 0 /* ScanCode.None */, empty, 114 /* KeyCode.KEY_IN_COMPOSITION */, 'KeyInComposition', 229, empty, empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 116 /* KeyCode.ABNT_C2 */, 'ABNT_C2', 194, 'VK_ABNT_C2', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 96 /* KeyCode.OEM_8 */, 'OEM_8', 223, 'VK_OEM_8', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_KANA', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_HANGUL', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_JUNJA', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_FINAL', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_HANJA', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_KANJI', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_CONVERT', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_NONCONVERT', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_ACCEPT', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_MODECHANGE', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_SELECT', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_PRINT', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_EXECUTE', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_SNAPSHOT', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_HELP', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_APPS', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_PROCESSKEY', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_PACKET', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_DBE_SBCSCHAR', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_DBE_DBCSCHAR', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_ATTN', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_CRSEL', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_EXSEL', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_EREOF', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_PLAY', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_ZOOM', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_NONAME', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_PA1', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_OEM_CLEAR', empty, empty],\n    ];\n    const seenKeyCode = [];\n    const seenScanCode = [];\n    for (const mapping of mappings) {\n        const [immutable, scanCode, scanCodeStr, keyCode, keyCodeStr, eventKeyCode, vkey, usUserSettingsLabel, generalUserSettingsLabel] = mapping;\n        if (!seenScanCode[scanCode]) {\n            seenScanCode[scanCode] = true;\n            scanCodeIntToStr[scanCode] = scanCodeStr;\n            scanCodeStrToInt[scanCodeStr] = scanCode;\n            scanCodeLowerCaseStrToInt[scanCodeStr.toLowerCase()] = scanCode;\n            if (immutable) {\n                IMMUTABLE_CODE_TO_KEY_CODE[scanCode] = keyCode;\n                if ((keyCode !== 0 /* KeyCode.Unknown */)\n                    && (keyCode !== 3 /* KeyCode.Enter */)\n                    && (keyCode !== 5 /* KeyCode.Ctrl */)\n                    && (keyCode !== 4 /* KeyCode.Shift */)\n                    && (keyCode !== 6 /* KeyCode.Alt */)\n                    && (keyCode !== 57 /* KeyCode.Meta */)) {\n                    IMMUTABLE_KEY_CODE_TO_CODE[keyCode] = scanCode;\n                }\n            }\n        }\n        if (!seenKeyCode[keyCode]) {\n            seenKeyCode[keyCode] = true;\n            if (!keyCodeStr) {\n                throw new Error(`String representation missing for key code ${keyCode} around scan code ${scanCodeStr}`);\n            }\n            uiMap.define(keyCode, keyCodeStr);\n            userSettingsUSMap.define(keyCode, usUserSettingsLabel || keyCodeStr);\n            userSettingsGeneralMap.define(keyCode, generalUserSettingsLabel || usUserSettingsLabel || keyCodeStr);\n        }\n        if (eventKeyCode) {\n            EVENT_KEY_CODE_MAP[eventKeyCode] = keyCode;\n        }\n        if (vkey) {\n            NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[vkey] = keyCode;\n        }\n    }\n    // Manually added due to the exclusion above (due to duplication with NumpadEnter)\n    IMMUTABLE_KEY_CODE_TO_CODE[3 /* KeyCode.Enter */] = 46 /* ScanCode.Enter */;\n})();\nexport var KeyCodeUtils;\n(function (KeyCodeUtils) {\n    function toString(keyCode) {\n        return uiMap.keyCodeToStr(keyCode);\n    }\n    KeyCodeUtils.toString = toString;\n    function fromString(key) {\n        return uiMap.strToKeyCode(key);\n    }\n    KeyCodeUtils.fromString = fromString;\n    function toUserSettingsUS(keyCode) {\n        return userSettingsUSMap.keyCodeToStr(keyCode);\n    }\n    KeyCodeUtils.toUserSettingsUS = toUserSettingsUS;\n    function toUserSettingsGeneral(keyCode) {\n        return userSettingsGeneralMap.keyCodeToStr(keyCode);\n    }\n    KeyCodeUtils.toUserSettingsGeneral = toUserSettingsGeneral;\n    function fromUserSettings(key) {\n        return userSettingsUSMap.strToKeyCode(key) || userSettingsGeneralMap.strToKeyCode(key);\n    }\n    KeyCodeUtils.fromUserSettings = fromUserSettings;\n    function toElectronAccelerator(keyCode) {\n        if (keyCode >= 98 /* KeyCode.Numpad0 */ && keyCode <= 113 /* KeyCode.NumpadDivide */) {\n            // [Electron Accelerators] Electron is able to parse numpad keys, but unfortunately it\n            // renders them just as regular keys in menus. For example, num0 is rendered as \"0\",\n            // numdiv is rendered as \"/\", numsub is rendered as \"-\".\n            //\n            // This can lead to incredible confusion, as it makes numpad based keybindings indistinguishable\n            // from keybindings based on regular keys.\n            //\n            // We therefore need to fall back to custom rendering for numpad keys.\n            return null;\n        }\n        switch (keyCode) {\n            case 16 /* KeyCode.UpArrow */:\n                return 'Up';\n            case 18 /* KeyCode.DownArrow */:\n                return 'Down';\n            case 15 /* KeyCode.LeftArrow */:\n                return 'Left';\n            case 17 /* KeyCode.RightArrow */:\n                return 'Right';\n        }\n        return uiMap.keyCodeToStr(keyCode);\n    }\n    KeyCodeUtils.toElectronAccelerator = toElectronAccelerator;\n})(KeyCodeUtils || (KeyCodeUtils = {}));\nexport function KeyChord(firstPart, secondPart) {\n    const chordPart = ((secondPart & 0x0000FFFF) << 16) >>> 0;\n    return (firstPart | chordPart) >>> 0;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Position } from './position.js';\nimport { Range } from './range.js';\n/**\n * A selection in the editor.\n * The selection is a range that has an orientation.\n */\nexport class Selection extends Range {\n    constructor(selectionStartLineNumber, selectionStartColumn, positionLineNumber, positionColumn) {\n        super(selectionStartLineNumber, selectionStartColumn, positionLineNumber, positionColumn);\n        this.selectionStartLineNumber = selectionStartLineNumber;\n        this.selectionStartColumn = selectionStartColumn;\n        this.positionLineNumber = positionLineNumber;\n        this.positionColumn = positionColumn;\n    }\n    /**\n     * Transform to a human-readable representation.\n     */\n    toString() {\n        return '[' + this.selectionStartLineNumber + ',' + this.selectionStartColumn + ' -> ' + this.positionLineNumber + ',' + this.positionColumn + ']';\n    }\n    /**\n     * Test if equals other selection.\n     */\n    equalsSelection(other) {\n        return (Selection.selectionsEqual(this, other));\n    }\n    /**\n     * Test if the two selections are equal.\n     */\n    static selectionsEqual(a, b) {\n        return (a.selectionStartLineNumber === b.selectionStartLineNumber &&\n            a.selectionStartColumn === b.selectionStartColumn &&\n            a.positionLineNumber === b.positionLineNumber &&\n            a.positionColumn === b.positionColumn);\n    }\n    /**\n     * Get directions (LTR or RTL).\n     */\n    getDirection() {\n        if (this.selectionStartLineNumber === this.startLineNumber && this.selectionStartColumn === this.startColumn) {\n            return 0 /* SelectionDirection.LTR */;\n        }\n        return 1 /* SelectionDirection.RTL */;\n    }\n    /**\n     * Create a new selection with a different `positionLineNumber` and `positionColumn`.\n     */\n    setEndPosition(endLineNumber, endColumn) {\n        if (this.getDirection() === 0 /* SelectionDirection.LTR */) {\n            return new Selection(this.startLineNumber, this.startColumn, endLineNumber, endColumn);\n        }\n        return new Selection(endLineNumber, endColumn, this.startLineNumber, this.startColumn);\n    }\n    /**\n     * Get the position at `positionLineNumber` and `positionColumn`.\n     */\n    getPosition() {\n        return new Position(this.positionLineNumber, this.positionColumn);\n    }\n    /**\n     * Get the position at the start of the selection.\n    */\n    getSelectionStart() {\n        return new Position(this.selectionStartLineNumber, this.selectionStartColumn);\n    }\n    /**\n     * Create a new selection with a different `selectionStartLineNumber` and `selectionStartColumn`.\n     */\n    setStartPosition(startLineNumber, startColumn) {\n        if (this.getDirection() === 0 /* SelectionDirection.LTR */) {\n            return new Selection(startLineNumber, startColumn, this.endLineNumber, this.endColumn);\n        }\n        return new Selection(this.endLineNumber, this.endColumn, startLineNumber, startColumn);\n    }\n    // ----\n    /**\n     * Create a `Selection` from one or two positions\n     */\n    static fromPositions(start, end = start) {\n        return new Selection(start.lineNumber, start.column, end.lineNumber, end.column);\n    }\n    /**\n     * Creates a `Selection` from a range, given a direction.\n     */\n    static fromRange(range, direction) {\n        if (direction === 0 /* SelectionDirection.LTR */) {\n            return new Selection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn);\n        }\n        else {\n            return new Selection(range.endLineNumber, range.endColumn, range.startLineNumber, range.startColumn);\n        }\n    }\n    /**\n     * Create a `Selection` from an `ISelection`.\n     */\n    static liftSelection(sel) {\n        return new Selection(sel.selectionStartLineNumber, sel.selectionStartColumn, sel.positionLineNumber, sel.positionColumn);\n    }\n    /**\n     * `a` equals `b`.\n     */\n    static selectionsArrEqual(a, b) {\n        if (a && !b || !a && b) {\n            return false;\n        }\n        if (!a && !b) {\n            return true;\n        }\n        if (a.length !== b.length) {\n            return false;\n        }\n        for (let i = 0, len = a.length; i < len; i++) {\n            if (!this.selectionsEqual(a[i], b[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Test if `obj` is an `ISelection`.\n     */\n    static isISelection(obj) {\n        return (obj\n            && (typeof obj.selectionStartLineNumber === 'number')\n            && (typeof obj.selectionStartColumn === 'number')\n            && (typeof obj.positionLineNumber === 'number')\n            && (typeof obj.positionColumn === 'number'));\n    }\n    /**\n     * Create with a direction.\n     */\n    static createWithDirection(startLineNumber, startColumn, endLineNumber, endColumn, direction) {\n        if (direction === 0 /* SelectionDirection.LTR */) {\n            return new Selection(startLineNumber, startColumn, endLineNumber, endColumn);\n        }\n        return new Selection(endLineNumber, endColumn, startLineNumber, startColumn);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/**\n * @returns whether the provided parameter is a JavaScript String or not.\n */\nexport function isString(str) {\n    return (typeof str === 'string');\n}\n/**\n * @returns whether the provided parameter is of type `object` but **not**\n *\t`null`, an `array`, a `regexp`, nor a `date`.\n */\nexport function isObject(obj) {\n    // The method can't do a type cast since there are type (like strings) which\n    // are subclasses of any put not positvely matched by the function. Hence type\n    // narrowing results in wrong results.\n    return typeof obj === 'object'\n        && obj !== null\n        && !Array.isArray(obj)\n        && !(obj instanceof RegExp)\n        && !(obj instanceof Date);\n}\n/**\n * @returns whether the provided parameter is of type `Buffer` or Uint8Array dervived type\n */\nexport function isTypedArray(obj) {\n    const TypedArray = Object.getPrototypeOf(Uint8Array);\n    return typeof obj === 'object'\n        && obj instanceof TypedArray;\n}\n/**\n * In **contrast** to just checking `typeof` this will return `false` for `NaN`.\n * @returns whether the provided parameter is a JavaScript Number or not.\n */\nexport function isNumber(obj) {\n    return (typeof obj === 'number' && !isNaN(obj));\n}\n/**\n * @returns whether the provided parameter is an Iterable, casting to the given generic\n */\nexport function isIterable(obj) {\n    return !!obj && typeof obj[Symbol.iterator] === 'function';\n}\n/**\n * @returns whether the provided parameter is a JavaScript Boolean or not.\n */\nexport function isBoolean(obj) {\n    return (obj === true || obj === false);\n}\n/**\n * @returns whether the provided parameter is undefined.\n */\nexport function isUndefined(obj) {\n    return (typeof obj === 'undefined');\n}\n/**\n * @returns whether the provided parameter is defined.\n */\nexport function isDefined(arg) {\n    return !isUndefinedOrNull(arg);\n}\n/**\n * @returns whether the provided parameter is undefined or null.\n */\nexport function isUndefinedOrNull(obj) {\n    return (isUndefined(obj) || obj === null);\n}\nexport function assertType(condition, type) {\n    if (!condition) {\n        throw new Error(type ? `Unexpected type, expected '${type}'` : 'Unexpected type');\n    }\n}\n/**\n * Asserts that the argument passed in is neither undefined nor null.\n */\nexport function assertIsDefined(arg) {\n    if (isUndefinedOrNull(arg)) {\n        throw new Error('Assertion Failed: argument is undefined or null');\n    }\n    return arg;\n}\n/**\n * @returns whether the provided parameter is a JavaScript Function or not.\n */\nexport function isFunction(obj) {\n    return (typeof obj === 'function');\n}\nexport function validateConstraints(args, constraints) {\n    const len = Math.min(args.length, constraints.length);\n    for (let i = 0; i < len; i++) {\n        validateConstraint(args[i], constraints[i]);\n    }\n}\nexport function validateConstraint(arg, constraint) {\n    if (isString(constraint)) {\n        if (typeof arg !== constraint) {\n            throw new Error(`argument does not match constraint: typeof ${constraint}`);\n        }\n    }\n    else if (isFunction(constraint)) {\n        try {\n            if (arg instanceof constraint) {\n                return;\n            }\n        }\n        catch (_a) {\n            // ignore\n        }\n        if (!isUndefinedOrNull(arg) && arg.constructor === constraint) {\n            return;\n        }\n        if (constraint.length === 1 && constraint.call(undefined, arg) === true) {\n            return;\n        }\n        throw new Error(`argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true`);\n    }\n}\n/**\n * Converts null to undefined, passes all other values through.\n */\nexport function withNullAsUndefined(x) {\n    return x === null ? undefined : x;\n}\n/**\n * Converts undefined to null, passes all other values through.\n */\nexport function withUndefinedAsNull(x) {\n    return typeof x === 'undefined' ? null : x;\n}\n","import { isString } from './types.js';\nconst _codiconFontCharacters = Object.create(null);\nfunction register(id, fontCharacter) {\n    if (isString(fontCharacter)) {\n        const val = _codiconFontCharacters[fontCharacter];\n        if (val === undefined) {\n            throw new Error(`${id} references an unknown codicon: ${fontCharacter}`);\n        }\n        fontCharacter = val;\n    }\n    _codiconFontCharacters[id] = fontCharacter;\n    return { id };\n}\n/**\n * Only to be used by the iconRegistry.\n */\nexport function getCodiconFontCharacters() {\n    return _codiconFontCharacters;\n}\n/**\n * The Codicon library is a set of default icons that are built-in in VS Code.\n *\n * In the product (outside of base) Codicons should only be used as defaults. In order to have all icons in VS Code\n * themeable, component should define new, UI component specific icons using `iconRegistry.registerIcon`.\n * In that call a Codicon can be named as default.\n */\nexport const Codicon = {\n    // built-in icons, with image name\n    add: register('add', 0xea60),\n    plus: register('plus', 0xea60),\n    gistNew: register('gist-new', 0xea60),\n    repoCreate: register('repo-create', 0xea60),\n    lightbulb: register('lightbulb', 0xea61),\n    lightBulb: register('light-bulb', 0xea61),\n    repo: register('repo', 0xea62),\n    repoDelete: register('repo-delete', 0xea62),\n    gistFork: register('gist-fork', 0xea63),\n    repoForked: register('repo-forked', 0xea63),\n    gitPullRequest: register('git-pull-request', 0xea64),\n    gitPullRequestAbandoned: register('git-pull-request-abandoned', 0xea64),\n    recordKeys: register('record-keys', 0xea65),\n    keyboard: register('keyboard', 0xea65),\n    tag: register('tag', 0xea66),\n    tagAdd: register('tag-add', 0xea66),\n    tagRemove: register('tag-remove', 0xea66),\n    person: register('person', 0xea67),\n    personFollow: register('person-follow', 0xea67),\n    personOutline: register('person-outline', 0xea67),\n    personFilled: register('person-filled', 0xea67),\n    gitBranch: register('git-branch', 0xea68),\n    gitBranchCreate: register('git-branch-create', 0xea68),\n    gitBranchDelete: register('git-branch-delete', 0xea68),\n    sourceControl: register('source-control', 0xea68),\n    mirror: register('mirror', 0xea69),\n    mirrorPublic: register('mirror-public', 0xea69),\n    star: register('star', 0xea6a),\n    starAdd: register('star-add', 0xea6a),\n    starDelete: register('star-delete', 0xea6a),\n    starEmpty: register('star-empty', 0xea6a),\n    comment: register('comment', 0xea6b),\n    commentAdd: register('comment-add', 0xea6b),\n    alert: register('alert', 0xea6c),\n    warning: register('warning', 0xea6c),\n    search: register('search', 0xea6d),\n    searchSave: register('search-save', 0xea6d),\n    logOut: register('log-out', 0xea6e),\n    signOut: register('sign-out', 0xea6e),\n    logIn: register('log-in', 0xea6f),\n    signIn: register('sign-in', 0xea6f),\n    eye: register('eye', 0xea70),\n    eyeUnwatch: register('eye-unwatch', 0xea70),\n    eyeWatch: register('eye-watch', 0xea70),\n    circleFilled: register('circle-filled', 0xea71),\n    primitiveDot: register('primitive-dot', 0xea71),\n    closeDirty: register('close-dirty', 0xea71),\n    debugBreakpoint: register('debug-breakpoint', 0xea71),\n    debugBreakpointDisabled: register('debug-breakpoint-disabled', 0xea71),\n    debugHint: register('debug-hint', 0xea71),\n    primitiveSquare: register('primitive-square', 0xea72),\n    edit: register('edit', 0xea73),\n    pencil: register('pencil', 0xea73),\n    info: register('info', 0xea74),\n    issueOpened: register('issue-opened', 0xea74),\n    gistPrivate: register('gist-private', 0xea75),\n    gitForkPrivate: register('git-fork-private', 0xea75),\n    lock: register('lock', 0xea75),\n    mirrorPrivate: register('mirror-private', 0xea75),\n    close: register('close', 0xea76),\n    removeClose: register('remove-close', 0xea76),\n    x: register('x', 0xea76),\n    repoSync: register('repo-sync', 0xea77),\n    sync: register('sync', 0xea77),\n    clone: register('clone', 0xea78),\n    desktopDownload: register('desktop-download', 0xea78),\n    beaker: register('beaker', 0xea79),\n    microscope: register('microscope', 0xea79),\n    vm: register('vm', 0xea7a),\n    deviceDesktop: register('device-desktop', 0xea7a),\n    file: register('file', 0xea7b),\n    fileText: register('file-text', 0xea7b),\n    more: register('more', 0xea7c),\n    ellipsis: register('ellipsis', 0xea7c),\n    kebabHorizontal: register('kebab-horizontal', 0xea7c),\n    mailReply: register('mail-reply', 0xea7d),\n    reply: register('reply', 0xea7d),\n    organization: register('organization', 0xea7e),\n    organizationFilled: register('organization-filled', 0xea7e),\n    organizationOutline: register('organization-outline', 0xea7e),\n    newFile: register('new-file', 0xea7f),\n    fileAdd: register('file-add', 0xea7f),\n    newFolder: register('new-folder', 0xea80),\n    fileDirectoryCreate: register('file-directory-create', 0xea80),\n    trash: register('trash', 0xea81),\n    trashcan: register('trashcan', 0xea81),\n    history: register('history', 0xea82),\n    clock: register('clock', 0xea82),\n    folder: register('folder', 0xea83),\n    fileDirectory: register('file-directory', 0xea83),\n    symbolFolder: register('symbol-folder', 0xea83),\n    logoGithub: register('logo-github', 0xea84),\n    markGithub: register('mark-github', 0xea84),\n    github: register('github', 0xea84),\n    terminal: register('terminal', 0xea85),\n    console: register('console', 0xea85),\n    repl: register('repl', 0xea85),\n    zap: register('zap', 0xea86),\n    symbolEvent: register('symbol-event', 0xea86),\n    error: register('error', 0xea87),\n    stop: register('stop', 0xea87),\n    variable: register('variable', 0xea88),\n    symbolVariable: register('symbol-variable', 0xea88),\n    array: register('array', 0xea8a),\n    symbolArray: register('symbol-array', 0xea8a),\n    symbolModule: register('symbol-module', 0xea8b),\n    symbolPackage: register('symbol-package', 0xea8b),\n    symbolNamespace: register('symbol-namespace', 0xea8b),\n    symbolObject: register('symbol-object', 0xea8b),\n    symbolMethod: register('symbol-method', 0xea8c),\n    symbolFunction: register('symbol-function', 0xea8c),\n    symbolConstructor: register('symbol-constructor', 0xea8c),\n    symbolBoolean: register('symbol-boolean', 0xea8f),\n    symbolNull: register('symbol-null', 0xea8f),\n    symbolNumeric: register('symbol-numeric', 0xea90),\n    symbolNumber: register('symbol-number', 0xea90),\n    symbolStructure: register('symbol-structure', 0xea91),\n    symbolStruct: register('symbol-struct', 0xea91),\n    symbolParameter: register('symbol-parameter', 0xea92),\n    symbolTypeParameter: register('symbol-type-parameter', 0xea92),\n    symbolKey: register('symbol-key', 0xea93),\n    symbolText: register('symbol-text', 0xea93),\n    symbolReference: register('symbol-reference', 0xea94),\n    goToFile: register('go-to-file', 0xea94),\n    symbolEnum: register('symbol-enum', 0xea95),\n    symbolValue: register('symbol-value', 0xea95),\n    symbolRuler: register('symbol-ruler', 0xea96),\n    symbolUnit: register('symbol-unit', 0xea96),\n    activateBreakpoints: register('activate-breakpoints', 0xea97),\n    archive: register('archive', 0xea98),\n    arrowBoth: register('arrow-both', 0xea99),\n    arrowDown: register('arrow-down', 0xea9a),\n    arrowLeft: register('arrow-left', 0xea9b),\n    arrowRight: register('arrow-right', 0xea9c),\n    arrowSmallDown: register('arrow-small-down', 0xea9d),\n    arrowSmallLeft: register('arrow-small-left', 0xea9e),\n    arrowSmallRight: register('arrow-small-right', 0xea9f),\n    arrowSmallUp: register('arrow-small-up', 0xeaa0),\n    arrowUp: register('arrow-up', 0xeaa1),\n    bell: register('bell', 0xeaa2),\n    bold: register('bold', 0xeaa3),\n    book: register('book', 0xeaa4),\n    bookmark: register('bookmark', 0xeaa5),\n    debugBreakpointConditionalUnverified: register('debug-breakpoint-conditional-unverified', 0xeaa6),\n    debugBreakpointConditional: register('debug-breakpoint-conditional', 0xeaa7),\n    debugBreakpointConditionalDisabled: register('debug-breakpoint-conditional-disabled', 0xeaa7),\n    debugBreakpointDataUnverified: register('debug-breakpoint-data-unverified', 0xeaa8),\n    debugBreakpointData: register('debug-breakpoint-data', 0xeaa9),\n    debugBreakpointDataDisabled: register('debug-breakpoint-data-disabled', 0xeaa9),\n    debugBreakpointLogUnverified: register('debug-breakpoint-log-unverified', 0xeaaa),\n    debugBreakpointLog: register('debug-breakpoint-log', 0xeaab),\n    debugBreakpointLogDisabled: register('debug-breakpoint-log-disabled', 0xeaab),\n    briefcase: register('briefcase', 0xeaac),\n    broadcast: register('broadcast', 0xeaad),\n    browser: register('browser', 0xeaae),\n    bug: register('bug', 0xeaaf),\n    calendar: register('calendar', 0xeab0),\n    caseSensitive: register('case-sensitive', 0xeab1),\n    check: register('check', 0xeab2),\n    checklist: register('checklist', 0xeab3),\n    chevronDown: register('chevron-down', 0xeab4),\n    dropDownButton: register('drop-down-button', 0xeab4),\n    chevronLeft: register('chevron-left', 0xeab5),\n    chevronRight: register('chevron-right', 0xeab6),\n    chevronUp: register('chevron-up', 0xeab7),\n    chromeClose: register('chrome-close', 0xeab8),\n    chromeMaximize: register('chrome-maximize', 0xeab9),\n    chromeMinimize: register('chrome-minimize', 0xeaba),\n    chromeRestore: register('chrome-restore', 0xeabb),\n    circle: register('circle', 0xeabc),\n    circleOutline: register('circle-outline', 0xeabc),\n    debugBreakpointUnverified: register('debug-breakpoint-unverified', 0xeabc),\n    circleSlash: register('circle-slash', 0xeabd),\n    circuitBoard: register('circuit-board', 0xeabe),\n    clearAll: register('clear-all', 0xeabf),\n    clippy: register('clippy', 0xeac0),\n    closeAll: register('close-all', 0xeac1),\n    cloudDownload: register('cloud-download', 0xeac2),\n    cloudUpload: register('cloud-upload', 0xeac3),\n    code: register('code', 0xeac4),\n    collapseAll: register('collapse-all', 0xeac5),\n    colorMode: register('color-mode', 0xeac6),\n    commentDiscussion: register('comment-discussion', 0xeac7),\n    compareChanges: register('compare-changes', 0xeafd),\n    creditCard: register('credit-card', 0xeac9),\n    dash: register('dash', 0xeacc),\n    dashboard: register('dashboard', 0xeacd),\n    database: register('database', 0xeace),\n    debugContinue: register('debug-continue', 0xeacf),\n    debugDisconnect: register('debug-disconnect', 0xead0),\n    debugPause: register('debug-pause', 0xead1),\n    debugRestart: register('debug-restart', 0xead2),\n    debugStart: register('debug-start', 0xead3),\n    debugStepInto: register('debug-step-into', 0xead4),\n    debugStepOut: register('debug-step-out', 0xead5),\n    debugStepOver: register('debug-step-over', 0xead6),\n    debugStop: register('debug-stop', 0xead7),\n    debug: register('debug', 0xead8),\n    deviceCameraVideo: register('device-camera-video', 0xead9),\n    deviceCamera: register('device-camera', 0xeada),\n    deviceMobile: register('device-mobile', 0xeadb),\n    diffAdded: register('diff-added', 0xeadc),\n    diffIgnored: register('diff-ignored', 0xeadd),\n    diffModified: register('diff-modified', 0xeade),\n    diffRemoved: register('diff-removed', 0xeadf),\n    diffRenamed: register('diff-renamed', 0xeae0),\n    diff: register('diff', 0xeae1),\n    discard: register('discard', 0xeae2),\n    editorLayout: register('editor-layout', 0xeae3),\n    emptyWindow: register('empty-window', 0xeae4),\n    exclude: register('exclude', 0xeae5),\n    extensions: register('extensions', 0xeae6),\n    eyeClosed: register('eye-closed', 0xeae7),\n    fileBinary: register('file-binary', 0xeae8),\n    fileCode: register('file-code', 0xeae9),\n    fileMedia: register('file-media', 0xeaea),\n    filePdf: register('file-pdf', 0xeaeb),\n    fileSubmodule: register('file-submodule', 0xeaec),\n    fileSymlinkDirectory: register('file-symlink-directory', 0xeaed),\n    fileSymlinkFile: register('file-symlink-file', 0xeaee),\n    fileZip: register('file-zip', 0xeaef),\n    files: register('files', 0xeaf0),\n    filter: register('filter', 0xeaf1),\n    flame: register('flame', 0xeaf2),\n    foldDown: register('fold-down', 0xeaf3),\n    foldUp: register('fold-up', 0xeaf4),\n    fold: register('fold', 0xeaf5),\n    folderActive: register('folder-active', 0xeaf6),\n    folderOpened: register('folder-opened', 0xeaf7),\n    gear: register('gear', 0xeaf8),\n    gift: register('gift', 0xeaf9),\n    gistSecret: register('gist-secret', 0xeafa),\n    gist: register('gist', 0xeafb),\n    gitCommit: register('git-commit', 0xeafc),\n    gitCompare: register('git-compare', 0xeafd),\n    gitMerge: register('git-merge', 0xeafe),\n    githubAction: register('github-action', 0xeaff),\n    githubAlt: register('github-alt', 0xeb00),\n    globe: register('globe', 0xeb01),\n    grabber: register('grabber', 0xeb02),\n    graph: register('graph', 0xeb03),\n    gripper: register('gripper', 0xeb04),\n    heart: register('heart', 0xeb05),\n    home: register('home', 0xeb06),\n    horizontalRule: register('horizontal-rule', 0xeb07),\n    hubot: register('hubot', 0xeb08),\n    inbox: register('inbox', 0xeb09),\n    issueClosed: register('issue-closed', 0xeba4),\n    issueReopened: register('issue-reopened', 0xeb0b),\n    issues: register('issues', 0xeb0c),\n    italic: register('italic', 0xeb0d),\n    jersey: register('jersey', 0xeb0e),\n    json: register('json', 0xeb0f),\n    bracket: register('bracket', 0xeb0f),\n    kebabVertical: register('kebab-vertical', 0xeb10),\n    key: register('key', 0xeb11),\n    law: register('law', 0xeb12),\n    lightbulbAutofix: register('lightbulb-autofix', 0xeb13),\n    linkExternal: register('link-external', 0xeb14),\n    link: register('link', 0xeb15),\n    listOrdered: register('list-ordered', 0xeb16),\n    listUnordered: register('list-unordered', 0xeb17),\n    liveShare: register('live-share', 0xeb18),\n    loading: register('loading', 0xeb19),\n    location: register('location', 0xeb1a),\n    mailRead: register('mail-read', 0xeb1b),\n    mail: register('mail', 0xeb1c),\n    markdown: register('markdown', 0xeb1d),\n    megaphone: register('megaphone', 0xeb1e),\n    mention: register('mention', 0xeb1f),\n    milestone: register('milestone', 0xeb20),\n    mortarBoard: register('mortar-board', 0xeb21),\n    move: register('move', 0xeb22),\n    multipleWindows: register('multiple-windows', 0xeb23),\n    mute: register('mute', 0xeb24),\n    noNewline: register('no-newline', 0xeb25),\n    note: register('note', 0xeb26),\n    octoface: register('octoface', 0xeb27),\n    openPreview: register('open-preview', 0xeb28),\n    package_: register('package', 0xeb29),\n    paintcan: register('paintcan', 0xeb2a),\n    pin: register('pin', 0xeb2b),\n    play: register('play', 0xeb2c),\n    run: register('run', 0xeb2c),\n    plug: register('plug', 0xeb2d),\n    preserveCase: register('preserve-case', 0xeb2e),\n    preview: register('preview', 0xeb2f),\n    project: register('project', 0xeb30),\n    pulse: register('pulse', 0xeb31),\n    question: register('question', 0xeb32),\n    quote: register('quote', 0xeb33),\n    radioTower: register('radio-tower', 0xeb34),\n    reactions: register('reactions', 0xeb35),\n    references: register('references', 0xeb36),\n    refresh: register('refresh', 0xeb37),\n    regex: register('regex', 0xeb38),\n    remoteExplorer: register('remote-explorer', 0xeb39),\n    remote: register('remote', 0xeb3a),\n    remove: register('remove', 0xeb3b),\n    replaceAll: register('replace-all', 0xeb3c),\n    replace: register('replace', 0xeb3d),\n    repoClone: register('repo-clone', 0xeb3e),\n    repoForcePush: register('repo-force-push', 0xeb3f),\n    repoPull: register('repo-pull', 0xeb40),\n    repoPush: register('repo-push', 0xeb41),\n    report: register('report', 0xeb42),\n    requestChanges: register('request-changes', 0xeb43),\n    rocket: register('rocket', 0xeb44),\n    rootFolderOpened: register('root-folder-opened', 0xeb45),\n    rootFolder: register('root-folder', 0xeb46),\n    rss: register('rss', 0xeb47),\n    ruby: register('ruby', 0xeb48),\n    saveAll: register('save-all', 0xeb49),\n    saveAs: register('save-as', 0xeb4a),\n    save: register('save', 0xeb4b),\n    screenFull: register('screen-full', 0xeb4c),\n    screenNormal: register('screen-normal', 0xeb4d),\n    searchStop: register('search-stop', 0xeb4e),\n    server: register('server', 0xeb50),\n    settingsGear: register('settings-gear', 0xeb51),\n    settings: register('settings', 0xeb52),\n    shield: register('shield', 0xeb53),\n    smiley: register('smiley', 0xeb54),\n    sortPrecedence: register('sort-precedence', 0xeb55),\n    splitHorizontal: register('split-horizontal', 0xeb56),\n    splitVertical: register('split-vertical', 0xeb57),\n    squirrel: register('squirrel', 0xeb58),\n    starFull: register('star-full', 0xeb59),\n    starHalf: register('star-half', 0xeb5a),\n    symbolClass: register('symbol-class', 0xeb5b),\n    symbolColor: register('symbol-color', 0xeb5c),\n    symbolCustomColor: register('symbol-customcolor', 0xeb5c),\n    symbolConstant: register('symbol-constant', 0xeb5d),\n    symbolEnumMember: register('symbol-enum-member', 0xeb5e),\n    symbolField: register('symbol-field', 0xeb5f),\n    symbolFile: register('symbol-file', 0xeb60),\n    symbolInterface: register('symbol-interface', 0xeb61),\n    symbolKeyword: register('symbol-keyword', 0xeb62),\n    symbolMisc: register('symbol-misc', 0xeb63),\n    symbolOperator: register('symbol-operator', 0xeb64),\n    symbolProperty: register('symbol-property', 0xeb65),\n    wrench: register('wrench', 0xeb65),\n    wrenchSubaction: register('wrench-subaction', 0xeb65),\n    symbolSnippet: register('symbol-snippet', 0xeb66),\n    tasklist: register('tasklist', 0xeb67),\n    telescope: register('telescope', 0xeb68),\n    textSize: register('text-size', 0xeb69),\n    threeBars: register('three-bars', 0xeb6a),\n    thumbsdown: register('thumbsdown', 0xeb6b),\n    thumbsup: register('thumbsup', 0xeb6c),\n    tools: register('tools', 0xeb6d),\n    triangleDown: register('triangle-down', 0xeb6e),\n    triangleLeft: register('triangle-left', 0xeb6f),\n    triangleRight: register('triangle-right', 0xeb70),\n    triangleUp: register('triangle-up', 0xeb71),\n    twitter: register('twitter', 0xeb72),\n    unfold: register('unfold', 0xeb73),\n    unlock: register('unlock', 0xeb74),\n    unmute: register('unmute', 0xeb75),\n    unverified: register('unverified', 0xeb76),\n    verified: register('verified', 0xeb77),\n    versions: register('versions', 0xeb78),\n    vmActive: register('vm-active', 0xeb79),\n    vmOutline: register('vm-outline', 0xeb7a),\n    vmRunning: register('vm-running', 0xeb7b),\n    watch: register('watch', 0xeb7c),\n    whitespace: register('whitespace', 0xeb7d),\n    wholeWord: register('whole-word', 0xeb7e),\n    window: register('window', 0xeb7f),\n    wordWrap: register('word-wrap', 0xeb80),\n    zoomIn: register('zoom-in', 0xeb81),\n    zoomOut: register('zoom-out', 0xeb82),\n    listFilter: register('list-filter', 0xeb83),\n    listFlat: register('list-flat', 0xeb84),\n    listSelection: register('list-selection', 0xeb85),\n    selection: register('selection', 0xeb85),\n    listTree: register('list-tree', 0xeb86),\n    debugBreakpointFunctionUnverified: register('debug-breakpoint-function-unverified', 0xeb87),\n    debugBreakpointFunction: register('debug-breakpoint-function', 0xeb88),\n    debugBreakpointFunctionDisabled: register('debug-breakpoint-function-disabled', 0xeb88),\n    debugStackframeActive: register('debug-stackframe-active', 0xeb89),\n    circleSmallFilled: register('circle-small-filled', 0xeb8a),\n    debugStackframeDot: register('debug-stackframe-dot', 0xeb8a),\n    debugStackframe: register('debug-stackframe', 0xeb8b),\n    debugStackframeFocused: register('debug-stackframe-focused', 0xeb8b),\n    debugBreakpointUnsupported: register('debug-breakpoint-unsupported', 0xeb8c),\n    symbolString: register('symbol-string', 0xeb8d),\n    debugReverseContinue: register('debug-reverse-continue', 0xeb8e),\n    debugStepBack: register('debug-step-back', 0xeb8f),\n    debugRestartFrame: register('debug-restart-frame', 0xeb90),\n    callIncoming: register('call-incoming', 0xeb92),\n    callOutgoing: register('call-outgoing', 0xeb93),\n    menu: register('menu', 0xeb94),\n    expandAll: register('expand-all', 0xeb95),\n    feedback: register('feedback', 0xeb96),\n    groupByRefType: register('group-by-ref-type', 0xeb97),\n    ungroupByRefType: register('ungroup-by-ref-type', 0xeb98),\n    account: register('account', 0xeb99),\n    bellDot: register('bell-dot', 0xeb9a),\n    debugConsole: register('debug-console', 0xeb9b),\n    library: register('library', 0xeb9c),\n    output: register('output', 0xeb9d),\n    runAll: register('run-all', 0xeb9e),\n    syncIgnored: register('sync-ignored', 0xeb9f),\n    pinned: register('pinned', 0xeba0),\n    githubInverted: register('github-inverted', 0xeba1),\n    debugAlt: register('debug-alt', 0xeb91),\n    serverProcess: register('server-process', 0xeba2),\n    serverEnvironment: register('server-environment', 0xeba3),\n    pass: register('pass', 0xeba4),\n    stopCircle: register('stop-circle', 0xeba5),\n    playCircle: register('play-circle', 0xeba6),\n    record: register('record', 0xeba7),\n    debugAltSmall: register('debug-alt-small', 0xeba8),\n    vmConnect: register('vm-connect', 0xeba9),\n    cloud: register('cloud', 0xebaa),\n    merge: register('merge', 0xebab),\n    exportIcon: register('export', 0xebac),\n    graphLeft: register('graph-left', 0xebad),\n    magnet: register('magnet', 0xebae),\n    notebook: register('notebook', 0xebaf),\n    redo: register('redo', 0xebb0),\n    checkAll: register('check-all', 0xebb1),\n    pinnedDirty: register('pinned-dirty', 0xebb2),\n    passFilled: register('pass-filled', 0xebb3),\n    circleLargeFilled: register('circle-large-filled', 0xebb4),\n    circleLarge: register('circle-large', 0xebb5),\n    circleLargeOutline: register('circle-large-outline', 0xebb5),\n    combine: register('combine', 0xebb6),\n    gather: register('gather', 0xebb6),\n    table: register('table', 0xebb7),\n    variableGroup: register('variable-group', 0xebb8),\n    typeHierarchy: register('type-hierarchy', 0xebb9),\n    typeHierarchySub: register('type-hierarchy-sub', 0xebba),\n    typeHierarchySuper: register('type-hierarchy-super', 0xebbb),\n    gitPullRequestCreate: register('git-pull-request-create', 0xebbc),\n    runAbove: register('run-above', 0xebbd),\n    runBelow: register('run-below', 0xebbe),\n    notebookTemplate: register('notebook-template', 0xebbf),\n    debugRerun: register('debug-rerun', 0xebc0),\n    workspaceTrusted: register('workspace-trusted', 0xebc1),\n    workspaceUntrusted: register('workspace-untrusted', 0xebc2),\n    workspaceUnspecified: register('workspace-unspecified', 0xebc3),\n    terminalCmd: register('terminal-cmd', 0xebc4),\n    terminalDebian: register('terminal-debian', 0xebc5),\n    terminalLinux: register('terminal-linux', 0xebc6),\n    terminalPowershell: register('terminal-powershell', 0xebc7),\n    terminalTmux: register('terminal-tmux', 0xebc8),\n    terminalUbuntu: register('terminal-ubuntu', 0xebc9),\n    terminalBash: register('terminal-bash', 0xebca),\n    arrowSwap: register('arrow-swap', 0xebcb),\n    copy: register('copy', 0xebcc),\n    personAdd: register('person-add', 0xebcd),\n    filterFilled: register('filter-filled', 0xebce),\n    wand: register('wand', 0xebcf),\n    debugLineByLine: register('debug-line-by-line', 0xebd0),\n    inspect: register('inspect', 0xebd1),\n    layers: register('layers', 0xebd2),\n    layersDot: register('layers-dot', 0xebd3),\n    layersActive: register('layers-active', 0xebd4),\n    compass: register('compass', 0xebd5),\n    compassDot: register('compass-dot', 0xebd6),\n    compassActive: register('compass-active', 0xebd7),\n    azure: register('azure', 0xebd8),\n    issueDraft: register('issue-draft', 0xebd9),\n    gitPullRequestClosed: register('git-pull-request-closed', 0xebda),\n    gitPullRequestDraft: register('git-pull-request-draft', 0xebdb),\n    debugAll: register('debug-all', 0xebdc),\n    debugCoverage: register('debug-coverage', 0xebdd),\n    runErrors: register('run-errors', 0xebde),\n    folderLibrary: register('folder-library', 0xebdf),\n    debugContinueSmall: register('debug-continue-small', 0xebe0),\n    beakerStop: register('beaker-stop', 0xebe1),\n    graphLine: register('graph-line', 0xebe2),\n    graphScatter: register('graph-scatter', 0xebe3),\n    pieChart: register('pie-chart', 0xebe4),\n    bracketDot: register('bracket-dot', 0xebe5),\n    bracketError: register('bracket-error', 0xebe6),\n    lockSmall: register('lock-small', 0xebe7),\n    azureDevops: register('azure-devops', 0xebe8),\n    verifiedFilled: register('verified-filled', 0xebe9),\n    newLine: register('newline', 0xebea),\n    layout: register('layout', 0xebeb),\n    layoutActivitybarLeft: register('layout-activitybar-left', 0xebec),\n    layoutActivitybarRight: register('layout-activitybar-right', 0xebed),\n    layoutPanelLeft: register('layout-panel-left', 0xebee),\n    layoutPanelCenter: register('layout-panel-center', 0xebef),\n    layoutPanelJustify: register('layout-panel-justify', 0xebf0),\n    layoutPanelRight: register('layout-panel-right', 0xebf1),\n    layoutPanel: register('layout-panel', 0xebf2),\n    layoutSidebarLeft: register('layout-sidebar-left', 0xebf3),\n    layoutSidebarRight: register('layout-sidebar-right', 0xebf4),\n    layoutStatusbar: register('layout-statusbar', 0xebf5),\n    layoutMenubar: register('layout-menubar', 0xebf6),\n    layoutCentered: register('layout-centered', 0xebf7),\n    layoutSidebarRightOff: register('layout-sidebar-right-off', 0xec00),\n    layoutPanelOff: register('layout-panel-off', 0xec01),\n    layoutSidebarLeftOff: register('layout-sidebar-left-off', 0xec02),\n    target: register('target', 0xebf8),\n    indent: register('indent', 0xebf9),\n    recordSmall: register('record-small', 0xebfa),\n    errorSmall: register('error-small', 0xebfb),\n    arrowCircleDown: register('arrow-circle-down', 0xebfc),\n    arrowCircleLeft: register('arrow-circle-left', 0xebfd),\n    arrowCircleRight: register('arrow-circle-right', 0xebfe),\n    arrowCircleUp: register('arrow-circle-up', 0xebff),\n    heartFilled: register('heart-filled', 0xec04),\n    map: register('map', 0xec05),\n    mapFilled: register('map-filled', 0xec06),\n    circleSmall: register('circle-small', 0xec07),\n    bellSlash: register('bell-slash', 0xec08),\n    bellSlashDot: register('bell-slash-dot', 0xec09),\n    commentUnresolved: register('comment-unresolved', 0xec0a),\n    gitPullRequestGoToChanges: register('git-pull-request-go-to-changes', 0xec0b),\n    gitPullRequestNewChanges: register('git-pull-request-new-changes', 0xec0c),\n    searchFuzzy: register('search-fuzzy', 0xec0d),\n    commentDraft: register('comment-draft', 0xec0e),\n    send: register('send', 0xec0f),\n    sparkle: register('sparkle', 0xec10),\n    insert: register('insert', 0xec11),\n    // derived icons, that could become separate icons\n    dialogError: register('dialog-error', 'error'),\n    dialogWarning: register('dialog-warning', 'warning'),\n    dialogInfo: register('dialog-info', 'info'),\n    dialogClose: register('dialog-close', 'close'),\n    treeItemExpanded: register('tree-item-expanded', 'chevron-down'),\n    treeFilterOnTypeOn: register('tree-filter-on-type-on', 'list-filter'),\n    treeFilterOnTypeOff: register('tree-filter-on-type-off', 'list-selection'),\n    treeFilterClear: register('tree-filter-clear', 'close'),\n    treeItemLoading: register('tree-item-loading', 'loading'),\n    menuSelection: register('menu-selection', 'check'),\n    menuSubmenu: register('menu-submenu', 'chevron-right'),\n    menuBarMore: register('menubar-more', 'more'),\n    scrollbarButtonLeft: register('scrollbar-button-left', 'triangle-left'),\n    scrollbarButtonRight: register('scrollbar-button-right', 'triangle-right'),\n    scrollbarButtonUp: register('scrollbar-button-up', 'triangle-up'),\n    scrollbarButtonDown: register('scrollbar-button-down', 'triangle-down'),\n    toolBarMore: register('toolbar-more', 'more'),\n    quickInputBack: register('quick-input-back', 'arrow-left')\n};\n","import { Codicon } from '../../base/common/codicons.js';\nimport { URI } from '../../base/common/uri.js';\nimport { Range } from './core/range.js';\nimport { TokenizationRegistry as TokenizationRegistryImpl } from './tokenizationRegistry.js';\nexport class Token {\n    constructor(offset, type, language) {\n        this.offset = offset;\n        this.type = type;\n        this.language = language;\n        this._tokenBrand = undefined;\n    }\n    toString() {\n        return '(' + this.offset + ', ' + this.type + ')';\n    }\n}\n/**\n * @internal\n */\nexport class TokenizationResult {\n    constructor(tokens, endState) {\n        this.tokens = tokens;\n        this.endState = endState;\n        this._tokenizationResultBrand = undefined;\n    }\n}\n/**\n * @internal\n */\nexport class EncodedTokenizationResult {\n    constructor(\n    /**\n     * The tokens in binary format. Each token occupies two array indices. For token i:\n     *  - at offset 2*i => startIndex\n     *  - at offset 2*i + 1 => metadata\n     *\n     */\n    tokens, endState) {\n        this.tokens = tokens;\n        this.endState = endState;\n        this._encodedTokenizationResultBrand = undefined;\n    }\n}\n/**\n * @internal\n */\nexport var CompletionItemKinds;\n(function (CompletionItemKinds) {\n    const byKind = new Map();\n    byKind.set(0 /* CompletionItemKind.Method */, Codicon.symbolMethod);\n    byKind.set(1 /* CompletionItemKind.Function */, Codicon.symbolFunction);\n    byKind.set(2 /* CompletionItemKind.Constructor */, Codicon.symbolConstructor);\n    byKind.set(3 /* CompletionItemKind.Field */, Codicon.symbolField);\n    byKind.set(4 /* CompletionItemKind.Variable */, Codicon.symbolVariable);\n    byKind.set(5 /* CompletionItemKind.Class */, Codicon.symbolClass);\n    byKind.set(6 /* CompletionItemKind.Struct */, Codicon.symbolStruct);\n    byKind.set(7 /* CompletionItemKind.Interface */, Codicon.symbolInterface);\n    byKind.set(8 /* CompletionItemKind.Module */, Codicon.symbolModule);\n    byKind.set(9 /* CompletionItemKind.Property */, Codicon.symbolProperty);\n    byKind.set(10 /* CompletionItemKind.Event */, Codicon.symbolEvent);\n    byKind.set(11 /* CompletionItemKind.Operator */, Codicon.symbolOperator);\n    byKind.set(12 /* CompletionItemKind.Unit */, Codicon.symbolUnit);\n    byKind.set(13 /* CompletionItemKind.Value */, Codicon.symbolValue);\n    byKind.set(15 /* CompletionItemKind.Enum */, Codicon.symbolEnum);\n    byKind.set(14 /* CompletionItemKind.Constant */, Codicon.symbolConstant);\n    byKind.set(15 /* CompletionItemKind.Enum */, Codicon.symbolEnum);\n    byKind.set(16 /* CompletionItemKind.EnumMember */, Codicon.symbolEnumMember);\n    byKind.set(17 /* CompletionItemKind.Keyword */, Codicon.symbolKeyword);\n    byKind.set(27 /* CompletionItemKind.Snippet */, Codicon.symbolSnippet);\n    byKind.set(18 /* CompletionItemKind.Text */, Codicon.symbolText);\n    byKind.set(19 /* CompletionItemKind.Color */, Codicon.symbolColor);\n    byKind.set(20 /* CompletionItemKind.File */, Codicon.symbolFile);\n    byKind.set(21 /* CompletionItemKind.Reference */, Codicon.symbolReference);\n    byKind.set(22 /* CompletionItemKind.Customcolor */, Codicon.symbolCustomColor);\n    byKind.set(23 /* CompletionItemKind.Folder */, Codicon.symbolFolder);\n    byKind.set(24 /* CompletionItemKind.TypeParameter */, Codicon.symbolTypeParameter);\n    byKind.set(25 /* CompletionItemKind.User */, Codicon.account);\n    byKind.set(26 /* CompletionItemKind.Issue */, Codicon.issues);\n    /**\n     * @internal\n     */\n    function toIcon(kind) {\n        let codicon = byKind.get(kind);\n        if (!codicon) {\n            console.info('No codicon found for CompletionItemKind ' + kind);\n            codicon = Codicon.symbolProperty;\n        }\n        return codicon;\n    }\n    CompletionItemKinds.toIcon = toIcon;\n    const data = new Map();\n    data.set('method', 0 /* CompletionItemKind.Method */);\n    data.set('function', 1 /* CompletionItemKind.Function */);\n    data.set('constructor', 2 /* CompletionItemKind.Constructor */);\n    data.set('field', 3 /* CompletionItemKind.Field */);\n    data.set('variable', 4 /* CompletionItemKind.Variable */);\n    data.set('class', 5 /* CompletionItemKind.Class */);\n    data.set('struct', 6 /* CompletionItemKind.Struct */);\n    data.set('interface', 7 /* CompletionItemKind.Interface */);\n    data.set('module', 8 /* CompletionItemKind.Module */);\n    data.set('property', 9 /* CompletionItemKind.Property */);\n    data.set('event', 10 /* CompletionItemKind.Event */);\n    data.set('operator', 11 /* CompletionItemKind.Operator */);\n    data.set('unit', 12 /* CompletionItemKind.Unit */);\n    data.set('value', 13 /* CompletionItemKind.Value */);\n    data.set('constant', 14 /* CompletionItemKind.Constant */);\n    data.set('enum', 15 /* CompletionItemKind.Enum */);\n    data.set('enum-member', 16 /* CompletionItemKind.EnumMember */);\n    data.set('enumMember', 16 /* CompletionItemKind.EnumMember */);\n    data.set('keyword', 17 /* CompletionItemKind.Keyword */);\n    data.set('snippet', 27 /* CompletionItemKind.Snippet */);\n    data.set('text', 18 /* CompletionItemKind.Text */);\n    data.set('color', 19 /* CompletionItemKind.Color */);\n    data.set('file', 20 /* CompletionItemKind.File */);\n    data.set('reference', 21 /* CompletionItemKind.Reference */);\n    data.set('customcolor', 22 /* CompletionItemKind.Customcolor */);\n    data.set('folder', 23 /* CompletionItemKind.Folder */);\n    data.set('type-parameter', 24 /* CompletionItemKind.TypeParameter */);\n    data.set('typeParameter', 24 /* CompletionItemKind.TypeParameter */);\n    data.set('account', 25 /* CompletionItemKind.User */);\n    data.set('issue', 26 /* CompletionItemKind.Issue */);\n    /**\n     * @internal\n     */\n    function fromString(value, strict) {\n        let res = data.get(value);\n        if (typeof res === 'undefined' && !strict) {\n            res = 9 /* CompletionItemKind.Property */;\n        }\n        return res;\n    }\n    CompletionItemKinds.fromString = fromString;\n})(CompletionItemKinds || (CompletionItemKinds = {}));\n/**\n * How an {@link InlineCompletionsProvider inline completion provider} was triggered.\n */\nexport var InlineCompletionTriggerKind;\n(function (InlineCompletionTriggerKind) {\n    /**\n     * Completion was triggered automatically while editing.\n     * It is sufficient to return a single completion item in this case.\n     */\n    InlineCompletionTriggerKind[InlineCompletionTriggerKind[\"Automatic\"] = 0] = \"Automatic\";\n    /**\n     * Completion was triggered explicitly by a user gesture.\n     * Return multiple completion items to enable cycling through them.\n     */\n    InlineCompletionTriggerKind[InlineCompletionTriggerKind[\"Explicit\"] = 1] = \"Explicit\";\n})(InlineCompletionTriggerKind || (InlineCompletionTriggerKind = {}));\nexport class SelectedSuggestionInfo {\n    constructor(range, text, completionKind, isSnippetText) {\n        this.range = range;\n        this.text = text;\n        this.completionKind = completionKind;\n        this.isSnippetText = isSnippetText;\n    }\n    equals(other) {\n        return Range.lift(this.range).equalsRange(other.range)\n            && this.text === other.text\n            && this.completionKind === other.completionKind\n            && this.isSnippetText === other.isSnippetText;\n    }\n}\nexport var SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    SignatureHelpTriggerKind[SignatureHelpTriggerKind[\"Invoke\"] = 1] = \"Invoke\";\n    SignatureHelpTriggerKind[SignatureHelpTriggerKind[\"TriggerCharacter\"] = 2] = \"TriggerCharacter\";\n    SignatureHelpTriggerKind[SignatureHelpTriggerKind[\"ContentChange\"] = 3] = \"ContentChange\";\n})(SignatureHelpTriggerKind || (SignatureHelpTriggerKind = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind[DocumentHighlightKind[\"Text\"] = 0] = \"Text\";\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind[DocumentHighlightKind[\"Read\"] = 1] = \"Read\";\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind[DocumentHighlightKind[\"Write\"] = 2] = \"Write\";\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * @internal\n */\nexport function isLocationLink(thing) {\n    return thing\n        && URI.isUri(thing.uri)\n        && Range.isIRange(thing.range)\n        && (Range.isIRange(thing.originSelectionRange) || Range.isIRange(thing.targetSelectionRange));\n}\n/**\n * @internal\n */\nexport var SymbolKinds;\n(function (SymbolKinds) {\n    const byKind = new Map();\n    byKind.set(0 /* SymbolKind.File */, Codicon.symbolFile);\n    byKind.set(1 /* SymbolKind.Module */, Codicon.symbolModule);\n    byKind.set(2 /* SymbolKind.Namespace */, Codicon.symbolNamespace);\n    byKind.set(3 /* SymbolKind.Package */, Codicon.symbolPackage);\n    byKind.set(4 /* SymbolKind.Class */, Codicon.symbolClass);\n    byKind.set(5 /* SymbolKind.Method */, Codicon.symbolMethod);\n    byKind.set(6 /* SymbolKind.Property */, Codicon.symbolProperty);\n    byKind.set(7 /* SymbolKind.Field */, Codicon.symbolField);\n    byKind.set(8 /* SymbolKind.Constructor */, Codicon.symbolConstructor);\n    byKind.set(9 /* SymbolKind.Enum */, Codicon.symbolEnum);\n    byKind.set(10 /* SymbolKind.Interface */, Codicon.symbolInterface);\n    byKind.set(11 /* SymbolKind.Function */, Codicon.symbolFunction);\n    byKind.set(12 /* SymbolKind.Variable */, Codicon.symbolVariable);\n    byKind.set(13 /* SymbolKind.Constant */, Codicon.symbolConstant);\n    byKind.set(14 /* SymbolKind.String */, Codicon.symbolString);\n    byKind.set(15 /* SymbolKind.Number */, Codicon.symbolNumber);\n    byKind.set(16 /* SymbolKind.Boolean */, Codicon.symbolBoolean);\n    byKind.set(17 /* SymbolKind.Array */, Codicon.symbolArray);\n    byKind.set(18 /* SymbolKind.Object */, Codicon.symbolObject);\n    byKind.set(19 /* SymbolKind.Key */, Codicon.symbolKey);\n    byKind.set(20 /* SymbolKind.Null */, Codicon.symbolNull);\n    byKind.set(21 /* SymbolKind.EnumMember */, Codicon.symbolEnumMember);\n    byKind.set(22 /* SymbolKind.Struct */, Codicon.symbolStruct);\n    byKind.set(23 /* SymbolKind.Event */, Codicon.symbolEvent);\n    byKind.set(24 /* SymbolKind.Operator */, Codicon.symbolOperator);\n    byKind.set(25 /* SymbolKind.TypeParameter */, Codicon.symbolTypeParameter);\n    /**\n     * @internal\n     */\n    function toIcon(kind) {\n        let icon = byKind.get(kind);\n        if (!icon) {\n            console.info('No codicon found for SymbolKind ' + kind);\n            icon = Codicon.symbolProperty;\n        }\n        return icon;\n    }\n    SymbolKinds.toIcon = toIcon;\n})(SymbolKinds || (SymbolKinds = {}));\nexport class FoldingRangeKind {\n    /**\n     * Returns a {@link FoldingRangeKind} for the given value.\n     *\n     * @param value of the kind.\n     */\n    static fromValue(value) {\n        switch (value) {\n            case 'comment': return FoldingRangeKind.Comment;\n            case 'imports': return FoldingRangeKind.Imports;\n            case 'region': return FoldingRangeKind.Region;\n        }\n        return new FoldingRangeKind(value);\n    }\n    /**\n     * Creates a new {@link FoldingRangeKind}.\n     *\n     * @param value of the kind.\n     */\n    constructor(value) {\n        this.value = value;\n    }\n}\n/**\n * Kind for folding range representing a comment. The value of the kind is 'comment'.\n */\nFoldingRangeKind.Comment = new FoldingRangeKind('comment');\n/**\n * Kind for folding range representing a import. The value of the kind is 'imports'.\n */\nFoldingRangeKind.Imports = new FoldingRangeKind('imports');\n/**\n * Kind for folding range representing regions (for example marked by `#region`, `#endregion`).\n * The value of the kind is 'region'.\n */\nFoldingRangeKind.Region = new FoldingRangeKind('region');\n/**\n * @internal\n */\nexport var Command;\n(function (Command) {\n    /**\n     * @internal\n     */\n    function is(obj) {\n        if (!obj || typeof obj !== 'object') {\n            return false;\n        }\n        return typeof obj.id === 'string' &&\n            typeof obj.title === 'string';\n    }\n    Command.is = is;\n})(Command || (Command = {}));\nexport var InlayHintKind;\n(function (InlayHintKind) {\n    InlayHintKind[InlayHintKind[\"Type\"] = 1] = \"Type\";\n    InlayHintKind[InlayHintKind[\"Parameter\"] = 2] = \"Parameter\";\n})(InlayHintKind || (InlayHintKind = {}));\n/**\n * @internal\n */\nexport class LazyTokenizationSupport {\n    constructor(createSupport) {\n        this.createSupport = createSupport;\n        this._tokenizationSupport = null;\n    }\n    dispose() {\n        if (this._tokenizationSupport) {\n            this._tokenizationSupport.then((support) => {\n                if (support) {\n                    support.dispose();\n                }\n            });\n        }\n    }\n    get tokenizationSupport() {\n        if (!this._tokenizationSupport) {\n            this._tokenizationSupport = this.createSupport();\n        }\n        return this._tokenizationSupport;\n    }\n}\n/**\n * @internal\n */\nexport const TokenizationRegistry = new TokenizationRegistryImpl();\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Emitter } from '../../base/common/event.js';\nimport { Disposable, toDisposable } from '../../base/common/lifecycle.js';\nexport class TokenizationRegistry {\n    constructor() {\n        this._tokenizationSupports = new Map();\n        this._factories = new Map();\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._colorMap = null;\n    }\n    handleChange(languageIds) {\n        this._onDidChange.fire({\n            changedLanguages: languageIds,\n            changedColorMap: false\n        });\n    }\n    register(languageId, support) {\n        this._tokenizationSupports.set(languageId, support);\n        this.handleChange([languageId]);\n        return toDisposable(() => {\n            if (this._tokenizationSupports.get(languageId) !== support) {\n                return;\n            }\n            this._tokenizationSupports.delete(languageId);\n            this.handleChange([languageId]);\n        });\n    }\n    get(languageId) {\n        return this._tokenizationSupports.get(languageId) || null;\n    }\n    registerFactory(languageId, factory) {\n        var _a;\n        (_a = this._factories.get(languageId)) === null || _a === void 0 ? void 0 : _a.dispose();\n        const myData = new TokenizationSupportFactoryData(this, languageId, factory);\n        this._factories.set(languageId, myData);\n        return toDisposable(() => {\n            const v = this._factories.get(languageId);\n            if (!v || v !== myData) {\n                return;\n            }\n            this._factories.delete(languageId);\n            v.dispose();\n        });\n    }\n    getOrCreate(languageId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // check first if the support is already set\n            const tokenizationSupport = this.get(languageId);\n            if (tokenizationSupport) {\n                return tokenizationSupport;\n            }\n            const factory = this._factories.get(languageId);\n            if (!factory || factory.isResolved) {\n                // no factory or factory.resolve already finished\n                return null;\n            }\n            yield factory.resolve();\n            return this.get(languageId);\n        });\n    }\n    isResolved(languageId) {\n        const tokenizationSupport = this.get(languageId);\n        if (tokenizationSupport) {\n            return true;\n        }\n        const factory = this._factories.get(languageId);\n        if (!factory || factory.isResolved) {\n            return true;\n        }\n        return false;\n    }\n    setColorMap(colorMap) {\n        this._colorMap = colorMap;\n        this._onDidChange.fire({\n            changedLanguages: Array.from(this._tokenizationSupports.keys()),\n            changedColorMap: true\n        });\n    }\n    getColorMap() {\n        return this._colorMap;\n    }\n    getDefaultBackground() {\n        if (this._colorMap && this._colorMap.length > 2 /* ColorId.DefaultBackground */) {\n            return this._colorMap[2 /* ColorId.DefaultBackground */];\n        }\n        return null;\n    }\n}\nclass TokenizationSupportFactoryData extends Disposable {\n    get isResolved() {\n        return this._isResolved;\n    }\n    constructor(_registry, _languageId, _factory) {\n        super();\n        this._registry = _registry;\n        this._languageId = _languageId;\n        this._factory = _factory;\n        this._isDisposed = false;\n        this._resolvePromise = null;\n        this._isResolved = false;\n    }\n    dispose() {\n        this._isDisposed = true;\n        super.dispose();\n    }\n    resolve() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this._resolvePromise) {\n                this._resolvePromise = this._create();\n            }\n            return this._resolvePromise;\n        });\n    }\n    _create() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const value = yield this._factory.tokenizationSupport;\n            this._isResolved = true;\n            if (value && !this._isDisposed) {\n                this._register(this._registry.register(this._languageId, value));\n            }\n        });\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// THIS IS A GENERATED FILE. DO NOT EDIT DIRECTLY.\nexport var AccessibilitySupport;\n(function (AccessibilitySupport) {\n    /**\n     * This should be the browser case where it is not known if a screen reader is attached or no.\n     */\n    AccessibilitySupport[AccessibilitySupport[\"Unknown\"] = 0] = \"Unknown\";\n    AccessibilitySupport[AccessibilitySupport[\"Disabled\"] = 1] = \"Disabled\";\n    AccessibilitySupport[AccessibilitySupport[\"Enabled\"] = 2] = \"Enabled\";\n})(AccessibilitySupport || (AccessibilitySupport = {}));\nexport var CodeActionTriggerType;\n(function (CodeActionTriggerType) {\n    CodeActionTriggerType[CodeActionTriggerType[\"Invoke\"] = 1] = \"Invoke\";\n    CodeActionTriggerType[CodeActionTriggerType[\"Auto\"] = 2] = \"Auto\";\n})(CodeActionTriggerType || (CodeActionTriggerType = {}));\nexport var CompletionItemInsertTextRule;\n(function (CompletionItemInsertTextRule) {\n    CompletionItemInsertTextRule[CompletionItemInsertTextRule[\"None\"] = 0] = \"None\";\n    /**\n     * Adjust whitespace/indentation of multiline insert texts to\n     * match the current line indentation.\n     */\n    CompletionItemInsertTextRule[CompletionItemInsertTextRule[\"KeepWhitespace\"] = 1] = \"KeepWhitespace\";\n    /**\n     * `insertText` is a snippet.\n     */\n    CompletionItemInsertTextRule[CompletionItemInsertTextRule[\"InsertAsSnippet\"] = 4] = \"InsertAsSnippet\";\n})(CompletionItemInsertTextRule || (CompletionItemInsertTextRule = {}));\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind[CompletionItemKind[\"Method\"] = 0] = \"Method\";\n    CompletionItemKind[CompletionItemKind[\"Function\"] = 1] = \"Function\";\n    CompletionItemKind[CompletionItemKind[\"Constructor\"] = 2] = \"Constructor\";\n    CompletionItemKind[CompletionItemKind[\"Field\"] = 3] = \"Field\";\n    CompletionItemKind[CompletionItemKind[\"Variable\"] = 4] = \"Variable\";\n    CompletionItemKind[CompletionItemKind[\"Class\"] = 5] = \"Class\";\n    CompletionItemKind[CompletionItemKind[\"Struct\"] = 6] = \"Struct\";\n    CompletionItemKind[CompletionItemKind[\"Interface\"] = 7] = \"Interface\";\n    CompletionItemKind[CompletionItemKind[\"Module\"] = 8] = \"Module\";\n    CompletionItemKind[CompletionItemKind[\"Property\"] = 9] = \"Property\";\n    CompletionItemKind[CompletionItemKind[\"Event\"] = 10] = \"Event\";\n    CompletionItemKind[CompletionItemKind[\"Operator\"] = 11] = \"Operator\";\n    CompletionItemKind[CompletionItemKind[\"Unit\"] = 12] = \"Unit\";\n    CompletionItemKind[CompletionItemKind[\"Value\"] = 13] = \"Value\";\n    CompletionItemKind[CompletionItemKind[\"Constant\"] = 14] = \"Constant\";\n    CompletionItemKind[CompletionItemKind[\"Enum\"] = 15] = \"Enum\";\n    CompletionItemKind[CompletionItemKind[\"EnumMember\"] = 16] = \"EnumMember\";\n    CompletionItemKind[CompletionItemKind[\"Keyword\"] = 17] = \"Keyword\";\n    CompletionItemKind[CompletionItemKind[\"Text\"] = 18] = \"Text\";\n    CompletionItemKind[CompletionItemKind[\"Color\"] = 19] = \"Color\";\n    CompletionItemKind[CompletionItemKind[\"File\"] = 20] = \"File\";\n    CompletionItemKind[CompletionItemKind[\"Reference\"] = 21] = \"Reference\";\n    CompletionItemKind[CompletionItemKind[\"Customcolor\"] = 22] = \"Customcolor\";\n    CompletionItemKind[CompletionItemKind[\"Folder\"] = 23] = \"Folder\";\n    CompletionItemKind[CompletionItemKind[\"TypeParameter\"] = 24] = \"TypeParameter\";\n    CompletionItemKind[CompletionItemKind[\"User\"] = 25] = \"User\";\n    CompletionItemKind[CompletionItemKind[\"Issue\"] = 26] = \"Issue\";\n    CompletionItemKind[CompletionItemKind[\"Snippet\"] = 27] = \"Snippet\";\n})(CompletionItemKind || (CompletionItemKind = {}));\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    CompletionItemTag[CompletionItemTag[\"Deprecated\"] = 1] = \"Deprecated\";\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * How a suggest provider was triggered.\n */\nexport var CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    CompletionTriggerKind[CompletionTriggerKind[\"Invoke\"] = 0] = \"Invoke\";\n    CompletionTriggerKind[CompletionTriggerKind[\"TriggerCharacter\"] = 1] = \"TriggerCharacter\";\n    CompletionTriggerKind[CompletionTriggerKind[\"TriggerForIncompleteCompletions\"] = 2] = \"TriggerForIncompleteCompletions\";\n})(CompletionTriggerKind || (CompletionTriggerKind = {}));\n/**\n * A positioning preference for rendering content widgets.\n */\nexport var ContentWidgetPositionPreference;\n(function (ContentWidgetPositionPreference) {\n    /**\n     * Place the content widget exactly at a position\n     */\n    ContentWidgetPositionPreference[ContentWidgetPositionPreference[\"EXACT\"] = 0] = \"EXACT\";\n    /**\n     * Place the content widget above a position\n     */\n    ContentWidgetPositionPreference[ContentWidgetPositionPreference[\"ABOVE\"] = 1] = \"ABOVE\";\n    /**\n     * Place the content widget below a position\n     */\n    ContentWidgetPositionPreference[ContentWidgetPositionPreference[\"BELOW\"] = 2] = \"BELOW\";\n})(ContentWidgetPositionPreference || (ContentWidgetPositionPreference = {}));\n/**\n * Describes the reason the cursor has changed its position.\n */\nexport var CursorChangeReason;\n(function (CursorChangeReason) {\n    /**\n     * Unknown or not set.\n     */\n    CursorChangeReason[CursorChangeReason[\"NotSet\"] = 0] = \"NotSet\";\n    /**\n     * A `model.setValue()` was called.\n     */\n    CursorChangeReason[CursorChangeReason[\"ContentFlush\"] = 1] = \"ContentFlush\";\n    /**\n     * The `model` has been changed outside of this cursor and the cursor recovers its position from associated markers.\n     */\n    CursorChangeReason[CursorChangeReason[\"RecoverFromMarkers\"] = 2] = \"RecoverFromMarkers\";\n    /**\n     * There was an explicit user gesture.\n     */\n    CursorChangeReason[CursorChangeReason[\"Explicit\"] = 3] = \"Explicit\";\n    /**\n     * There was a Paste.\n     */\n    CursorChangeReason[CursorChangeReason[\"Paste\"] = 4] = \"Paste\";\n    /**\n     * There was an Undo.\n     */\n    CursorChangeReason[CursorChangeReason[\"Undo\"] = 5] = \"Undo\";\n    /**\n     * There was a Redo.\n     */\n    CursorChangeReason[CursorChangeReason[\"Redo\"] = 6] = \"Redo\";\n})(CursorChangeReason || (CursorChangeReason = {}));\n/**\n * The default end of line to use when instantiating models.\n */\nexport var DefaultEndOfLine;\n(function (DefaultEndOfLine) {\n    /**\n     * Use line feed (\\n) as the end of line character.\n     */\n    DefaultEndOfLine[DefaultEndOfLine[\"LF\"] = 1] = \"LF\";\n    /**\n     * Use carriage return and line feed (\\r\\n) as the end of line character.\n     */\n    DefaultEndOfLine[DefaultEndOfLine[\"CRLF\"] = 2] = \"CRLF\";\n})(DefaultEndOfLine || (DefaultEndOfLine = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind[DocumentHighlightKind[\"Text\"] = 0] = \"Text\";\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind[DocumentHighlightKind[\"Read\"] = 1] = \"Read\";\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind[DocumentHighlightKind[\"Write\"] = 2] = \"Write\";\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * Configuration options for auto indentation in the editor\n */\nexport var EditorAutoIndentStrategy;\n(function (EditorAutoIndentStrategy) {\n    EditorAutoIndentStrategy[EditorAutoIndentStrategy[\"None\"] = 0] = \"None\";\n    EditorAutoIndentStrategy[EditorAutoIndentStrategy[\"Keep\"] = 1] = \"Keep\";\n    EditorAutoIndentStrategy[EditorAutoIndentStrategy[\"Brackets\"] = 2] = \"Brackets\";\n    EditorAutoIndentStrategy[EditorAutoIndentStrategy[\"Advanced\"] = 3] = \"Advanced\";\n    EditorAutoIndentStrategy[EditorAutoIndentStrategy[\"Full\"] = 4] = \"Full\";\n})(EditorAutoIndentStrategy || (EditorAutoIndentStrategy = {}));\nexport var EditorOption;\n(function (EditorOption) {\n    EditorOption[EditorOption[\"acceptSuggestionOnCommitCharacter\"] = 0] = \"acceptSuggestionOnCommitCharacter\";\n    EditorOption[EditorOption[\"acceptSuggestionOnEnter\"] = 1] = \"acceptSuggestionOnEnter\";\n    EditorOption[EditorOption[\"accessibilitySupport\"] = 2] = \"accessibilitySupport\";\n    EditorOption[EditorOption[\"accessibilityPageSize\"] = 3] = \"accessibilityPageSize\";\n    EditorOption[EditorOption[\"ariaLabel\"] = 4] = \"ariaLabel\";\n    EditorOption[EditorOption[\"autoClosingBrackets\"] = 5] = \"autoClosingBrackets\";\n    EditorOption[EditorOption[\"screenReaderAnnounceInlineSuggestion\"] = 6] = \"screenReaderAnnounceInlineSuggestion\";\n    EditorOption[EditorOption[\"autoClosingDelete\"] = 7] = \"autoClosingDelete\";\n    EditorOption[EditorOption[\"autoClosingOvertype\"] = 8] = \"autoClosingOvertype\";\n    EditorOption[EditorOption[\"autoClosingQuotes\"] = 9] = \"autoClosingQuotes\";\n    EditorOption[EditorOption[\"autoIndent\"] = 10] = \"autoIndent\";\n    EditorOption[EditorOption[\"automaticLayout\"] = 11] = \"automaticLayout\";\n    EditorOption[EditorOption[\"autoSurround\"] = 12] = \"autoSurround\";\n    EditorOption[EditorOption[\"bracketPairColorization\"] = 13] = \"bracketPairColorization\";\n    EditorOption[EditorOption[\"guides\"] = 14] = \"guides\";\n    EditorOption[EditorOption[\"codeLens\"] = 15] = \"codeLens\";\n    EditorOption[EditorOption[\"codeLensFontFamily\"] = 16] = \"codeLensFontFamily\";\n    EditorOption[EditorOption[\"codeLensFontSize\"] = 17] = \"codeLensFontSize\";\n    EditorOption[EditorOption[\"colorDecorators\"] = 18] = \"colorDecorators\";\n    EditorOption[EditorOption[\"colorDecoratorsLimit\"] = 19] = \"colorDecoratorsLimit\";\n    EditorOption[EditorOption[\"columnSelection\"] = 20] = \"columnSelection\";\n    EditorOption[EditorOption[\"comments\"] = 21] = \"comments\";\n    EditorOption[EditorOption[\"contextmenu\"] = 22] = \"contextmenu\";\n    EditorOption[EditorOption[\"copyWithSyntaxHighlighting\"] = 23] = \"copyWithSyntaxHighlighting\";\n    EditorOption[EditorOption[\"cursorBlinking\"] = 24] = \"cursorBlinking\";\n    EditorOption[EditorOption[\"cursorSmoothCaretAnimation\"] = 25] = \"cursorSmoothCaretAnimation\";\n    EditorOption[EditorOption[\"cursorStyle\"] = 26] = \"cursorStyle\";\n    EditorOption[EditorOption[\"cursorSurroundingLines\"] = 27] = \"cursorSurroundingLines\";\n    EditorOption[EditorOption[\"cursorSurroundingLinesStyle\"] = 28] = \"cursorSurroundingLinesStyle\";\n    EditorOption[EditorOption[\"cursorWidth\"] = 29] = \"cursorWidth\";\n    EditorOption[EditorOption[\"disableLayerHinting\"] = 30] = \"disableLayerHinting\";\n    EditorOption[EditorOption[\"disableMonospaceOptimizations\"] = 31] = \"disableMonospaceOptimizations\";\n    EditorOption[EditorOption[\"domReadOnly\"] = 32] = \"domReadOnly\";\n    EditorOption[EditorOption[\"dragAndDrop\"] = 33] = \"dragAndDrop\";\n    EditorOption[EditorOption[\"dropIntoEditor\"] = 34] = \"dropIntoEditor\";\n    EditorOption[EditorOption[\"emptySelectionClipboard\"] = 35] = \"emptySelectionClipboard\";\n    EditorOption[EditorOption[\"experimentalWhitespaceRendering\"] = 36] = \"experimentalWhitespaceRendering\";\n    EditorOption[EditorOption[\"extraEditorClassName\"] = 37] = \"extraEditorClassName\";\n    EditorOption[EditorOption[\"fastScrollSensitivity\"] = 38] = \"fastScrollSensitivity\";\n    EditorOption[EditorOption[\"find\"] = 39] = \"find\";\n    EditorOption[EditorOption[\"fixedOverflowWidgets\"] = 40] = \"fixedOverflowWidgets\";\n    EditorOption[EditorOption[\"folding\"] = 41] = \"folding\";\n    EditorOption[EditorOption[\"foldingStrategy\"] = 42] = \"foldingStrategy\";\n    EditorOption[EditorOption[\"foldingHighlight\"] = 43] = \"foldingHighlight\";\n    EditorOption[EditorOption[\"foldingImportsByDefault\"] = 44] = \"foldingImportsByDefault\";\n    EditorOption[EditorOption[\"foldingMaximumRegions\"] = 45] = \"foldingMaximumRegions\";\n    EditorOption[EditorOption[\"unfoldOnClickAfterEndOfLine\"] = 46] = \"unfoldOnClickAfterEndOfLine\";\n    EditorOption[EditorOption[\"fontFamily\"] = 47] = \"fontFamily\";\n    EditorOption[EditorOption[\"fontInfo\"] = 48] = \"fontInfo\";\n    EditorOption[EditorOption[\"fontLigatures\"] = 49] = \"fontLigatures\";\n    EditorOption[EditorOption[\"fontSize\"] = 50] = \"fontSize\";\n    EditorOption[EditorOption[\"fontWeight\"] = 51] = \"fontWeight\";\n    EditorOption[EditorOption[\"fontVariations\"] = 52] = \"fontVariations\";\n    EditorOption[EditorOption[\"formatOnPaste\"] = 53] = \"formatOnPaste\";\n    EditorOption[EditorOption[\"formatOnType\"] = 54] = \"formatOnType\";\n    EditorOption[EditorOption[\"glyphMargin\"] = 55] = \"glyphMargin\";\n    EditorOption[EditorOption[\"gotoLocation\"] = 56] = \"gotoLocation\";\n    EditorOption[EditorOption[\"hideCursorInOverviewRuler\"] = 57] = \"hideCursorInOverviewRuler\";\n    EditorOption[EditorOption[\"hover\"] = 58] = \"hover\";\n    EditorOption[EditorOption[\"inDiffEditor\"] = 59] = \"inDiffEditor\";\n    EditorOption[EditorOption[\"inlineSuggest\"] = 60] = \"inlineSuggest\";\n    EditorOption[EditorOption[\"letterSpacing\"] = 61] = \"letterSpacing\";\n    EditorOption[EditorOption[\"lightbulb\"] = 62] = \"lightbulb\";\n    EditorOption[EditorOption[\"lineDecorationsWidth\"] = 63] = \"lineDecorationsWidth\";\n    EditorOption[EditorOption[\"lineHeight\"] = 64] = \"lineHeight\";\n    EditorOption[EditorOption[\"lineNumbers\"] = 65] = \"lineNumbers\";\n    EditorOption[EditorOption[\"lineNumbersMinChars\"] = 66] = \"lineNumbersMinChars\";\n    EditorOption[EditorOption[\"linkedEditing\"] = 67] = \"linkedEditing\";\n    EditorOption[EditorOption[\"links\"] = 68] = \"links\";\n    EditorOption[EditorOption[\"matchBrackets\"] = 69] = \"matchBrackets\";\n    EditorOption[EditorOption[\"minimap\"] = 70] = \"minimap\";\n    EditorOption[EditorOption[\"mouseStyle\"] = 71] = \"mouseStyle\";\n    EditorOption[EditorOption[\"mouseWheelScrollSensitivity\"] = 72] = \"mouseWheelScrollSensitivity\";\n    EditorOption[EditorOption[\"mouseWheelZoom\"] = 73] = \"mouseWheelZoom\";\n    EditorOption[EditorOption[\"multiCursorMergeOverlapping\"] = 74] = \"multiCursorMergeOverlapping\";\n    EditorOption[EditorOption[\"multiCursorModifier\"] = 75] = \"multiCursorModifier\";\n    EditorOption[EditorOption[\"multiCursorPaste\"] = 76] = \"multiCursorPaste\";\n    EditorOption[EditorOption[\"multiCursorLimit\"] = 77] = \"multiCursorLimit\";\n    EditorOption[EditorOption[\"occurrencesHighlight\"] = 78] = \"occurrencesHighlight\";\n    EditorOption[EditorOption[\"overviewRulerBorder\"] = 79] = \"overviewRulerBorder\";\n    EditorOption[EditorOption[\"overviewRulerLanes\"] = 80] = \"overviewRulerLanes\";\n    EditorOption[EditorOption[\"padding\"] = 81] = \"padding\";\n    EditorOption[EditorOption[\"pasteAs\"] = 82] = \"pasteAs\";\n    EditorOption[EditorOption[\"parameterHints\"] = 83] = \"parameterHints\";\n    EditorOption[EditorOption[\"peekWidgetDefaultFocus\"] = 84] = \"peekWidgetDefaultFocus\";\n    EditorOption[EditorOption[\"definitionLinkOpensInPeek\"] = 85] = \"definitionLinkOpensInPeek\";\n    EditorOption[EditorOption[\"quickSuggestions\"] = 86] = \"quickSuggestions\";\n    EditorOption[EditorOption[\"quickSuggestionsDelay\"] = 87] = \"quickSuggestionsDelay\";\n    EditorOption[EditorOption[\"readOnly\"] = 88] = \"readOnly\";\n    EditorOption[EditorOption[\"readOnlyMessage\"] = 89] = \"readOnlyMessage\";\n    EditorOption[EditorOption[\"renameOnType\"] = 90] = \"renameOnType\";\n    EditorOption[EditorOption[\"renderControlCharacters\"] = 91] = \"renderControlCharacters\";\n    EditorOption[EditorOption[\"renderFinalNewline\"] = 92] = \"renderFinalNewline\";\n    EditorOption[EditorOption[\"renderLineHighlight\"] = 93] = \"renderLineHighlight\";\n    EditorOption[EditorOption[\"renderLineHighlightOnlyWhenFocus\"] = 94] = \"renderLineHighlightOnlyWhenFocus\";\n    EditorOption[EditorOption[\"renderValidationDecorations\"] = 95] = \"renderValidationDecorations\";\n    EditorOption[EditorOption[\"renderWhitespace\"] = 96] = \"renderWhitespace\";\n    EditorOption[EditorOption[\"revealHorizontalRightPadding\"] = 97] = \"revealHorizontalRightPadding\";\n    EditorOption[EditorOption[\"roundedSelection\"] = 98] = \"roundedSelection\";\n    EditorOption[EditorOption[\"rulers\"] = 99] = \"rulers\";\n    EditorOption[EditorOption[\"scrollbar\"] = 100] = \"scrollbar\";\n    EditorOption[EditorOption[\"scrollBeyondLastColumn\"] = 101] = \"scrollBeyondLastColumn\";\n    EditorOption[EditorOption[\"scrollBeyondLastLine\"] = 102] = \"scrollBeyondLastLine\";\n    EditorOption[EditorOption[\"scrollPredominantAxis\"] = 103] = \"scrollPredominantAxis\";\n    EditorOption[EditorOption[\"selectionClipboard\"] = 104] = \"selectionClipboard\";\n    EditorOption[EditorOption[\"selectionHighlight\"] = 105] = \"selectionHighlight\";\n    EditorOption[EditorOption[\"selectOnLineNumbers\"] = 106] = \"selectOnLineNumbers\";\n    EditorOption[EditorOption[\"showFoldingControls\"] = 107] = \"showFoldingControls\";\n    EditorOption[EditorOption[\"showUnused\"] = 108] = \"showUnused\";\n    EditorOption[EditorOption[\"snippetSuggestions\"] = 109] = \"snippetSuggestions\";\n    EditorOption[EditorOption[\"smartSelect\"] = 110] = \"smartSelect\";\n    EditorOption[EditorOption[\"smoothScrolling\"] = 111] = \"smoothScrolling\";\n    EditorOption[EditorOption[\"stickyScroll\"] = 112] = \"stickyScroll\";\n    EditorOption[EditorOption[\"stickyTabStops\"] = 113] = \"stickyTabStops\";\n    EditorOption[EditorOption[\"stopRenderingLineAfter\"] = 114] = \"stopRenderingLineAfter\";\n    EditorOption[EditorOption[\"suggest\"] = 115] = \"suggest\";\n    EditorOption[EditorOption[\"suggestFontSize\"] = 116] = \"suggestFontSize\";\n    EditorOption[EditorOption[\"suggestLineHeight\"] = 117] = \"suggestLineHeight\";\n    EditorOption[EditorOption[\"suggestOnTriggerCharacters\"] = 118] = \"suggestOnTriggerCharacters\";\n    EditorOption[EditorOption[\"suggestSelection\"] = 119] = \"suggestSelection\";\n    EditorOption[EditorOption[\"tabCompletion\"] = 120] = \"tabCompletion\";\n    EditorOption[EditorOption[\"tabIndex\"] = 121] = \"tabIndex\";\n    EditorOption[EditorOption[\"unicodeHighlighting\"] = 122] = \"unicodeHighlighting\";\n    EditorOption[EditorOption[\"unusualLineTerminators\"] = 123] = \"unusualLineTerminators\";\n    EditorOption[EditorOption[\"useShadowDOM\"] = 124] = \"useShadowDOM\";\n    EditorOption[EditorOption[\"useTabStops\"] = 125] = \"useTabStops\";\n    EditorOption[EditorOption[\"wordBreak\"] = 126] = \"wordBreak\";\n    EditorOption[EditorOption[\"wordSeparators\"] = 127] = \"wordSeparators\";\n    EditorOption[EditorOption[\"wordWrap\"] = 128] = \"wordWrap\";\n    EditorOption[EditorOption[\"wordWrapBreakAfterCharacters\"] = 129] = \"wordWrapBreakAfterCharacters\";\n    EditorOption[EditorOption[\"wordWrapBreakBeforeCharacters\"] = 130] = \"wordWrapBreakBeforeCharacters\";\n    EditorOption[EditorOption[\"wordWrapColumn\"] = 131] = \"wordWrapColumn\";\n    EditorOption[EditorOption[\"wordWrapOverride1\"] = 132] = \"wordWrapOverride1\";\n    EditorOption[EditorOption[\"wordWrapOverride2\"] = 133] = \"wordWrapOverride2\";\n    EditorOption[EditorOption[\"wrappingIndent\"] = 134] = \"wrappingIndent\";\n    EditorOption[EditorOption[\"wrappingStrategy\"] = 135] = \"wrappingStrategy\";\n    EditorOption[EditorOption[\"showDeprecated\"] = 136] = \"showDeprecated\";\n    EditorOption[EditorOption[\"inlayHints\"] = 137] = \"inlayHints\";\n    EditorOption[EditorOption[\"editorClassName\"] = 138] = \"editorClassName\";\n    EditorOption[EditorOption[\"pixelRatio\"] = 139] = \"pixelRatio\";\n    EditorOption[EditorOption[\"tabFocusMode\"] = 140] = \"tabFocusMode\";\n    EditorOption[EditorOption[\"layoutInfo\"] = 141] = \"layoutInfo\";\n    EditorOption[EditorOption[\"wrappingInfo\"] = 142] = \"wrappingInfo\";\n    EditorOption[EditorOption[\"defaultColorDecorators\"] = 143] = \"defaultColorDecorators\";\n    EditorOption[EditorOption[\"colorDecoratorsActivatedOn\"] = 144] = \"colorDecoratorsActivatedOn\";\n})(EditorOption || (EditorOption = {}));\n/**\n * End of line character preference.\n */\nexport var EndOfLinePreference;\n(function (EndOfLinePreference) {\n    /**\n     * Use the end of line character identified in the text buffer.\n     */\n    EndOfLinePreference[EndOfLinePreference[\"TextDefined\"] = 0] = \"TextDefined\";\n    /**\n     * Use line feed (\\n) as the end of line character.\n     */\n    EndOfLinePreference[EndOfLinePreference[\"LF\"] = 1] = \"LF\";\n    /**\n     * Use carriage return and line feed (\\r\\n) as the end of line character.\n     */\n    EndOfLinePreference[EndOfLinePreference[\"CRLF\"] = 2] = \"CRLF\";\n})(EndOfLinePreference || (EndOfLinePreference = {}));\n/**\n * End of line character preference.\n */\nexport var EndOfLineSequence;\n(function (EndOfLineSequence) {\n    /**\n     * Use line feed (\\n) as the end of line character.\n     */\n    EndOfLineSequence[EndOfLineSequence[\"LF\"] = 0] = \"LF\";\n    /**\n     * Use carriage return and line feed (\\r\\n) as the end of line character.\n     */\n    EndOfLineSequence[EndOfLineSequence[\"CRLF\"] = 1] = \"CRLF\";\n})(EndOfLineSequence || (EndOfLineSequence = {}));\n/**\n * Vertical Lane in the glyph margin of the editor.\n */\nexport var GlyphMarginLane;\n(function (GlyphMarginLane) {\n    GlyphMarginLane[GlyphMarginLane[\"Left\"] = 1] = \"Left\";\n    GlyphMarginLane[GlyphMarginLane[\"Right\"] = 2] = \"Right\";\n})(GlyphMarginLane || (GlyphMarginLane = {}));\n/**\n * Describes what to do with the indentation when pressing Enter.\n */\nexport var IndentAction;\n(function (IndentAction) {\n    /**\n     * Insert new line and copy the previous line's indentation.\n     */\n    IndentAction[IndentAction[\"None\"] = 0] = \"None\";\n    /**\n     * Insert new line and indent once (relative to the previous line's indentation).\n     */\n    IndentAction[IndentAction[\"Indent\"] = 1] = \"Indent\";\n    /**\n     * Insert two new lines:\n     *  - the first one indented which will hold the cursor\n     *  - the second one at the same indentation level\n     */\n    IndentAction[IndentAction[\"IndentOutdent\"] = 2] = \"IndentOutdent\";\n    /**\n     * Insert new line and outdent once (relative to the previous line's indentation).\n     */\n    IndentAction[IndentAction[\"Outdent\"] = 3] = \"Outdent\";\n})(IndentAction || (IndentAction = {}));\nexport var InjectedTextCursorStops;\n(function (InjectedTextCursorStops) {\n    InjectedTextCursorStops[InjectedTextCursorStops[\"Both\"] = 0] = \"Both\";\n    InjectedTextCursorStops[InjectedTextCursorStops[\"Right\"] = 1] = \"Right\";\n    InjectedTextCursorStops[InjectedTextCursorStops[\"Left\"] = 2] = \"Left\";\n    InjectedTextCursorStops[InjectedTextCursorStops[\"None\"] = 3] = \"None\";\n})(InjectedTextCursorStops || (InjectedTextCursorStops = {}));\nexport var InlayHintKind;\n(function (InlayHintKind) {\n    InlayHintKind[InlayHintKind[\"Type\"] = 1] = \"Type\";\n    InlayHintKind[InlayHintKind[\"Parameter\"] = 2] = \"Parameter\";\n})(InlayHintKind || (InlayHintKind = {}));\n/**\n * How an {@link InlineCompletionsProvider inline completion provider} was triggered.\n */\nexport var InlineCompletionTriggerKind;\n(function (InlineCompletionTriggerKind) {\n    /**\n     * Completion was triggered automatically while editing.\n     * It is sufficient to return a single completion item in this case.\n     */\n    InlineCompletionTriggerKind[InlineCompletionTriggerKind[\"Automatic\"] = 0] = \"Automatic\";\n    /**\n     * Completion was triggered explicitly by a user gesture.\n     * Return multiple completion items to enable cycling through them.\n     */\n    InlineCompletionTriggerKind[InlineCompletionTriggerKind[\"Explicit\"] = 1] = \"Explicit\";\n})(InlineCompletionTriggerKind || (InlineCompletionTriggerKind = {}));\n/**\n * Virtual Key Codes, the value does not hold any inherent meaning.\n * Inspired somewhat from https://msdn.microsoft.com/en-us/library/windows/desktop/dd375731(v=vs.85).aspx\n * But these are \"more general\", as they should work across browsers & OS`s.\n */\nexport var KeyCode;\n(function (KeyCode) {\n    KeyCode[KeyCode[\"DependsOnKbLayout\"] = -1] = \"DependsOnKbLayout\";\n    /**\n     * Placed first to cover the 0 value of the enum.\n     */\n    KeyCode[KeyCode[\"Unknown\"] = 0] = \"Unknown\";\n    KeyCode[KeyCode[\"Backspace\"] = 1] = \"Backspace\";\n    KeyCode[KeyCode[\"Tab\"] = 2] = \"Tab\";\n    KeyCode[KeyCode[\"Enter\"] = 3] = \"Enter\";\n    KeyCode[KeyCode[\"Shift\"] = 4] = \"Shift\";\n    KeyCode[KeyCode[\"Ctrl\"] = 5] = \"Ctrl\";\n    KeyCode[KeyCode[\"Alt\"] = 6] = \"Alt\";\n    KeyCode[KeyCode[\"PauseBreak\"] = 7] = \"PauseBreak\";\n    KeyCode[KeyCode[\"CapsLock\"] = 8] = \"CapsLock\";\n    KeyCode[KeyCode[\"Escape\"] = 9] = \"Escape\";\n    KeyCode[KeyCode[\"Space\"] = 10] = \"Space\";\n    KeyCode[KeyCode[\"PageUp\"] = 11] = \"PageUp\";\n    KeyCode[KeyCode[\"PageDown\"] = 12] = \"PageDown\";\n    KeyCode[KeyCode[\"End\"] = 13] = \"End\";\n    KeyCode[KeyCode[\"Home\"] = 14] = \"Home\";\n    KeyCode[KeyCode[\"LeftArrow\"] = 15] = \"LeftArrow\";\n    KeyCode[KeyCode[\"UpArrow\"] = 16] = \"UpArrow\";\n    KeyCode[KeyCode[\"RightArrow\"] = 17] = \"RightArrow\";\n    KeyCode[KeyCode[\"DownArrow\"] = 18] = \"DownArrow\";\n    KeyCode[KeyCode[\"Insert\"] = 19] = \"Insert\";\n    KeyCode[KeyCode[\"Delete\"] = 20] = \"Delete\";\n    KeyCode[KeyCode[\"Digit0\"] = 21] = \"Digit0\";\n    KeyCode[KeyCode[\"Digit1\"] = 22] = \"Digit1\";\n    KeyCode[KeyCode[\"Digit2\"] = 23] = \"Digit2\";\n    KeyCode[KeyCode[\"Digit3\"] = 24] = \"Digit3\";\n    KeyCode[KeyCode[\"Digit4\"] = 25] = \"Digit4\";\n    KeyCode[KeyCode[\"Digit5\"] = 26] = \"Digit5\";\n    KeyCode[KeyCode[\"Digit6\"] = 27] = \"Digit6\";\n    KeyCode[KeyCode[\"Digit7\"] = 28] = \"Digit7\";\n    KeyCode[KeyCode[\"Digit8\"] = 29] = \"Digit8\";\n    KeyCode[KeyCode[\"Digit9\"] = 30] = \"Digit9\";\n    KeyCode[KeyCode[\"KeyA\"] = 31] = \"KeyA\";\n    KeyCode[KeyCode[\"KeyB\"] = 32] = \"KeyB\";\n    KeyCode[KeyCode[\"KeyC\"] = 33] = \"KeyC\";\n    KeyCode[KeyCode[\"KeyD\"] = 34] = \"KeyD\";\n    KeyCode[KeyCode[\"KeyE\"] = 35] = \"KeyE\";\n    KeyCode[KeyCode[\"KeyF\"] = 36] = \"KeyF\";\n    KeyCode[KeyCode[\"KeyG\"] = 37] = \"KeyG\";\n    KeyCode[KeyCode[\"KeyH\"] = 38] = \"KeyH\";\n    KeyCode[KeyCode[\"KeyI\"] = 39] = \"KeyI\";\n    KeyCode[KeyCode[\"KeyJ\"] = 40] = \"KeyJ\";\n    KeyCode[KeyCode[\"KeyK\"] = 41] = \"KeyK\";\n    KeyCode[KeyCode[\"KeyL\"] = 42] = \"KeyL\";\n    KeyCode[KeyCode[\"KeyM\"] = 43] = \"KeyM\";\n    KeyCode[KeyCode[\"KeyN\"] = 44] = \"KeyN\";\n    KeyCode[KeyCode[\"KeyO\"] = 45] = \"KeyO\";\n    KeyCode[KeyCode[\"KeyP\"] = 46] = \"KeyP\";\n    KeyCode[KeyCode[\"KeyQ\"] = 47] = \"KeyQ\";\n    KeyCode[KeyCode[\"KeyR\"] = 48] = \"KeyR\";\n    KeyCode[KeyCode[\"KeyS\"] = 49] = \"KeyS\";\n    KeyCode[KeyCode[\"KeyT\"] = 50] = \"KeyT\";\n    KeyCode[KeyCode[\"KeyU\"] = 51] = \"KeyU\";\n    KeyCode[KeyCode[\"KeyV\"] = 52] = \"KeyV\";\n    KeyCode[KeyCode[\"KeyW\"] = 53] = \"KeyW\";\n    KeyCode[KeyCode[\"KeyX\"] = 54] = \"KeyX\";\n    KeyCode[KeyCode[\"KeyY\"] = 55] = \"KeyY\";\n    KeyCode[KeyCode[\"KeyZ\"] = 56] = \"KeyZ\";\n    KeyCode[KeyCode[\"Meta\"] = 57] = \"Meta\";\n    KeyCode[KeyCode[\"ContextMenu\"] = 58] = \"ContextMenu\";\n    KeyCode[KeyCode[\"F1\"] = 59] = \"F1\";\n    KeyCode[KeyCode[\"F2\"] = 60] = \"F2\";\n    KeyCode[KeyCode[\"F3\"] = 61] = \"F3\";\n    KeyCode[KeyCode[\"F4\"] = 62] = \"F4\";\n    KeyCode[KeyCode[\"F5\"] = 63] = \"F5\";\n    KeyCode[KeyCode[\"F6\"] = 64] = \"F6\";\n    KeyCode[KeyCode[\"F7\"] = 65] = \"F7\";\n    KeyCode[KeyCode[\"F8\"] = 66] = \"F8\";\n    KeyCode[KeyCode[\"F9\"] = 67] = \"F9\";\n    KeyCode[KeyCode[\"F10\"] = 68] = \"F10\";\n    KeyCode[KeyCode[\"F11\"] = 69] = \"F11\";\n    KeyCode[KeyCode[\"F12\"] = 70] = \"F12\";\n    KeyCode[KeyCode[\"F13\"] = 71] = \"F13\";\n    KeyCode[KeyCode[\"F14\"] = 72] = \"F14\";\n    KeyCode[KeyCode[\"F15\"] = 73] = \"F15\";\n    KeyCode[KeyCode[\"F16\"] = 74] = \"F16\";\n    KeyCode[KeyCode[\"F17\"] = 75] = \"F17\";\n    KeyCode[KeyCode[\"F18\"] = 76] = \"F18\";\n    KeyCode[KeyCode[\"F19\"] = 77] = \"F19\";\n    KeyCode[KeyCode[\"F20\"] = 78] = \"F20\";\n    KeyCode[KeyCode[\"F21\"] = 79] = \"F21\";\n    KeyCode[KeyCode[\"F22\"] = 80] = \"F22\";\n    KeyCode[KeyCode[\"F23\"] = 81] = \"F23\";\n    KeyCode[KeyCode[\"F24\"] = 82] = \"F24\";\n    KeyCode[KeyCode[\"NumLock\"] = 83] = \"NumLock\";\n    KeyCode[KeyCode[\"ScrollLock\"] = 84] = \"ScrollLock\";\n    /**\n     * Used for miscellaneous characters; it can vary by keyboard.\n     * For the US standard keyboard, the ';:' key\n     */\n    KeyCode[KeyCode[\"Semicolon\"] = 85] = \"Semicolon\";\n    /**\n     * For any country/region, the '+' key\n     * For the US standard keyboard, the '=+' key\n     */\n    KeyCode[KeyCode[\"Equal\"] = 86] = \"Equal\";\n    /**\n     * For any country/region, the ',' key\n     * For the US standard keyboard, the ',<' key\n     */\n    KeyCode[KeyCode[\"Comma\"] = 87] = \"Comma\";\n    /**\n     * For any country/region, the '-' key\n     * For the US standard keyboard, the '-_' key\n     */\n    KeyCode[KeyCode[\"Minus\"] = 88] = \"Minus\";\n    /**\n     * For any country/region, the '.' key\n     * For the US standard keyboard, the '.>' key\n     */\n    KeyCode[KeyCode[\"Period\"] = 89] = \"Period\";\n    /**\n     * Used for miscellaneous characters; it can vary by keyboard.\n     * For the US standard keyboard, the '/?' key\n     */\n    KeyCode[KeyCode[\"Slash\"] = 90] = \"Slash\";\n    /**\n     * Used for miscellaneous characters; it can vary by keyboard.\n     * For the US standard keyboard, the '`~' key\n     */\n    KeyCode[KeyCode[\"Backquote\"] = 91] = \"Backquote\";\n    /**\n     * Used for miscellaneous characters; it can vary by keyboard.\n     * For the US standard keyboard, the '[{' key\n     */\n    KeyCode[KeyCode[\"BracketLeft\"] = 92] = \"BracketLeft\";\n    /**\n     * Used for miscellaneous characters; it can vary by keyboard.\n     * For the US standard keyboard, the '\\|' key\n     */\n    KeyCode[KeyCode[\"Backslash\"] = 93] = \"Backslash\";\n    /**\n     * Used for miscellaneous characters; it can vary by keyboard.\n     * For the US standard keyboard, the ']}' key\n     */\n    KeyCode[KeyCode[\"BracketRight\"] = 94] = \"BracketRight\";\n    /**\n     * Used for miscellaneous characters; it can vary by keyboard.\n     * For the US standard keyboard, the ''\"' key\n     */\n    KeyCode[KeyCode[\"Quote\"] = 95] = \"Quote\";\n    /**\n     * Used for miscellaneous characters; it can vary by keyboard.\n     */\n    KeyCode[KeyCode[\"OEM_8\"] = 96] = \"OEM_8\";\n    /**\n     * Either the angle bracket key or the backslash key on the RT 102-key keyboard.\n     */\n    KeyCode[KeyCode[\"IntlBackslash\"] = 97] = \"IntlBackslash\";\n    KeyCode[KeyCode[\"Numpad0\"] = 98] = \"Numpad0\";\n    KeyCode[KeyCode[\"Numpad1\"] = 99] = \"Numpad1\";\n    KeyCode[KeyCode[\"Numpad2\"] = 100] = \"Numpad2\";\n    KeyCode[KeyCode[\"Numpad3\"] = 101] = \"Numpad3\";\n    KeyCode[KeyCode[\"Numpad4\"] = 102] = \"Numpad4\";\n    KeyCode[KeyCode[\"Numpad5\"] = 103] = \"Numpad5\";\n    KeyCode[KeyCode[\"Numpad6\"] = 104] = \"Numpad6\";\n    KeyCode[KeyCode[\"Numpad7\"] = 105] = \"Numpad7\";\n    KeyCode[KeyCode[\"Numpad8\"] = 106] = \"Numpad8\";\n    KeyCode[KeyCode[\"Numpad9\"] = 107] = \"Numpad9\";\n    KeyCode[KeyCode[\"NumpadMultiply\"] = 108] = \"NumpadMultiply\";\n    KeyCode[KeyCode[\"NumpadAdd\"] = 109] = \"NumpadAdd\";\n    KeyCode[KeyCode[\"NUMPAD_SEPARATOR\"] = 110] = \"NUMPAD_SEPARATOR\";\n    KeyCode[KeyCode[\"NumpadSubtract\"] = 111] = \"NumpadSubtract\";\n    KeyCode[KeyCode[\"NumpadDecimal\"] = 112] = \"NumpadDecimal\";\n    KeyCode[KeyCode[\"NumpadDivide\"] = 113] = \"NumpadDivide\";\n    /**\n     * Cover all key codes when IME is processing input.\n     */\n    KeyCode[KeyCode[\"KEY_IN_COMPOSITION\"] = 114] = \"KEY_IN_COMPOSITION\";\n    KeyCode[KeyCode[\"ABNT_C1\"] = 115] = \"ABNT_C1\";\n    KeyCode[KeyCode[\"ABNT_C2\"] = 116] = \"ABNT_C2\";\n    KeyCode[KeyCode[\"AudioVolumeMute\"] = 117] = \"AudioVolumeMute\";\n    KeyCode[KeyCode[\"AudioVolumeUp\"] = 118] = \"AudioVolumeUp\";\n    KeyCode[KeyCode[\"AudioVolumeDown\"] = 119] = \"AudioVolumeDown\";\n    KeyCode[KeyCode[\"BrowserSearch\"] = 120] = \"BrowserSearch\";\n    KeyCode[KeyCode[\"BrowserHome\"] = 121] = \"BrowserHome\";\n    KeyCode[KeyCode[\"BrowserBack\"] = 122] = \"BrowserBack\";\n    KeyCode[KeyCode[\"BrowserForward\"] = 123] = \"BrowserForward\";\n    KeyCode[KeyCode[\"MediaTrackNext\"] = 124] = \"MediaTrackNext\";\n    KeyCode[KeyCode[\"MediaTrackPrevious\"] = 125] = \"MediaTrackPrevious\";\n    KeyCode[KeyCode[\"MediaStop\"] = 126] = \"MediaStop\";\n    KeyCode[KeyCode[\"MediaPlayPause\"] = 127] = \"MediaPlayPause\";\n    KeyCode[KeyCode[\"LaunchMediaPlayer\"] = 128] = \"LaunchMediaPlayer\";\n    KeyCode[KeyCode[\"LaunchMail\"] = 129] = \"LaunchMail\";\n    KeyCode[KeyCode[\"LaunchApp2\"] = 130] = \"LaunchApp2\";\n    /**\n     * VK_CLEAR, 0x0C, CLEAR key\n     */\n    KeyCode[KeyCode[\"Clear\"] = 131] = \"Clear\";\n    /**\n     * Placed last to cover the length of the enum.\n     * Please do not depend on this value!\n     */\n    KeyCode[KeyCode[\"MAX_VALUE\"] = 132] = \"MAX_VALUE\";\n})(KeyCode || (KeyCode = {}));\nexport var MarkerSeverity;\n(function (MarkerSeverity) {\n    MarkerSeverity[MarkerSeverity[\"Hint\"] = 1] = \"Hint\";\n    MarkerSeverity[MarkerSeverity[\"Info\"] = 2] = \"Info\";\n    MarkerSeverity[MarkerSeverity[\"Warning\"] = 4] = \"Warning\";\n    MarkerSeverity[MarkerSeverity[\"Error\"] = 8] = \"Error\";\n})(MarkerSeverity || (MarkerSeverity = {}));\nexport var MarkerTag;\n(function (MarkerTag) {\n    MarkerTag[MarkerTag[\"Unnecessary\"] = 1] = \"Unnecessary\";\n    MarkerTag[MarkerTag[\"Deprecated\"] = 2] = \"Deprecated\";\n})(MarkerTag || (MarkerTag = {}));\n/**\n * Position in the minimap to render the decoration.\n */\nexport var MinimapPosition;\n(function (MinimapPosition) {\n    MinimapPosition[MinimapPosition[\"Inline\"] = 1] = \"Inline\";\n    MinimapPosition[MinimapPosition[\"Gutter\"] = 2] = \"Gutter\";\n})(MinimapPosition || (MinimapPosition = {}));\n/**\n * Type of hit element with the mouse in the editor.\n */\nexport var MouseTargetType;\n(function (MouseTargetType) {\n    /**\n     * Mouse is on top of an unknown element.\n     */\n    MouseTargetType[MouseTargetType[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\n    /**\n     * Mouse is on top of the textarea used for input.\n     */\n    MouseTargetType[MouseTargetType[\"TEXTAREA\"] = 1] = \"TEXTAREA\";\n    /**\n     * Mouse is on top of the glyph margin\n     */\n    MouseTargetType[MouseTargetType[\"GUTTER_GLYPH_MARGIN\"] = 2] = \"GUTTER_GLYPH_MARGIN\";\n    /**\n     * Mouse is on top of the line numbers\n     */\n    MouseTargetType[MouseTargetType[\"GUTTER_LINE_NUMBERS\"] = 3] = \"GUTTER_LINE_NUMBERS\";\n    /**\n     * Mouse is on top of the line decorations\n     */\n    MouseTargetType[MouseTargetType[\"GUTTER_LINE_DECORATIONS\"] = 4] = \"GUTTER_LINE_DECORATIONS\";\n    /**\n     * Mouse is on top of the whitespace left in the gutter by a view zone.\n     */\n    MouseTargetType[MouseTargetType[\"GUTTER_VIEW_ZONE\"] = 5] = \"GUTTER_VIEW_ZONE\";\n    /**\n     * Mouse is on top of text in the content.\n     */\n    MouseTargetType[MouseTargetType[\"CONTENT_TEXT\"] = 6] = \"CONTENT_TEXT\";\n    /**\n     * Mouse is on top of empty space in the content (e.g. after line text or below last line)\n     */\n    MouseTargetType[MouseTargetType[\"CONTENT_EMPTY\"] = 7] = \"CONTENT_EMPTY\";\n    /**\n     * Mouse is on top of a view zone in the content.\n     */\n    MouseTargetType[MouseTargetType[\"CONTENT_VIEW_ZONE\"] = 8] = \"CONTENT_VIEW_ZONE\";\n    /**\n     * Mouse is on top of a content widget.\n     */\n    MouseTargetType[MouseTargetType[\"CONTENT_WIDGET\"] = 9] = \"CONTENT_WIDGET\";\n    /**\n     * Mouse is on top of the decorations overview ruler.\n     */\n    MouseTargetType[MouseTargetType[\"OVERVIEW_RULER\"] = 10] = \"OVERVIEW_RULER\";\n    /**\n     * Mouse is on top of a scrollbar.\n     */\n    MouseTargetType[MouseTargetType[\"SCROLLBAR\"] = 11] = \"SCROLLBAR\";\n    /**\n     * Mouse is on top of an overlay widget.\n     */\n    MouseTargetType[MouseTargetType[\"OVERLAY_WIDGET\"] = 12] = \"OVERLAY_WIDGET\";\n    /**\n     * Mouse is outside of the editor.\n     */\n    MouseTargetType[MouseTargetType[\"OUTSIDE_EDITOR\"] = 13] = \"OUTSIDE_EDITOR\";\n})(MouseTargetType || (MouseTargetType = {}));\n/**\n * A positioning preference for rendering overlay widgets.\n */\nexport var OverlayWidgetPositionPreference;\n(function (OverlayWidgetPositionPreference) {\n    /**\n     * Position the overlay widget in the top right corner\n     */\n    OverlayWidgetPositionPreference[OverlayWidgetPositionPreference[\"TOP_RIGHT_CORNER\"] = 0] = \"TOP_RIGHT_CORNER\";\n    /**\n     * Position the overlay widget in the bottom right corner\n     */\n    OverlayWidgetPositionPreference[OverlayWidgetPositionPreference[\"BOTTOM_RIGHT_CORNER\"] = 1] = \"BOTTOM_RIGHT_CORNER\";\n    /**\n     * Position the overlay widget in the top center\n     */\n    OverlayWidgetPositionPreference[OverlayWidgetPositionPreference[\"TOP_CENTER\"] = 2] = \"TOP_CENTER\";\n})(OverlayWidgetPositionPreference || (OverlayWidgetPositionPreference = {}));\n/**\n * Vertical Lane in the overview ruler of the editor.\n */\nexport var OverviewRulerLane;\n(function (OverviewRulerLane) {\n    OverviewRulerLane[OverviewRulerLane[\"Left\"] = 1] = \"Left\";\n    OverviewRulerLane[OverviewRulerLane[\"Center\"] = 2] = \"Center\";\n    OverviewRulerLane[OverviewRulerLane[\"Right\"] = 4] = \"Right\";\n    OverviewRulerLane[OverviewRulerLane[\"Full\"] = 7] = \"Full\";\n})(OverviewRulerLane || (OverviewRulerLane = {}));\nexport var PositionAffinity;\n(function (PositionAffinity) {\n    /**\n     * Prefers the left most position.\n    */\n    PositionAffinity[PositionAffinity[\"Left\"] = 0] = \"Left\";\n    /**\n     * Prefers the right most position.\n    */\n    PositionAffinity[PositionAffinity[\"Right\"] = 1] = \"Right\";\n    /**\n     * No preference.\n    */\n    PositionAffinity[PositionAffinity[\"None\"] = 2] = \"None\";\n    /**\n     * If the given position is on injected text, prefers the position left of it.\n    */\n    PositionAffinity[PositionAffinity[\"LeftOfInjectedText\"] = 3] = \"LeftOfInjectedText\";\n    /**\n     * If the given position is on injected text, prefers the position right of it.\n    */\n    PositionAffinity[PositionAffinity[\"RightOfInjectedText\"] = 4] = \"RightOfInjectedText\";\n})(PositionAffinity || (PositionAffinity = {}));\nexport var RenderLineNumbersType;\n(function (RenderLineNumbersType) {\n    RenderLineNumbersType[RenderLineNumbersType[\"Off\"] = 0] = \"Off\";\n    RenderLineNumbersType[RenderLineNumbersType[\"On\"] = 1] = \"On\";\n    RenderLineNumbersType[RenderLineNumbersType[\"Relative\"] = 2] = \"Relative\";\n    RenderLineNumbersType[RenderLineNumbersType[\"Interval\"] = 3] = \"Interval\";\n    RenderLineNumbersType[RenderLineNumbersType[\"Custom\"] = 4] = \"Custom\";\n})(RenderLineNumbersType || (RenderLineNumbersType = {}));\nexport var RenderMinimap;\n(function (RenderMinimap) {\n    RenderMinimap[RenderMinimap[\"None\"] = 0] = \"None\";\n    RenderMinimap[RenderMinimap[\"Text\"] = 1] = \"Text\";\n    RenderMinimap[RenderMinimap[\"Blocks\"] = 2] = \"Blocks\";\n})(RenderMinimap || (RenderMinimap = {}));\nexport var ScrollType;\n(function (ScrollType) {\n    ScrollType[ScrollType[\"Smooth\"] = 0] = \"Smooth\";\n    ScrollType[ScrollType[\"Immediate\"] = 1] = \"Immediate\";\n})(ScrollType || (ScrollType = {}));\nexport var ScrollbarVisibility;\n(function (ScrollbarVisibility) {\n    ScrollbarVisibility[ScrollbarVisibility[\"Auto\"] = 1] = \"Auto\";\n    ScrollbarVisibility[ScrollbarVisibility[\"Hidden\"] = 2] = \"Hidden\";\n    ScrollbarVisibility[ScrollbarVisibility[\"Visible\"] = 3] = \"Visible\";\n})(ScrollbarVisibility || (ScrollbarVisibility = {}));\n/**\n * The direction of a selection.\n */\nexport var SelectionDirection;\n(function (SelectionDirection) {\n    /**\n     * The selection starts above where it ends.\n     */\n    SelectionDirection[SelectionDirection[\"LTR\"] = 0] = \"LTR\";\n    /**\n     * The selection starts below where it ends.\n     */\n    SelectionDirection[SelectionDirection[\"RTL\"] = 1] = \"RTL\";\n})(SelectionDirection || (SelectionDirection = {}));\nexport var SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    SignatureHelpTriggerKind[SignatureHelpTriggerKind[\"Invoke\"] = 1] = \"Invoke\";\n    SignatureHelpTriggerKind[SignatureHelpTriggerKind[\"TriggerCharacter\"] = 2] = \"TriggerCharacter\";\n    SignatureHelpTriggerKind[SignatureHelpTriggerKind[\"ContentChange\"] = 3] = \"ContentChange\";\n})(SignatureHelpTriggerKind || (SignatureHelpTriggerKind = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind[SymbolKind[\"File\"] = 0] = \"File\";\n    SymbolKind[SymbolKind[\"Module\"] = 1] = \"Module\";\n    SymbolKind[SymbolKind[\"Namespace\"] = 2] = \"Namespace\";\n    SymbolKind[SymbolKind[\"Package\"] = 3] = \"Package\";\n    SymbolKind[SymbolKind[\"Class\"] = 4] = \"Class\";\n    SymbolKind[SymbolKind[\"Method\"] = 5] = \"Method\";\n    SymbolKind[SymbolKind[\"Property\"] = 6] = \"Property\";\n    SymbolKind[SymbolKind[\"Field\"] = 7] = \"Field\";\n    SymbolKind[SymbolKind[\"Constructor\"] = 8] = \"Constructor\";\n    SymbolKind[SymbolKind[\"Enum\"] = 9] = \"Enum\";\n    SymbolKind[SymbolKind[\"Interface\"] = 10] = \"Interface\";\n    SymbolKind[SymbolKind[\"Function\"] = 11] = \"Function\";\n    SymbolKind[SymbolKind[\"Variable\"] = 12] = \"Variable\";\n    SymbolKind[SymbolKind[\"Constant\"] = 13] = \"Constant\";\n    SymbolKind[SymbolKind[\"String\"] = 14] = \"String\";\n    SymbolKind[SymbolKind[\"Number\"] = 15] = \"Number\";\n    SymbolKind[SymbolKind[\"Boolean\"] = 16] = \"Boolean\";\n    SymbolKind[SymbolKind[\"Array\"] = 17] = \"Array\";\n    SymbolKind[SymbolKind[\"Object\"] = 18] = \"Object\";\n    SymbolKind[SymbolKind[\"Key\"] = 19] = \"Key\";\n    SymbolKind[SymbolKind[\"Null\"] = 20] = \"Null\";\n    SymbolKind[SymbolKind[\"EnumMember\"] = 21] = \"EnumMember\";\n    SymbolKind[SymbolKind[\"Struct\"] = 22] = \"Struct\";\n    SymbolKind[SymbolKind[\"Event\"] = 23] = \"Event\";\n    SymbolKind[SymbolKind[\"Operator\"] = 24] = \"Operator\";\n    SymbolKind[SymbolKind[\"TypeParameter\"] = 25] = \"TypeParameter\";\n})(SymbolKind || (SymbolKind = {}));\nexport var SymbolTag;\n(function (SymbolTag) {\n    SymbolTag[SymbolTag[\"Deprecated\"] = 1] = \"Deprecated\";\n})(SymbolTag || (SymbolTag = {}));\n/**\n * The kind of animation in which the editor's cursor should be rendered.\n */\nexport var TextEditorCursorBlinkingStyle;\n(function (TextEditorCursorBlinkingStyle) {\n    /**\n     * Hidden\n     */\n    TextEditorCursorBlinkingStyle[TextEditorCursorBlinkingStyle[\"Hidden\"] = 0] = \"Hidden\";\n    /**\n     * Blinking\n     */\n    TextEditorCursorBlinkingStyle[TextEditorCursorBlinkingStyle[\"Blink\"] = 1] = \"Blink\";\n    /**\n     * Blinking with smooth fading\n     */\n    TextEditorCursorBlinkingStyle[TextEditorCursorBlinkingStyle[\"Smooth\"] = 2] = \"Smooth\";\n    /**\n     * Blinking with prolonged filled state and smooth fading\n     */\n    TextEditorCursorBlinkingStyle[TextEditorCursorBlinkingStyle[\"Phase\"] = 3] = \"Phase\";\n    /**\n     * Expand collapse animation on the y axis\n     */\n    TextEditorCursorBlinkingStyle[TextEditorCursorBlinkingStyle[\"Expand\"] = 4] = \"Expand\";\n    /**\n     * No-Blinking\n     */\n    TextEditorCursorBlinkingStyle[TextEditorCursorBlinkingStyle[\"Solid\"] = 5] = \"Solid\";\n})(TextEditorCursorBlinkingStyle || (TextEditorCursorBlinkingStyle = {}));\n/**\n * The style in which the editor's cursor should be rendered.\n */\nexport var TextEditorCursorStyle;\n(function (TextEditorCursorStyle) {\n    /**\n     * As a vertical line (sitting between two characters).\n     */\n    TextEditorCursorStyle[TextEditorCursorStyle[\"Line\"] = 1] = \"Line\";\n    /**\n     * As a block (sitting on top of a character).\n     */\n    TextEditorCursorStyle[TextEditorCursorStyle[\"Block\"] = 2] = \"Block\";\n    /**\n     * As a horizontal line (sitting under a character).\n     */\n    TextEditorCursorStyle[TextEditorCursorStyle[\"Underline\"] = 3] = \"Underline\";\n    /**\n     * As a thin vertical line (sitting between two characters).\n     */\n    TextEditorCursorStyle[TextEditorCursorStyle[\"LineThin\"] = 4] = \"LineThin\";\n    /**\n     * As an outlined block (sitting on top of a character).\n     */\n    TextEditorCursorStyle[TextEditorCursorStyle[\"BlockOutline\"] = 5] = \"BlockOutline\";\n    /**\n     * As a thin horizontal line (sitting under a character).\n     */\n    TextEditorCursorStyle[TextEditorCursorStyle[\"UnderlineThin\"] = 6] = \"UnderlineThin\";\n})(TextEditorCursorStyle || (TextEditorCursorStyle = {}));\n/**\n * Describes the behavior of decorations when typing/editing near their edges.\n * Note: Please do not edit the values, as they very carefully match `DecorationRangeBehavior`\n */\nexport var TrackedRangeStickiness;\n(function (TrackedRangeStickiness) {\n    TrackedRangeStickiness[TrackedRangeStickiness[\"AlwaysGrowsWhenTypingAtEdges\"] = 0] = \"AlwaysGrowsWhenTypingAtEdges\";\n    TrackedRangeStickiness[TrackedRangeStickiness[\"NeverGrowsWhenTypingAtEdges\"] = 1] = \"NeverGrowsWhenTypingAtEdges\";\n    TrackedRangeStickiness[TrackedRangeStickiness[\"GrowsOnlyWhenTypingBefore\"] = 2] = \"GrowsOnlyWhenTypingBefore\";\n    TrackedRangeStickiness[TrackedRangeStickiness[\"GrowsOnlyWhenTypingAfter\"] = 3] = \"GrowsOnlyWhenTypingAfter\";\n})(TrackedRangeStickiness || (TrackedRangeStickiness = {}));\n/**\n * Describes how to indent wrapped lines.\n */\nexport var WrappingIndent;\n(function (WrappingIndent) {\n    /**\n     * No indentation => wrapped lines begin at column 1.\n     */\n    WrappingIndent[WrappingIndent[\"None\"] = 0] = \"None\";\n    /**\n     * Same => wrapped lines get the same indentation as the parent.\n     */\n    WrappingIndent[WrappingIndent[\"Same\"] = 1] = \"Same\";\n    /**\n     * Indent => wrapped lines get +1 indentation toward the parent.\n     */\n    WrappingIndent[WrappingIndent[\"Indent\"] = 2] = \"Indent\";\n    /**\n     * DeepIndent => wrapped lines get +2 indentation toward the parent.\n     */\n    WrappingIndent[WrappingIndent[\"DeepIndent\"] = 3] = \"DeepIndent\";\n})(WrappingIndent || (WrappingIndent = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { CancellationTokenSource } from '../../../base/common/cancellation.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { KeyChord } from '../../../base/common/keyCodes.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { Position } from '../core/position.js';\nimport { Range } from '../core/range.js';\nimport { Selection } from '../core/selection.js';\nimport { Token } from '../languages.js';\nimport * as standaloneEnums from '../standalone/standaloneEnums.js';\nexport class KeyMod {\n    static chord(firstPart, secondPart) {\n        return KeyChord(firstPart, secondPart);\n    }\n}\nKeyMod.CtrlCmd = 2048 /* ConstKeyMod.CtrlCmd */;\nKeyMod.Shift = 1024 /* ConstKeyMod.Shift */;\nKeyMod.Alt = 512 /* ConstKeyMod.Alt */;\nKeyMod.WinCtrl = 256 /* ConstKeyMod.WinCtrl */;\nexport function createMonacoBaseAPI() {\n    return {\n        editor: undefined,\n        languages: undefined,\n        CancellationTokenSource: CancellationTokenSource,\n        Emitter: Emitter,\n        KeyCode: standaloneEnums.KeyCode,\n        KeyMod: KeyMod,\n        Position: Position,\n        Range: Range,\n        Selection: Selection,\n        SelectionDirection: standaloneEnums.SelectionDirection,\n        MarkerSeverity: standaloneEnums.MarkerSeverity,\n        MarkerTag: standaloneEnums.MarkerTag,\n        Uri: URI,\n        Token: Token\n    };\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { CharacterClassifier } from './characterClassifier.js';\nexport class WordCharacterClassifier extends CharacterClassifier {\n    constructor(wordSeparators) {\n        super(0 /* WordCharacterClass.Regular */);\n        for (let i = 0, len = wordSeparators.length; i < len; i++) {\n            this.set(wordSeparators.charCodeAt(i), 2 /* WordCharacterClass.WordSeparator */);\n        }\n        this.set(32 /* CharCode.Space */, 1 /* WordCharacterClass.Whitespace */);\n        this.set(9 /* CharCode.Tab */, 1 /* WordCharacterClass.Whitespace */);\n    }\n}\nfunction once(computeFn) {\n    const cache = {}; // TODO@Alex unbounded cache\n    return (input) => {\n        if (!cache.hasOwnProperty(input)) {\n            cache[input] = computeFn(input);\n        }\n        return cache[input];\n    };\n}\nexport const getMapForWordSeparators = once((input) => new WordCharacterClassifier(input));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { equals } from '../../base/common/objects.js';\n/**\n * Vertical Lane in the overview ruler of the editor.\n */\nexport var OverviewRulerLane;\n(function (OverviewRulerLane) {\n    OverviewRulerLane[OverviewRulerLane[\"Left\"] = 1] = \"Left\";\n    OverviewRulerLane[OverviewRulerLane[\"Center\"] = 2] = \"Center\";\n    OverviewRulerLane[OverviewRulerLane[\"Right\"] = 4] = \"Right\";\n    OverviewRulerLane[OverviewRulerLane[\"Full\"] = 7] = \"Full\";\n})(OverviewRulerLane || (OverviewRulerLane = {}));\n/**\n * Vertical Lane in the glyph margin of the editor.\n */\nexport var GlyphMarginLane;\n(function (GlyphMarginLane) {\n    GlyphMarginLane[GlyphMarginLane[\"Left\"] = 1] = \"Left\";\n    GlyphMarginLane[GlyphMarginLane[\"Right\"] = 2] = \"Right\";\n})(GlyphMarginLane || (GlyphMarginLane = {}));\n/**\n * Position in the minimap to render the decoration.\n */\nexport var MinimapPosition;\n(function (MinimapPosition) {\n    MinimapPosition[MinimapPosition[\"Inline\"] = 1] = \"Inline\";\n    MinimapPosition[MinimapPosition[\"Gutter\"] = 2] = \"Gutter\";\n})(MinimapPosition || (MinimapPosition = {}));\nexport var InjectedTextCursorStops;\n(function (InjectedTextCursorStops) {\n    InjectedTextCursorStops[InjectedTextCursorStops[\"Both\"] = 0] = \"Both\";\n    InjectedTextCursorStops[InjectedTextCursorStops[\"Right\"] = 1] = \"Right\";\n    InjectedTextCursorStops[InjectedTextCursorStops[\"Left\"] = 2] = \"Left\";\n    InjectedTextCursorStops[InjectedTextCursorStops[\"None\"] = 3] = \"None\";\n})(InjectedTextCursorStops || (InjectedTextCursorStops = {}));\nexport class TextModelResolvedOptions {\n    get originalIndentSize() {\n        return this._indentSizeIsTabSize ? 'tabSize' : this.indentSize;\n    }\n    /**\n     * @internal\n     */\n    constructor(src) {\n        this._textModelResolvedOptionsBrand = undefined;\n        this.tabSize = Math.max(1, src.tabSize | 0);\n        if (src.indentSize === 'tabSize') {\n            this.indentSize = this.tabSize;\n            this._indentSizeIsTabSize = true;\n        }\n        else {\n            this.indentSize = Math.max(1, src.indentSize | 0);\n            this._indentSizeIsTabSize = false;\n        }\n        this.insertSpaces = Boolean(src.insertSpaces);\n        this.defaultEOL = src.defaultEOL | 0;\n        this.trimAutoWhitespace = Boolean(src.trimAutoWhitespace);\n        this.bracketPairColorizationOptions = src.bracketPairColorizationOptions;\n    }\n    /**\n     * @internal\n     */\n    equals(other) {\n        return (this.tabSize === other.tabSize\n            && this._indentSizeIsTabSize === other._indentSizeIsTabSize\n            && this.indentSize === other.indentSize\n            && this.insertSpaces === other.insertSpaces\n            && this.defaultEOL === other.defaultEOL\n            && this.trimAutoWhitespace === other.trimAutoWhitespace\n            && equals(this.bracketPairColorizationOptions, other.bracketPairColorizationOptions));\n    }\n    /**\n     * @internal\n     */\n    createChangeEvent(newOpts) {\n        return {\n            tabSize: this.tabSize !== newOpts.tabSize,\n            indentSize: this.indentSize !== newOpts.indentSize,\n            insertSpaces: this.insertSpaces !== newOpts.insertSpaces,\n            trimAutoWhitespace: this.trimAutoWhitespace !== newOpts.trimAutoWhitespace,\n        };\n    }\n}\nexport class FindMatch {\n    /**\n     * @internal\n     */\n    constructor(range, matches) {\n        this._findMatchBrand = undefined;\n        this.range = range;\n        this.matches = matches;\n    }\n}\n/**\n * @internal\n */\nexport function isITextSnapshot(obj) {\n    return (obj && typeof obj.read === 'function');\n}\n/**\n * @internal\n */\nexport class ValidAnnotatedEditOperation {\n    constructor(identifier, range, text, forceMoveMarkers, isAutoWhitespaceEdit, _isTracked) {\n        this.identifier = identifier;\n        this.range = range;\n        this.text = text;\n        this.forceMoveMarkers = forceMoveMarkers;\n        this.isAutoWhitespaceEdit = isAutoWhitespaceEdit;\n        this._isTracked = _isTracked;\n    }\n}\n/**\n * @internal\n */\nexport class SearchData {\n    constructor(regex, wordSeparators, simpleSearch) {\n        this.regex = regex;\n        this.wordSeparators = wordSeparators;\n        this.simpleSearch = simpleSearch;\n    }\n}\n/**\n * @internal\n */\nexport class ApplyEditsResult {\n    constructor(reverseEdits, changes, trimAutoWhitespaceLineNumbers) {\n        this.reverseEdits = reverseEdits;\n        this.changes = changes;\n        this.trimAutoWhitespaceLineNumbers = trimAutoWhitespaceLineNumbers;\n    }\n}\n/**\n * @internal\n */\nexport function shouldSynchronizeModel(model) {\n    return (!model.isTooLargeForSyncing() && !model.isForSimpleWidget);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as strings from '../../../base/common/strings.js';\nimport { getMapForWordSeparators } from '../core/wordCharacterClassifier.js';\nimport { Position } from '../core/position.js';\nimport { Range } from '../core/range.js';\nimport { FindMatch, SearchData } from '../model.js';\nconst LIMIT_FIND_COUNT = 999;\nexport class SearchParams {\n    constructor(searchString, isRegex, matchCase, wordSeparators) {\n        this.searchString = searchString;\n        this.isRegex = isRegex;\n        this.matchCase = matchCase;\n        this.wordSeparators = wordSeparators;\n    }\n    parseSearchRequest() {\n        if (this.searchString === '') {\n            return null;\n        }\n        // Try to create a RegExp out of the params\n        let multiline;\n        if (this.isRegex) {\n            multiline = isMultilineRegexSource(this.searchString);\n        }\n        else {\n            multiline = (this.searchString.indexOf('\\n') >= 0);\n        }\n        let regex = null;\n        try {\n            regex = strings.createRegExp(this.searchString, this.isRegex, {\n                matchCase: this.matchCase,\n                wholeWord: false,\n                multiline: multiline,\n                global: true,\n                unicode: true\n            });\n        }\n        catch (err) {\n            return null;\n        }\n        if (!regex) {\n            return null;\n        }\n        let canUseSimpleSearch = (!this.isRegex && !multiline);\n        if (canUseSimpleSearch && this.searchString.toLowerCase() !== this.searchString.toUpperCase()) {\n            // casing might make a difference\n            canUseSimpleSearch = this.matchCase;\n        }\n        return new SearchData(regex, this.wordSeparators ? getMapForWordSeparators(this.wordSeparators) : null, canUseSimpleSearch ? this.searchString : null);\n    }\n}\nexport function isMultilineRegexSource(searchString) {\n    if (!searchString || searchString.length === 0) {\n        return false;\n    }\n    for (let i = 0, len = searchString.length; i < len; i++) {\n        const chCode = searchString.charCodeAt(i);\n        if (chCode === 10 /* CharCode.LineFeed */) {\n            return true;\n        }\n        if (chCode === 92 /* CharCode.Backslash */) {\n            // move to next char\n            i++;\n            if (i >= len) {\n                // string ends with a \\\n                break;\n            }\n            const nextChCode = searchString.charCodeAt(i);\n            if (nextChCode === 110 /* CharCode.n */ || nextChCode === 114 /* CharCode.r */ || nextChCode === 87 /* CharCode.W */) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nexport function createFindMatch(range, rawMatches, captureMatches) {\n    if (!captureMatches) {\n        return new FindMatch(range, null);\n    }\n    const matches = [];\n    for (let i = 0, len = rawMatches.length; i < len; i++) {\n        matches[i] = rawMatches[i];\n    }\n    return new FindMatch(range, matches);\n}\nclass LineFeedCounter {\n    constructor(text) {\n        const lineFeedsOffsets = [];\n        let lineFeedsOffsetsLen = 0;\n        for (let i = 0, textLen = text.length; i < textLen; i++) {\n            if (text.charCodeAt(i) === 10 /* CharCode.LineFeed */) {\n                lineFeedsOffsets[lineFeedsOffsetsLen++] = i;\n            }\n        }\n        this._lineFeedsOffsets = lineFeedsOffsets;\n    }\n    findLineFeedCountBeforeOffset(offset) {\n        const lineFeedsOffsets = this._lineFeedsOffsets;\n        let min = 0;\n        let max = lineFeedsOffsets.length - 1;\n        if (max === -1) {\n            // no line feeds\n            return 0;\n        }\n        if (offset <= lineFeedsOffsets[0]) {\n            // before first line feed\n            return 0;\n        }\n        while (min < max) {\n            const mid = min + ((max - min) / 2 >> 0);\n            if (lineFeedsOffsets[mid] >= offset) {\n                max = mid - 1;\n            }\n            else {\n                if (lineFeedsOffsets[mid + 1] >= offset) {\n                    // bingo!\n                    min = mid;\n                    max = mid;\n                }\n                else {\n                    min = mid + 1;\n                }\n            }\n        }\n        return min + 1;\n    }\n}\nexport class TextModelSearch {\n    static findMatches(model, searchParams, searchRange, captureMatches, limitResultCount) {\n        const searchData = searchParams.parseSearchRequest();\n        if (!searchData) {\n            return [];\n        }\n        if (searchData.regex.multiline) {\n            return this._doFindMatchesMultiline(model, searchRange, new Searcher(searchData.wordSeparators, searchData.regex), captureMatches, limitResultCount);\n        }\n        return this._doFindMatchesLineByLine(model, searchRange, searchData, captureMatches, limitResultCount);\n    }\n    /**\n     * Multiline search always executes on the lines concatenated with \\n.\n     * We must therefore compensate for the count of \\n in case the model is CRLF\n     */\n    static _getMultilineMatchRange(model, deltaOffset, text, lfCounter, matchIndex, match0) {\n        let startOffset;\n        let lineFeedCountBeforeMatch = 0;\n        if (lfCounter) {\n            lineFeedCountBeforeMatch = lfCounter.findLineFeedCountBeforeOffset(matchIndex);\n            startOffset = deltaOffset + matchIndex + lineFeedCountBeforeMatch /* add as many \\r as there were \\n */;\n        }\n        else {\n            startOffset = deltaOffset + matchIndex;\n        }\n        let endOffset;\n        if (lfCounter) {\n            const lineFeedCountBeforeEndOfMatch = lfCounter.findLineFeedCountBeforeOffset(matchIndex + match0.length);\n            const lineFeedCountInMatch = lineFeedCountBeforeEndOfMatch - lineFeedCountBeforeMatch;\n            endOffset = startOffset + match0.length + lineFeedCountInMatch /* add as many \\r as there were \\n */;\n        }\n        else {\n            endOffset = startOffset + match0.length;\n        }\n        const startPosition = model.getPositionAt(startOffset);\n        const endPosition = model.getPositionAt(endOffset);\n        return new Range(startPosition.lineNumber, startPosition.column, endPosition.lineNumber, endPosition.column);\n    }\n    static _doFindMatchesMultiline(model, searchRange, searcher, captureMatches, limitResultCount) {\n        const deltaOffset = model.getOffsetAt(searchRange.getStartPosition());\n        // We always execute multiline search over the lines joined with \\n\n        // This makes it that \\n will match the EOL for both CRLF and LF models\n        // We compensate for offset errors in `_getMultilineMatchRange`\n        const text = model.getValueInRange(searchRange, 1 /* EndOfLinePreference.LF */);\n        const lfCounter = (model.getEOL() === '\\r\\n' ? new LineFeedCounter(text) : null);\n        const result = [];\n        let counter = 0;\n        let m;\n        searcher.reset(0);\n        while ((m = searcher.next(text))) {\n            result[counter++] = createFindMatch(this._getMultilineMatchRange(model, deltaOffset, text, lfCounter, m.index, m[0]), m, captureMatches);\n            if (counter >= limitResultCount) {\n                return result;\n            }\n        }\n        return result;\n    }\n    static _doFindMatchesLineByLine(model, searchRange, searchData, captureMatches, limitResultCount) {\n        const result = [];\n        let resultLen = 0;\n        // Early case for a search range that starts & stops on the same line number\n        if (searchRange.startLineNumber === searchRange.endLineNumber) {\n            const text = model.getLineContent(searchRange.startLineNumber).substring(searchRange.startColumn - 1, searchRange.endColumn - 1);\n            resultLen = this._findMatchesInLine(searchData, text, searchRange.startLineNumber, searchRange.startColumn - 1, resultLen, result, captureMatches, limitResultCount);\n            return result;\n        }\n        // Collect results from first line\n        const text = model.getLineContent(searchRange.startLineNumber).substring(searchRange.startColumn - 1);\n        resultLen = this._findMatchesInLine(searchData, text, searchRange.startLineNumber, searchRange.startColumn - 1, resultLen, result, captureMatches, limitResultCount);\n        // Collect results from middle lines\n        for (let lineNumber = searchRange.startLineNumber + 1; lineNumber < searchRange.endLineNumber && resultLen < limitResultCount; lineNumber++) {\n            resultLen = this._findMatchesInLine(searchData, model.getLineContent(lineNumber), lineNumber, 0, resultLen, result, captureMatches, limitResultCount);\n        }\n        // Collect results from last line\n        if (resultLen < limitResultCount) {\n            const text = model.getLineContent(searchRange.endLineNumber).substring(0, searchRange.endColumn - 1);\n            resultLen = this._findMatchesInLine(searchData, text, searchRange.endLineNumber, 0, resultLen, result, captureMatches, limitResultCount);\n        }\n        return result;\n    }\n    static _findMatchesInLine(searchData, text, lineNumber, deltaOffset, resultLen, result, captureMatches, limitResultCount) {\n        const wordSeparators = searchData.wordSeparators;\n        if (!captureMatches && searchData.simpleSearch) {\n            const searchString = searchData.simpleSearch;\n            const searchStringLen = searchString.length;\n            const textLength = text.length;\n            let lastMatchIndex = -searchStringLen;\n            while ((lastMatchIndex = text.indexOf(searchString, lastMatchIndex + searchStringLen)) !== -1) {\n                if (!wordSeparators || isValidMatch(wordSeparators, text, textLength, lastMatchIndex, searchStringLen)) {\n                    result[resultLen++] = new FindMatch(new Range(lineNumber, lastMatchIndex + 1 + deltaOffset, lineNumber, lastMatchIndex + 1 + searchStringLen + deltaOffset), null);\n                    if (resultLen >= limitResultCount) {\n                        return resultLen;\n                    }\n                }\n            }\n            return resultLen;\n        }\n        const searcher = new Searcher(searchData.wordSeparators, searchData.regex);\n        let m;\n        // Reset regex to search from the beginning\n        searcher.reset(0);\n        do {\n            m = searcher.next(text);\n            if (m) {\n                result[resultLen++] = createFindMatch(new Range(lineNumber, m.index + 1 + deltaOffset, lineNumber, m.index + 1 + m[0].length + deltaOffset), m, captureMatches);\n                if (resultLen >= limitResultCount) {\n                    return resultLen;\n                }\n            }\n        } while (m);\n        return resultLen;\n    }\n    static findNextMatch(model, searchParams, searchStart, captureMatches) {\n        const searchData = searchParams.parseSearchRequest();\n        if (!searchData) {\n            return null;\n        }\n        const searcher = new Searcher(searchData.wordSeparators, searchData.regex);\n        if (searchData.regex.multiline) {\n            return this._doFindNextMatchMultiline(model, searchStart, searcher, captureMatches);\n        }\n        return this._doFindNextMatchLineByLine(model, searchStart, searcher, captureMatches);\n    }\n    static _doFindNextMatchMultiline(model, searchStart, searcher, captureMatches) {\n        const searchTextStart = new Position(searchStart.lineNumber, 1);\n        const deltaOffset = model.getOffsetAt(searchTextStart);\n        const lineCount = model.getLineCount();\n        // We always execute multiline search over the lines joined with \\n\n        // This makes it that \\n will match the EOL for both CRLF and LF models\n        // We compensate for offset errors in `_getMultilineMatchRange`\n        const text = model.getValueInRange(new Range(searchTextStart.lineNumber, searchTextStart.column, lineCount, model.getLineMaxColumn(lineCount)), 1 /* EndOfLinePreference.LF */);\n        const lfCounter = (model.getEOL() === '\\r\\n' ? new LineFeedCounter(text) : null);\n        searcher.reset(searchStart.column - 1);\n        const m = searcher.next(text);\n        if (m) {\n            return createFindMatch(this._getMultilineMatchRange(model, deltaOffset, text, lfCounter, m.index, m[0]), m, captureMatches);\n        }\n        if (searchStart.lineNumber !== 1 || searchStart.column !== 1) {\n            // Try again from the top\n            return this._doFindNextMatchMultiline(model, new Position(1, 1), searcher, captureMatches);\n        }\n        return null;\n    }\n    static _doFindNextMatchLineByLine(model, searchStart, searcher, captureMatches) {\n        const lineCount = model.getLineCount();\n        const startLineNumber = searchStart.lineNumber;\n        // Look in first line\n        const text = model.getLineContent(startLineNumber);\n        const r = this._findFirstMatchInLine(searcher, text, startLineNumber, searchStart.column, captureMatches);\n        if (r) {\n            return r;\n        }\n        for (let i = 1; i <= lineCount; i++) {\n            const lineIndex = (startLineNumber + i - 1) % lineCount;\n            const text = model.getLineContent(lineIndex + 1);\n            const r = this._findFirstMatchInLine(searcher, text, lineIndex + 1, 1, captureMatches);\n            if (r) {\n                return r;\n            }\n        }\n        return null;\n    }\n    static _findFirstMatchInLine(searcher, text, lineNumber, fromColumn, captureMatches) {\n        // Set regex to search from column\n        searcher.reset(fromColumn - 1);\n        const m = searcher.next(text);\n        if (m) {\n            return createFindMatch(new Range(lineNumber, m.index + 1, lineNumber, m.index + 1 + m[0].length), m, captureMatches);\n        }\n        return null;\n    }\n    static findPreviousMatch(model, searchParams, searchStart, captureMatches) {\n        const searchData = searchParams.parseSearchRequest();\n        if (!searchData) {\n            return null;\n        }\n        const searcher = new Searcher(searchData.wordSeparators, searchData.regex);\n        if (searchData.regex.multiline) {\n            return this._doFindPreviousMatchMultiline(model, searchStart, searcher, captureMatches);\n        }\n        return this._doFindPreviousMatchLineByLine(model, searchStart, searcher, captureMatches);\n    }\n    static _doFindPreviousMatchMultiline(model, searchStart, searcher, captureMatches) {\n        const matches = this._doFindMatchesMultiline(model, new Range(1, 1, searchStart.lineNumber, searchStart.column), searcher, captureMatches, 10 * LIMIT_FIND_COUNT);\n        if (matches.length > 0) {\n            return matches[matches.length - 1];\n        }\n        const lineCount = model.getLineCount();\n        if (searchStart.lineNumber !== lineCount || searchStart.column !== model.getLineMaxColumn(lineCount)) {\n            // Try again with all content\n            return this._doFindPreviousMatchMultiline(model, new Position(lineCount, model.getLineMaxColumn(lineCount)), searcher, captureMatches);\n        }\n        return null;\n    }\n    static _doFindPreviousMatchLineByLine(model, searchStart, searcher, captureMatches) {\n        const lineCount = model.getLineCount();\n        const startLineNumber = searchStart.lineNumber;\n        // Look in first line\n        const text = model.getLineContent(startLineNumber).substring(0, searchStart.column - 1);\n        const r = this._findLastMatchInLine(searcher, text, startLineNumber, captureMatches);\n        if (r) {\n            return r;\n        }\n        for (let i = 1; i <= lineCount; i++) {\n            const lineIndex = (lineCount + startLineNumber - i - 1) % lineCount;\n            const text = model.getLineContent(lineIndex + 1);\n            const r = this._findLastMatchInLine(searcher, text, lineIndex + 1, captureMatches);\n            if (r) {\n                return r;\n            }\n        }\n        return null;\n    }\n    static _findLastMatchInLine(searcher, text, lineNumber, captureMatches) {\n        let bestResult = null;\n        let m;\n        searcher.reset(0);\n        while ((m = searcher.next(text))) {\n            bestResult = createFindMatch(new Range(lineNumber, m.index + 1, lineNumber, m.index + 1 + m[0].length), m, captureMatches);\n        }\n        return bestResult;\n    }\n}\nfunction leftIsWordBounday(wordSeparators, text, textLength, matchStartIndex, matchLength) {\n    if (matchStartIndex === 0) {\n        // Match starts at start of string\n        return true;\n    }\n    const charBefore = text.charCodeAt(matchStartIndex - 1);\n    if (wordSeparators.get(charBefore) !== 0 /* WordCharacterClass.Regular */) {\n        // The character before the match is a word separator\n        return true;\n    }\n    if (charBefore === 13 /* CharCode.CarriageReturn */ || charBefore === 10 /* CharCode.LineFeed */) {\n        // The character before the match is line break or carriage return.\n        return true;\n    }\n    if (matchLength > 0) {\n        const firstCharInMatch = text.charCodeAt(matchStartIndex);\n        if (wordSeparators.get(firstCharInMatch) !== 0 /* WordCharacterClass.Regular */) {\n            // The first character inside the match is a word separator\n            return true;\n        }\n    }\n    return false;\n}\nfunction rightIsWordBounday(wordSeparators, text, textLength, matchStartIndex, matchLength) {\n    if (matchStartIndex + matchLength === textLength) {\n        // Match ends at end of string\n        return true;\n    }\n    const charAfter = text.charCodeAt(matchStartIndex + matchLength);\n    if (wordSeparators.get(charAfter) !== 0 /* WordCharacterClass.Regular */) {\n        // The character after the match is a word separator\n        return true;\n    }\n    if (charAfter === 13 /* CharCode.CarriageReturn */ || charAfter === 10 /* CharCode.LineFeed */) {\n        // The character after the match is line break or carriage return.\n        return true;\n    }\n    if (matchLength > 0) {\n        const lastCharInMatch = text.charCodeAt(matchStartIndex + matchLength - 1);\n        if (wordSeparators.get(lastCharInMatch) !== 0 /* WordCharacterClass.Regular */) {\n            // The last character in the match is a word separator\n            return true;\n        }\n    }\n    return false;\n}\nexport function isValidMatch(wordSeparators, text, textLength, matchStartIndex, matchLength) {\n    return (leftIsWordBounday(wordSeparators, text, textLength, matchStartIndex, matchLength)\n        && rightIsWordBounday(wordSeparators, text, textLength, matchStartIndex, matchLength));\n}\nexport class Searcher {\n    constructor(wordSeparators, searchRegex) {\n        this._wordSeparators = wordSeparators;\n        this._searchRegex = searchRegex;\n        this._prevMatchStartIndex = -1;\n        this._prevMatchLength = 0;\n    }\n    reset(lastIndex) {\n        this._searchRegex.lastIndex = lastIndex;\n        this._prevMatchStartIndex = -1;\n        this._prevMatchLength = 0;\n    }\n    next(text) {\n        const textLength = text.length;\n        let m;\n        do {\n            if (this._prevMatchStartIndex + this._prevMatchLength === textLength) {\n                // Reached the end of the line\n                return null;\n            }\n            m = this._searchRegex.exec(text);\n            if (!m) {\n                return null;\n            }\n            const matchStartIndex = m.index;\n            const matchLength = m[0].length;\n            if (matchStartIndex === this._prevMatchStartIndex && matchLength === this._prevMatchLength) {\n                if (matchLength === 0) {\n                    // the search result is an empty string and won't advance `regex.lastIndex`, so `regex.exec` will stuck here\n                    // we attempt to recover from that by advancing by two if surrogate pair found and by one otherwise\n                    if (strings.getNextCodePoint(text, textLength, this._searchRegex.lastIndex) > 0xFFFF) {\n                        this._searchRegex.lastIndex += 2;\n                    }\n                    else {\n                        this._searchRegex.lastIndex += 1;\n                    }\n                    continue;\n                }\n                // Exit early if the regex matches the same range twice\n                return null;\n            }\n            this._prevMatchStartIndex = matchStartIndex;\n            this._prevMatchLength = matchLength;\n            if (!this._wordSeparators || isValidMatch(this._wordSeparators, text, textLength, matchStartIndex, matchLength)) {\n                return m;\n            }\n        } while (m);\n        return null;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { BugIndicatingError, onUnexpectedError } from './errors.js';\n/**\n * Throws an error with the provided message if the provided value does not evaluate to a true Javascript value.\n *\n * @deprecated Use `assert(...)` instead.\n * This method is usually used like this:\n * ```ts\n * import * as assert from 'vs/base/common/assert';\n * assert.ok(...);\n * ```\n *\n * However, `assert` in that example is a user chosen name.\n * There is no tooling for generating such an import statement.\n * Thus, the `assert(...)` function should be used instead.\n */\nexport function ok(value, message) {\n    if (!value) {\n        throw new Error(message ? `Assertion failed (${message})` : 'Assertion Failed');\n    }\n}\nexport function assertNever(value, message = 'Unreachable') {\n    throw new Error(message);\n}\n/**\n * condition must be side-effect free!\n */\nexport function assertFn(condition) {\n    if (!condition()) {\n        // eslint-disable-next-line no-debugger\n        debugger;\n        // Reevaluate `condition` again to make debugging easier\n        condition();\n        onUnexpectedError(new BugIndicatingError('Assertion Failed'));\n    }\n}\nexport function checkAdjacentItems(items, predicate) {\n    let i = 0;\n    while (i < items.length - 1) {\n        const a = items[i];\n        const b = items[i + 1];\n        if (!predicate(a, b)) {\n            return false;\n        }\n        i++;\n    }\n    return true;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Range } from '../core/range.js';\nimport { Searcher } from '../model/textModelSearch.js';\nimport * as strings from '../../../base/common/strings.js';\nimport { assertNever } from '../../../base/common/assert.js';\nimport { DEFAULT_WORD_REGEXP, getWordAtText } from '../core/wordHelper.js';\nexport class UnicodeTextModelHighlighter {\n    static computeUnicodeHighlights(model, options, range) {\n        const startLine = range ? range.startLineNumber : 1;\n        const endLine = range ? range.endLineNumber : model.getLineCount();\n        const codePointHighlighter = new CodePointHighlighter(options);\n        const candidates = codePointHighlighter.getCandidateCodePoints();\n        let regex;\n        if (candidates === 'allNonBasicAscii') {\n            regex = new RegExp('[^\\\\t\\\\n\\\\r\\\\x20-\\\\x7E]', 'g');\n        }\n        else {\n            regex = new RegExp(`${buildRegExpCharClassExpr(Array.from(candidates))}`, 'g');\n        }\n        const searcher = new Searcher(null, regex);\n        const ranges = [];\n        let hasMore = false;\n        let m;\n        let ambiguousCharacterCount = 0;\n        let invisibleCharacterCount = 0;\n        let nonBasicAsciiCharacterCount = 0;\n        forLoop: for (let lineNumber = startLine, lineCount = endLine; lineNumber <= lineCount; lineNumber++) {\n            const lineContent = model.getLineContent(lineNumber);\n            const lineLength = lineContent.length;\n            // Reset regex to search from the beginning\n            searcher.reset(0);\n            do {\n                m = searcher.next(lineContent);\n                if (m) {\n                    let startIndex = m.index;\n                    let endIndex = m.index + m[0].length;\n                    // Extend range to entire code point\n                    if (startIndex > 0) {\n                        const charCodeBefore = lineContent.charCodeAt(startIndex - 1);\n                        if (strings.isHighSurrogate(charCodeBefore)) {\n                            startIndex--;\n                        }\n                    }\n                    if (endIndex + 1 < lineLength) {\n                        const charCodeBefore = lineContent.charCodeAt(endIndex - 1);\n                        if (strings.isHighSurrogate(charCodeBefore)) {\n                            endIndex++;\n                        }\n                    }\n                    const str = lineContent.substring(startIndex, endIndex);\n                    let word = getWordAtText(startIndex + 1, DEFAULT_WORD_REGEXP, lineContent, 0);\n                    if (word && word.endColumn <= startIndex + 1) {\n                        // The word does not include the problematic character, ignore the word\n                        word = null;\n                    }\n                    const highlightReason = codePointHighlighter.shouldHighlightNonBasicASCII(str, word ? word.word : null);\n                    if (highlightReason !== 0 /* SimpleHighlightReason.None */) {\n                        if (highlightReason === 3 /* SimpleHighlightReason.Ambiguous */) {\n                            ambiguousCharacterCount++;\n                        }\n                        else if (highlightReason === 2 /* SimpleHighlightReason.Invisible */) {\n                            invisibleCharacterCount++;\n                        }\n                        else if (highlightReason === 1 /* SimpleHighlightReason.NonBasicASCII */) {\n                            nonBasicAsciiCharacterCount++;\n                        }\n                        else {\n                            assertNever(highlightReason);\n                        }\n                        const MAX_RESULT_LENGTH = 1000;\n                        if (ranges.length >= MAX_RESULT_LENGTH) {\n                            hasMore = true;\n                            break forLoop;\n                        }\n                        ranges.push(new Range(lineNumber, startIndex + 1, lineNumber, endIndex + 1));\n                    }\n                }\n            } while (m);\n        }\n        return {\n            ranges,\n            hasMore,\n            ambiguousCharacterCount,\n            invisibleCharacterCount,\n            nonBasicAsciiCharacterCount\n        };\n    }\n    static computeUnicodeHighlightReason(char, options) {\n        const codePointHighlighter = new CodePointHighlighter(options);\n        const reason = codePointHighlighter.shouldHighlightNonBasicASCII(char, null);\n        switch (reason) {\n            case 0 /* SimpleHighlightReason.None */:\n                return null;\n            case 2 /* SimpleHighlightReason.Invisible */:\n                return { kind: 1 /* UnicodeHighlighterReasonKind.Invisible */ };\n            case 3 /* SimpleHighlightReason.Ambiguous */: {\n                const codePoint = char.codePointAt(0);\n                const primaryConfusable = codePointHighlighter.ambiguousCharacters.getPrimaryConfusable(codePoint);\n                const notAmbiguousInLocales = strings.AmbiguousCharacters.getLocales().filter((l) => !strings.AmbiguousCharacters.getInstance(new Set([...options.allowedLocales, l])).isAmbiguous(codePoint));\n                return { kind: 0 /* UnicodeHighlighterReasonKind.Ambiguous */, confusableWith: String.fromCodePoint(primaryConfusable), notAmbiguousInLocales };\n            }\n            case 1 /* SimpleHighlightReason.NonBasicASCII */:\n                return { kind: 2 /* UnicodeHighlighterReasonKind.NonBasicAscii */ };\n        }\n    }\n}\nfunction buildRegExpCharClassExpr(codePoints, flags) {\n    const src = `[${strings.escapeRegExpCharacters(codePoints.map((i) => String.fromCodePoint(i)).join(''))}]`;\n    return src;\n}\nclass CodePointHighlighter {\n    constructor(options) {\n        this.options = options;\n        this.allowedCodePoints = new Set(options.allowedCodePoints);\n        this.ambiguousCharacters = strings.AmbiguousCharacters.getInstance(new Set(options.allowedLocales));\n    }\n    getCandidateCodePoints() {\n        if (this.options.nonBasicASCII) {\n            return 'allNonBasicAscii';\n        }\n        const set = new Set();\n        if (this.options.invisibleCharacters) {\n            for (const cp of strings.InvisibleCharacters.codePoints) {\n                if (!isAllowedInvisibleCharacter(String.fromCodePoint(cp))) {\n                    set.add(cp);\n                }\n            }\n        }\n        if (this.options.ambiguousCharacters) {\n            for (const cp of this.ambiguousCharacters.getConfusableCodePoints()) {\n                set.add(cp);\n            }\n        }\n        for (const cp of this.allowedCodePoints) {\n            set.delete(cp);\n        }\n        return set;\n    }\n    shouldHighlightNonBasicASCII(character, wordContext) {\n        const codePoint = character.codePointAt(0);\n        if (this.allowedCodePoints.has(codePoint)) {\n            return 0 /* SimpleHighlightReason.None */;\n        }\n        if (this.options.nonBasicASCII) {\n            return 1 /* SimpleHighlightReason.NonBasicASCII */;\n        }\n        let hasBasicASCIICharacters = false;\n        let hasNonConfusableNonBasicAsciiCharacter = false;\n        if (wordContext) {\n            for (const char of wordContext) {\n                const codePoint = char.codePointAt(0);\n                const isBasicASCII = strings.isBasicASCII(char);\n                hasBasicASCIICharacters = hasBasicASCIICharacters || isBasicASCII;\n                if (!isBasicASCII &&\n                    !this.ambiguousCharacters.isAmbiguous(codePoint) &&\n                    !strings.InvisibleCharacters.isInvisibleCharacter(codePoint)) {\n                    hasNonConfusableNonBasicAsciiCharacter = true;\n                }\n            }\n        }\n        if (\n        /* Don't allow mixing weird looking characters with ASCII */ !hasBasicASCIICharacters &&\n            /* Is there an obviously weird looking character? */ hasNonConfusableNonBasicAsciiCharacter) {\n            return 0 /* SimpleHighlightReason.None */;\n        }\n        if (this.options.invisibleCharacters) {\n            // TODO check for emojis\n            if (!isAllowedInvisibleCharacter(character) && strings.InvisibleCharacters.isInvisibleCharacter(codePoint)) {\n                return 2 /* SimpleHighlightReason.Invisible */;\n            }\n        }\n        if (this.options.ambiguousCharacters) {\n            if (this.ambiguousCharacters.isAmbiguous(codePoint)) {\n                return 3 /* SimpleHighlightReason.Ambiguous */;\n            }\n        }\n        return 0 /* SimpleHighlightReason.None */;\n    }\n}\nfunction isAllowedInvisibleCharacter(character) {\n    return character === ' ' || character === '\\n' || character === '\\t';\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { BugIndicatingError } from '../../../base/common/errors.js';\nimport { Range } from './range.js';\n/**\n * A range of lines (1-based).\n */\nexport class LineRange {\n    static fromRange(range) {\n        return new LineRange(range.startLineNumber, range.endLineNumber);\n    }\n    static subtract(a, b) {\n        if (!b) {\n            return [a];\n        }\n        if (a.startLineNumber < b.startLineNumber && b.endLineNumberExclusive < a.endLineNumberExclusive) {\n            return [\n                new LineRange(a.startLineNumber, b.startLineNumber),\n                new LineRange(b.endLineNumberExclusive, a.endLineNumberExclusive)\n            ];\n        }\n        else if (b.startLineNumber <= a.startLineNumber && a.endLineNumberExclusive <= b.endLineNumberExclusive) {\n            return [];\n        }\n        else if (b.endLineNumberExclusive < a.endLineNumberExclusive) {\n            return [new LineRange(Math.max(b.endLineNumberExclusive, a.startLineNumber), a.endLineNumberExclusive)];\n        }\n        else {\n            return [new LineRange(a.startLineNumber, Math.min(b.startLineNumber, a.endLineNumberExclusive))];\n        }\n    }\n    /**\n     * @param lineRanges An array of sorted line ranges.\n     */\n    static joinMany(lineRanges) {\n        if (lineRanges.length === 0) {\n            return [];\n        }\n        let result = lineRanges[0];\n        for (let i = 1; i < lineRanges.length; i++) {\n            result = this.join(result, lineRanges[i]);\n        }\n        return result;\n    }\n    /**\n     * @param lineRanges1 Must be sorted.\n     * @param lineRanges2 Must be sorted.\n     */\n    static join(lineRanges1, lineRanges2) {\n        if (lineRanges1.length === 0) {\n            return lineRanges2;\n        }\n        if (lineRanges2.length === 0) {\n            return lineRanges1;\n        }\n        const result = [];\n        let i1 = 0;\n        let i2 = 0;\n        let current = null;\n        while (i1 < lineRanges1.length || i2 < lineRanges2.length) {\n            let next = null;\n            if (i1 < lineRanges1.length && i2 < lineRanges2.length) {\n                const lineRange1 = lineRanges1[i1];\n                const lineRange2 = lineRanges2[i2];\n                if (lineRange1.startLineNumber < lineRange2.startLineNumber) {\n                    next = lineRange1;\n                    i1++;\n                }\n                else {\n                    next = lineRange2;\n                    i2++;\n                }\n            }\n            else if (i1 < lineRanges1.length) {\n                next = lineRanges1[i1];\n                i1++;\n            }\n            else {\n                next = lineRanges2[i2];\n                i2++;\n            }\n            if (current === null) {\n                current = next;\n            }\n            else {\n                if (current.endLineNumberExclusive >= next.startLineNumber) {\n                    // merge\n                    current = new LineRange(current.startLineNumber, Math.max(current.endLineNumberExclusive, next.endLineNumberExclusive));\n                }\n                else {\n                    // push\n                    result.push(current);\n                    current = next;\n                }\n            }\n        }\n        if (current !== null) {\n            result.push(current);\n        }\n        return result;\n    }\n    static ofLength(startLineNumber, length) {\n        return new LineRange(startLineNumber, startLineNumber + length);\n    }\n    /**\n     * @internal\n     */\n    static deserialize(lineRange) {\n        return new LineRange(lineRange[0], lineRange[1]);\n    }\n    constructor(startLineNumber, endLineNumberExclusive) {\n        if (startLineNumber > endLineNumberExclusive) {\n            throw new BugIndicatingError(`startLineNumber ${startLineNumber} cannot be after endLineNumberExclusive ${endLineNumberExclusive}`);\n        }\n        this.startLineNumber = startLineNumber;\n        this.endLineNumberExclusive = endLineNumberExclusive;\n    }\n    /**\n     * Indicates if this line range contains the given line number.\n     */\n    contains(lineNumber) {\n        return this.startLineNumber <= lineNumber && lineNumber < this.endLineNumberExclusive;\n    }\n    /**\n     * Indicates if this line range is empty.\n     */\n    get isEmpty() {\n        return this.startLineNumber === this.endLineNumberExclusive;\n    }\n    /**\n     * Moves this line range by the given offset of line numbers.\n     */\n    delta(offset) {\n        return new LineRange(this.startLineNumber + offset, this.endLineNumberExclusive + offset);\n    }\n    /**\n     * The number of lines this line range spans.\n     */\n    get length() {\n        return this.endLineNumberExclusive - this.startLineNumber;\n    }\n    /**\n     * Creates a line range that combines this and the given line range.\n     */\n    join(other) {\n        return new LineRange(Math.min(this.startLineNumber, other.startLineNumber), Math.max(this.endLineNumberExclusive, other.endLineNumberExclusive));\n    }\n    toString() {\n        return `[${this.startLineNumber},${this.endLineNumberExclusive})`;\n    }\n    /**\n     * The resulting range is empty if the ranges do not intersect, but touch.\n     * If the ranges don't even touch, the result is undefined.\n     */\n    intersect(other) {\n        const startLineNumber = Math.max(this.startLineNumber, other.startLineNumber);\n        const endLineNumberExclusive = Math.min(this.endLineNumberExclusive, other.endLineNumberExclusive);\n        if (startLineNumber <= endLineNumberExclusive) {\n            return new LineRange(startLineNumber, endLineNumberExclusive);\n        }\n        return undefined;\n    }\n    intersectsStrict(other) {\n        return this.startLineNumber < other.endLineNumberExclusive && other.startLineNumber < this.endLineNumberExclusive;\n    }\n    overlapOrTouch(other) {\n        return this.startLineNumber <= other.endLineNumberExclusive && other.startLineNumber <= this.endLineNumberExclusive;\n    }\n    equals(b) {\n        return this.startLineNumber === b.startLineNumber && this.endLineNumberExclusive === b.endLineNumberExclusive;\n    }\n    toInclusiveRange() {\n        if (this.isEmpty) {\n            return null;\n        }\n        return new Range(this.startLineNumber, 1, this.endLineNumberExclusive - 1, Number.MAX_SAFE_INTEGER);\n    }\n    toExclusiveRange() {\n        return new Range(this.startLineNumber, 1, this.endLineNumberExclusive, 1);\n    }\n    mapToLineArray(f) {\n        const result = [];\n        for (let lineNumber = this.startLineNumber; lineNumber < this.endLineNumberExclusive; lineNumber++) {\n            result.push(f(lineNumber));\n        }\n        return result;\n    }\n    /**\n     * @internal\n     */\n    serialize() {\n        return [this.startLineNumber, this.endLineNumberExclusive];\n    }\n    includes(lineNumber) {\n        return this.startLineNumber <= lineNumber && lineNumber < this.endLineNumberExclusive;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { LineRange } from '../core/lineRange.js';\nexport class LinesDiff {\n    constructor(changes, \n    /**\n     * Sorted by original line ranges.\n     * The original line ranges and the modified line ranges must be disjoint (but can be touching).\n     */\n    moves, \n    /**\n     * Indicates if the time out was reached.\n     * In that case, the diffs might be an approximation and the user should be asked to rerun the diff with more time.\n     */\n    hitTimeout) {\n        this.changes = changes;\n        this.moves = moves;\n        this.hitTimeout = hitTimeout;\n    }\n}\n/**\n * Maps a line range in the original text model to a line range in the modified text model.\n */\nexport class LineRangeMapping {\n    static inverse(mapping, originalLineCount, modifiedLineCount) {\n        const result = [];\n        let lastOriginalEndLineNumber = 1;\n        let lastModifiedEndLineNumber = 1;\n        for (const m of mapping) {\n            const r = new LineRangeMapping(new LineRange(lastOriginalEndLineNumber, m.originalRange.startLineNumber), new LineRange(lastModifiedEndLineNumber, m.modifiedRange.startLineNumber), undefined);\n            if (!r.modifiedRange.isEmpty) {\n                result.push(r);\n            }\n            lastOriginalEndLineNumber = m.originalRange.endLineNumberExclusive;\n            lastModifiedEndLineNumber = m.modifiedRange.endLineNumberExclusive;\n        }\n        const r = new LineRangeMapping(new LineRange(lastOriginalEndLineNumber, originalLineCount + 1), new LineRange(lastModifiedEndLineNumber, modifiedLineCount + 1), undefined);\n        if (!r.modifiedRange.isEmpty) {\n            result.push(r);\n        }\n        return result;\n    }\n    constructor(originalRange, modifiedRange, innerChanges) {\n        this.originalRange = originalRange;\n        this.modifiedRange = modifiedRange;\n        this.innerChanges = innerChanges;\n    }\n    toString() {\n        return `{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`;\n    }\n    get changedLineCount() {\n        return Math.max(this.originalRange.length, this.modifiedRange.length);\n    }\n    flip() {\n        var _a;\n        return new LineRangeMapping(this.modifiedRange, this.originalRange, (_a = this.innerChanges) === null || _a === void 0 ? void 0 : _a.map(c => c.flip()));\n    }\n}\n/**\n * Maps a range in the original text model to a range in the modified text model.\n */\nexport class RangeMapping {\n    constructor(originalRange, modifiedRange) {\n        this.originalRange = originalRange;\n        this.modifiedRange = modifiedRange;\n    }\n    toString() {\n        return `{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`;\n    }\n    flip() {\n        return new RangeMapping(this.modifiedRange, this.originalRange);\n    }\n}\nexport class SimpleLineRangeMapping {\n    constructor(originalRange, modifiedRange) {\n        this.originalRange = originalRange;\n        this.modifiedRange = modifiedRange;\n    }\n    toString() {\n        return `{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`;\n    }\n    flip() {\n        return new SimpleLineRangeMapping(this.modifiedRange, this.originalRange);\n    }\n}\nexport class MovedText {\n    constructor(lineRangeMapping, changes) {\n        this.lineRangeMapping = lineRangeMapping;\n        this.changes = changes;\n    }\n    flip() {\n        return new MovedText(this.lineRangeMapping.flip(), this.changes.map(c => c.flip()));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { LcsDiff } from '../../../base/common/diff/diff.js';\nimport { RangeMapping, LineRangeMapping, LinesDiff } from './linesDiffComputer.js';\nimport * as strings from '../../../base/common/strings.js';\nimport { Range } from '../core/range.js';\nimport { assertFn, checkAdjacentItems } from '../../../base/common/assert.js';\nimport { LineRange } from '../core/lineRange.js';\nconst MINIMUM_MATCHING_CHARACTER_LENGTH = 3;\nexport class SmartLinesDiffComputer {\n    computeDiff(originalLines, modifiedLines, options) {\n        var _a;\n        const diffComputer = new DiffComputer(originalLines, modifiedLines, {\n            maxComputationTime: options.maxComputationTimeMs,\n            shouldIgnoreTrimWhitespace: options.ignoreTrimWhitespace,\n            shouldComputeCharChanges: true,\n            shouldMakePrettyDiff: true,\n            shouldPostProcessCharChanges: true,\n        });\n        const result = diffComputer.computeDiff();\n        const changes = [];\n        let lastChange = null;\n        for (const c of result.changes) {\n            let originalRange;\n            if (c.originalEndLineNumber === 0) {\n                // Insertion\n                originalRange = new LineRange(c.originalStartLineNumber + 1, c.originalStartLineNumber + 1);\n            }\n            else {\n                originalRange = new LineRange(c.originalStartLineNumber, c.originalEndLineNumber + 1);\n            }\n            let modifiedRange;\n            if (c.modifiedEndLineNumber === 0) {\n                // Deletion\n                modifiedRange = new LineRange(c.modifiedStartLineNumber + 1, c.modifiedStartLineNumber + 1);\n            }\n            else {\n                modifiedRange = new LineRange(c.modifiedStartLineNumber, c.modifiedEndLineNumber + 1);\n            }\n            let change = new LineRangeMapping(originalRange, modifiedRange, (_a = c.charChanges) === null || _a === void 0 ? void 0 : _a.map(c => new RangeMapping(new Range(c.originalStartLineNumber, c.originalStartColumn, c.originalEndLineNumber, c.originalEndColumn), new Range(c.modifiedStartLineNumber, c.modifiedStartColumn, c.modifiedEndLineNumber, c.modifiedEndColumn))));\n            if (lastChange) {\n                if (lastChange.modifiedRange.endLineNumberExclusive === change.modifiedRange.startLineNumber\n                    || lastChange.originalRange.endLineNumberExclusive === change.originalRange.startLineNumber) {\n                    // join touching diffs. Probably moving diffs up/down in the algorithm causes touching diffs.\n                    change = new LineRangeMapping(lastChange.originalRange.join(change.originalRange), lastChange.modifiedRange.join(change.modifiedRange), lastChange.innerChanges && change.innerChanges ?\n                        lastChange.innerChanges.concat(change.innerChanges) : undefined);\n                    changes.pop();\n                }\n            }\n            changes.push(change);\n            lastChange = change;\n        }\n        assertFn(() => {\n            return checkAdjacentItems(changes, (m1, m2) => m2.originalRange.startLineNumber - m1.originalRange.endLineNumberExclusive === m2.modifiedRange.startLineNumber - m1.modifiedRange.endLineNumberExclusive &&\n                // There has to be an unchanged line in between (otherwise both diffs should have been joined)\n                m1.originalRange.endLineNumberExclusive < m2.originalRange.startLineNumber &&\n                m1.modifiedRange.endLineNumberExclusive < m2.modifiedRange.startLineNumber);\n        });\n        return new LinesDiff(changes, [], result.quitEarly);\n    }\n}\nfunction computeDiff(originalSequence, modifiedSequence, continueProcessingPredicate, pretty) {\n    const diffAlgo = new LcsDiff(originalSequence, modifiedSequence, continueProcessingPredicate);\n    return diffAlgo.ComputeDiff(pretty);\n}\nclass LineSequence {\n    constructor(lines) {\n        const startColumns = [];\n        const endColumns = [];\n        for (let i = 0, length = lines.length; i < length; i++) {\n            startColumns[i] = getFirstNonBlankColumn(lines[i], 1);\n            endColumns[i] = getLastNonBlankColumn(lines[i], 1);\n        }\n        this.lines = lines;\n        this._startColumns = startColumns;\n        this._endColumns = endColumns;\n    }\n    getElements() {\n        const elements = [];\n        for (let i = 0, len = this.lines.length; i < len; i++) {\n            elements[i] = this.lines[i].substring(this._startColumns[i] - 1, this._endColumns[i] - 1);\n        }\n        return elements;\n    }\n    getStrictElement(index) {\n        return this.lines[index];\n    }\n    getStartLineNumber(i) {\n        return i + 1;\n    }\n    getEndLineNumber(i) {\n        return i + 1;\n    }\n    createCharSequence(shouldIgnoreTrimWhitespace, startIndex, endIndex) {\n        const charCodes = [];\n        const lineNumbers = [];\n        const columns = [];\n        let len = 0;\n        for (let index = startIndex; index <= endIndex; index++) {\n            const lineContent = this.lines[index];\n            const startColumn = (shouldIgnoreTrimWhitespace ? this._startColumns[index] : 1);\n            const endColumn = (shouldIgnoreTrimWhitespace ? this._endColumns[index] : lineContent.length + 1);\n            for (let col = startColumn; col < endColumn; col++) {\n                charCodes[len] = lineContent.charCodeAt(col - 1);\n                lineNumbers[len] = index + 1;\n                columns[len] = col;\n                len++;\n            }\n            if (!shouldIgnoreTrimWhitespace && index < endIndex) {\n                // Add \\n if trim whitespace is not ignored\n                charCodes[len] = 10 /* CharCode.LineFeed */;\n                lineNumbers[len] = index + 1;\n                columns[len] = lineContent.length + 1;\n                len++;\n            }\n        }\n        return new CharSequence(charCodes, lineNumbers, columns);\n    }\n}\nclass CharSequence {\n    constructor(charCodes, lineNumbers, columns) {\n        this._charCodes = charCodes;\n        this._lineNumbers = lineNumbers;\n        this._columns = columns;\n    }\n    toString() {\n        return ('[' + this._charCodes.map((s, idx) => (s === 10 /* CharCode.LineFeed */ ? '\\\\n' : String.fromCharCode(s)) + `-(${this._lineNumbers[idx]},${this._columns[idx]})`).join(', ') + ']');\n    }\n    _assertIndex(index, arr) {\n        if (index < 0 || index >= arr.length) {\n            throw new Error(`Illegal index`);\n        }\n    }\n    getElements() {\n        return this._charCodes;\n    }\n    getStartLineNumber(i) {\n        if (i > 0 && i === this._lineNumbers.length) {\n            // the start line number of the element after the last element\n            // is the end line number of the last element\n            return this.getEndLineNumber(i - 1);\n        }\n        this._assertIndex(i, this._lineNumbers);\n        return this._lineNumbers[i];\n    }\n    getEndLineNumber(i) {\n        if (i === -1) {\n            // the end line number of the element before the first element\n            // is the start line number of the first element\n            return this.getStartLineNumber(i + 1);\n        }\n        this._assertIndex(i, this._lineNumbers);\n        if (this._charCodes[i] === 10 /* CharCode.LineFeed */) {\n            return this._lineNumbers[i] + 1;\n        }\n        return this._lineNumbers[i];\n    }\n    getStartColumn(i) {\n        if (i > 0 && i === this._columns.length) {\n            // the start column of the element after the last element\n            // is the end column of the last element\n            return this.getEndColumn(i - 1);\n        }\n        this._assertIndex(i, this._columns);\n        return this._columns[i];\n    }\n    getEndColumn(i) {\n        if (i === -1) {\n            // the end column of the element before the first element\n            // is the start column of the first element\n            return this.getStartColumn(i + 1);\n        }\n        this._assertIndex(i, this._columns);\n        if (this._charCodes[i] === 10 /* CharCode.LineFeed */) {\n            return 1;\n        }\n        return this._columns[i] + 1;\n    }\n}\nclass CharChange {\n    constructor(originalStartLineNumber, originalStartColumn, originalEndLineNumber, originalEndColumn, modifiedStartLineNumber, modifiedStartColumn, modifiedEndLineNumber, modifiedEndColumn) {\n        this.originalStartLineNumber = originalStartLineNumber;\n        this.originalStartColumn = originalStartColumn;\n        this.originalEndLineNumber = originalEndLineNumber;\n        this.originalEndColumn = originalEndColumn;\n        this.modifiedStartLineNumber = modifiedStartLineNumber;\n        this.modifiedStartColumn = modifiedStartColumn;\n        this.modifiedEndLineNumber = modifiedEndLineNumber;\n        this.modifiedEndColumn = modifiedEndColumn;\n    }\n    static createFromDiffChange(diffChange, originalCharSequence, modifiedCharSequence) {\n        const originalStartLineNumber = originalCharSequence.getStartLineNumber(diffChange.originalStart);\n        const originalStartColumn = originalCharSequence.getStartColumn(diffChange.originalStart);\n        const originalEndLineNumber = originalCharSequence.getEndLineNumber(diffChange.originalStart + diffChange.originalLength - 1);\n        const originalEndColumn = originalCharSequence.getEndColumn(diffChange.originalStart + diffChange.originalLength - 1);\n        const modifiedStartLineNumber = modifiedCharSequence.getStartLineNumber(diffChange.modifiedStart);\n        const modifiedStartColumn = modifiedCharSequence.getStartColumn(diffChange.modifiedStart);\n        const modifiedEndLineNumber = modifiedCharSequence.getEndLineNumber(diffChange.modifiedStart + diffChange.modifiedLength - 1);\n        const modifiedEndColumn = modifiedCharSequence.getEndColumn(diffChange.modifiedStart + diffChange.modifiedLength - 1);\n        return new CharChange(originalStartLineNumber, originalStartColumn, originalEndLineNumber, originalEndColumn, modifiedStartLineNumber, modifiedStartColumn, modifiedEndLineNumber, modifiedEndColumn);\n    }\n}\nfunction postProcessCharChanges(rawChanges) {\n    if (rawChanges.length <= 1) {\n        return rawChanges;\n    }\n    const result = [rawChanges[0]];\n    let prevChange = result[0];\n    for (let i = 1, len = rawChanges.length; i < len; i++) {\n        const currChange = rawChanges[i];\n        const originalMatchingLength = currChange.originalStart - (prevChange.originalStart + prevChange.originalLength);\n        const modifiedMatchingLength = currChange.modifiedStart - (prevChange.modifiedStart + prevChange.modifiedLength);\n        // Both of the above should be equal, but the continueProcessingPredicate may prevent this from being true\n        const matchingLength = Math.min(originalMatchingLength, modifiedMatchingLength);\n        if (matchingLength < MINIMUM_MATCHING_CHARACTER_LENGTH) {\n            // Merge the current change into the previous one\n            prevChange.originalLength = (currChange.originalStart + currChange.originalLength) - prevChange.originalStart;\n            prevChange.modifiedLength = (currChange.modifiedStart + currChange.modifiedLength) - prevChange.modifiedStart;\n        }\n        else {\n            // Add the current change\n            result.push(currChange);\n            prevChange = currChange;\n        }\n    }\n    return result;\n}\nclass LineChange {\n    constructor(originalStartLineNumber, originalEndLineNumber, modifiedStartLineNumber, modifiedEndLineNumber, charChanges) {\n        this.originalStartLineNumber = originalStartLineNumber;\n        this.originalEndLineNumber = originalEndLineNumber;\n        this.modifiedStartLineNumber = modifiedStartLineNumber;\n        this.modifiedEndLineNumber = modifiedEndLineNumber;\n        this.charChanges = charChanges;\n    }\n    static createFromDiffResult(shouldIgnoreTrimWhitespace, diffChange, originalLineSequence, modifiedLineSequence, continueCharDiff, shouldComputeCharChanges, shouldPostProcessCharChanges) {\n        let originalStartLineNumber;\n        let originalEndLineNumber;\n        let modifiedStartLineNumber;\n        let modifiedEndLineNumber;\n        let charChanges = undefined;\n        if (diffChange.originalLength === 0) {\n            originalStartLineNumber = originalLineSequence.getStartLineNumber(diffChange.originalStart) - 1;\n            originalEndLineNumber = 0;\n        }\n        else {\n            originalStartLineNumber = originalLineSequence.getStartLineNumber(diffChange.originalStart);\n            originalEndLineNumber = originalLineSequence.getEndLineNumber(diffChange.originalStart + diffChange.originalLength - 1);\n        }\n        if (diffChange.modifiedLength === 0) {\n            modifiedStartLineNumber = modifiedLineSequence.getStartLineNumber(diffChange.modifiedStart) - 1;\n            modifiedEndLineNumber = 0;\n        }\n        else {\n            modifiedStartLineNumber = modifiedLineSequence.getStartLineNumber(diffChange.modifiedStart);\n            modifiedEndLineNumber = modifiedLineSequence.getEndLineNumber(diffChange.modifiedStart + diffChange.modifiedLength - 1);\n        }\n        if (shouldComputeCharChanges && diffChange.originalLength > 0 && diffChange.originalLength < 20 && diffChange.modifiedLength > 0 && diffChange.modifiedLength < 20 && continueCharDiff()) {\n            // Compute character changes for diff chunks of at most 20 lines...\n            const originalCharSequence = originalLineSequence.createCharSequence(shouldIgnoreTrimWhitespace, diffChange.originalStart, diffChange.originalStart + diffChange.originalLength - 1);\n            const modifiedCharSequence = modifiedLineSequence.createCharSequence(shouldIgnoreTrimWhitespace, diffChange.modifiedStart, diffChange.modifiedStart + diffChange.modifiedLength - 1);\n            if (originalCharSequence.getElements().length > 0 && modifiedCharSequence.getElements().length > 0) {\n                let rawChanges = computeDiff(originalCharSequence, modifiedCharSequence, continueCharDiff, true).changes;\n                if (shouldPostProcessCharChanges) {\n                    rawChanges = postProcessCharChanges(rawChanges);\n                }\n                charChanges = [];\n                for (let i = 0, length = rawChanges.length; i < length; i++) {\n                    charChanges.push(CharChange.createFromDiffChange(rawChanges[i], originalCharSequence, modifiedCharSequence));\n                }\n            }\n        }\n        return new LineChange(originalStartLineNumber, originalEndLineNumber, modifiedStartLineNumber, modifiedEndLineNumber, charChanges);\n    }\n}\nexport class DiffComputer {\n    constructor(originalLines, modifiedLines, opts) {\n        this.shouldComputeCharChanges = opts.shouldComputeCharChanges;\n        this.shouldPostProcessCharChanges = opts.shouldPostProcessCharChanges;\n        this.shouldIgnoreTrimWhitespace = opts.shouldIgnoreTrimWhitespace;\n        this.shouldMakePrettyDiff = opts.shouldMakePrettyDiff;\n        this.originalLines = originalLines;\n        this.modifiedLines = modifiedLines;\n        this.original = new LineSequence(originalLines);\n        this.modified = new LineSequence(modifiedLines);\n        this.continueLineDiff = createContinueProcessingPredicate(opts.maxComputationTime);\n        this.continueCharDiff = createContinueProcessingPredicate(opts.maxComputationTime === 0 ? 0 : Math.min(opts.maxComputationTime, 5000)); // never run after 5s for character changes...\n    }\n    computeDiff() {\n        if (this.original.lines.length === 1 && this.original.lines[0].length === 0) {\n            // empty original => fast path\n            if (this.modified.lines.length === 1 && this.modified.lines[0].length === 0) {\n                return {\n                    quitEarly: false,\n                    changes: []\n                };\n            }\n            return {\n                quitEarly: false,\n                changes: [{\n                        originalStartLineNumber: 1,\n                        originalEndLineNumber: 1,\n                        modifiedStartLineNumber: 1,\n                        modifiedEndLineNumber: this.modified.lines.length,\n                        charChanges: undefined\n                    }]\n            };\n        }\n        if (this.modified.lines.length === 1 && this.modified.lines[0].length === 0) {\n            // empty modified => fast path\n            return {\n                quitEarly: false,\n                changes: [{\n                        originalStartLineNumber: 1,\n                        originalEndLineNumber: this.original.lines.length,\n                        modifiedStartLineNumber: 1,\n                        modifiedEndLineNumber: 1,\n                        charChanges: undefined\n                    }]\n            };\n        }\n        const diffResult = computeDiff(this.original, this.modified, this.continueLineDiff, this.shouldMakePrettyDiff);\n        const rawChanges = diffResult.changes;\n        const quitEarly = diffResult.quitEarly;\n        // The diff is always computed with ignoring trim whitespace\n        // This ensures we get the prettiest diff\n        if (this.shouldIgnoreTrimWhitespace) {\n            const lineChanges = [];\n            for (let i = 0, length = rawChanges.length; i < length; i++) {\n                lineChanges.push(LineChange.createFromDiffResult(this.shouldIgnoreTrimWhitespace, rawChanges[i], this.original, this.modified, this.continueCharDiff, this.shouldComputeCharChanges, this.shouldPostProcessCharChanges));\n            }\n            return {\n                quitEarly: quitEarly,\n                changes: lineChanges\n            };\n        }\n        // Need to post-process and introduce changes where the trim whitespace is different\n        // Note that we are looping starting at -1 to also cover the lines before the first change\n        const result = [];\n        let originalLineIndex = 0;\n        let modifiedLineIndex = 0;\n        for (let i = -1 /* !!!! */, len = rawChanges.length; i < len; i++) {\n            const nextChange = (i + 1 < len ? rawChanges[i + 1] : null);\n            const originalStop = (nextChange ? nextChange.originalStart : this.originalLines.length);\n            const modifiedStop = (nextChange ? nextChange.modifiedStart : this.modifiedLines.length);\n            while (originalLineIndex < originalStop && modifiedLineIndex < modifiedStop) {\n                const originalLine = this.originalLines[originalLineIndex];\n                const modifiedLine = this.modifiedLines[modifiedLineIndex];\n                if (originalLine !== modifiedLine) {\n                    // These lines differ only in trim whitespace\n                    // Check the leading whitespace\n                    {\n                        let originalStartColumn = getFirstNonBlankColumn(originalLine, 1);\n                        let modifiedStartColumn = getFirstNonBlankColumn(modifiedLine, 1);\n                        while (originalStartColumn > 1 && modifiedStartColumn > 1) {\n                            const originalChar = originalLine.charCodeAt(originalStartColumn - 2);\n                            const modifiedChar = modifiedLine.charCodeAt(modifiedStartColumn - 2);\n                            if (originalChar !== modifiedChar) {\n                                break;\n                            }\n                            originalStartColumn--;\n                            modifiedStartColumn--;\n                        }\n                        if (originalStartColumn > 1 || modifiedStartColumn > 1) {\n                            this._pushTrimWhitespaceCharChange(result, originalLineIndex + 1, 1, originalStartColumn, modifiedLineIndex + 1, 1, modifiedStartColumn);\n                        }\n                    }\n                    // Check the trailing whitespace\n                    {\n                        let originalEndColumn = getLastNonBlankColumn(originalLine, 1);\n                        let modifiedEndColumn = getLastNonBlankColumn(modifiedLine, 1);\n                        const originalMaxColumn = originalLine.length + 1;\n                        const modifiedMaxColumn = modifiedLine.length + 1;\n                        while (originalEndColumn < originalMaxColumn && modifiedEndColumn < modifiedMaxColumn) {\n                            const originalChar = originalLine.charCodeAt(originalEndColumn - 1);\n                            const modifiedChar = originalLine.charCodeAt(modifiedEndColumn - 1);\n                            if (originalChar !== modifiedChar) {\n                                break;\n                            }\n                            originalEndColumn++;\n                            modifiedEndColumn++;\n                        }\n                        if (originalEndColumn < originalMaxColumn || modifiedEndColumn < modifiedMaxColumn) {\n                            this._pushTrimWhitespaceCharChange(result, originalLineIndex + 1, originalEndColumn, originalMaxColumn, modifiedLineIndex + 1, modifiedEndColumn, modifiedMaxColumn);\n                        }\n                    }\n                }\n                originalLineIndex++;\n                modifiedLineIndex++;\n            }\n            if (nextChange) {\n                // Emit the actual change\n                result.push(LineChange.createFromDiffResult(this.shouldIgnoreTrimWhitespace, nextChange, this.original, this.modified, this.continueCharDiff, this.shouldComputeCharChanges, this.shouldPostProcessCharChanges));\n                originalLineIndex += nextChange.originalLength;\n                modifiedLineIndex += nextChange.modifiedLength;\n            }\n        }\n        return {\n            quitEarly: quitEarly,\n            changes: result\n        };\n    }\n    _pushTrimWhitespaceCharChange(result, originalLineNumber, originalStartColumn, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedEndColumn) {\n        if (this._mergeTrimWhitespaceCharChange(result, originalLineNumber, originalStartColumn, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedEndColumn)) {\n            // Merged into previous\n            return;\n        }\n        let charChanges = undefined;\n        if (this.shouldComputeCharChanges) {\n            charChanges = [new CharChange(originalLineNumber, originalStartColumn, originalLineNumber, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedLineNumber, modifiedEndColumn)];\n        }\n        result.push(new LineChange(originalLineNumber, originalLineNumber, modifiedLineNumber, modifiedLineNumber, charChanges));\n    }\n    _mergeTrimWhitespaceCharChange(result, originalLineNumber, originalStartColumn, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedEndColumn) {\n        const len = result.length;\n        if (len === 0) {\n            return false;\n        }\n        const prevChange = result[len - 1];\n        if (prevChange.originalEndLineNumber === 0 || prevChange.modifiedEndLineNumber === 0) {\n            // Don't merge with inserts/deletes\n            return false;\n        }\n        if (prevChange.originalEndLineNumber === originalLineNumber && prevChange.modifiedEndLineNumber === modifiedLineNumber) {\n            if (this.shouldComputeCharChanges && prevChange.charChanges) {\n                prevChange.charChanges.push(new CharChange(originalLineNumber, originalStartColumn, originalLineNumber, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedLineNumber, modifiedEndColumn));\n            }\n            return true;\n        }\n        if (prevChange.originalEndLineNumber + 1 === originalLineNumber && prevChange.modifiedEndLineNumber + 1 === modifiedLineNumber) {\n            prevChange.originalEndLineNumber = originalLineNumber;\n            prevChange.modifiedEndLineNumber = modifiedLineNumber;\n            if (this.shouldComputeCharChanges && prevChange.charChanges) {\n                prevChange.charChanges.push(new CharChange(originalLineNumber, originalStartColumn, originalLineNumber, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedLineNumber, modifiedEndColumn));\n            }\n            return true;\n        }\n        return false;\n    }\n}\nfunction getFirstNonBlankColumn(txt, defaultValue) {\n    const r = strings.firstNonWhitespaceIndex(txt);\n    if (r === -1) {\n        return defaultValue;\n    }\n    return r + 1;\n}\nfunction getLastNonBlankColumn(txt, defaultValue) {\n    const r = strings.lastNonWhitespaceIndex(txt);\n    if (r === -1) {\n        return defaultValue;\n    }\n    return r + 2;\n}\nfunction createContinueProcessingPredicate(maximumRuntime) {\n    if (maximumRuntime === 0) {\n        return () => true;\n    }\n    const startTime = Date.now();\n    return () => {\n        return Date.now() - startTime < maximumRuntime;\n    };\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { BugIndicatingError } from '../../../base/common/errors.js';\n/**\n * A range of offsets (0-based).\n*/\nexport class OffsetRange {\n    static addRange(range, sortedRanges) {\n        let i = 0;\n        while (i < sortedRanges.length && sortedRanges[i].endExclusive < range.start) {\n            i++;\n        }\n        let j = i;\n        while (j < sortedRanges.length && sortedRanges[j].start <= range.endExclusive) {\n            j++;\n        }\n        if (i === j) {\n            sortedRanges.splice(i, 0, range);\n        }\n        else {\n            const start = Math.min(range.start, sortedRanges[i].start);\n            const end = Math.max(range.endExclusive, sortedRanges[j - 1].endExclusive);\n            sortedRanges.splice(i, j - i, new OffsetRange(start, end));\n        }\n    }\n    static tryCreate(start, endExclusive) {\n        if (start > endExclusive) {\n            return undefined;\n        }\n        return new OffsetRange(start, endExclusive);\n    }\n    constructor(start, endExclusive) {\n        this.start = start;\n        this.endExclusive = endExclusive;\n        if (start > endExclusive) {\n            throw new BugIndicatingError(`Invalid range: ${this.toString()}`);\n        }\n    }\n    get isEmpty() {\n        return this.start === this.endExclusive;\n    }\n    delta(offset) {\n        return new OffsetRange(this.start + offset, this.endExclusive + offset);\n    }\n    get length() {\n        return this.endExclusive - this.start;\n    }\n    toString() {\n        return `[${this.start}, ${this.endExclusive})`;\n    }\n    equals(other) {\n        return this.start === other.start && this.endExclusive === other.endExclusive;\n    }\n    containsRange(other) {\n        return this.start <= other.start && other.endExclusive <= this.endExclusive;\n    }\n    /**\n     * for all numbers n: range1.contains(n) or range2.contains(n) => range1.join(range2).contains(n)\n     * The joined range is the smallest range that contains both ranges.\n     */\n    join(other) {\n        return new OffsetRange(Math.min(this.start, other.start), Math.max(this.endExclusive, other.endExclusive));\n    }\n    /**\n     * for all numbers n: range1.contains(n) and range2.contains(n) <=> range1.intersect(range2).contains(n)\n     *\n     * The resulting range is empty if the ranges do not intersect, but touch.\n     * If the ranges don't even touch, the result is undefined.\n     */\n    intersect(other) {\n        const start = Math.max(this.start, other.start);\n        const end = Math.min(this.endExclusive, other.endExclusive);\n        if (start <= end) {\n            return new OffsetRange(start, end);\n        }\n        return undefined;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { BugIndicatingError } from '../../../../base/common/errors.js';\nimport { OffsetRange } from '../../core/offsetRange.js';\nexport class DiffAlgorithmResult {\n    static trivial(seq1, seq2) {\n        return new DiffAlgorithmResult([new SequenceDiff(new OffsetRange(0, seq1.length), new OffsetRange(0, seq2.length))], false);\n    }\n    static trivialTimedOut(seq1, seq2) {\n        return new DiffAlgorithmResult([new SequenceDiff(new OffsetRange(0, seq1.length), new OffsetRange(0, seq2.length))], true);\n    }\n    constructor(diffs, \n    /**\n     * Indicates if the time out was reached.\n     * In that case, the diffs might be an approximation and the user should be asked to rerun the diff with more time.\n     */\n    hitTimeout) {\n        this.diffs = diffs;\n        this.hitTimeout = hitTimeout;\n    }\n}\nexport class SequenceDiff {\n    constructor(seq1Range, seq2Range) {\n        this.seq1Range = seq1Range;\n        this.seq2Range = seq2Range;\n    }\n    reverse() {\n        return new SequenceDiff(this.seq2Range, this.seq1Range);\n    }\n    toString() {\n        return `${this.seq1Range} <-> ${this.seq2Range}`;\n    }\n    join(other) {\n        return new SequenceDiff(this.seq1Range.join(other.seq1Range), this.seq2Range.join(other.seq2Range));\n    }\n    delta(offset) {\n        if (offset === 0) {\n            return this;\n        }\n        return new SequenceDiff(this.seq1Range.delta(offset), this.seq2Range.delta(offset));\n    }\n}\nexport class InfiniteTimeout {\n    isValid() {\n        return true;\n    }\n}\nInfiniteTimeout.instance = new InfiniteTimeout();\nexport class DateTimeout {\n    constructor(timeout) {\n        this.timeout = timeout;\n        this.startTime = Date.now();\n        this.valid = true;\n        if (timeout <= 0) {\n            throw new BugIndicatingError('timeout must be positive');\n        }\n    }\n    // Recommendation: Set a log-point `{this.disable()}` in the body\n    isValid() {\n        const valid = Date.now() - this.startTime < this.timeout;\n        if (!valid && this.valid) {\n            this.valid = false; // timeout reached\n            // eslint-disable-next-line no-debugger\n            debugger; // WARNING: Most likely debugging caused the timeout. Call `this.disable()` to continue without timing out.\n        }\n        return this.valid;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class Array2D {\n    constructor(width, height) {\n        this.width = width;\n        this.height = height;\n        this.array = [];\n        this.array = new Array(width * height);\n    }\n    get(x, y) {\n        return this.array[x + y * this.width];\n    }\n    set(x, y, value) {\n        this.array[x + y * this.width] = value;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { OffsetRange } from '../../core/offsetRange.js';\nimport { SequenceDiff, InfiniteTimeout, DiffAlgorithmResult } from './diffAlgorithm.js';\nimport { Array2D } from './utils.js';\n/**\n * A O(MN) diffing algorithm that supports a score function.\n * The algorithm can be improved by processing the 2d array diagonally.\n*/\nexport class DynamicProgrammingDiffing {\n    compute(sequence1, sequence2, timeout = InfiniteTimeout.instance, equalityScore) {\n        if (sequence1.length === 0 || sequence2.length === 0) {\n            return DiffAlgorithmResult.trivial(sequence1, sequence2);\n        }\n        /**\n         * lcsLengths.get(i, j): Length of the longest common subsequence of sequence1.substring(0, i + 1) and sequence2.substring(0, j + 1).\n         */\n        const lcsLengths = new Array2D(sequence1.length, sequence2.length);\n        const directions = new Array2D(sequence1.length, sequence2.length);\n        const lengths = new Array2D(sequence1.length, sequence2.length);\n        // ==== Initializing lcsLengths ====\n        for (let s1 = 0; s1 < sequence1.length; s1++) {\n            for (let s2 = 0; s2 < sequence2.length; s2++) {\n                if (!timeout.isValid()) {\n                    return DiffAlgorithmResult.trivialTimedOut(sequence1, sequence2);\n                }\n                const horizontalLen = s1 === 0 ? 0 : lcsLengths.get(s1 - 1, s2);\n                const verticalLen = s2 === 0 ? 0 : lcsLengths.get(s1, s2 - 1);\n                let extendedSeqScore;\n                if (sequence1.getElement(s1) === sequence2.getElement(s2)) {\n                    if (s1 === 0 || s2 === 0) {\n                        extendedSeqScore = 0;\n                    }\n                    else {\n                        extendedSeqScore = lcsLengths.get(s1 - 1, s2 - 1);\n                    }\n                    if (s1 > 0 && s2 > 0 && directions.get(s1 - 1, s2 - 1) === 3) {\n                        // Prefer consecutive diagonals\n                        extendedSeqScore += lengths.get(s1 - 1, s2 - 1);\n                    }\n                    extendedSeqScore += (equalityScore ? equalityScore(s1, s2) : 1);\n                }\n                else {\n                    extendedSeqScore = -1;\n                }\n                const newValue = Math.max(horizontalLen, verticalLen, extendedSeqScore);\n                if (newValue === extendedSeqScore) {\n                    // Prefer diagonals\n                    const prevLen = s1 > 0 && s2 > 0 ? lengths.get(s1 - 1, s2 - 1) : 0;\n                    lengths.set(s1, s2, prevLen + 1);\n                    directions.set(s1, s2, 3);\n                }\n                else if (newValue === horizontalLen) {\n                    lengths.set(s1, s2, 0);\n                    directions.set(s1, s2, 1);\n                }\n                else if (newValue === verticalLen) {\n                    lengths.set(s1, s2, 0);\n                    directions.set(s1, s2, 2);\n                }\n                lcsLengths.set(s1, s2, newValue);\n            }\n        }\n        // ==== Backtracking ====\n        const result = [];\n        let lastAligningPosS1 = sequence1.length;\n        let lastAligningPosS2 = sequence2.length;\n        function reportDecreasingAligningPositions(s1, s2) {\n            if (s1 + 1 !== lastAligningPosS1 || s2 + 1 !== lastAligningPosS2) {\n                result.push(new SequenceDiff(new OffsetRange(s1 + 1, lastAligningPosS1), new OffsetRange(s2 + 1, lastAligningPosS2)));\n            }\n            lastAligningPosS1 = s1;\n            lastAligningPosS2 = s2;\n        }\n        let s1 = sequence1.length - 1;\n        let s2 = sequence2.length - 1;\n        while (s1 >= 0 && s2 >= 0) {\n            if (directions.get(s1, s2) === 3) {\n                reportDecreasingAligningPositions(s1, s2);\n                s1--;\n                s2--;\n            }\n            else {\n                if (directions.get(s1, s2) === 1) {\n                    s1--;\n                }\n                else {\n                    s2--;\n                }\n            }\n        }\n        reportDecreasingAligningPositions(-1, -1);\n        result.reverse();\n        return new DiffAlgorithmResult(result, false);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { OffsetRange } from '../../core/offsetRange.js';\nimport { SequenceDiff } from './diffAlgorithm.js';\nexport function optimizeSequenceDiffs(sequence1, sequence2, sequenceDiffs) {\n    let result = sequenceDiffs;\n    result = joinSequenceDiffs(sequence1, sequence2, result);\n    result = shiftSequenceDiffs(sequence1, sequence2, result);\n    return result;\n}\nexport function smoothenSequenceDiffs(sequence1, sequence2, sequenceDiffs) {\n    const result = [];\n    for (const s of sequenceDiffs) {\n        const last = result[result.length - 1];\n        if (!last) {\n            result.push(s);\n            continue;\n        }\n        if (s.seq1Range.start - last.seq1Range.endExclusive <= 2 || s.seq2Range.start - last.seq2Range.endExclusive <= 2) {\n            result[result.length - 1] = new SequenceDiff(last.seq1Range.join(s.seq1Range), last.seq2Range.join(s.seq2Range));\n        }\n        else {\n            result.push(s);\n        }\n    }\n    return result;\n}\n/**\n * This function fixes issues like this:\n * ```\n * import { Baz, Bar } from \"foo\";\n * ```\n * <->\n * ```\n * import { Baz, Bar, Foo } from \"foo\";\n * ```\n * Computed diff: [ {Add \",\" after Bar}, {Add \"Foo \" after space} }\n * Improved diff: [{Add \", Foo\" after Bar}]\n */\nexport function joinSequenceDiffs(sequence1, sequence2, sequenceDiffs) {\n    const result = [];\n    if (sequenceDiffs.length > 0) {\n        result.push(sequenceDiffs[0]);\n    }\n    // First move them all to the left as much as possible and join them if possible\n    for (let i = 1; i < sequenceDiffs.length; i++) {\n        const prevResult = sequenceDiffs[i - 1];\n        let cur = sequenceDiffs[i];\n        if (cur.seq1Range.isEmpty || cur.seq2Range.isEmpty) {\n            const length = cur.seq1Range.start - prevResult.seq1Range.endExclusive;\n            let d;\n            for (d = 1; d <= length; d++) {\n                if (sequence1.getElement(cur.seq1Range.start - d) !== sequence1.getElement(cur.seq1Range.endExclusive - d) ||\n                    sequence2.getElement(cur.seq2Range.start - d) !== sequence2.getElement(cur.seq2Range.endExclusive - d)) {\n                    break;\n                }\n            }\n            d--;\n            if (d === length) {\n                // Merge previous and current diff\n                result[result.length - 1] = new SequenceDiff(new OffsetRange(prevResult.seq1Range.start, cur.seq1Range.endExclusive - length), new OffsetRange(prevResult.seq2Range.start, cur.seq2Range.endExclusive - length));\n                continue;\n            }\n            cur = cur.delta(-d);\n        }\n        result.push(cur);\n    }\n    const result2 = [];\n    // Then move them all to the right and join them again if possible\n    for (let i = 0; i < result.length - 1; i++) {\n        const nextResult = result[i + 1];\n        let cur = result[i];\n        if (cur.seq1Range.isEmpty || cur.seq2Range.isEmpty) {\n            const length = nextResult.seq1Range.start - cur.seq1Range.endExclusive;\n            let d;\n            for (d = 0; d < length; d++) {\n                if (sequence1.getElement(cur.seq1Range.start + d) !== sequence1.getElement(cur.seq1Range.endExclusive + d) ||\n                    sequence2.getElement(cur.seq2Range.start + d) !== sequence2.getElement(cur.seq2Range.endExclusive + d)) {\n                    break;\n                }\n            }\n            if (d === length) {\n                // Merge previous and current diff, write to result!\n                result[i + 1] = new SequenceDiff(new OffsetRange(cur.seq1Range.start + length, nextResult.seq1Range.endExclusive), new OffsetRange(cur.seq2Range.start + length, nextResult.seq2Range.endExclusive));\n                continue;\n            }\n            if (d > 0) {\n                cur = cur.delta(d);\n            }\n        }\n        result2.push(cur);\n    }\n    if (result.length > 0) {\n        result2.push(result[result.length - 1]);\n    }\n    return result2;\n}\n// align character level diffs at whitespace characters\n// import { IBar } from \"foo\";\n// import { I[Arr, I]Bar } from \"foo\";\n// ->\n// import { [IArr, ]IBar } from \"foo\";\n// import { ITransaction, observableValue, transaction } from 'vs/base/common/observable';\n// import { ITransaction, observable[FromEvent, observable]Value, transaction } from 'vs/base/common/observable';\n// ->\n// import { ITransaction, [observableFromEvent, ]observableValue, transaction } from 'vs/base/common/observable';\n// collectBrackets(level + 1, levelPerBracketType);\n// collectBrackets(level + 1, levelPerBracket[ + 1, levelPerBracket]Type);\n// ->\n// collectBrackets(level + 1, [levelPerBracket + 1, ]levelPerBracketType);\nexport function shiftSequenceDiffs(sequence1, sequence2, sequenceDiffs) {\n    if (!sequence1.getBoundaryScore || !sequence2.getBoundaryScore) {\n        return sequenceDiffs;\n    }\n    for (let i = 0; i < sequenceDiffs.length; i++) {\n        const prevDiff = (i > 0 ? sequenceDiffs[i - 1] : undefined);\n        const diff = sequenceDiffs[i];\n        const nextDiff = (i + 1 < sequenceDiffs.length ? sequenceDiffs[i + 1] : undefined);\n        const seq1ValidRange = new OffsetRange(prevDiff ? prevDiff.seq1Range.start + 1 : 0, nextDiff ? nextDiff.seq1Range.endExclusive - 1 : sequence1.length);\n        const seq2ValidRange = new OffsetRange(prevDiff ? prevDiff.seq2Range.start + 1 : 0, nextDiff ? nextDiff.seq2Range.endExclusive - 1 : sequence2.length);\n        if (diff.seq1Range.isEmpty) {\n            sequenceDiffs[i] = shiftDiffToBetterPosition(diff, sequence1, sequence2, seq1ValidRange, seq2ValidRange);\n        }\n        else if (diff.seq2Range.isEmpty) {\n            sequenceDiffs[i] = shiftDiffToBetterPosition(diff.reverse(), sequence2, sequence1, seq2ValidRange, seq1ValidRange).reverse();\n        }\n    }\n    return sequenceDiffs;\n}\nfunction shiftDiffToBetterPosition(diff, sequence1, sequence2, seq1ValidRange, seq2ValidRange) {\n    const maxShiftLimit = 100; // To prevent performance issues\n    // don't touch previous or next!\n    let deltaBefore = 1;\n    while (diff.seq1Range.start - deltaBefore >= seq1ValidRange.start &&\n        diff.seq2Range.start - deltaBefore >= seq2ValidRange.start &&\n        sequence2.getElement(diff.seq2Range.start - deltaBefore) ===\n            sequence2.getElement(diff.seq2Range.endExclusive - deltaBefore) && deltaBefore < maxShiftLimit) {\n        deltaBefore++;\n    }\n    deltaBefore--;\n    let deltaAfter = 0;\n    while (diff.seq1Range.start + deltaAfter < seq1ValidRange.endExclusive &&\n        diff.seq2Range.endExclusive + deltaAfter < seq2ValidRange.endExclusive &&\n        sequence2.getElement(diff.seq2Range.start + deltaAfter) ===\n            sequence2.getElement(diff.seq2Range.endExclusive + deltaAfter) && deltaAfter < maxShiftLimit) {\n        deltaAfter++;\n    }\n    if (deltaBefore === 0 && deltaAfter === 0) {\n        return diff;\n    }\n    // Visualize `[sequence1.text, diff.seq1Range.start + deltaAfter]`\n    // and `[sequence2.text, diff.seq2Range.start + deltaAfter, diff.seq2Range.endExclusive + deltaAfter]`\n    let bestDelta = 0;\n    let bestScore = -1;\n    // find best scored delta\n    for (let delta = -deltaBefore; delta <= deltaAfter; delta++) {\n        const seq2OffsetStart = diff.seq2Range.start + delta;\n        const seq2OffsetEndExclusive = diff.seq2Range.endExclusive + delta;\n        const seq1Offset = diff.seq1Range.start + delta;\n        const score = sequence1.getBoundaryScore(seq1Offset) + sequence2.getBoundaryScore(seq2OffsetStart) + sequence2.getBoundaryScore(seq2OffsetEndExclusive);\n        if (score > bestScore) {\n            bestScore = score;\n            bestDelta = delta;\n        }\n    }\n    return diff.delta(bestDelta);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { OffsetRange } from '../../core/offsetRange.js';\nimport { DiffAlgorithmResult, InfiniteTimeout, SequenceDiff } from './diffAlgorithm.js';\n/**\n * An O(ND) diff algorithm that has a quadratic space worst-case complexity.\n*/\nexport class MyersDiffAlgorithm {\n    compute(seq1, seq2, timeout = InfiniteTimeout.instance) {\n        // These are common special cases.\n        // The early return improves performance dramatically.\n        if (seq1.length === 0 || seq2.length === 0) {\n            return DiffAlgorithmResult.trivial(seq1, seq2);\n        }\n        function getXAfterSnake(x, y) {\n            while (x < seq1.length && y < seq2.length && seq1.getElement(x) === seq2.getElement(y)) {\n                x++;\n                y++;\n            }\n            return x;\n        }\n        let d = 0;\n        // V[k]: X value of longest d-line that ends in diagonal k.\n        // d-line: path from (0,0) to (x,y) that uses exactly d non-diagonals.\n        // diagonal k: Set of points (x,y) with x-y = k.\n        const V = new FastInt32Array();\n        V.set(0, getXAfterSnake(0, 0));\n        const paths = new FastArrayNegativeIndices();\n        paths.set(0, V.get(0) === 0 ? null : new SnakePath(null, 0, 0, V.get(0)));\n        let k = 0;\n        loop: while (true) {\n            d++;\n            if (!timeout.isValid()) {\n                return DiffAlgorithmResult.trivialTimedOut(seq1, seq2);\n            }\n            // The paper has `for (k = -d; k <= d; k += 2)`, but we can ignore diagonals that cannot influence the result.\n            const lowerBound = -Math.min(d, seq2.length + (d % 2));\n            const upperBound = Math.min(d, seq1.length + (d % 2));\n            for (k = lowerBound; k <= upperBound; k += 2) {\n                // We can use the X values of (d-1)-lines to compute X value of the longest d-lines.\n                const maxXofDLineTop = k === upperBound ? -1 : V.get(k + 1); // We take a vertical non-diagonal (add a symbol in seq1)\n                const maxXofDLineLeft = k === lowerBound ? -1 : V.get(k - 1) + 1; // We take a horizontal non-diagonal (+1 x) (delete a symbol in seq1)\n                const x = Math.min(Math.max(maxXofDLineTop, maxXofDLineLeft), seq1.length);\n                const y = x - k;\n                if (x > seq1.length || y > seq2.length) {\n                    // This diagonal is irrelevant for the result.\n                    // TODO: Don't pay the cost for this in the next iteration.\n                    continue;\n                }\n                const newMaxX = getXAfterSnake(x, y);\n                V.set(k, newMaxX);\n                const lastPath = x === maxXofDLineTop ? paths.get(k + 1) : paths.get(k - 1);\n                paths.set(k, newMaxX !== x ? new SnakePath(lastPath, x, y, newMaxX - x) : lastPath);\n                if (V.get(k) === seq1.length && V.get(k) - k === seq2.length) {\n                    break loop;\n                }\n            }\n        }\n        let path = paths.get(k);\n        const result = [];\n        let lastAligningPosS1 = seq1.length;\n        let lastAligningPosS2 = seq2.length;\n        while (true) {\n            const endX = path ? path.x + path.length : 0;\n            const endY = path ? path.y + path.length : 0;\n            if (endX !== lastAligningPosS1 || endY !== lastAligningPosS2) {\n                result.push(new SequenceDiff(new OffsetRange(endX, lastAligningPosS1), new OffsetRange(endY, lastAligningPosS2)));\n            }\n            if (!path) {\n                break;\n            }\n            lastAligningPosS1 = path.x;\n            lastAligningPosS2 = path.y;\n            path = path.prev;\n        }\n        result.reverse();\n        return new DiffAlgorithmResult(result, false);\n    }\n}\nclass SnakePath {\n    constructor(prev, x, y, length) {\n        this.prev = prev;\n        this.x = x;\n        this.y = y;\n        this.length = length;\n    }\n}\n/**\n * An array that supports fast negative indices.\n*/\nclass FastInt32Array {\n    constructor() {\n        this.positiveArr = new Int32Array(10);\n        this.negativeArr = new Int32Array(10);\n    }\n    get(idx) {\n        if (idx < 0) {\n            idx = -idx - 1;\n            return this.negativeArr[idx];\n        }\n        else {\n            return this.positiveArr[idx];\n        }\n    }\n    set(idx, value) {\n        if (idx < 0) {\n            idx = -idx - 1;\n            if (idx >= this.negativeArr.length) {\n                const arr = this.negativeArr;\n                this.negativeArr = new Int32Array(arr.length * 2);\n                this.negativeArr.set(arr);\n            }\n            this.negativeArr[idx] = value;\n        }\n        else {\n            if (idx >= this.positiveArr.length) {\n                const arr = this.positiveArr;\n                this.positiveArr = new Int32Array(arr.length * 2);\n                this.positiveArr.set(arr);\n            }\n            this.positiveArr[idx] = value;\n        }\n    }\n}\n/**\n * An array that supports fast negative indices.\n*/\nclass FastArrayNegativeIndices {\n    constructor() {\n        this.positiveArr = [];\n        this.negativeArr = [];\n    }\n    get(idx) {\n        if (idx < 0) {\n            idx = -idx - 1;\n            return this.negativeArr[idx];\n        }\n        else {\n            return this.positiveArr[idx];\n        }\n    }\n    set(idx, value) {\n        if (idx < 0) {\n            idx = -idx - 1;\n            this.negativeArr[idx] = value;\n        }\n        else {\n            this.positiveArr[idx] = value;\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { assertFn, checkAdjacentItems } from '../../../base/common/assert.js';\nimport { LineRange } from '../core/lineRange.js';\nimport { OffsetRange } from '../core/offsetRange.js';\nimport { Position } from '../core/position.js';\nimport { Range } from '../core/range.js';\nimport { DateTimeout, InfiniteTimeout, SequenceDiff } from './algorithms/diffAlgorithm.js';\nimport { DynamicProgrammingDiffing } from './algorithms/dynamicProgrammingDiffing.js';\nimport { optimizeSequenceDiffs, smoothenSequenceDiffs } from './algorithms/joinSequenceDiffs.js';\nimport { MyersDiffAlgorithm } from './algorithms/myersDiffAlgorithm.js';\nimport { LineRangeMapping, LinesDiff, MovedText, RangeMapping, SimpleLineRangeMapping } from './linesDiffComputer.js';\nexport class StandardLinesDiffComputer {\n    constructor() {\n        this.dynamicProgrammingDiffing = new DynamicProgrammingDiffing();\n        this.myersDiffingAlgorithm = new MyersDiffAlgorithm();\n    }\n    computeDiff(originalLines, modifiedLines, options) {\n        const timeout = options.maxComputationTimeMs === 0 ? InfiniteTimeout.instance : new DateTimeout(options.maxComputationTimeMs);\n        const considerWhitespaceChanges = !options.ignoreTrimWhitespace;\n        const perfectHashes = new Map();\n        function getOrCreateHash(text) {\n            let hash = perfectHashes.get(text);\n            if (hash === undefined) {\n                hash = perfectHashes.size;\n                perfectHashes.set(text, hash);\n            }\n            return hash;\n        }\n        const srcDocLines = originalLines.map((l) => getOrCreateHash(l.trim()));\n        const tgtDocLines = modifiedLines.map((l) => getOrCreateHash(l.trim()));\n        const sequence1 = new LineSequence(srcDocLines, originalLines);\n        const sequence2 = new LineSequence(tgtDocLines, modifiedLines);\n        const lineAlignmentResult = (() => {\n            if (sequence1.length + sequence2.length < 1500) {\n                // Use the improved algorithm for small files\n                return this.dynamicProgrammingDiffing.compute(sequence1, sequence2, timeout, (offset1, offset2) => originalLines[offset1] === modifiedLines[offset2]\n                    ? modifiedLines[offset2].length === 0\n                        ? 0.1\n                        : 1 + Math.log(1 + modifiedLines[offset2].length)\n                    : 0.99);\n            }\n            return this.myersDiffingAlgorithm.compute(sequence1, sequence2);\n        })();\n        let lineAlignments = lineAlignmentResult.diffs;\n        let hitTimeout = lineAlignmentResult.hitTimeout;\n        lineAlignments = optimizeSequenceDiffs(sequence1, sequence2, lineAlignments);\n        const alignments = [];\n        const scanForWhitespaceChanges = (equalLinesCount) => {\n            if (!considerWhitespaceChanges) {\n                return;\n            }\n            for (let i = 0; i < equalLinesCount; i++) {\n                const seq1Offset = seq1LastStart + i;\n                const seq2Offset = seq2LastStart + i;\n                if (originalLines[seq1Offset] !== modifiedLines[seq2Offset]) {\n                    // This is because of whitespace changes, diff these lines\n                    const characterDiffs = this.refineDiff(originalLines, modifiedLines, new SequenceDiff(new OffsetRange(seq1Offset, seq1Offset + 1), new OffsetRange(seq2Offset, seq2Offset + 1)), timeout, considerWhitespaceChanges);\n                    for (const a of characterDiffs.mappings) {\n                        alignments.push(a);\n                    }\n                    if (characterDiffs.hitTimeout) {\n                        hitTimeout = true;\n                    }\n                }\n            }\n        };\n        let seq1LastStart = 0;\n        let seq2LastStart = 0;\n        for (const diff of lineAlignments) {\n            assertFn(() => diff.seq1Range.start - seq1LastStart === diff.seq2Range.start - seq2LastStart);\n            const equalLinesCount = diff.seq1Range.start - seq1LastStart;\n            scanForWhitespaceChanges(equalLinesCount);\n            seq1LastStart = diff.seq1Range.endExclusive;\n            seq2LastStart = diff.seq2Range.endExclusive;\n            const characterDiffs = this.refineDiff(originalLines, modifiedLines, diff, timeout, considerWhitespaceChanges);\n            if (characterDiffs.hitTimeout) {\n                hitTimeout = true;\n            }\n            for (const a of characterDiffs.mappings) {\n                alignments.push(a);\n            }\n        }\n        scanForWhitespaceChanges(originalLines.length - seq1LastStart);\n        const changes = lineRangeMappingFromRangeMappings(alignments, originalLines, modifiedLines);\n        const moves = [];\n        if (options.computeMoves) {\n            const deletions = changes\n                .filter(c => c.modifiedRange.isEmpty && c.originalRange.length >= 3)\n                .map(d => new LineRangeFragment(d.originalRange, originalLines));\n            const insertions = new Set(changes\n                .filter(c => c.originalRange.isEmpty && c.modifiedRange.length >= 3)\n                .map(d => new LineRangeFragment(d.modifiedRange, modifiedLines)));\n            for (const deletion of deletions) {\n                let highestSimilarity = -1;\n                let best;\n                for (const insertion of insertions) {\n                    const similarity = deletion.computeSimilarity(insertion);\n                    if (similarity > highestSimilarity) {\n                        highestSimilarity = similarity;\n                        best = insertion;\n                    }\n                }\n                if (highestSimilarity > 0.90 && best) {\n                    const moveChanges = this.refineDiff(originalLines, modifiedLines, new SequenceDiff(new OffsetRange(deletion.range.startLineNumber - 1, deletion.range.endLineNumberExclusive - 1), new OffsetRange(best.range.startLineNumber - 1, best.range.endLineNumberExclusive - 1)), timeout, considerWhitespaceChanges);\n                    const mappings = lineRangeMappingFromRangeMappings(moveChanges.mappings, originalLines, modifiedLines, true);\n                    insertions.delete(best);\n                    moves.push(new MovedText(new SimpleLineRangeMapping(deletion.range, best.range), mappings));\n                }\n            }\n        }\n        return new LinesDiff(changes, moves, hitTimeout);\n    }\n    refineDiff(originalLines, modifiedLines, diff, timeout, considerWhitespaceChanges) {\n        const slice1 = new Slice(originalLines, diff.seq1Range, considerWhitespaceChanges);\n        const slice2 = new Slice(modifiedLines, diff.seq2Range, considerWhitespaceChanges);\n        const diffResult = slice1.length + slice2.length < 500\n            ? this.dynamicProgrammingDiffing.compute(slice1, slice2, timeout)\n            : this.myersDiffingAlgorithm.compute(slice1, slice2, timeout);\n        let diffs = diffResult.diffs;\n        diffs = optimizeSequenceDiffs(slice1, slice2, diffs);\n        diffs = coverFullWords(slice1, slice2, diffs);\n        diffs = smoothenSequenceDiffs(slice1, slice2, diffs);\n        const result = diffs.map((d) => new RangeMapping(slice1.translateRange(d.seq1Range), slice2.translateRange(d.seq2Range)));\n        // Assert: result applied on original should be the same as diff applied to original\n        return {\n            mappings: result,\n            hitTimeout: diffResult.hitTimeout,\n        };\n    }\n}\nfunction coverFullWords(sequence1, sequence2, sequenceDiffs) {\n    const additional = [];\n    let lastModifiedWord = undefined;\n    function maybePushWordToAdditional() {\n        if (!lastModifiedWord) {\n            return;\n        }\n        const originalLength1 = lastModifiedWord.s1Range.length - lastModifiedWord.deleted;\n        const originalLength2 = lastModifiedWord.s2Range.length - lastModifiedWord.added;\n        if (originalLength1 !== originalLength2) {\n            // TODO figure out why this happens\n        }\n        if (Math.max(lastModifiedWord.deleted, lastModifiedWord.added) + (lastModifiedWord.count - 1) > originalLength1) {\n            additional.push(new SequenceDiff(lastModifiedWord.s1Range, lastModifiedWord.s2Range));\n        }\n        lastModifiedWord = undefined;\n    }\n    for (const s of sequenceDiffs) {\n        function processWord(s1Range, s2Range) {\n            var _a, _b, _c, _d;\n            if (!lastModifiedWord || !lastModifiedWord.s1Range.containsRange(s1Range) || !lastModifiedWord.s2Range.containsRange(s2Range)) {\n                if (lastModifiedWord && !(lastModifiedWord.s1Range.endExclusive < s1Range.start && lastModifiedWord.s2Range.endExclusive < s2Range.start)) {\n                    const s1Added = OffsetRange.tryCreate(lastModifiedWord.s1Range.endExclusive, s1Range.start);\n                    const s2Added = OffsetRange.tryCreate(lastModifiedWord.s2Range.endExclusive, s2Range.start);\n                    lastModifiedWord.deleted += (_a = s1Added === null || s1Added === void 0 ? void 0 : s1Added.length) !== null && _a !== void 0 ? _a : 0;\n                    lastModifiedWord.added += (_b = s2Added === null || s2Added === void 0 ? void 0 : s2Added.length) !== null && _b !== void 0 ? _b : 0;\n                    lastModifiedWord.s1Range = lastModifiedWord.s1Range.join(s1Range);\n                    lastModifiedWord.s2Range = lastModifiedWord.s2Range.join(s2Range);\n                }\n                else {\n                    maybePushWordToAdditional();\n                    lastModifiedWord = { added: 0, deleted: 0, count: 0, s1Range: s1Range, s2Range: s2Range };\n                }\n            }\n            const changedS1 = s1Range.intersect(s.seq1Range);\n            const changedS2 = s2Range.intersect(s.seq2Range);\n            lastModifiedWord.count++;\n            lastModifiedWord.deleted += (_c = changedS1 === null || changedS1 === void 0 ? void 0 : changedS1.length) !== null && _c !== void 0 ? _c : 0;\n            lastModifiedWord.added += (_d = changedS2 === null || changedS2 === void 0 ? void 0 : changedS2.length) !== null && _d !== void 0 ? _d : 0;\n        }\n        const w1Before = sequence1.findWordContaining(s.seq1Range.start - 1);\n        const w2Before = sequence2.findWordContaining(s.seq2Range.start - 1);\n        const w1After = sequence1.findWordContaining(s.seq1Range.endExclusive);\n        const w2After = sequence2.findWordContaining(s.seq2Range.endExclusive);\n        if (w1Before && w1After && w2Before && w2After && w1Before.equals(w1After) && w2Before.equals(w2After)) {\n            processWord(w1Before, w2Before);\n        }\n        else {\n            if (w1Before && w2Before) {\n                processWord(w1Before, w2Before);\n            }\n            if (w1After && w2After) {\n                processWord(w1After, w2After);\n            }\n        }\n    }\n    maybePushWordToAdditional();\n    const merged = mergeSequenceDiffs(sequenceDiffs, additional);\n    return merged;\n}\nfunction mergeSequenceDiffs(sequenceDiffs1, sequenceDiffs2) {\n    const result = [];\n    while (sequenceDiffs1.length > 0 || sequenceDiffs2.length > 0) {\n        const sd1 = sequenceDiffs1[0];\n        const sd2 = sequenceDiffs2[0];\n        let next;\n        if (sd1 && (!sd2 || sd1.seq1Range.start < sd2.seq1Range.start)) {\n            next = sequenceDiffs1.shift();\n        }\n        else {\n            next = sequenceDiffs2.shift();\n        }\n        if (result.length > 0 && result[result.length - 1].seq1Range.endExclusive >= next.seq1Range.start) {\n            result[result.length - 1] = result[result.length - 1].join(next);\n        }\n        else {\n            result.push(next);\n        }\n    }\n    return result;\n}\nexport function lineRangeMappingFromRangeMappings(alignments, originalLines, modifiedLines, dontAssertStartLine = false) {\n    const changes = [];\n    for (const g of group(alignments.map(a => getLineRangeMapping(a, originalLines, modifiedLines)), (a1, a2) => a1.originalRange.overlapOrTouch(a2.originalRange)\n        || a1.modifiedRange.overlapOrTouch(a2.modifiedRange))) {\n        const first = g[0];\n        const last = g[g.length - 1];\n        changes.push(new LineRangeMapping(first.originalRange.join(last.originalRange), first.modifiedRange.join(last.modifiedRange), g.map(a => a.innerChanges[0])));\n    }\n    assertFn(() => {\n        if (!dontAssertStartLine) {\n            if (changes.length > 0 && changes[0].originalRange.startLineNumber !== changes[0].modifiedRange.startLineNumber) {\n                return false;\n            }\n        }\n        return checkAdjacentItems(changes, (m1, m2) => m2.originalRange.startLineNumber - m1.originalRange.endLineNumberExclusive === m2.modifiedRange.startLineNumber - m1.modifiedRange.endLineNumberExclusive &&\n            // There has to be an unchanged line in between (otherwise both diffs should have been joined)\n            m1.originalRange.endLineNumberExclusive < m2.originalRange.startLineNumber &&\n            m1.modifiedRange.endLineNumberExclusive < m2.modifiedRange.startLineNumber);\n    });\n    return changes;\n}\nexport function getLineRangeMapping(rangeMapping, originalLines, modifiedLines) {\n    let lineStartDelta = 0;\n    let lineEndDelta = 0;\n    // rangeMapping describes the edit that replaces `rangeMapping.originalRange` with `newText := getText(modifiedLines, rangeMapping.modifiedRange)`.\n    // original: ]xxx \\n <- this line is not modified\n    // modified: ]xx  \\n\n    if (rangeMapping.modifiedRange.endColumn === 1 && rangeMapping.originalRange.endColumn === 1\n        && rangeMapping.originalRange.startLineNumber + lineStartDelta <= rangeMapping.originalRange.endLineNumber\n        && rangeMapping.modifiedRange.startLineNumber + lineStartDelta <= rangeMapping.modifiedRange.endLineNumber) {\n        // We can only do this if the range is not empty yet\n        lineEndDelta = -1;\n    }\n    // original: xxx[ \\n <- this line is not modified\n    // modified: xxx[ \\n\n    if (rangeMapping.modifiedRange.startColumn - 1 >= modifiedLines[rangeMapping.modifiedRange.startLineNumber - 1].length\n        && rangeMapping.originalRange.startColumn - 1 >= originalLines[rangeMapping.originalRange.startLineNumber - 1].length\n        && rangeMapping.originalRange.startLineNumber <= rangeMapping.originalRange.endLineNumber + lineEndDelta\n        && rangeMapping.modifiedRange.startLineNumber <= rangeMapping.modifiedRange.endLineNumber + lineEndDelta) {\n        // We can only do this if the range is not empty yet\n        lineStartDelta = 1;\n    }\n    const originalLineRange = new LineRange(rangeMapping.originalRange.startLineNumber + lineStartDelta, rangeMapping.originalRange.endLineNumber + 1 + lineEndDelta);\n    const modifiedLineRange = new LineRange(rangeMapping.modifiedRange.startLineNumber + lineStartDelta, rangeMapping.modifiedRange.endLineNumber + 1 + lineEndDelta);\n    return new LineRangeMapping(originalLineRange, modifiedLineRange, [rangeMapping]);\n}\nfunction* group(items, shouldBeGrouped) {\n    let currentGroup;\n    let last;\n    for (const item of items) {\n        if (last !== undefined && shouldBeGrouped(last, item)) {\n            currentGroup.push(item);\n        }\n        else {\n            if (currentGroup) {\n                yield currentGroup;\n            }\n            currentGroup = [item];\n        }\n        last = item;\n    }\n    if (currentGroup) {\n        yield currentGroup;\n    }\n}\nexport class LineSequence {\n    constructor(trimmedHash, lines) {\n        this.trimmedHash = trimmedHash;\n        this.lines = lines;\n    }\n    getElement(offset) {\n        return this.trimmedHash[offset];\n    }\n    get length() {\n        return this.trimmedHash.length;\n    }\n    getBoundaryScore(length) {\n        const indentationBefore = length === 0 ? 0 : getIndentation(this.lines[length - 1]);\n        const indentationAfter = length === this.lines.length ? 0 : getIndentation(this.lines[length]);\n        return 1000 - (indentationBefore + indentationAfter);\n    }\n}\nfunction getIndentation(str) {\n    let i = 0;\n    while (i < str.length && (str.charCodeAt(i) === 32 /* CharCode.Space */ || str.charCodeAt(i) === 9 /* CharCode.Tab */)) {\n        i++;\n    }\n    return i;\n}\nclass Slice {\n    constructor(lines, lineRange, considerWhitespaceChanges) {\n        // This slice has to have lineRange.length many \\n! (otherwise diffing against an empty slice will be problematic)\n        // (Unless it covers the entire document, in that case the other slice also has to cover the entire document ands it's okay)\n        this.lines = lines;\n        this.considerWhitespaceChanges = considerWhitespaceChanges;\n        this.elements = [];\n        this.firstCharOffsetByLineMinusOne = [];\n        // To account for trimming\n        this.offsetByLine = [];\n        // If the slice covers the end, but does not start at the beginning, we include just the \\n of the previous line.\n        let trimFirstLineFully = false;\n        if (lineRange.start > 0 && lineRange.endExclusive >= lines.length) {\n            lineRange = new OffsetRange(lineRange.start - 1, lineRange.endExclusive);\n            trimFirstLineFully = true;\n        }\n        this.lineRange = lineRange;\n        for (let i = this.lineRange.start; i < this.lineRange.endExclusive; i++) {\n            let line = lines[i];\n            let offset = 0;\n            if (trimFirstLineFully) {\n                offset = line.length;\n                line = '';\n                trimFirstLineFully = false;\n            }\n            else if (!considerWhitespaceChanges) {\n                const trimmedStartLine = line.trimStart();\n                offset = line.length - trimmedStartLine.length;\n                line = trimmedStartLine.trimEnd();\n            }\n            this.offsetByLine.push(offset);\n            for (let i = 0; i < line.length; i++) {\n                this.elements.push(line.charCodeAt(i));\n            }\n            // Don't add an \\n that does not exist in the document.\n            if (i < lines.length - 1) {\n                this.elements.push('\\n'.charCodeAt(0));\n                this.firstCharOffsetByLineMinusOne[i - this.lineRange.start] = this.elements.length;\n            }\n        }\n        // To account for the last line\n        this.offsetByLine.push(0);\n    }\n    toString() {\n        return `Slice: \"${this.text}\"`;\n    }\n    get text() {\n        return [...this.elements].map(e => String.fromCharCode(e)).join('');\n    }\n    getElement(offset) {\n        return this.elements[offset];\n    }\n    get length() {\n        return this.elements.length;\n    }\n    getBoundaryScore(length) {\n        //   a   b   c   ,           d   e   f\n        // 11  0   0   12  15  6   13  0   0   11\n        const prevCategory = getCategory(length > 0 ? this.elements[length - 1] : -1);\n        const nextCategory = getCategory(length < this.elements.length ? this.elements[length] : -1);\n        if (prevCategory === 6 /* CharBoundaryCategory.LineBreakCR */ && nextCategory === 7 /* CharBoundaryCategory.LineBreakLF */) {\n            // don't break between \\r and \\n\n            return 0;\n        }\n        let score = 0;\n        if (prevCategory !== nextCategory) {\n            score += 10;\n            if (nextCategory === 1 /* CharBoundaryCategory.WordUpper */) {\n                score += 1;\n            }\n        }\n        score += getCategoryBoundaryScore(prevCategory);\n        score += getCategoryBoundaryScore(nextCategory);\n        return score;\n    }\n    translateOffset(offset) {\n        // find smallest i, so that lineBreakOffsets[i] <= offset using binary search\n        if (this.lineRange.isEmpty) {\n            return new Position(this.lineRange.start + 1, 1);\n        }\n        let i = 0;\n        let j = this.firstCharOffsetByLineMinusOne.length;\n        while (i < j) {\n            const k = Math.floor((i + j) / 2);\n            if (this.firstCharOffsetByLineMinusOne[k] > offset) {\n                j = k;\n            }\n            else {\n                i = k + 1;\n            }\n        }\n        const offsetOfFirstCharInLine = i === 0 ? 0 : this.firstCharOffsetByLineMinusOne[i - 1];\n        return new Position(this.lineRange.start + i + 1, offset - offsetOfFirstCharInLine + 1 + this.offsetByLine[i]);\n    }\n    translateRange(range) {\n        return Range.fromPositions(this.translateOffset(range.start), this.translateOffset(range.endExclusive));\n    }\n    /**\n     * Finds the word that contains the character at the given offset\n     */\n    findWordContaining(offset) {\n        if (offset < 0 || offset >= this.elements.length) {\n            return undefined;\n        }\n        if (!isWordChar(this.elements[offset])) {\n            return undefined;\n        }\n        // find start\n        let start = offset;\n        while (start > 0 && isWordChar(this.elements[start - 1])) {\n            start--;\n        }\n        // find end\n        let end = offset;\n        while (end < this.elements.length && isWordChar(this.elements[end])) {\n            end++;\n        }\n        return new OffsetRange(start, end);\n    }\n}\nfunction isWordChar(charCode) {\n    return charCode >= 97 /* CharCode.a */ && charCode <= 122 /* CharCode.z */\n        || charCode >= 65 /* CharCode.A */ && charCode <= 90 /* CharCode.Z */\n        || charCode >= 48 /* CharCode.Digit0 */ && charCode <= 57 /* CharCode.Digit9 */;\n}\nconst score = {\n    [0 /* CharBoundaryCategory.WordLower */]: 0,\n    [1 /* CharBoundaryCategory.WordUpper */]: 0,\n    [2 /* CharBoundaryCategory.WordNumber */]: 0,\n    [3 /* CharBoundaryCategory.End */]: 10,\n    [4 /* CharBoundaryCategory.Other */]: 2,\n    [5 /* CharBoundaryCategory.Space */]: 3,\n    [6 /* CharBoundaryCategory.LineBreakCR */]: 10,\n    [7 /* CharBoundaryCategory.LineBreakLF */]: 10,\n};\nfunction getCategoryBoundaryScore(category) {\n    return score[category];\n}\nfunction getCategory(charCode) {\n    if (charCode === 10 /* CharCode.LineFeed */) {\n        return 7 /* CharBoundaryCategory.LineBreakLF */;\n    }\n    else if (charCode === 13 /* CharCode.CarriageReturn */) {\n        return 6 /* CharBoundaryCategory.LineBreakCR */;\n    }\n    else if (isSpace(charCode)) {\n        return 5 /* CharBoundaryCategory.Space */;\n    }\n    else if (charCode >= 97 /* CharCode.a */ && charCode <= 122 /* CharCode.z */) {\n        return 0 /* CharBoundaryCategory.WordLower */;\n    }\n    else if (charCode >= 65 /* CharCode.A */ && charCode <= 90 /* CharCode.Z */) {\n        return 1 /* CharBoundaryCategory.WordUpper */;\n    }\n    else if (charCode >= 48 /* CharCode.Digit0 */ && charCode <= 57 /* CharCode.Digit9 */) {\n        return 2 /* CharBoundaryCategory.WordNumber */;\n    }\n    else if (charCode === -1) {\n        return 3 /* CharBoundaryCategory.End */;\n    }\n    else {\n        return 4 /* CharBoundaryCategory.Other */;\n    }\n}\nfunction isSpace(charCode) {\n    return charCode === 32 /* CharCode.Space */ || charCode === 9 /* CharCode.Tab */;\n}\nconst chrKeys = new Map();\nfunction getKey(chr) {\n    let key = chrKeys.get(chr);\n    if (key === undefined) {\n        key = chrKeys.size;\n        chrKeys.set(chr, key);\n    }\n    return key;\n}\nclass LineRangeFragment {\n    constructor(range, lines) {\n        this.range = range;\n        this.lines = lines;\n        this.histogram = [];\n        let counter = 0;\n        for (let i = range.startLineNumber - 1; i < range.endLineNumberExclusive - 1; i++) {\n            const line = lines[i];\n            for (let j = 0; j < line.length; j++) {\n                counter++;\n                const chr = line[j];\n                const key = getKey(chr);\n                this.histogram[key] = (this.histogram[key] || 0) + 1;\n            }\n            counter++;\n            const key = getKey('\\n');\n            this.histogram[key] = (this.histogram[key] || 0) + 1;\n        }\n        this.totalCount = counter;\n    }\n    computeSimilarity(other) {\n        var _a, _b;\n        let sumDifferences = 0;\n        const maxLength = Math.max(this.histogram.length, other.histogram.length);\n        for (let i = 0; i < maxLength; i++) {\n            sumDifferences += Math.abs(((_a = this.histogram[i]) !== null && _a !== void 0 ? _a : 0) - ((_b = other.histogram[i]) !== null && _b !== void 0 ? _b : 0));\n        }\n        return 1 - (sumDifferences / (this.totalCount + other.totalCount));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { SmartLinesDiffComputer } from './smartLinesDiffComputer.js';\nimport { StandardLinesDiffComputer } from './standardLinesDiffComputer.js';\nexport const linesDiffComputers = {\n    getLegacy: () => new SmartLinesDiffComputer(),\n    getAdvanced: () => new StandardLinesDiffComputer(),\n};\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nfunction roundFloat(number, decimalPoints) {\n    const decimal = Math.pow(10, decimalPoints);\n    return Math.round(number * decimal) / decimal;\n}\nexport class RGBA {\n    constructor(r, g, b, a = 1) {\n        this._rgbaBrand = undefined;\n        this.r = Math.min(255, Math.max(0, r)) | 0;\n        this.g = Math.min(255, Math.max(0, g)) | 0;\n        this.b = Math.min(255, Math.max(0, b)) | 0;\n        this.a = roundFloat(Math.max(Math.min(1, a), 0), 3);\n    }\n    static equals(a, b) {\n        return a.r === b.r && a.g === b.g && a.b === b.b && a.a === b.a;\n    }\n}\nexport class HSLA {\n    constructor(h, s, l, a) {\n        this._hslaBrand = undefined;\n        this.h = Math.max(Math.min(360, h), 0) | 0;\n        this.s = roundFloat(Math.max(Math.min(1, s), 0), 3);\n        this.l = roundFloat(Math.max(Math.min(1, l), 0), 3);\n        this.a = roundFloat(Math.max(Math.min(1, a), 0), 3);\n    }\n    static equals(a, b) {\n        return a.h === b.h && a.s === b.s && a.l === b.l && a.a === b.a;\n    }\n    /**\n     * Converts an RGB color value to HSL. Conversion formula\n     * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n     * Assumes r, g, and b are contained in the set [0, 255] and\n     * returns h in the set [0, 360], s, and l in the set [0, 1].\n     */\n    static fromRGBA(rgba) {\n        const r = rgba.r / 255;\n        const g = rgba.g / 255;\n        const b = rgba.b / 255;\n        const a = rgba.a;\n        const max = Math.max(r, g, b);\n        const min = Math.min(r, g, b);\n        let h = 0;\n        let s = 0;\n        const l = (min + max) / 2;\n        const chroma = max - min;\n        if (chroma > 0) {\n            s = Math.min((l <= 0.5 ? chroma / (2 * l) : chroma / (2 - (2 * l))), 1);\n            switch (max) {\n                case r:\n                    h = (g - b) / chroma + (g < b ? 6 : 0);\n                    break;\n                case g:\n                    h = (b - r) / chroma + 2;\n                    break;\n                case b:\n                    h = (r - g) / chroma + 4;\n                    break;\n            }\n            h *= 60;\n            h = Math.round(h);\n        }\n        return new HSLA(h, s, l, a);\n    }\n    static _hue2rgb(p, q, t) {\n        if (t < 0) {\n            t += 1;\n        }\n        if (t > 1) {\n            t -= 1;\n        }\n        if (t < 1 / 6) {\n            return p + (q - p) * 6 * t;\n        }\n        if (t < 1 / 2) {\n            return q;\n        }\n        if (t < 2 / 3) {\n            return p + (q - p) * (2 / 3 - t) * 6;\n        }\n        return p;\n    }\n    /**\n     * Converts an HSL color value to RGB. Conversion formula\n     * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n     * Assumes h in the set [0, 360] s, and l are contained in the set [0, 1] and\n     * returns r, g, and b in the set [0, 255].\n     */\n    static toRGBA(hsla) {\n        const h = hsla.h / 360;\n        const { s, l, a } = hsla;\n        let r, g, b;\n        if (s === 0) {\n            r = g = b = l; // achromatic\n        }\n        else {\n            const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            const p = 2 * l - q;\n            r = HSLA._hue2rgb(p, q, h + 1 / 3);\n            g = HSLA._hue2rgb(p, q, h);\n            b = HSLA._hue2rgb(p, q, h - 1 / 3);\n        }\n        return new RGBA(Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), a);\n    }\n}\nexport class HSVA {\n    constructor(h, s, v, a) {\n        this._hsvaBrand = undefined;\n        this.h = Math.max(Math.min(360, h), 0) | 0;\n        this.s = roundFloat(Math.max(Math.min(1, s), 0), 3);\n        this.v = roundFloat(Math.max(Math.min(1, v), 0), 3);\n        this.a = roundFloat(Math.max(Math.min(1, a), 0), 3);\n    }\n    static equals(a, b) {\n        return a.h === b.h && a.s === b.s && a.v === b.v && a.a === b.a;\n    }\n    // from http://www.rapidtables.com/convert/color/rgb-to-hsv.htm\n    static fromRGBA(rgba) {\n        const r = rgba.r / 255;\n        const g = rgba.g / 255;\n        const b = rgba.b / 255;\n        const cmax = Math.max(r, g, b);\n        const cmin = Math.min(r, g, b);\n        const delta = cmax - cmin;\n        const s = cmax === 0 ? 0 : (delta / cmax);\n        let m;\n        if (delta === 0) {\n            m = 0;\n        }\n        else if (cmax === r) {\n            m = ((((g - b) / delta) % 6) + 6) % 6;\n        }\n        else if (cmax === g) {\n            m = ((b - r) / delta) + 2;\n        }\n        else {\n            m = ((r - g) / delta) + 4;\n        }\n        return new HSVA(Math.round(m * 60), s, cmax, rgba.a);\n    }\n    // from http://www.rapidtables.com/convert/color/hsv-to-rgb.htm\n    static toRGBA(hsva) {\n        const { h, s, v, a } = hsva;\n        const c = v * s;\n        const x = c * (1 - Math.abs((h / 60) % 2 - 1));\n        const m = v - c;\n        let [r, g, b] = [0, 0, 0];\n        if (h < 60) {\n            r = c;\n            g = x;\n        }\n        else if (h < 120) {\n            r = x;\n            g = c;\n        }\n        else if (h < 180) {\n            g = c;\n            b = x;\n        }\n        else if (h < 240) {\n            g = x;\n            b = c;\n        }\n        else if (h < 300) {\n            r = x;\n            b = c;\n        }\n        else if (h <= 360) {\n            r = c;\n            b = x;\n        }\n        r = Math.round((r + m) * 255);\n        g = Math.round((g + m) * 255);\n        b = Math.round((b + m) * 255);\n        return new RGBA(r, g, b, a);\n    }\n}\nexport class Color {\n    static fromHex(hex) {\n        return Color.Format.CSS.parseHex(hex) || Color.red;\n    }\n    static equals(a, b) {\n        if (!a && !b) {\n            return true;\n        }\n        if (!a || !b) {\n            return false;\n        }\n        return a.equals(b);\n    }\n    get hsla() {\n        if (this._hsla) {\n            return this._hsla;\n        }\n        else {\n            return HSLA.fromRGBA(this.rgba);\n        }\n    }\n    get hsva() {\n        if (this._hsva) {\n            return this._hsva;\n        }\n        return HSVA.fromRGBA(this.rgba);\n    }\n    constructor(arg) {\n        if (!arg) {\n            throw new Error('Color needs a value');\n        }\n        else if (arg instanceof RGBA) {\n            this.rgba = arg;\n        }\n        else if (arg instanceof HSLA) {\n            this._hsla = arg;\n            this.rgba = HSLA.toRGBA(arg);\n        }\n        else if (arg instanceof HSVA) {\n            this._hsva = arg;\n            this.rgba = HSVA.toRGBA(arg);\n        }\n        else {\n            throw new Error('Invalid color ctor argument');\n        }\n    }\n    equals(other) {\n        return !!other && RGBA.equals(this.rgba, other.rgba) && HSLA.equals(this.hsla, other.hsla) && HSVA.equals(this.hsva, other.hsva);\n    }\n    /**\n     * http://www.w3.org/TR/WCAG20/#relativeluminancedef\n     * Returns the number in the set [0, 1]. O => Darkest Black. 1 => Lightest white.\n     */\n    getRelativeLuminance() {\n        const R = Color._relativeLuminanceForComponent(this.rgba.r);\n        const G = Color._relativeLuminanceForComponent(this.rgba.g);\n        const B = Color._relativeLuminanceForComponent(this.rgba.b);\n        const luminance = 0.2126 * R + 0.7152 * G + 0.0722 * B;\n        return roundFloat(luminance, 4);\n    }\n    static _relativeLuminanceForComponent(color) {\n        const c = color / 255;\n        return (c <= 0.03928) ? c / 12.92 : Math.pow(((c + 0.055) / 1.055), 2.4);\n    }\n    /**\n     *\thttp://24ways.org/2010/calculating-color-contrast\n     *  Return 'true' if lighter color otherwise 'false'\n     */\n    isLighter() {\n        const yiq = (this.rgba.r * 299 + this.rgba.g * 587 + this.rgba.b * 114) / 1000;\n        return yiq >= 128;\n    }\n    isLighterThan(another) {\n        const lum1 = this.getRelativeLuminance();\n        const lum2 = another.getRelativeLuminance();\n        return lum1 > lum2;\n    }\n    isDarkerThan(another) {\n        const lum1 = this.getRelativeLuminance();\n        const lum2 = another.getRelativeLuminance();\n        return lum1 < lum2;\n    }\n    lighten(factor) {\n        return new Color(new HSLA(this.hsla.h, this.hsla.s, this.hsla.l + this.hsla.l * factor, this.hsla.a));\n    }\n    darken(factor) {\n        return new Color(new HSLA(this.hsla.h, this.hsla.s, this.hsla.l - this.hsla.l * factor, this.hsla.a));\n    }\n    transparent(factor) {\n        const { r, g, b, a } = this.rgba;\n        return new Color(new RGBA(r, g, b, a * factor));\n    }\n    isTransparent() {\n        return this.rgba.a === 0;\n    }\n    isOpaque() {\n        return this.rgba.a === 1;\n    }\n    opposite() {\n        return new Color(new RGBA(255 - this.rgba.r, 255 - this.rgba.g, 255 - this.rgba.b, this.rgba.a));\n    }\n    makeOpaque(opaqueBackground) {\n        if (this.isOpaque() || opaqueBackground.rgba.a !== 1) {\n            // only allow to blend onto a non-opaque color onto a opaque color\n            return this;\n        }\n        const { r, g, b, a } = this.rgba;\n        // https://stackoverflow.com/questions/12228548/finding-equivalent-color-with-opacity\n        return new Color(new RGBA(opaqueBackground.rgba.r - a * (opaqueBackground.rgba.r - r), opaqueBackground.rgba.g - a * (opaqueBackground.rgba.g - g), opaqueBackground.rgba.b - a * (opaqueBackground.rgba.b - b), 1));\n    }\n    toString() {\n        if (!this._toString) {\n            this._toString = Color.Format.CSS.format(this);\n        }\n        return this._toString;\n    }\n    static getLighterColor(of, relative, factor) {\n        if (of.isLighterThan(relative)) {\n            return of;\n        }\n        factor = factor ? factor : 0.5;\n        const lum1 = of.getRelativeLuminance();\n        const lum2 = relative.getRelativeLuminance();\n        factor = factor * (lum2 - lum1) / lum2;\n        return of.lighten(factor);\n    }\n    static getDarkerColor(of, relative, factor) {\n        if (of.isDarkerThan(relative)) {\n            return of;\n        }\n        factor = factor ? factor : 0.5;\n        const lum1 = of.getRelativeLuminance();\n        const lum2 = relative.getRelativeLuminance();\n        factor = factor * (lum1 - lum2) / lum1;\n        return of.darken(factor);\n    }\n}\nColor.white = new Color(new RGBA(255, 255, 255, 1));\nColor.black = new Color(new RGBA(0, 0, 0, 1));\nColor.red = new Color(new RGBA(255, 0, 0, 1));\nColor.blue = new Color(new RGBA(0, 0, 255, 1));\nColor.green = new Color(new RGBA(0, 255, 0, 1));\nColor.cyan = new Color(new RGBA(0, 255, 255, 1));\nColor.lightgrey = new Color(new RGBA(211, 211, 211, 1));\nColor.transparent = new Color(new RGBA(0, 0, 0, 0));\n(function (Color) {\n    let Format;\n    (function (Format) {\n        let CSS;\n        (function (CSS) {\n            function formatRGB(color) {\n                if (color.rgba.a === 1) {\n                    return `rgb(${color.rgba.r}, ${color.rgba.g}, ${color.rgba.b})`;\n                }\n                return Color.Format.CSS.formatRGBA(color);\n            }\n            CSS.formatRGB = formatRGB;\n            function formatRGBA(color) {\n                return `rgba(${color.rgba.r}, ${color.rgba.g}, ${color.rgba.b}, ${+(color.rgba.a).toFixed(2)})`;\n            }\n            CSS.formatRGBA = formatRGBA;\n            function formatHSL(color) {\n                if (color.hsla.a === 1) {\n                    return `hsl(${color.hsla.h}, ${(color.hsla.s * 100).toFixed(2)}%, ${(color.hsla.l * 100).toFixed(2)}%)`;\n                }\n                return Color.Format.CSS.formatHSLA(color);\n            }\n            CSS.formatHSL = formatHSL;\n            function formatHSLA(color) {\n                return `hsla(${color.hsla.h}, ${(color.hsla.s * 100).toFixed(2)}%, ${(color.hsla.l * 100).toFixed(2)}%, ${color.hsla.a.toFixed(2)})`;\n            }\n            CSS.formatHSLA = formatHSLA;\n            function _toTwoDigitHex(n) {\n                const r = n.toString(16);\n                return r.length !== 2 ? '0' + r : r;\n            }\n            /**\n             * Formats the color as #RRGGBB\n             */\n            function formatHex(color) {\n                return `#${_toTwoDigitHex(color.rgba.r)}${_toTwoDigitHex(color.rgba.g)}${_toTwoDigitHex(color.rgba.b)}`;\n            }\n            CSS.formatHex = formatHex;\n            /**\n             * Formats the color as #RRGGBBAA\n             * If 'compact' is set, colors without transparancy will be printed as #RRGGBB\n             */\n            function formatHexA(color, compact = false) {\n                if (compact && color.rgba.a === 1) {\n                    return Color.Format.CSS.formatHex(color);\n                }\n                return `#${_toTwoDigitHex(color.rgba.r)}${_toTwoDigitHex(color.rgba.g)}${_toTwoDigitHex(color.rgba.b)}${_toTwoDigitHex(Math.round(color.rgba.a * 255))}`;\n            }\n            CSS.formatHexA = formatHexA;\n            /**\n             * The default format will use HEX if opaque and RGBA otherwise.\n             */\n            function format(color) {\n                if (color.isOpaque()) {\n                    return Color.Format.CSS.formatHex(color);\n                }\n                return Color.Format.CSS.formatRGBA(color);\n            }\n            CSS.format = format;\n            /**\n             * Converts an Hex color value to a Color.\n             * returns r, g, and b are contained in the set [0, 255]\n             * @param hex string (#RGB, #RGBA, #RRGGBB or #RRGGBBAA).\n             */\n            function parseHex(hex) {\n                const length = hex.length;\n                if (length === 0) {\n                    // Invalid color\n                    return null;\n                }\n                if (hex.charCodeAt(0) !== 35 /* CharCode.Hash */) {\n                    // Does not begin with a #\n                    return null;\n                }\n                if (length === 7) {\n                    // #RRGGBB format\n                    const r = 16 * _parseHexDigit(hex.charCodeAt(1)) + _parseHexDigit(hex.charCodeAt(2));\n                    const g = 16 * _parseHexDigit(hex.charCodeAt(3)) + _parseHexDigit(hex.charCodeAt(4));\n                    const b = 16 * _parseHexDigit(hex.charCodeAt(5)) + _parseHexDigit(hex.charCodeAt(6));\n                    return new Color(new RGBA(r, g, b, 1));\n                }\n                if (length === 9) {\n                    // #RRGGBBAA format\n                    const r = 16 * _parseHexDigit(hex.charCodeAt(1)) + _parseHexDigit(hex.charCodeAt(2));\n                    const g = 16 * _parseHexDigit(hex.charCodeAt(3)) + _parseHexDigit(hex.charCodeAt(4));\n                    const b = 16 * _parseHexDigit(hex.charCodeAt(5)) + _parseHexDigit(hex.charCodeAt(6));\n                    const a = 16 * _parseHexDigit(hex.charCodeAt(7)) + _parseHexDigit(hex.charCodeAt(8));\n                    return new Color(new RGBA(r, g, b, a / 255));\n                }\n                if (length === 4) {\n                    // #RGB format\n                    const r = _parseHexDigit(hex.charCodeAt(1));\n                    const g = _parseHexDigit(hex.charCodeAt(2));\n                    const b = _parseHexDigit(hex.charCodeAt(3));\n                    return new Color(new RGBA(16 * r + r, 16 * g + g, 16 * b + b));\n                }\n                if (length === 5) {\n                    // #RGBA format\n                    const r = _parseHexDigit(hex.charCodeAt(1));\n                    const g = _parseHexDigit(hex.charCodeAt(2));\n                    const b = _parseHexDigit(hex.charCodeAt(3));\n                    const a = _parseHexDigit(hex.charCodeAt(4));\n                    return new Color(new RGBA(16 * r + r, 16 * g + g, 16 * b + b, (16 * a + a) / 255));\n                }\n                // Invalid color\n                return null;\n            }\n            CSS.parseHex = parseHex;\n            function _parseHexDigit(charCode) {\n                switch (charCode) {\n                    case 48 /* CharCode.Digit0 */: return 0;\n                    case 49 /* CharCode.Digit1 */: return 1;\n                    case 50 /* CharCode.Digit2 */: return 2;\n                    case 51 /* CharCode.Digit3 */: return 3;\n                    case 52 /* CharCode.Digit4 */: return 4;\n                    case 53 /* CharCode.Digit5 */: return 5;\n                    case 54 /* CharCode.Digit6 */: return 6;\n                    case 55 /* CharCode.Digit7 */: return 7;\n                    case 56 /* CharCode.Digit8 */: return 8;\n                    case 57 /* CharCode.Digit9 */: return 9;\n                    case 97 /* CharCode.a */: return 10;\n                    case 65 /* CharCode.A */: return 10;\n                    case 98 /* CharCode.b */: return 11;\n                    case 66 /* CharCode.B */: return 11;\n                    case 99 /* CharCode.c */: return 12;\n                    case 67 /* CharCode.C */: return 12;\n                    case 100 /* CharCode.d */: return 13;\n                    case 68 /* CharCode.D */: return 13;\n                    case 101 /* CharCode.e */: return 14;\n                    case 69 /* CharCode.E */: return 14;\n                    case 102 /* CharCode.f */: return 15;\n                    case 70 /* CharCode.F */: return 15;\n                }\n                return 0;\n            }\n        })(CSS = Format.CSS || (Format.CSS = {}));\n    })(Format = Color.Format || (Color.Format = {}));\n})(Color || (Color = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Color, HSLA } from '../../../base/common/color.js';\nfunction _parseCaptureGroups(captureGroups) {\n    const values = [];\n    for (const captureGroup of captureGroups) {\n        const parsedNumber = Number(captureGroup);\n        if (parsedNumber || parsedNumber === 0 && captureGroup.replace(/\\s/g, '') !== '') {\n            values.push(parsedNumber);\n        }\n    }\n    return values;\n}\nfunction _toIColor(r, g, b, a) {\n    return {\n        red: r / 255,\n        blue: b / 255,\n        green: g / 255,\n        alpha: a\n    };\n}\nfunction _findRange(model, match) {\n    const index = match.index;\n    const length = match[0].length;\n    if (!index) {\n        return;\n    }\n    const startPosition = model.positionAt(index);\n    const range = {\n        startLineNumber: startPosition.lineNumber,\n        startColumn: startPosition.column,\n        endLineNumber: startPosition.lineNumber,\n        endColumn: startPosition.column + length\n    };\n    return range;\n}\nfunction _findHexColorInformation(range, hexValue) {\n    if (!range) {\n        return;\n    }\n    const parsedHexColor = Color.Format.CSS.parseHex(hexValue);\n    if (!parsedHexColor) {\n        return;\n    }\n    return {\n        range: range,\n        color: _toIColor(parsedHexColor.rgba.r, parsedHexColor.rgba.g, parsedHexColor.rgba.b, parsedHexColor.rgba.a)\n    };\n}\nfunction _findRGBColorInformation(range, matches, isAlpha) {\n    if (!range || matches.length !== 1) {\n        return;\n    }\n    const match = matches[0];\n    const captureGroups = match.values();\n    const parsedRegex = _parseCaptureGroups(captureGroups);\n    return {\n        range: range,\n        color: _toIColor(parsedRegex[0], parsedRegex[1], parsedRegex[2], isAlpha ? parsedRegex[3] : 1)\n    };\n}\nfunction _findHSLColorInformation(range, matches, isAlpha) {\n    if (!range || matches.length !== 1) {\n        return;\n    }\n    const match = matches[0];\n    const captureGroups = match.values();\n    const parsedRegex = _parseCaptureGroups(captureGroups);\n    const colorEquivalent = new Color(new HSLA(parsedRegex[0], parsedRegex[1] / 100, parsedRegex[2] / 100, isAlpha ? parsedRegex[3] : 1));\n    return {\n        range: range,\n        color: _toIColor(colorEquivalent.rgba.r, colorEquivalent.rgba.g, colorEquivalent.rgba.b, colorEquivalent.rgba.a)\n    };\n}\nfunction _findMatches(model, regex) {\n    if (typeof model === 'string') {\n        return [...model.matchAll(regex)];\n    }\n    else {\n        return model.findMatches(regex);\n    }\n}\nfunction computeColors(model) {\n    const result = [];\n    // Early validation for RGB and HSL\n    const initialValidationRegex = /\\b(rgb|rgba|hsl|hsla)(\\([0-9\\s,.\\%]*\\))|(#)([A-Fa-f0-9]{3})\\b|(#)([A-Fa-f0-9]{4})\\b|(#)([A-Fa-f0-9]{6})\\b|(#)([A-Fa-f0-9]{8})\\b/gm;\n    const initialValidationMatches = _findMatches(model, initialValidationRegex);\n    // Potential colors have been found, validate the parameters\n    if (initialValidationMatches.length > 0) {\n        for (const initialMatch of initialValidationMatches) {\n            const initialCaptureGroups = initialMatch.filter(captureGroup => captureGroup !== undefined);\n            const colorScheme = initialCaptureGroups[1];\n            const colorParameters = initialCaptureGroups[2];\n            if (!colorParameters) {\n                continue;\n            }\n            let colorInformation;\n            if (colorScheme === 'rgb') {\n                const regexParameters = /^\\(\\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\\s*,\\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\\s*,\\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\\s*\\)$/gm;\n                colorInformation = _findRGBColorInformation(_findRange(model, initialMatch), _findMatches(colorParameters, regexParameters), false);\n            }\n            else if (colorScheme === 'rgba') {\n                const regexParameters = /^\\(\\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\\s*,\\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\\s*,\\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\\s*,\\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\\s*\\)$/gm;\n                colorInformation = _findRGBColorInformation(_findRange(model, initialMatch), _findMatches(colorParameters, regexParameters), true);\n            }\n            else if (colorScheme === 'hsl') {\n                const regexParameters = /^\\(\\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\\s*,\\s*(100|\\d{1,2}[.]\\d*|\\d{1,2})%\\s*,\\s*(100|\\d{1,2}[.]\\d*|\\d{1,2})%\\s*\\)$/gm;\n                colorInformation = _findHSLColorInformation(_findRange(model, initialMatch), _findMatches(colorParameters, regexParameters), false);\n            }\n            else if (colorScheme === 'hsla') {\n                const regexParameters = /^\\(\\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\\s*,\\s*(100|\\d{1,2}[.]\\d*|\\d{1,2})%\\s*,\\s*(100|\\d{1,2}[.]\\d*|\\d{1,2})%\\s*,\\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\\s*\\)$/gm;\n                colorInformation = _findHSLColorInformation(_findRange(model, initialMatch), _findMatches(colorParameters, regexParameters), true);\n            }\n            else if (colorScheme === '#') {\n                colorInformation = _findHexColorInformation(_findRange(model, initialMatch), colorScheme + colorParameters);\n            }\n            if (colorInformation) {\n                result.push(colorInformation);\n            }\n        }\n    }\n    return result;\n}\n/**\n * Returns an array of all default document colors in the provided document\n */\nexport function computeDefaultDocumentColors(model) {\n    if (!model || typeof model.getValue !== 'function' || typeof model.positionAt !== 'function') {\n        // Unknown caller!\n        return [];\n    }\n    return computeColors(model);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { stringDiff } from '../../../base/common/diff/diff.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { Position } from '../core/position.js';\nimport { Range } from '../core/range.js';\nimport { MirrorTextModel as BaseMirrorModel } from '../model/mirrorTextModel.js';\nimport { ensureValidWordDefinition, getWordAtText } from '../core/wordHelper.js';\nimport { computeLinks } from '../languages/linkComputer.js';\nimport { BasicInplaceReplace } from '../languages/supports/inplaceReplaceSupport.js';\nimport { createMonacoBaseAPI } from './editorBaseApi.js';\nimport { StopWatch } from '../../../base/common/stopwatch.js';\nimport { UnicodeTextModelHighlighter } from './unicodeTextModelHighlighter.js';\nimport { linesDiffComputers } from '../diff/linesDiffComputers.js';\nimport { createProxyObject, getAllMethodNames } from '../../../base/common/objects.js';\nimport { computeDefaultDocumentColors } from '../languages/defaultDocumentColorsComputer.js';\n/**\n * @internal\n */\nclass MirrorModel extends BaseMirrorModel {\n    get uri() {\n        return this._uri;\n    }\n    get eol() {\n        return this._eol;\n    }\n    getValue() {\n        return this.getText();\n    }\n    findMatches(regex) {\n        const matches = [];\n        for (let i = 0; i < this._lines.length; i++) {\n            const line = this._lines[i];\n            const offsetToAdd = this.offsetAt(new Position(i + 1, 1));\n            const iteratorOverMatches = line.matchAll(regex);\n            for (const match of iteratorOverMatches) {\n                if (match.index || match.index === 0) {\n                    match.index = match.index + offsetToAdd;\n                }\n                matches.push(match);\n            }\n        }\n        return matches;\n    }\n    getLinesContent() {\n        return this._lines.slice(0);\n    }\n    getLineCount() {\n        return this._lines.length;\n    }\n    getLineContent(lineNumber) {\n        return this._lines[lineNumber - 1];\n    }\n    getWordAtPosition(position, wordDefinition) {\n        const wordAtText = getWordAtText(position.column, ensureValidWordDefinition(wordDefinition), this._lines[position.lineNumber - 1], 0);\n        if (wordAtText) {\n            return new Range(position.lineNumber, wordAtText.startColumn, position.lineNumber, wordAtText.endColumn);\n        }\n        return null;\n    }\n    words(wordDefinition) {\n        const lines = this._lines;\n        const wordenize = this._wordenize.bind(this);\n        let lineNumber = 0;\n        let lineText = '';\n        let wordRangesIdx = 0;\n        let wordRanges = [];\n        return {\n            *[Symbol.iterator]() {\n                while (true) {\n                    if (wordRangesIdx < wordRanges.length) {\n                        const value = lineText.substring(wordRanges[wordRangesIdx].start, wordRanges[wordRangesIdx].end);\n                        wordRangesIdx += 1;\n                        yield value;\n                    }\n                    else {\n                        if (lineNumber < lines.length) {\n                            lineText = lines[lineNumber];\n                            wordRanges = wordenize(lineText, wordDefinition);\n                            wordRangesIdx = 0;\n                            lineNumber += 1;\n                        }\n                        else {\n                            break;\n                        }\n                    }\n                }\n            }\n        };\n    }\n    getLineWords(lineNumber, wordDefinition) {\n        const content = this._lines[lineNumber - 1];\n        const ranges = this._wordenize(content, wordDefinition);\n        const words = [];\n        for (const range of ranges) {\n            words.push({\n                word: content.substring(range.start, range.end),\n                startColumn: range.start + 1,\n                endColumn: range.end + 1\n            });\n        }\n        return words;\n    }\n    _wordenize(content, wordDefinition) {\n        const result = [];\n        let match;\n        wordDefinition.lastIndex = 0; // reset lastIndex just to be sure\n        while (match = wordDefinition.exec(content)) {\n            if (match[0].length === 0) {\n                // it did match the empty string\n                break;\n            }\n            result.push({ start: match.index, end: match.index + match[0].length });\n        }\n        return result;\n    }\n    getValueInRange(range) {\n        range = this._validateRange(range);\n        if (range.startLineNumber === range.endLineNumber) {\n            return this._lines[range.startLineNumber - 1].substring(range.startColumn - 1, range.endColumn - 1);\n        }\n        const lineEnding = this._eol;\n        const startLineIndex = range.startLineNumber - 1;\n        const endLineIndex = range.endLineNumber - 1;\n        const resultLines = [];\n        resultLines.push(this._lines[startLineIndex].substring(range.startColumn - 1));\n        for (let i = startLineIndex + 1; i < endLineIndex; i++) {\n            resultLines.push(this._lines[i]);\n        }\n        resultLines.push(this._lines[endLineIndex].substring(0, range.endColumn - 1));\n        return resultLines.join(lineEnding);\n    }\n    offsetAt(position) {\n        position = this._validatePosition(position);\n        this._ensureLineStarts();\n        return this._lineStarts.getPrefixSum(position.lineNumber - 2) + (position.column - 1);\n    }\n    positionAt(offset) {\n        offset = Math.floor(offset);\n        offset = Math.max(0, offset);\n        this._ensureLineStarts();\n        const out = this._lineStarts.getIndexOf(offset);\n        const lineLength = this._lines[out.index].length;\n        // Ensure we return a valid position\n        return {\n            lineNumber: 1 + out.index,\n            column: 1 + Math.min(out.remainder, lineLength)\n        };\n    }\n    _validateRange(range) {\n        const start = this._validatePosition({ lineNumber: range.startLineNumber, column: range.startColumn });\n        const end = this._validatePosition({ lineNumber: range.endLineNumber, column: range.endColumn });\n        if (start.lineNumber !== range.startLineNumber\n            || start.column !== range.startColumn\n            || end.lineNumber !== range.endLineNumber\n            || end.column !== range.endColumn) {\n            return {\n                startLineNumber: start.lineNumber,\n                startColumn: start.column,\n                endLineNumber: end.lineNumber,\n                endColumn: end.column\n            };\n        }\n        return range;\n    }\n    _validatePosition(position) {\n        if (!Position.isIPosition(position)) {\n            throw new Error('bad position');\n        }\n        let { lineNumber, column } = position;\n        let hasChanged = false;\n        if (lineNumber < 1) {\n            lineNumber = 1;\n            column = 1;\n            hasChanged = true;\n        }\n        else if (lineNumber > this._lines.length) {\n            lineNumber = this._lines.length;\n            column = this._lines[lineNumber - 1].length + 1;\n            hasChanged = true;\n        }\n        else {\n            const maxCharacter = this._lines[lineNumber - 1].length + 1;\n            if (column < 1) {\n                column = 1;\n                hasChanged = true;\n            }\n            else if (column > maxCharacter) {\n                column = maxCharacter;\n                hasChanged = true;\n            }\n        }\n        if (!hasChanged) {\n            return position;\n        }\n        else {\n            return { lineNumber, column };\n        }\n    }\n}\n/**\n * @internal\n */\nexport class EditorSimpleWorker {\n    constructor(host, foreignModuleFactory) {\n        this._host = host;\n        this._models = Object.create(null);\n        this._foreignModuleFactory = foreignModuleFactory;\n        this._foreignModule = null;\n    }\n    dispose() {\n        this._models = Object.create(null);\n    }\n    _getModel(uri) {\n        return this._models[uri];\n    }\n    _getModels() {\n        const all = [];\n        Object.keys(this._models).forEach((key) => all.push(this._models[key]));\n        return all;\n    }\n    acceptNewModel(data) {\n        this._models[data.url] = new MirrorModel(URI.parse(data.url), data.lines, data.EOL, data.versionId);\n    }\n    acceptModelChanged(strURL, e) {\n        if (!this._models[strURL]) {\n            return;\n        }\n        const model = this._models[strURL];\n        model.onEvents(e);\n    }\n    acceptRemovedModel(strURL) {\n        if (!this._models[strURL]) {\n            return;\n        }\n        delete this._models[strURL];\n    }\n    computeUnicodeHighlights(url, options, range) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const model = this._getModel(url);\n            if (!model) {\n                return { ranges: [], hasMore: false, ambiguousCharacterCount: 0, invisibleCharacterCount: 0, nonBasicAsciiCharacterCount: 0 };\n            }\n            return UnicodeTextModelHighlighter.computeUnicodeHighlights(model, options, range);\n        });\n    }\n    // ---- BEGIN diff --------------------------------------------------------------------------\n    computeDiff(originalUrl, modifiedUrl, options, algorithm) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const original = this._getModel(originalUrl);\n            const modified = this._getModel(modifiedUrl);\n            if (!original || !modified) {\n                return null;\n            }\n            return EditorSimpleWorker.computeDiff(original, modified, options, algorithm);\n        });\n    }\n    static computeDiff(originalTextModel, modifiedTextModel, options, algorithm) {\n        const diffAlgorithm = algorithm === 'advanced' ? linesDiffComputers.getAdvanced() : linesDiffComputers.getLegacy();\n        const originalLines = originalTextModel.getLinesContent();\n        const modifiedLines = modifiedTextModel.getLinesContent();\n        const result = diffAlgorithm.computeDiff(originalLines, modifiedLines, options);\n        const identical = (result.changes.length > 0 ? false : this._modelsAreIdentical(originalTextModel, modifiedTextModel));\n        function getLineChanges(changes) {\n            return changes.map(m => {\n                var _a;\n                return ([m.originalRange.startLineNumber, m.originalRange.endLineNumberExclusive, m.modifiedRange.startLineNumber, m.modifiedRange.endLineNumberExclusive, (_a = m.innerChanges) === null || _a === void 0 ? void 0 : _a.map(m => [\n                        m.originalRange.startLineNumber,\n                        m.originalRange.startColumn,\n                        m.originalRange.endLineNumber,\n                        m.originalRange.endColumn,\n                        m.modifiedRange.startLineNumber,\n                        m.modifiedRange.startColumn,\n                        m.modifiedRange.endLineNumber,\n                        m.modifiedRange.endColumn,\n                    ])]);\n            });\n        }\n        return {\n            identical,\n            quitEarly: result.hitTimeout,\n            changes: getLineChanges(result.changes),\n            moves: result.moves.map(m => ([\n                m.lineRangeMapping.originalRange.startLineNumber,\n                m.lineRangeMapping.originalRange.endLineNumberExclusive,\n                m.lineRangeMapping.modifiedRange.startLineNumber,\n                m.lineRangeMapping.modifiedRange.endLineNumberExclusive,\n                getLineChanges(m.changes)\n            ])),\n        };\n    }\n    static _modelsAreIdentical(original, modified) {\n        const originalLineCount = original.getLineCount();\n        const modifiedLineCount = modified.getLineCount();\n        if (originalLineCount !== modifiedLineCount) {\n            return false;\n        }\n        for (let line = 1; line <= originalLineCount; line++) {\n            const originalLine = original.getLineContent(line);\n            const modifiedLine = modified.getLineContent(line);\n            if (originalLine !== modifiedLine) {\n                return false;\n            }\n        }\n        return true;\n    }\n    computeMoreMinimalEdits(modelUrl, edits, pretty) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const model = this._getModel(modelUrl);\n            if (!model) {\n                return edits;\n            }\n            const result = [];\n            let lastEol = undefined;\n            edits = edits.slice(0).sort((a, b) => {\n                if (a.range && b.range) {\n                    return Range.compareRangesUsingStarts(a.range, b.range);\n                }\n                // eol only changes should go to the end\n                const aRng = a.range ? 0 : 1;\n                const bRng = b.range ? 0 : 1;\n                return aRng - bRng;\n            });\n            for (let { range, text, eol } of edits) {\n                if (typeof eol === 'number') {\n                    lastEol = eol;\n                }\n                if (Range.isEmpty(range) && !text) {\n                    // empty change\n                    continue;\n                }\n                const original = model.getValueInRange(range);\n                text = text.replace(/\\r\\n|\\n|\\r/g, model.eol);\n                if (original === text) {\n                    // noop\n                    continue;\n                }\n                // make sure diff won't take too long\n                if (Math.max(text.length, original.length) > EditorSimpleWorker._diffLimit) {\n                    result.push({ range, text });\n                    continue;\n                }\n                // compute diff between original and edit.text\n                const changes = stringDiff(original, text, pretty);\n                const editOffset = model.offsetAt(Range.lift(range).getStartPosition());\n                for (const change of changes) {\n                    const start = model.positionAt(editOffset + change.originalStart);\n                    const end = model.positionAt(editOffset + change.originalStart + change.originalLength);\n                    const newEdit = {\n                        text: text.substr(change.modifiedStart, change.modifiedLength),\n                        range: { startLineNumber: start.lineNumber, startColumn: start.column, endLineNumber: end.lineNumber, endColumn: end.column }\n                    };\n                    if (model.getValueInRange(newEdit.range) !== newEdit.text) {\n                        result.push(newEdit);\n                    }\n                }\n            }\n            if (typeof lastEol === 'number') {\n                result.push({ eol: lastEol, text: '', range: { startLineNumber: 0, startColumn: 0, endLineNumber: 0, endColumn: 0 } });\n            }\n            return result;\n        });\n    }\n    // ---- END minimal edits ---------------------------------------------------------------\n    computeLinks(modelUrl) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const model = this._getModel(modelUrl);\n            if (!model) {\n                return null;\n            }\n            return computeLinks(model);\n        });\n    }\n    // --- BEGIN default document colors -----------------------------------------------------------\n    computeDefaultDocumentColors(modelUrl) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const model = this._getModel(modelUrl);\n            if (!model) {\n                return null;\n            }\n            return computeDefaultDocumentColors(model);\n        });\n    }\n    textualSuggest(modelUrls, leadingWord, wordDef, wordDefFlags) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const sw = new StopWatch();\n            const wordDefRegExp = new RegExp(wordDef, wordDefFlags);\n            const seen = new Set();\n            outer: for (const url of modelUrls) {\n                const model = this._getModel(url);\n                if (!model) {\n                    continue;\n                }\n                for (const word of model.words(wordDefRegExp)) {\n                    if (word === leadingWord || !isNaN(Number(word))) {\n                        continue;\n                    }\n                    seen.add(word);\n                    if (seen.size > EditorSimpleWorker._suggestionsLimit) {\n                        break outer;\n                    }\n                }\n            }\n            return { words: Array.from(seen), duration: sw.elapsed() };\n        });\n    }\n    // ---- END suggest --------------------------------------------------------------------------\n    //#region -- word ranges --\n    computeWordRanges(modelUrl, range, wordDef, wordDefFlags) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const model = this._getModel(modelUrl);\n            if (!model) {\n                return Object.create(null);\n            }\n            const wordDefRegExp = new RegExp(wordDef, wordDefFlags);\n            const result = Object.create(null);\n            for (let line = range.startLineNumber; line < range.endLineNumber; line++) {\n                const words = model.getLineWords(line, wordDefRegExp);\n                for (const word of words) {\n                    if (!isNaN(Number(word.word))) {\n                        continue;\n                    }\n                    let array = result[word.word];\n                    if (!array) {\n                        array = [];\n                        result[word.word] = array;\n                    }\n                    array.push({\n                        startLineNumber: line,\n                        startColumn: word.startColumn,\n                        endLineNumber: line,\n                        endColumn: word.endColumn\n                    });\n                }\n            }\n            return result;\n        });\n    }\n    //#endregion\n    navigateValueSet(modelUrl, range, up, wordDef, wordDefFlags) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const model = this._getModel(modelUrl);\n            if (!model) {\n                return null;\n            }\n            const wordDefRegExp = new RegExp(wordDef, wordDefFlags);\n            if (range.startColumn === range.endColumn) {\n                range = {\n                    startLineNumber: range.startLineNumber,\n                    startColumn: range.startColumn,\n                    endLineNumber: range.endLineNumber,\n                    endColumn: range.endColumn + 1\n                };\n            }\n            const selectionText = model.getValueInRange(range);\n            const wordRange = model.getWordAtPosition({ lineNumber: range.startLineNumber, column: range.startColumn }, wordDefRegExp);\n            if (!wordRange) {\n                return null;\n            }\n            const word = model.getValueInRange(wordRange);\n            const result = BasicInplaceReplace.INSTANCE.navigateValueSet(range, selectionText, wordRange, word, up);\n            return result;\n        });\n    }\n    // ---- BEGIN foreign module support --------------------------------------------------------------------------\n    loadForeignModule(moduleId, createData, foreignHostMethods) {\n        const proxyMethodRequest = (method, args) => {\n            return this._host.fhr(method, args);\n        };\n        const foreignHost = createProxyObject(foreignHostMethods, proxyMethodRequest);\n        const ctx = {\n            host: foreignHost,\n            getMirrorModels: () => {\n                return this._getModels();\n            }\n        };\n        if (this._foreignModuleFactory) {\n            this._foreignModule = this._foreignModuleFactory(ctx, createData);\n            // static foreing module\n            return Promise.resolve(getAllMethodNames(this._foreignModule));\n        }\n        // ESM-comment-begin\n        // \t\treturn new Promise<any>((resolve, reject) => {\n        // \t\t\trequire([moduleId], (foreignModule: { create: IForeignModuleFactory }) => {\n        // \t\t\t\tthis._foreignModule = foreignModule.create(ctx, createData);\n        // \n        // \t\t\t\tresolve(getAllMethodNames(this._foreignModule));\n        // \n        // \t\t\t}, reject);\n        // \t\t});\n        // ESM-comment-end\n        // ESM-uncomment-begin\n        return Promise.reject(new Error(`Unexpected usage`));\n        // ESM-uncomment-end\n    }\n    // foreign method request\n    fmr(method, args) {\n        if (!this._foreignModule || typeof this._foreignModule[method] !== 'function') {\n            return Promise.reject(new Error('Missing requestHandler or method: ' + method));\n        }\n        try {\n            return Promise.resolve(this._foreignModule[method].apply(this._foreignModule, args));\n        }\n        catch (e) {\n            return Promise.reject(e);\n        }\n    }\n}\n// ---- END diff --------------------------------------------------------------------------\n// ---- BEGIN minimal edits ---------------------------------------------------------------\nEditorSimpleWorker._diffLimit = 100000;\n// ---- BEGIN suggest --------------------------------------------------------------------------\nEditorSimpleWorker._suggestionsLimit = 10000;\n/**\n * Called on the worker side\n * @internal\n */\nexport function create(host) {\n    return new EditorSimpleWorker(host, null);\n}\nif (typeof importScripts === 'function') {\n    // Running in a web worker\n    globalThis.monaco = createMonacoBaseAPI();\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { SimpleWorkerServer } from '../base/common/worker/simpleWorker.js';\nimport { EditorSimpleWorker } from './common/services/editorSimpleWorker.js';\nlet initialized = false;\nexport function initialize(foreignModule) {\n    if (initialized) {\n        return;\n    }\n    initialized = true;\n    const simpleWorker = new SimpleWorkerServer((msg) => {\n        globalThis.postMessage(msg);\n    }, (host) => new EditorSimpleWorker(host, foreignModule));\n    globalThis.onmessage = (e) => {\n        simpleWorker.onmessage(e.data);\n    };\n}\nglobalThis.onmessage = (e) => {\n    // Ignore first message in this case and initialize if not yet initialized\n    if (!initialized) {\n        initialize(null);\n    }\n};\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (changes, version) {\n        for (var _i = 0, changes_1 = changes; _i < changes_1.length; _i++) {\n            var change = changes_1[_i];\n            if (FullTextDocument.isIncremental(change)) {\n                // makes sure start is before end\n                var range = getWellformedRange(change.range);\n                // update content\n                var startOffset = this.offsetAt(range.start);\n                var endOffset = this.offsetAt(range.end);\n                this._content = this._content.substring(0, startOffset) + change.text + this._content.substring(endOffset, this._content.length);\n                // update the offsets\n                var startLine = Math.max(range.start.line, 0);\n                var endLine = Math.max(range.end.line, 0);\n                var lineOffsets = this._lineOffsets;\n                var addedLineOffsets = computeLineOffsets(change.text, false, startOffset);\n                if (endLine - startLine === addedLineOffsets.length) {\n                    for (var i = 0, len = addedLineOffsets.length; i < len; i++) {\n                        lineOffsets[i + startLine + 1] = addedLineOffsets[i];\n                    }\n                }\n                else {\n                    if (addedLineOffsets.length < 10000) {\n                        lineOffsets.splice.apply(lineOffsets, __spreadArray([startLine + 1, endLine - startLine], addedLineOffsets, false));\n                    }\n                    else { // avoid too many arguments for splice\n                        this._lineOffsets = lineOffsets = lineOffsets.slice(0, startLine + 1).concat(addedLineOffsets, lineOffsets.slice(endLine + 1));\n                    }\n                }\n                var diff = change.text.length - (endOffset - startOffset);\n                if (diff !== 0) {\n                    for (var i = startLine + 1 + addedLineOffsets.length, len = lineOffsets.length; i < len; i++) {\n                        lineOffsets[i] = lineOffsets[i] + diff;\n                    }\n                }\n            }\n            else if (FullTextDocument.isFull(change)) {\n                this._content = change.text;\n                this._lineOffsets = undefined;\n            }\n            else {\n                throw new Error('Unknown change event received');\n            }\n        }\n        this._version = version;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            this._lineOffsets = computeLineOffsets(this._content, true);\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return { line: 0, character: offset };\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return { line: line, character: offset - lineOffsets[line] };\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FullTextDocument.isIncremental = function (event) {\n        var candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    };\n    FullTextDocument.isFull = function (event) {\n        var candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    };\n    return FullTextDocument;\n}());\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new text document.\n     *\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param version The document's initial version number.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Updates a TextDocument by modifying its content.\n     *\n     * @param document the document to update. Only documents created by TextDocument.create are valid inputs.\n     * @param changes the changes to apply to the document.\n     * @param version the changes version for the document.\n     * @returns The updated TextDocument. Note: That's the same document instance passed in as first parameter.\n     *\n     */\n    function update(document, changes, version) {\n        if (document instanceof FullTextDocument) {\n            document.update(changes, version);\n            return document;\n        }\n        else {\n            throw new Error('TextDocument.update: document must be created by TextDocument.create');\n        }\n    }\n    TextDocument.update = update;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits.map(getWellformedEdit), function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = 0;\n        var spans = [];\n        for (var _i = 0, sortedEdits_1 = sortedEdits; _i < sortedEdits_1.length; _i++) {\n            var e = sortedEdits_1[_i];\n            var startOffset = document.offsetAt(e.range.start);\n            if (startOffset < lastModifiedOffset) {\n                throw new Error('Overlapping edit');\n            }\n            else if (startOffset > lastModifiedOffset) {\n                spans.push(text.substring(lastModifiedOffset, startOffset));\n            }\n            if (e.newText.length) {\n                spans.push(e.newText);\n            }\n            lastModifiedOffset = document.offsetAt(e.range.end);\n        }\n        spans.push(text.substr(lastModifiedOffset));\n        return spans.join('');\n    }\n    TextDocument.applyEdits = applyEdits;\n})(TextDocument || (TextDocument = {}));\nfunction mergeSort(data, compare) {\n    if (data.length <= 1) {\n        // sorted\n        return data;\n    }\n    var p = (data.length / 2) | 0;\n    var left = data.slice(0, p);\n    var right = data.slice(p);\n    mergeSort(left, compare);\n    mergeSort(right, compare);\n    var leftIdx = 0;\n    var rightIdx = 0;\n    var i = 0;\n    while (leftIdx < left.length && rightIdx < right.length) {\n        var ret = compare(left[leftIdx], right[rightIdx]);\n        if (ret <= 0) {\n            // smaller_equal -> take left to preserve order\n            data[i++] = left[leftIdx++];\n        }\n        else {\n            // greater -> take right\n            data[i++] = right[rightIdx++];\n        }\n    }\n    while (leftIdx < left.length) {\n        data[i++] = left[leftIdx++];\n    }\n    while (rightIdx < right.length) {\n        data[i++] = right[rightIdx++];\n    }\n    return data;\n}\nfunction computeLineOffsets(text, isAtLineStart, textOffset) {\n    if (textOffset === void 0) { textOffset = 0; }\n    var result = isAtLineStart ? [textOffset] : [];\n    for (var i = 0; i < text.length; i++) {\n        var ch = text.charCodeAt(i);\n        if (ch === 13 /* CharCode.CarriageReturn */ || ch === 10 /* CharCode.LineFeed */) {\n            if (ch === 13 /* CharCode.CarriageReturn */ && i + 1 < text.length && text.charCodeAt(i + 1) === 10 /* CharCode.LineFeed */) {\n                i++;\n            }\n            result.push(textOffset + i + 1);\n        }\n    }\n    return result;\n}\nfunction getWellformedRange(range) {\n    var start = range.start;\n    var end = range.end;\n    if (start.line > end.line || (start.line === end.line && start.character > end.character)) {\n        return { start: end, end: start };\n    }\n    return range;\n}\nfunction getWellformedEdit(textEdit) {\n    var range = getWellformedRange(textEdit.range);\n    if (range !== textEdit.range) {\n        return { newText: textEdit.newText, range: range };\n    }\n    return textEdit;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n/**\n * Creates a JSON scanner on the given text.\n * If ignoreTrivia is set, whitespaces or comments are ignored.\n */\nexport function createScanner(text, ignoreTrivia = false) {\n    const len = text.length;\n    let pos = 0, value = '', tokenOffset = 0, token = 16 /* SyntaxKind.Unknown */, lineNumber = 0, lineStartOffset = 0, tokenLineStartOffset = 0, prevTokenLineStartOffset = 0, scanError = 0 /* ScanError.None */;\n    function scanHexDigits(count, exact) {\n        let digits = 0;\n        let value = 0;\n        while (digits < count || !exact) {\n            let ch = text.charCodeAt(pos);\n            if (ch >= 48 /* CharacterCodes._0 */ && ch <= 57 /* CharacterCodes._9 */) {\n                value = value * 16 + ch - 48 /* CharacterCodes._0 */;\n            }\n            else if (ch >= 65 /* CharacterCodes.A */ && ch <= 70 /* CharacterCodes.F */) {\n                value = value * 16 + ch - 65 /* CharacterCodes.A */ + 10;\n            }\n            else if (ch >= 97 /* CharacterCodes.a */ && ch <= 102 /* CharacterCodes.f */) {\n                value = value * 16 + ch - 97 /* CharacterCodes.a */ + 10;\n            }\n            else {\n                break;\n            }\n            pos++;\n            digits++;\n        }\n        if (digits < count) {\n            value = -1;\n        }\n        return value;\n    }\n    function setPosition(newPosition) {\n        pos = newPosition;\n        value = '';\n        tokenOffset = 0;\n        token = 16 /* SyntaxKind.Unknown */;\n        scanError = 0 /* ScanError.None */;\n    }\n    function scanNumber() {\n        let start = pos;\n        if (text.charCodeAt(pos) === 48 /* CharacterCodes._0 */) {\n            pos++;\n        }\n        else {\n            pos++;\n            while (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                pos++;\n            }\n        }\n        if (pos < text.length && text.charCodeAt(pos) === 46 /* CharacterCodes.dot */) {\n            pos++;\n            if (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                pos++;\n                while (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                    pos++;\n                }\n            }\n            else {\n                scanError = 3 /* ScanError.UnexpectedEndOfNumber */;\n                return text.substring(start, pos);\n            }\n        }\n        let end = pos;\n        if (pos < text.length && (text.charCodeAt(pos) === 69 /* CharacterCodes.E */ || text.charCodeAt(pos) === 101 /* CharacterCodes.e */)) {\n            pos++;\n            if (pos < text.length && text.charCodeAt(pos) === 43 /* CharacterCodes.plus */ || text.charCodeAt(pos) === 45 /* CharacterCodes.minus */) {\n                pos++;\n            }\n            if (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                pos++;\n                while (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                    pos++;\n                }\n                end = pos;\n            }\n            else {\n                scanError = 3 /* ScanError.UnexpectedEndOfNumber */;\n            }\n        }\n        return text.substring(start, end);\n    }\n    function scanString() {\n        let result = '', start = pos;\n        while (true) {\n            if (pos >= len) {\n                result += text.substring(start, pos);\n                scanError = 2 /* ScanError.UnexpectedEndOfString */;\n                break;\n            }\n            const ch = text.charCodeAt(pos);\n            if (ch === 34 /* CharacterCodes.doubleQuote */) {\n                result += text.substring(start, pos);\n                pos++;\n                break;\n            }\n            if (ch === 92 /* CharacterCodes.backslash */) {\n                result += text.substring(start, pos);\n                pos++;\n                if (pos >= len) {\n                    scanError = 2 /* ScanError.UnexpectedEndOfString */;\n                    break;\n                }\n                const ch2 = text.charCodeAt(pos++);\n                switch (ch2) {\n                    case 34 /* CharacterCodes.doubleQuote */:\n                        result += '\\\"';\n                        break;\n                    case 92 /* CharacterCodes.backslash */:\n                        result += '\\\\';\n                        break;\n                    case 47 /* CharacterCodes.slash */:\n                        result += '/';\n                        break;\n                    case 98 /* CharacterCodes.b */:\n                        result += '\\b';\n                        break;\n                    case 102 /* CharacterCodes.f */:\n                        result += '\\f';\n                        break;\n                    case 110 /* CharacterCodes.n */:\n                        result += '\\n';\n                        break;\n                    case 114 /* CharacterCodes.r */:\n                        result += '\\r';\n                        break;\n                    case 116 /* CharacterCodes.t */:\n                        result += '\\t';\n                        break;\n                    case 117 /* CharacterCodes.u */:\n                        const ch3 = scanHexDigits(4, true);\n                        if (ch3 >= 0) {\n                            result += String.fromCharCode(ch3);\n                        }\n                        else {\n                            scanError = 4 /* ScanError.InvalidUnicode */;\n                        }\n                        break;\n                    default:\n                        scanError = 5 /* ScanError.InvalidEscapeCharacter */;\n                }\n                start = pos;\n                continue;\n            }\n            if (ch >= 0 && ch <= 0x1f) {\n                if (isLineBreak(ch)) {\n                    result += text.substring(start, pos);\n                    scanError = 2 /* ScanError.UnexpectedEndOfString */;\n                    break;\n                }\n                else {\n                    scanError = 6 /* ScanError.InvalidCharacter */;\n                    // mark as error but continue with string\n                }\n            }\n            pos++;\n        }\n        return result;\n    }\n    function scanNext() {\n        value = '';\n        scanError = 0 /* ScanError.None */;\n        tokenOffset = pos;\n        lineStartOffset = lineNumber;\n        prevTokenLineStartOffset = tokenLineStartOffset;\n        if (pos >= len) {\n            // at the end\n            tokenOffset = len;\n            return token = 17 /* SyntaxKind.EOF */;\n        }\n        let code = text.charCodeAt(pos);\n        // trivia: whitespace\n        if (isWhiteSpace(code)) {\n            do {\n                pos++;\n                value += String.fromCharCode(code);\n                code = text.charCodeAt(pos);\n            } while (isWhiteSpace(code));\n            return token = 15 /* SyntaxKind.Trivia */;\n        }\n        // trivia: newlines\n        if (isLineBreak(code)) {\n            pos++;\n            value += String.fromCharCode(code);\n            if (code === 13 /* CharacterCodes.carriageReturn */ && text.charCodeAt(pos) === 10 /* CharacterCodes.lineFeed */) {\n                pos++;\n                value += '\\n';\n            }\n            lineNumber++;\n            tokenLineStartOffset = pos;\n            return token = 14 /* SyntaxKind.LineBreakTrivia */;\n        }\n        switch (code) {\n            // tokens: []{}:,\n            case 123 /* CharacterCodes.openBrace */:\n                pos++;\n                return token = 1 /* SyntaxKind.OpenBraceToken */;\n            case 125 /* CharacterCodes.closeBrace */:\n                pos++;\n                return token = 2 /* SyntaxKind.CloseBraceToken */;\n            case 91 /* CharacterCodes.openBracket */:\n                pos++;\n                return token = 3 /* SyntaxKind.OpenBracketToken */;\n            case 93 /* CharacterCodes.closeBracket */:\n                pos++;\n                return token = 4 /* SyntaxKind.CloseBracketToken */;\n            case 58 /* CharacterCodes.colon */:\n                pos++;\n                return token = 6 /* SyntaxKind.ColonToken */;\n            case 44 /* CharacterCodes.comma */:\n                pos++;\n                return token = 5 /* SyntaxKind.CommaToken */;\n            // strings\n            case 34 /* CharacterCodes.doubleQuote */:\n                pos++;\n                value = scanString();\n                return token = 10 /* SyntaxKind.StringLiteral */;\n            // comments\n            case 47 /* CharacterCodes.slash */:\n                const start = pos - 1;\n                // Single-line comment\n                if (text.charCodeAt(pos + 1) === 47 /* CharacterCodes.slash */) {\n                    pos += 2;\n                    while (pos < len) {\n                        if (isLineBreak(text.charCodeAt(pos))) {\n                            break;\n                        }\n                        pos++;\n                    }\n                    value = text.substring(start, pos);\n                    return token = 12 /* SyntaxKind.LineCommentTrivia */;\n                }\n                // Multi-line comment\n                if (text.charCodeAt(pos + 1) === 42 /* CharacterCodes.asterisk */) {\n                    pos += 2;\n                    const safeLength = len - 1; // For lookahead.\n                    let commentClosed = false;\n                    while (pos < safeLength) {\n                        const ch = text.charCodeAt(pos);\n                        if (ch === 42 /* CharacterCodes.asterisk */ && text.charCodeAt(pos + 1) === 47 /* CharacterCodes.slash */) {\n                            pos += 2;\n                            commentClosed = true;\n                            break;\n                        }\n                        pos++;\n                        if (isLineBreak(ch)) {\n                            if (ch === 13 /* CharacterCodes.carriageReturn */ && text.charCodeAt(pos) === 10 /* CharacterCodes.lineFeed */) {\n                                pos++;\n                            }\n                            lineNumber++;\n                            tokenLineStartOffset = pos;\n                        }\n                    }\n                    if (!commentClosed) {\n                        pos++;\n                        scanError = 1 /* ScanError.UnexpectedEndOfComment */;\n                    }\n                    value = text.substring(start, pos);\n                    return token = 13 /* SyntaxKind.BlockCommentTrivia */;\n                }\n                // just a single slash\n                value += String.fromCharCode(code);\n                pos++;\n                return token = 16 /* SyntaxKind.Unknown */;\n            // numbers\n            case 45 /* CharacterCodes.minus */:\n                value += String.fromCharCode(code);\n                pos++;\n                if (pos === len || !isDigit(text.charCodeAt(pos))) {\n                    return token = 16 /* SyntaxKind.Unknown */;\n                }\n            // found a minus, followed by a number so\n            // we fall through to proceed with scanning\n            // numbers\n            case 48 /* CharacterCodes._0 */:\n            case 49 /* CharacterCodes._1 */:\n            case 50 /* CharacterCodes._2 */:\n            case 51 /* CharacterCodes._3 */:\n            case 52 /* CharacterCodes._4 */:\n            case 53 /* CharacterCodes._5 */:\n            case 54 /* CharacterCodes._6 */:\n            case 55 /* CharacterCodes._7 */:\n            case 56 /* CharacterCodes._8 */:\n            case 57 /* CharacterCodes._9 */:\n                value += scanNumber();\n                return token = 11 /* SyntaxKind.NumericLiteral */;\n            // literals and unknown symbols\n            default:\n                // is a literal? Read the full word.\n                while (pos < len && isUnknownContentCharacter(code)) {\n                    pos++;\n                    code = text.charCodeAt(pos);\n                }\n                if (tokenOffset !== pos) {\n                    value = text.substring(tokenOffset, pos);\n                    // keywords: true, false, null\n                    switch (value) {\n                        case 'true': return token = 8 /* SyntaxKind.TrueKeyword */;\n                        case 'false': return token = 9 /* SyntaxKind.FalseKeyword */;\n                        case 'null': return token = 7 /* SyntaxKind.NullKeyword */;\n                    }\n                    return token = 16 /* SyntaxKind.Unknown */;\n                }\n                // some\n                value += String.fromCharCode(code);\n                pos++;\n                return token = 16 /* SyntaxKind.Unknown */;\n        }\n    }\n    function isUnknownContentCharacter(code) {\n        if (isWhiteSpace(code) || isLineBreak(code)) {\n            return false;\n        }\n        switch (code) {\n            case 125 /* CharacterCodes.closeBrace */:\n            case 93 /* CharacterCodes.closeBracket */:\n            case 123 /* CharacterCodes.openBrace */:\n            case 91 /* CharacterCodes.openBracket */:\n            case 34 /* CharacterCodes.doubleQuote */:\n            case 58 /* CharacterCodes.colon */:\n            case 44 /* CharacterCodes.comma */:\n            case 47 /* CharacterCodes.slash */:\n                return false;\n        }\n        return true;\n    }\n    function scanNextNonTrivia() {\n        let result;\n        do {\n            result = scanNext();\n        } while (result >= 12 /* SyntaxKind.LineCommentTrivia */ && result <= 15 /* SyntaxKind.Trivia */);\n        return result;\n    }\n    return {\n        setPosition: setPosition,\n        getPosition: () => pos,\n        scan: ignoreTrivia ? scanNextNonTrivia : scanNext,\n        getToken: () => token,\n        getTokenValue: () => value,\n        getTokenOffset: () => tokenOffset,\n        getTokenLength: () => pos - tokenOffset,\n        getTokenStartLine: () => lineStartOffset,\n        getTokenStartCharacter: () => tokenOffset - prevTokenLineStartOffset,\n        getTokenError: () => scanError,\n    };\n}\nfunction isWhiteSpace(ch) {\n    return ch === 32 /* CharacterCodes.space */ || ch === 9 /* CharacterCodes.tab */;\n}\nfunction isLineBreak(ch) {\n    return ch === 10 /* CharacterCodes.lineFeed */ || ch === 13 /* CharacterCodes.carriageReturn */;\n}\nfunction isDigit(ch) {\n    return ch >= 48 /* CharacterCodes._0 */ && ch <= 57 /* CharacterCodes._9 */;\n}\nvar CharacterCodes;\n(function (CharacterCodes) {\n    CharacterCodes[CharacterCodes[\"lineFeed\"] = 10] = \"lineFeed\";\n    CharacterCodes[CharacterCodes[\"carriageReturn\"] = 13] = \"carriageReturn\";\n    CharacterCodes[CharacterCodes[\"space\"] = 32] = \"space\";\n    CharacterCodes[CharacterCodes[\"_0\"] = 48] = \"_0\";\n    CharacterCodes[CharacterCodes[\"_1\"] = 49] = \"_1\";\n    CharacterCodes[CharacterCodes[\"_2\"] = 50] = \"_2\";\n    CharacterCodes[CharacterCodes[\"_3\"] = 51] = \"_3\";\n    CharacterCodes[CharacterCodes[\"_4\"] = 52] = \"_4\";\n    CharacterCodes[CharacterCodes[\"_5\"] = 53] = \"_5\";\n    CharacterCodes[CharacterCodes[\"_6\"] = 54] = \"_6\";\n    CharacterCodes[CharacterCodes[\"_7\"] = 55] = \"_7\";\n    CharacterCodes[CharacterCodes[\"_8\"] = 56] = \"_8\";\n    CharacterCodes[CharacterCodes[\"_9\"] = 57] = \"_9\";\n    CharacterCodes[CharacterCodes[\"a\"] = 97] = \"a\";\n    CharacterCodes[CharacterCodes[\"b\"] = 98] = \"b\";\n    CharacterCodes[CharacterCodes[\"c\"] = 99] = \"c\";\n    CharacterCodes[CharacterCodes[\"d\"] = 100] = \"d\";\n    CharacterCodes[CharacterCodes[\"e\"] = 101] = \"e\";\n    CharacterCodes[CharacterCodes[\"f\"] = 102] = \"f\";\n    CharacterCodes[CharacterCodes[\"g\"] = 103] = \"g\";\n    CharacterCodes[CharacterCodes[\"h\"] = 104] = \"h\";\n    CharacterCodes[CharacterCodes[\"i\"] = 105] = \"i\";\n    CharacterCodes[CharacterCodes[\"j\"] = 106] = \"j\";\n    CharacterCodes[CharacterCodes[\"k\"] = 107] = \"k\";\n    CharacterCodes[CharacterCodes[\"l\"] = 108] = \"l\";\n    CharacterCodes[CharacterCodes[\"m\"] = 109] = \"m\";\n    CharacterCodes[CharacterCodes[\"n\"] = 110] = \"n\";\n    CharacterCodes[CharacterCodes[\"o\"] = 111] = \"o\";\n    CharacterCodes[CharacterCodes[\"p\"] = 112] = \"p\";\n    CharacterCodes[CharacterCodes[\"q\"] = 113] = \"q\";\n    CharacterCodes[CharacterCodes[\"r\"] = 114] = \"r\";\n    CharacterCodes[CharacterCodes[\"s\"] = 115] = \"s\";\n    CharacterCodes[CharacterCodes[\"t\"] = 116] = \"t\";\n    CharacterCodes[CharacterCodes[\"u\"] = 117] = \"u\";\n    CharacterCodes[CharacterCodes[\"v\"] = 118] = \"v\";\n    CharacterCodes[CharacterCodes[\"w\"] = 119] = \"w\";\n    CharacterCodes[CharacterCodes[\"x\"] = 120] = \"x\";\n    CharacterCodes[CharacterCodes[\"y\"] = 121] = \"y\";\n    CharacterCodes[CharacterCodes[\"z\"] = 122] = \"z\";\n    CharacterCodes[CharacterCodes[\"A\"] = 65] = \"A\";\n    CharacterCodes[CharacterCodes[\"B\"] = 66] = \"B\";\n    CharacterCodes[CharacterCodes[\"C\"] = 67] = \"C\";\n    CharacterCodes[CharacterCodes[\"D\"] = 68] = \"D\";\n    CharacterCodes[CharacterCodes[\"E\"] = 69] = \"E\";\n    CharacterCodes[CharacterCodes[\"F\"] = 70] = \"F\";\n    CharacterCodes[CharacterCodes[\"G\"] = 71] = \"G\";\n    CharacterCodes[CharacterCodes[\"H\"] = 72] = \"H\";\n    CharacterCodes[CharacterCodes[\"I\"] = 73] = \"I\";\n    CharacterCodes[CharacterCodes[\"J\"] = 74] = \"J\";\n    CharacterCodes[CharacterCodes[\"K\"] = 75] = \"K\";\n    CharacterCodes[CharacterCodes[\"L\"] = 76] = \"L\";\n    CharacterCodes[CharacterCodes[\"M\"] = 77] = \"M\";\n    CharacterCodes[CharacterCodes[\"N\"] = 78] = \"N\";\n    CharacterCodes[CharacterCodes[\"O\"] = 79] = \"O\";\n    CharacterCodes[CharacterCodes[\"P\"] = 80] = \"P\";\n    CharacterCodes[CharacterCodes[\"Q\"] = 81] = \"Q\";\n    CharacterCodes[CharacterCodes[\"R\"] = 82] = \"R\";\n    CharacterCodes[CharacterCodes[\"S\"] = 83] = \"S\";\n    CharacterCodes[CharacterCodes[\"T\"] = 84] = \"T\";\n    CharacterCodes[CharacterCodes[\"U\"] = 85] = \"U\";\n    CharacterCodes[CharacterCodes[\"V\"] = 86] = \"V\";\n    CharacterCodes[CharacterCodes[\"W\"] = 87] = \"W\";\n    CharacterCodes[CharacterCodes[\"X\"] = 88] = \"X\";\n    CharacterCodes[CharacterCodes[\"Y\"] = 89] = \"Y\";\n    CharacterCodes[CharacterCodes[\"Z\"] = 90] = \"Z\";\n    CharacterCodes[CharacterCodes[\"asterisk\"] = 42] = \"asterisk\";\n    CharacterCodes[CharacterCodes[\"backslash\"] = 92] = \"backslash\";\n    CharacterCodes[CharacterCodes[\"closeBrace\"] = 125] = \"closeBrace\";\n    CharacterCodes[CharacterCodes[\"closeBracket\"] = 93] = \"closeBracket\";\n    CharacterCodes[CharacterCodes[\"colon\"] = 58] = \"colon\";\n    CharacterCodes[CharacterCodes[\"comma\"] = 44] = \"comma\";\n    CharacterCodes[CharacterCodes[\"dot\"] = 46] = \"dot\";\n    CharacterCodes[CharacterCodes[\"doubleQuote\"] = 34] = \"doubleQuote\";\n    CharacterCodes[CharacterCodes[\"minus\"] = 45] = \"minus\";\n    CharacterCodes[CharacterCodes[\"openBrace\"] = 123] = \"openBrace\";\n    CharacterCodes[CharacterCodes[\"openBracket\"] = 91] = \"openBracket\";\n    CharacterCodes[CharacterCodes[\"plus\"] = 43] = \"plus\";\n    CharacterCodes[CharacterCodes[\"slash\"] = 47] = \"slash\";\n    CharacterCodes[CharacterCodes[\"formFeed\"] = 12] = \"formFeed\";\n    CharacterCodes[CharacterCodes[\"tab\"] = 9] = \"tab\";\n})(CharacterCodes || (CharacterCodes = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { createScanner } from './scanner';\nvar ParseOptions;\n(function (ParseOptions) {\n    ParseOptions.DEFAULT = {\n        allowTrailingComma: false\n    };\n})(ParseOptions || (ParseOptions = {}));\n/**\n * For a given offset, evaluate the location in the JSON document. Each segment in the location path is either a property name or an array index.\n */\nexport function getLocation(text, position) {\n    const segments = []; // strings or numbers\n    const earlyReturnException = new Object();\n    let previousNode = undefined;\n    const previousNodeInst = {\n        value: {},\n        offset: 0,\n        length: 0,\n        type: 'object',\n        parent: undefined\n    };\n    let isAtPropertyKey = false;\n    function setPreviousNode(value, offset, length, type) {\n        previousNodeInst.value = value;\n        previousNodeInst.offset = offset;\n        previousNodeInst.length = length;\n        previousNodeInst.type = type;\n        previousNodeInst.colonOffset = undefined;\n        previousNode = previousNodeInst;\n    }\n    try {\n        visit(text, {\n            onObjectBegin: (offset, length) => {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                previousNode = undefined;\n                isAtPropertyKey = position > offset;\n                segments.push(''); // push a placeholder (will be replaced)\n            },\n            onObjectProperty: (name, offset, length) => {\n                if (position < offset) {\n                    throw earlyReturnException;\n                }\n                setPreviousNode(name, offset, length, 'property');\n                segments[segments.length - 1] = name;\n                if (position <= offset + length) {\n                    throw earlyReturnException;\n                }\n            },\n            onObjectEnd: (offset, length) => {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                previousNode = undefined;\n                segments.pop();\n            },\n            onArrayBegin: (offset, length) => {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                previousNode = undefined;\n                segments.push(0);\n            },\n            onArrayEnd: (offset, length) => {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                previousNode = undefined;\n                segments.pop();\n            },\n            onLiteralValue: (value, offset, length) => {\n                if (position < offset) {\n                    throw earlyReturnException;\n                }\n                setPreviousNode(value, offset, length, getNodeType(value));\n                if (position <= offset + length) {\n                    throw earlyReturnException;\n                }\n            },\n            onSeparator: (sep, offset, length) => {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                if (sep === ':' && previousNode && previousNode.type === 'property') {\n                    previousNode.colonOffset = offset;\n                    isAtPropertyKey = false;\n                    previousNode = undefined;\n                }\n                else if (sep === ',') {\n                    const last = segments[segments.length - 1];\n                    if (typeof last === 'number') {\n                        segments[segments.length - 1] = last + 1;\n                    }\n                    else {\n                        isAtPropertyKey = true;\n                        segments[segments.length - 1] = '';\n                    }\n                    previousNode = undefined;\n                }\n            }\n        });\n    }\n    catch (e) {\n        if (e !== earlyReturnException) {\n            throw e;\n        }\n    }\n    return {\n        path: segments,\n        previousNode,\n        isAtPropertyKey,\n        matches: (pattern) => {\n            let k = 0;\n            for (let i = 0; k < pattern.length && i < segments.length; i++) {\n                if (pattern[k] === segments[i] || pattern[k] === '*') {\n                    k++;\n                }\n                else if (pattern[k] !== '**') {\n                    return false;\n                }\n            }\n            return k === pattern.length;\n        }\n    };\n}\n/**\n * Parses the given text and returns the object the JSON content represents. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n * Therefore always check the errors list to find out if the input was valid.\n */\nexport function parse(text, errors = [], options = ParseOptions.DEFAULT) {\n    let currentProperty = null;\n    let currentParent = [];\n    const previousParents = [];\n    function onValue(value) {\n        if (Array.isArray(currentParent)) {\n            currentParent.push(value);\n        }\n        else if (currentProperty !== null) {\n            currentParent[currentProperty] = value;\n        }\n    }\n    const visitor = {\n        onObjectBegin: () => {\n            const object = {};\n            onValue(object);\n            previousParents.push(currentParent);\n            currentParent = object;\n            currentProperty = null;\n        },\n        onObjectProperty: (name) => {\n            currentProperty = name;\n        },\n        onObjectEnd: () => {\n            currentParent = previousParents.pop();\n        },\n        onArrayBegin: () => {\n            const array = [];\n            onValue(array);\n            previousParents.push(currentParent);\n            currentParent = array;\n            currentProperty = null;\n        },\n        onArrayEnd: () => {\n            currentParent = previousParents.pop();\n        },\n        onLiteralValue: onValue,\n        onError: (error, offset, length) => {\n            errors.push({ error, offset, length });\n        }\n    };\n    visit(text, visitor, options);\n    return currentParent[0];\n}\n/**\n * Parses the given text and returns a tree representation the JSON content. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n */\nexport function parseTree(text, errors = [], options = ParseOptions.DEFAULT) {\n    let currentParent = { type: 'array', offset: -1, length: -1, children: [], parent: undefined }; // artificial root\n    function ensurePropertyComplete(endOffset) {\n        if (currentParent.type === 'property') {\n            currentParent.length = endOffset - currentParent.offset;\n            currentParent = currentParent.parent;\n        }\n    }\n    function onValue(valueNode) {\n        currentParent.children.push(valueNode);\n        return valueNode;\n    }\n    const visitor = {\n        onObjectBegin: (offset) => {\n            currentParent = onValue({ type: 'object', offset, length: -1, parent: currentParent, children: [] });\n        },\n        onObjectProperty: (name, offset, length) => {\n            currentParent = onValue({ type: 'property', offset, length: -1, parent: currentParent, children: [] });\n            currentParent.children.push({ type: 'string', value: name, offset, length, parent: currentParent });\n        },\n        onObjectEnd: (offset, length) => {\n            ensurePropertyComplete(offset + length); // in case of a missing value for a property: make sure property is complete\n            currentParent.length = offset + length - currentParent.offset;\n            currentParent = currentParent.parent;\n            ensurePropertyComplete(offset + length);\n        },\n        onArrayBegin: (offset, length) => {\n            currentParent = onValue({ type: 'array', offset, length: -1, parent: currentParent, children: [] });\n        },\n        onArrayEnd: (offset, length) => {\n            currentParent.length = offset + length - currentParent.offset;\n            currentParent = currentParent.parent;\n            ensurePropertyComplete(offset + length);\n        },\n        onLiteralValue: (value, offset, length) => {\n            onValue({ type: getNodeType(value), offset, length, parent: currentParent, value });\n            ensurePropertyComplete(offset + length);\n        },\n        onSeparator: (sep, offset, length) => {\n            if (currentParent.type === 'property') {\n                if (sep === ':') {\n                    currentParent.colonOffset = offset;\n                }\n                else if (sep === ',') {\n                    ensurePropertyComplete(offset);\n                }\n            }\n        },\n        onError: (error, offset, length) => {\n            errors.push({ error, offset, length });\n        }\n    };\n    visit(text, visitor, options);\n    const result = currentParent.children[0];\n    if (result) {\n        delete result.parent;\n    }\n    return result;\n}\n/**\n * Finds the node at the given path in a JSON DOM.\n */\nexport function findNodeAtLocation(root, path) {\n    if (!root) {\n        return undefined;\n    }\n    let node = root;\n    for (let segment of path) {\n        if (typeof segment === 'string') {\n            if (node.type !== 'object' || !Array.isArray(node.children)) {\n                return undefined;\n            }\n            let found = false;\n            for (const propertyNode of node.children) {\n                if (Array.isArray(propertyNode.children) && propertyNode.children[0].value === segment && propertyNode.children.length === 2) {\n                    node = propertyNode.children[1];\n                    found = true;\n                    break;\n                }\n            }\n            if (!found) {\n                return undefined;\n            }\n        }\n        else {\n            const index = segment;\n            if (node.type !== 'array' || index < 0 || !Array.isArray(node.children) || index >= node.children.length) {\n                return undefined;\n            }\n            node = node.children[index];\n        }\n    }\n    return node;\n}\n/**\n * Gets the JSON path of the given JSON DOM node\n */\nexport function getNodePath(node) {\n    if (!node.parent || !node.parent.children) {\n        return [];\n    }\n    const path = getNodePath(node.parent);\n    if (node.parent.type === 'property') {\n        const key = node.parent.children[0].value;\n        path.push(key);\n    }\n    else if (node.parent.type === 'array') {\n        const index = node.parent.children.indexOf(node);\n        if (index !== -1) {\n            path.push(index);\n        }\n    }\n    return path;\n}\n/**\n * Evaluates the JavaScript object of the given JSON DOM node\n */\nexport function getNodeValue(node) {\n    switch (node.type) {\n        case 'array':\n            return node.children.map(getNodeValue);\n        case 'object':\n            const obj = Object.create(null);\n            for (let prop of node.children) {\n                const valueNode = prop.children[1];\n                if (valueNode) {\n                    obj[prop.children[0].value] = getNodeValue(valueNode);\n                }\n            }\n            return obj;\n        case 'null':\n        case 'string':\n        case 'number':\n        case 'boolean':\n            return node.value;\n        default:\n            return undefined;\n    }\n}\nexport function contains(node, offset, includeRightBound = false) {\n    return (offset >= node.offset && offset < (node.offset + node.length)) || includeRightBound && (offset === (node.offset + node.length));\n}\n/**\n * Finds the most inner node at the given offset. If includeRightBound is set, also finds nodes that end at the given offset.\n */\nexport function findNodeAtOffset(node, offset, includeRightBound = false) {\n    if (contains(node, offset, includeRightBound)) {\n        const children = node.children;\n        if (Array.isArray(children)) {\n            for (let i = 0; i < children.length && children[i].offset <= offset; i++) {\n                const item = findNodeAtOffset(children[i], offset, includeRightBound);\n                if (item) {\n                    return item;\n                }\n            }\n        }\n        return node;\n    }\n    return undefined;\n}\n/**\n * Parses the given text and invokes the visitor functions for each object, array and literal reached.\n */\nexport function visit(text, visitor, options = ParseOptions.DEFAULT) {\n    const _scanner = createScanner(text, false);\n    // Important: Only pass copies of this to visitor functions to prevent accidental modification, and\n    // to not affect visitor functions which stored a reference to a previous JSONPath\n    const _jsonPath = [];\n    function toNoArgVisit(visitFunction) {\n        return visitFunction ? () => visitFunction(_scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter()) : () => true;\n    }\n    function toNoArgVisitWithPath(visitFunction) {\n        return visitFunction ? () => visitFunction(_scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter(), () => _jsonPath.slice()) : () => true;\n    }\n    function toOneArgVisit(visitFunction) {\n        return visitFunction ? (arg) => visitFunction(arg, _scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter()) : () => true;\n    }\n    function toOneArgVisitWithPath(visitFunction) {\n        return visitFunction ? (arg) => visitFunction(arg, _scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter(), () => _jsonPath.slice()) : () => true;\n    }\n    const onObjectBegin = toNoArgVisitWithPath(visitor.onObjectBegin), onObjectProperty = toOneArgVisitWithPath(visitor.onObjectProperty), onObjectEnd = toNoArgVisit(visitor.onObjectEnd), onArrayBegin = toNoArgVisitWithPath(visitor.onArrayBegin), onArrayEnd = toNoArgVisit(visitor.onArrayEnd), onLiteralValue = toOneArgVisitWithPath(visitor.onLiteralValue), onSeparator = toOneArgVisit(visitor.onSeparator), onComment = toNoArgVisit(visitor.onComment), onError = toOneArgVisit(visitor.onError);\n    const disallowComments = options && options.disallowComments;\n    const allowTrailingComma = options && options.allowTrailingComma;\n    function scanNext() {\n        while (true) {\n            const token = _scanner.scan();\n            switch (_scanner.getTokenError()) {\n                case 4 /* ScanError.InvalidUnicode */:\n                    handleError(14 /* ParseErrorCode.InvalidUnicode */);\n                    break;\n                case 5 /* ScanError.InvalidEscapeCharacter */:\n                    handleError(15 /* ParseErrorCode.InvalidEscapeCharacter */);\n                    break;\n                case 3 /* ScanError.UnexpectedEndOfNumber */:\n                    handleError(13 /* ParseErrorCode.UnexpectedEndOfNumber */);\n                    break;\n                case 1 /* ScanError.UnexpectedEndOfComment */:\n                    if (!disallowComments) {\n                        handleError(11 /* ParseErrorCode.UnexpectedEndOfComment */);\n                    }\n                    break;\n                case 2 /* ScanError.UnexpectedEndOfString */:\n                    handleError(12 /* ParseErrorCode.UnexpectedEndOfString */);\n                    break;\n                case 6 /* ScanError.InvalidCharacter */:\n                    handleError(16 /* ParseErrorCode.InvalidCharacter */);\n                    break;\n            }\n            switch (token) {\n                case 12 /* SyntaxKind.LineCommentTrivia */:\n                case 13 /* SyntaxKind.BlockCommentTrivia */:\n                    if (disallowComments) {\n                        handleError(10 /* ParseErrorCode.InvalidCommentToken */);\n                    }\n                    else {\n                        onComment();\n                    }\n                    break;\n                case 16 /* SyntaxKind.Unknown */:\n                    handleError(1 /* ParseErrorCode.InvalidSymbol */);\n                    break;\n                case 15 /* SyntaxKind.Trivia */:\n                case 14 /* SyntaxKind.LineBreakTrivia */:\n                    break;\n                default:\n                    return token;\n            }\n        }\n    }\n    function handleError(error, skipUntilAfter = [], skipUntil = []) {\n        onError(error);\n        if (skipUntilAfter.length + skipUntil.length > 0) {\n            let token = _scanner.getToken();\n            while (token !== 17 /* SyntaxKind.EOF */) {\n                if (skipUntilAfter.indexOf(token) !== -1) {\n                    scanNext();\n                    break;\n                }\n                else if (skipUntil.indexOf(token) !== -1) {\n                    break;\n                }\n                token = scanNext();\n            }\n        }\n    }\n    function parseString(isValue) {\n        const value = _scanner.getTokenValue();\n        if (isValue) {\n            onLiteralValue(value);\n        }\n        else {\n            onObjectProperty(value);\n            // add property name afterwards\n            _jsonPath.push(value);\n        }\n        scanNext();\n        return true;\n    }\n    function parseLiteral() {\n        switch (_scanner.getToken()) {\n            case 11 /* SyntaxKind.NumericLiteral */:\n                const tokenValue = _scanner.getTokenValue();\n                let value = Number(tokenValue);\n                if (isNaN(value)) {\n                    handleError(2 /* ParseErrorCode.InvalidNumberFormat */);\n                    value = 0;\n                }\n                onLiteralValue(value);\n                break;\n            case 7 /* SyntaxKind.NullKeyword */:\n                onLiteralValue(null);\n                break;\n            case 8 /* SyntaxKind.TrueKeyword */:\n                onLiteralValue(true);\n                break;\n            case 9 /* SyntaxKind.FalseKeyword */:\n                onLiteralValue(false);\n                break;\n            default:\n                return false;\n        }\n        scanNext();\n        return true;\n    }\n    function parseProperty() {\n        if (_scanner.getToken() !== 10 /* SyntaxKind.StringLiteral */) {\n            handleError(3 /* ParseErrorCode.PropertyNameExpected */, [], [2 /* SyntaxKind.CloseBraceToken */, 5 /* SyntaxKind.CommaToken */]);\n            return false;\n        }\n        parseString(false);\n        if (_scanner.getToken() === 6 /* SyntaxKind.ColonToken */) {\n            onSeparator(':');\n            scanNext(); // consume colon\n            if (!parseValue()) {\n                handleError(4 /* ParseErrorCode.ValueExpected */, [], [2 /* SyntaxKind.CloseBraceToken */, 5 /* SyntaxKind.CommaToken */]);\n            }\n        }\n        else {\n            handleError(5 /* ParseErrorCode.ColonExpected */, [], [2 /* SyntaxKind.CloseBraceToken */, 5 /* SyntaxKind.CommaToken */]);\n        }\n        _jsonPath.pop(); // remove processed property name\n        return true;\n    }\n    function parseObject() {\n        onObjectBegin();\n        scanNext(); // consume open brace\n        let needsComma = false;\n        while (_scanner.getToken() !== 2 /* SyntaxKind.CloseBraceToken */ && _scanner.getToken() !== 17 /* SyntaxKind.EOF */) {\n            if (_scanner.getToken() === 5 /* SyntaxKind.CommaToken */) {\n                if (!needsComma) {\n                    handleError(4 /* ParseErrorCode.ValueExpected */, [], []);\n                }\n                onSeparator(',');\n                scanNext(); // consume comma\n                if (_scanner.getToken() === 2 /* SyntaxKind.CloseBraceToken */ && allowTrailingComma) {\n                    break;\n                }\n            }\n            else if (needsComma) {\n                handleError(6 /* ParseErrorCode.CommaExpected */, [], []);\n            }\n            if (!parseProperty()) {\n                handleError(4 /* ParseErrorCode.ValueExpected */, [], [2 /* SyntaxKind.CloseBraceToken */, 5 /* SyntaxKind.CommaToken */]);\n            }\n            needsComma = true;\n        }\n        onObjectEnd();\n        if (_scanner.getToken() !== 2 /* SyntaxKind.CloseBraceToken */) {\n            handleError(7 /* ParseErrorCode.CloseBraceExpected */, [2 /* SyntaxKind.CloseBraceToken */], []);\n        }\n        else {\n            scanNext(); // consume close brace\n        }\n        return true;\n    }\n    function parseArray() {\n        onArrayBegin();\n        scanNext(); // consume open bracket\n        let isFirstElement = true;\n        let needsComma = false;\n        while (_scanner.getToken() !== 4 /* SyntaxKind.CloseBracketToken */ && _scanner.getToken() !== 17 /* SyntaxKind.EOF */) {\n            if (_scanner.getToken() === 5 /* SyntaxKind.CommaToken */) {\n                if (!needsComma) {\n                    handleError(4 /* ParseErrorCode.ValueExpected */, [], []);\n                }\n                onSeparator(',');\n                scanNext(); // consume comma\n                if (_scanner.getToken() === 4 /* SyntaxKind.CloseBracketToken */ && allowTrailingComma) {\n                    break;\n                }\n            }\n            else if (needsComma) {\n                handleError(6 /* ParseErrorCode.CommaExpected */, [], []);\n            }\n            if (isFirstElement) {\n                _jsonPath.push(0);\n                isFirstElement = false;\n            }\n            else {\n                _jsonPath[_jsonPath.length - 1]++;\n            }\n            if (!parseValue()) {\n                handleError(4 /* ParseErrorCode.ValueExpected */, [], [4 /* SyntaxKind.CloseBracketToken */, 5 /* SyntaxKind.CommaToken */]);\n            }\n            needsComma = true;\n        }\n        onArrayEnd();\n        if (!isFirstElement) {\n            _jsonPath.pop(); // remove array index\n        }\n        if (_scanner.getToken() !== 4 /* SyntaxKind.CloseBracketToken */) {\n            handleError(8 /* ParseErrorCode.CloseBracketExpected */, [4 /* SyntaxKind.CloseBracketToken */], []);\n        }\n        else {\n            scanNext(); // consume close bracket\n        }\n        return true;\n    }\n    function parseValue() {\n        switch (_scanner.getToken()) {\n            case 3 /* SyntaxKind.OpenBracketToken */:\n                return parseArray();\n            case 1 /* SyntaxKind.OpenBraceToken */:\n                return parseObject();\n            case 10 /* SyntaxKind.StringLiteral */:\n                return parseString(true);\n            default:\n                return parseLiteral();\n        }\n    }\n    scanNext();\n    if (_scanner.getToken() === 17 /* SyntaxKind.EOF */) {\n        if (options.allowEmptyContent) {\n            return true;\n        }\n        handleError(4 /* ParseErrorCode.ValueExpected */, [], []);\n        return false;\n    }\n    if (!parseValue()) {\n        handleError(4 /* ParseErrorCode.ValueExpected */, [], []);\n        return false;\n    }\n    if (_scanner.getToken() !== 17 /* SyntaxKind.EOF */) {\n        handleError(9 /* ParseErrorCode.EndOfFileExpected */, [], []);\n    }\n    return true;\n}\n/**\n * Takes JSON with JavaScript-style comments and remove\n * them. Optionally replaces every none-newline character\n * of comments with a replaceCharacter\n */\nexport function stripComments(text, replaceCh) {\n    let _scanner = createScanner(text), parts = [], kind, offset = 0, pos;\n    do {\n        pos = _scanner.getPosition();\n        kind = _scanner.scan();\n        switch (kind) {\n            case 12 /* SyntaxKind.LineCommentTrivia */:\n            case 13 /* SyntaxKind.BlockCommentTrivia */:\n            case 17 /* SyntaxKind.EOF */:\n                if (offset !== pos) {\n                    parts.push(text.substring(offset, pos));\n                }\n                if (replaceCh !== undefined) {\n                    parts.push(_scanner.getTokenValue().replace(/[^\\r\\n]/g, replaceCh));\n                }\n                offset = _scanner.getPosition();\n                break;\n        }\n    } while (kind !== 17 /* SyntaxKind.EOF */);\n    return parts.join('');\n}\nexport function getNodeType(value) {\n    switch (typeof value) {\n        case 'boolean': return 'boolean';\n        case 'number': return 'number';\n        case 'string': return 'string';\n        case 'object': {\n            if (!value) {\n                return 'null';\n            }\n            else if (Array.isArray(value)) {\n                return 'array';\n            }\n            return 'object';\n        }\n        default: return 'null';\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as formatter from './impl/format';\nimport * as edit from './impl/edit';\nimport * as scanner from './impl/scanner';\nimport * as parser from './impl/parser';\n/**\n * Creates a JSON scanner on the given text.\n * If ignoreTrivia is set, whitespaces or comments are ignored.\n */\nexport const createScanner = scanner.createScanner;\nexport var ScanError;\n(function (ScanError) {\n    ScanError[ScanError[\"None\"] = 0] = \"None\";\n    ScanError[ScanError[\"UnexpectedEndOfComment\"] = 1] = \"UnexpectedEndOfComment\";\n    ScanError[ScanError[\"UnexpectedEndOfString\"] = 2] = \"UnexpectedEndOfString\";\n    ScanError[ScanError[\"UnexpectedEndOfNumber\"] = 3] = \"UnexpectedEndOfNumber\";\n    ScanError[ScanError[\"InvalidUnicode\"] = 4] = \"InvalidUnicode\";\n    ScanError[ScanError[\"InvalidEscapeCharacter\"] = 5] = \"InvalidEscapeCharacter\";\n    ScanError[ScanError[\"InvalidCharacter\"] = 6] = \"InvalidCharacter\";\n})(ScanError || (ScanError = {}));\nexport var SyntaxKind;\n(function (SyntaxKind) {\n    SyntaxKind[SyntaxKind[\"OpenBraceToken\"] = 1] = \"OpenBraceToken\";\n    SyntaxKind[SyntaxKind[\"CloseBraceToken\"] = 2] = \"CloseBraceToken\";\n    SyntaxKind[SyntaxKind[\"OpenBracketToken\"] = 3] = \"OpenBracketToken\";\n    SyntaxKind[SyntaxKind[\"CloseBracketToken\"] = 4] = \"CloseBracketToken\";\n    SyntaxKind[SyntaxKind[\"CommaToken\"] = 5] = \"CommaToken\";\n    SyntaxKind[SyntaxKind[\"ColonToken\"] = 6] = \"ColonToken\";\n    SyntaxKind[SyntaxKind[\"NullKeyword\"] = 7] = \"NullKeyword\";\n    SyntaxKind[SyntaxKind[\"TrueKeyword\"] = 8] = \"TrueKeyword\";\n    SyntaxKind[SyntaxKind[\"FalseKeyword\"] = 9] = \"FalseKeyword\";\n    SyntaxKind[SyntaxKind[\"StringLiteral\"] = 10] = \"StringLiteral\";\n    SyntaxKind[SyntaxKind[\"NumericLiteral\"] = 11] = \"NumericLiteral\";\n    SyntaxKind[SyntaxKind[\"LineCommentTrivia\"] = 12] = \"LineCommentTrivia\";\n    SyntaxKind[SyntaxKind[\"BlockCommentTrivia\"] = 13] = \"BlockCommentTrivia\";\n    SyntaxKind[SyntaxKind[\"LineBreakTrivia\"] = 14] = \"LineBreakTrivia\";\n    SyntaxKind[SyntaxKind[\"Trivia\"] = 15] = \"Trivia\";\n    SyntaxKind[SyntaxKind[\"Unknown\"] = 16] = \"Unknown\";\n    SyntaxKind[SyntaxKind[\"EOF\"] = 17] = \"EOF\";\n})(SyntaxKind || (SyntaxKind = {}));\n/**\n * For a given offset, evaluate the location in the JSON document. Each segment in the location path is either a property name or an array index.\n */\nexport const getLocation = parser.getLocation;\n/**\n * Parses the given text and returns the object the JSON content represents. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n * Therefore, always check the errors list to find out if the input was valid.\n */\nexport const parse = parser.parse;\n/**\n * Parses the given text and returns a tree representation the JSON content. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n */\nexport const parseTree = parser.parseTree;\n/**\n * Finds the node at the given path in a JSON DOM.\n */\nexport const findNodeAtLocation = parser.findNodeAtLocation;\n/**\n * Finds the innermost node at the given offset. If includeRightBound is set, also finds nodes that end at the given offset.\n */\nexport const findNodeAtOffset = parser.findNodeAtOffset;\n/**\n * Gets the JSON path of the given JSON DOM node\n */\nexport const getNodePath = parser.getNodePath;\n/**\n * Evaluates the JavaScript object of the given JSON DOM node\n */\nexport const getNodeValue = parser.getNodeValue;\n/**\n * Parses the given text and invokes the visitor functions for each object, array and literal reached.\n */\nexport const visit = parser.visit;\n/**\n * Takes JSON with JavaScript-style comments and remove\n * them. Optionally replaces every none-newline character\n * of comments with a replaceCharacter\n */\nexport const stripComments = parser.stripComments;\nexport var ParseErrorCode;\n(function (ParseErrorCode) {\n    ParseErrorCode[ParseErrorCode[\"InvalidSymbol\"] = 1] = \"InvalidSymbol\";\n    ParseErrorCode[ParseErrorCode[\"InvalidNumberFormat\"] = 2] = \"InvalidNumberFormat\";\n    ParseErrorCode[ParseErrorCode[\"PropertyNameExpected\"] = 3] = \"PropertyNameExpected\";\n    ParseErrorCode[ParseErrorCode[\"ValueExpected\"] = 4] = \"ValueExpected\";\n    ParseErrorCode[ParseErrorCode[\"ColonExpected\"] = 5] = \"ColonExpected\";\n    ParseErrorCode[ParseErrorCode[\"CommaExpected\"] = 6] = \"CommaExpected\";\n    ParseErrorCode[ParseErrorCode[\"CloseBraceExpected\"] = 7] = \"CloseBraceExpected\";\n    ParseErrorCode[ParseErrorCode[\"CloseBracketExpected\"] = 8] = \"CloseBracketExpected\";\n    ParseErrorCode[ParseErrorCode[\"EndOfFileExpected\"] = 9] = \"EndOfFileExpected\";\n    ParseErrorCode[ParseErrorCode[\"InvalidCommentToken\"] = 10] = \"InvalidCommentToken\";\n    ParseErrorCode[ParseErrorCode[\"UnexpectedEndOfComment\"] = 11] = \"UnexpectedEndOfComment\";\n    ParseErrorCode[ParseErrorCode[\"UnexpectedEndOfString\"] = 12] = \"UnexpectedEndOfString\";\n    ParseErrorCode[ParseErrorCode[\"UnexpectedEndOfNumber\"] = 13] = \"UnexpectedEndOfNumber\";\n    ParseErrorCode[ParseErrorCode[\"InvalidUnicode\"] = 14] = \"InvalidUnicode\";\n    ParseErrorCode[ParseErrorCode[\"InvalidEscapeCharacter\"] = 15] = \"InvalidEscapeCharacter\";\n    ParseErrorCode[ParseErrorCode[\"InvalidCharacter\"] = 16] = \"InvalidCharacter\";\n})(ParseErrorCode || (ParseErrorCode = {}));\nexport function printParseErrorCode(code) {\n    switch (code) {\n        case 1 /* ParseErrorCode.InvalidSymbol */: return 'InvalidSymbol';\n        case 2 /* ParseErrorCode.InvalidNumberFormat */: return 'InvalidNumberFormat';\n        case 3 /* ParseErrorCode.PropertyNameExpected */: return 'PropertyNameExpected';\n        case 4 /* ParseErrorCode.ValueExpected */: return 'ValueExpected';\n        case 5 /* ParseErrorCode.ColonExpected */: return 'ColonExpected';\n        case 6 /* ParseErrorCode.CommaExpected */: return 'CommaExpected';\n        case 7 /* ParseErrorCode.CloseBraceExpected */: return 'CloseBraceExpected';\n        case 8 /* ParseErrorCode.CloseBracketExpected */: return 'CloseBracketExpected';\n        case 9 /* ParseErrorCode.EndOfFileExpected */: return 'EndOfFileExpected';\n        case 10 /* ParseErrorCode.InvalidCommentToken */: return 'InvalidCommentToken';\n        case 11 /* ParseErrorCode.UnexpectedEndOfComment */: return 'UnexpectedEndOfComment';\n        case 12 /* ParseErrorCode.UnexpectedEndOfString */: return 'UnexpectedEndOfString';\n        case 13 /* ParseErrorCode.UnexpectedEndOfNumber */: return 'UnexpectedEndOfNumber';\n        case 14 /* ParseErrorCode.InvalidUnicode */: return 'InvalidUnicode';\n        case 15 /* ParseErrorCode.InvalidEscapeCharacter */: return 'InvalidEscapeCharacter';\n        case 16 /* ParseErrorCode.InvalidCharacter */: return 'InvalidCharacter';\n    }\n    return '<unknown ParseErrorCode>';\n}\n/**\n * Computes the edit operations needed to format a JSON document.\n *\n * @param documentText The input text\n * @param range The range to format or `undefined` to format the full content\n * @param options The formatting options\n * @returns The edit operations describing the formatting changes to the original document following the format described in {@linkcode EditResult}.\n * To apply the edit operations to the input, use {@linkcode applyEdits}.\n */\nexport function format(documentText, range, options) {\n    return formatter.format(documentText, range, options);\n}\n/**\n * Computes the edit operations needed to modify a value in the JSON document.\n *\n * @param documentText The input text\n * @param path The path of the value to change. The path represents either to the document root, a property or an array item.\n * If the path points to an non-existing property or item, it will be created.\n * @param value The new value for the specified property or item. If the value is undefined,\n * the property or item will be removed.\n * @param options Options\n * @returns The edit operations describing the changes to the original document, following the format described in {@linkcode EditResult}.\n * To apply the edit operations to the input, use {@linkcode applyEdits}.\n */\nexport function modify(text, path, value, options) {\n    return edit.setProperty(text, path, value, options);\n}\n/**\n * Applies edits to an input string.\n * @param text The input text\n * @param edits Edit operations following the format described in {@linkcode EditResult}.\n * @returns The text with the applied edits.\n * @throws An error if the edit operations are not well-formed as described in {@linkcode EditResult}.\n */\nexport function applyEdits(text, edits) {\n    let sortedEdits = edits.slice(0).sort((a, b) => {\n        const diff = a.offset - b.offset;\n        if (diff === 0) {\n            return a.length - b.length;\n        }\n        return diff;\n    });\n    let lastModifiedOffset = text.length;\n    for (let i = sortedEdits.length - 1; i >= 0; i--) {\n        let e = sortedEdits[i];\n        if (e.offset + e.length <= lastModifiedOffset) {\n            text = edit.applyEdit(text, e);\n        }\n        else {\n            throw new Error('Overlapping edit');\n        }\n        lastModifiedOffset = e.offset;\n    }\n    return text;\n}\n","// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\n// !!!!!\n// SEE https://github.com/microsoft/vscode/blob/master/src/vs/base/common/platform.ts\n// !!!!!\n\ndeclare const process: { platform: 'win32' };\ndeclare const navigator: { userAgent: string };\n\nexport let isWindows: boolean;\n\nif (typeof process === 'object') {\n\tisWindows = process.platform === 'win32';\n} else if (typeof navigator === 'object') {\n\tlet userAgent = navigator.userAgent;\n\tisWindows = userAgent.indexOf('Windows') >= 0;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport { CharCode } from './charCode'\nimport { isWindows } from './platform';\n\nconst _schemePattern = /^\\w[\\w\\d+.-]*$/;\nconst _singleSlashStart = /^\\//;\nconst _doubleSlashStart = /^\\/\\//;\n\nfunction _validateUri(ret: URI, _strict?: boolean): void {\n\n\t// scheme, must be set\n\tif (!ret.scheme && _strict) {\n\t\tthrow new Error(`[UriError]: Scheme is missing: {scheme: \"\", authority: \"${ret.authority}\", path: \"${ret.path}\", query: \"${ret.query}\", fragment: \"${ret.fragment}\"}`);\n\t}\n\n\t// scheme, https://tools.ietf.org/html/rfc3986#section-3.1\n\t// ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\n\tif (ret.scheme && !_schemePattern.test(ret.scheme)) {\n\t\tthrow new Error('[UriError]: Scheme contains illegal characters.');\n\t}\n\n\t// path, http://tools.ietf.org/html/rfc3986#section-3.3\n\t// If a URI contains an authority component, then the path component\n\t// must either be empty or begin with a slash (\"/\") character.  If a URI\n\t// does not contain an authority component, then the path cannot begin\n\t// with two slash characters (\"//\").\n\tif (ret.path) {\n\t\tif (ret.authority) {\n\t\t\tif (!_singleSlashStart.test(ret.path)) {\n\t\t\t\tthrow new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character');\n\t\t\t}\n\t\t} else {\n\t\t\tif (_doubleSlashStart.test(ret.path)) {\n\t\t\t\tthrow new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")');\n\t\t\t}\n\t\t}\n\t}\n}\n\n// for a while we allowed uris *without* schemes and this is the migration\n// for them, e.g. an uri without scheme and without strict-mode warns and falls\n// back to the file-scheme. that should cause the least carnage and still be a\n// clear warning\nfunction _schemeFix(scheme: string, _strict: boolean): string {\n\tif (!scheme && !_strict) {\n\t\treturn 'file';\n\t}\n\treturn scheme;\n}\n\n// implements a bit of https://tools.ietf.org/html/rfc3986#section-5\nfunction _referenceResolution(scheme: string, path: string): string {\n\n\t// the slash-character is our 'default base' as we don't\n\t// support constructing URIs relative to other URIs. This\n\t// also means that we alter and potentially break paths.\n\t// see https://tools.ietf.org/html/rfc3986#section-5.1.4\n\tswitch (scheme) {\n\t\tcase 'https':\n\t\tcase 'http':\n\t\tcase 'file':\n\t\t\tif (!path) {\n\t\t\t\tpath = _slash;\n\t\t\t} else if (path[0] !== _slash) {\n\t\t\t\tpath = _slash + path;\n\t\t\t}\n\t\t\tbreak;\n\t}\n\treturn path;\n}\n\nconst _empty = '';\nconst _slash = '/';\nconst _regexp = /^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/;\n\n/**\n * Uniform Resource Identifier (URI) http://tools.ietf.org/html/rfc3986.\n * This class is a simple parser which creates the basic component parts\n * (http://tools.ietf.org/html/rfc3986#section-3) with minimal validation\n * and encoding.\n *\n * ```txt\n *       foo://example.com:8042/over/there?name=ferret#nose\n *       \\_/   \\______________/\\_________/ \\_________/ \\__/\n *        |           |            |            |        |\n *     scheme     authority       path        query   fragment\n *        |   _____________________|__\n *       / \\ /                        \\\n *       urn:example:animal:ferret:nose\n * ```\n */\nexport class URI implements UriComponents {\n\n\tstatic isUri(thing: any): thing is URI {\n\t\tif (thing instanceof URI) {\n\t\t\treturn true;\n\t\t}\n\t\tif (!thing) {\n\t\t\treturn false;\n\t\t}\n\t\treturn typeof (<URI>thing).authority === 'string'\n\t\t\t&& typeof (<URI>thing).fragment === 'string'\n\t\t\t&& typeof (<URI>thing).path === 'string'\n\t\t\t&& typeof (<URI>thing).query === 'string'\n\t\t\t&& typeof (<URI>thing).scheme === 'string'\n\t\t\t&& typeof (<URI>thing).fsPath === 'string'\n\t\t\t&& typeof (<URI>thing).with === 'function'\n\t\t\t&& typeof (<URI>thing).toString === 'function';\n\t}\n\n\t/**\n\t * scheme is the 'http' part of 'http://www.example.com/some/path?query#fragment'.\n\t * The part before the first colon.\n\t */\n\treadonly scheme: string;\n\n\t/**\n\t * authority is the 'www.example.com' part of 'http://www.example.com/some/path?query#fragment'.\n\t * The part between the first double slashes and the next slash.\n\t */\n\treadonly authority: string;\n\n\t/**\n\t * path is the '/some/path' part of 'http://www.example.com/some/path?query#fragment'.\n\t */\n\treadonly path: string;\n\n\t/**\n\t * query is the 'query' part of 'http://www.example.com/some/path?query#fragment'.\n\t */\n\treadonly query: string;\n\n\t/**\n\t * fragment is the 'fragment' part of 'http://www.example.com/some/path?query#fragment'.\n\t */\n\treadonly fragment: string;\n\n\t/**\n\t * @internal\n\t */\n\tprotected constructor(scheme: string, authority?: string, path?: string, query?: string, fragment?: string, _strict?: boolean);\n\n\t/**\n\t * @internal\n\t */\n\tprotected constructor(components: UriComponents);\n\n\t/**\n\t * @internal\n\t */\n\tprotected constructor(schemeOrData: string | UriComponents, authority?: string, path?: string, query?: string, fragment?: string, _strict: boolean = false) {\n\n\t\tif (typeof schemeOrData === 'object') {\n\t\t\tthis.scheme = schemeOrData.scheme || _empty;\n\t\t\tthis.authority = schemeOrData.authority || _empty;\n\t\t\tthis.path = schemeOrData.path || _empty;\n\t\t\tthis.query = schemeOrData.query || _empty;\n\t\t\tthis.fragment = schemeOrData.fragment || _empty;\n\t\t\t// no validation because it's this URI\n\t\t\t// that creates uri components.\n\t\t\t// _validateUri(this);\n\t\t} else {\n\t\t\tthis.scheme = _schemeFix(schemeOrData, _strict);\n\t\t\tthis.authority = authority || _empty;\n\t\t\tthis.path = _referenceResolution(this.scheme, path || _empty);\n\t\t\tthis.query = query || _empty;\n\t\t\tthis.fragment = fragment || _empty;\n\n\t\t\t_validateUri(this, _strict);\n\t\t}\n\t}\n\n\t// ---- filesystem path -----------------------\n\n\t/**\n\t * Returns a string representing the corresponding file system path of this URI.\n\t * Will handle UNC paths, normalizes windows drive letters to lower-case, and uses the\n\t * platform specific path separator.\n\t *\n\t * * Will *not* validate the path for invalid characters and semantics.\n\t * * Will *not* look at the scheme of this URI.\n\t * * The result shall *not* be used for display purposes but for accessing a file on disk.\n\t *\n\t *\n\t * The *difference* to `URI#path` is the use of the platform specific separator and the handling\n\t * of UNC paths. See the below sample of a file-uri with an authority (UNC path).\n\t *\n\t * ```ts\n\t\tconst u = URI.parse('file://server/c$/folder/file.txt')\n\t\tu.authority === 'server'\n\t\tu.path === '/shares/c$/file.txt'\n\t\tu.fsPath === '\\\\server\\c$\\folder\\file.txt'\n\t```\n\t *\n\t * Using `URI#path` to read a file (using fs-apis) would not be enough because parts of the path,\n\t * namely the server name, would be missing. Therefore `URI#fsPath` exists - it's sugar to ease working\n\t * with URIs that represent files on disk (`file` scheme).\n\t */\n\tget fsPath(): string {\n\t\t// if (this.scheme !== 'file') {\n\t\t// \tconsole.warn(`[UriError] calling fsPath with scheme ${this.scheme}`);\n\t\t// }\n\t\treturn uriToFsPath(this, false);\n\t}\n\n\t// ---- modify to new -------------------------\n\n\twith(change: { scheme?: string; authority?: string | null; path?: string | null; query?: string | null; fragment?: string | null }): URI {\n\n\t\tif (!change) {\n\t\t\treturn this;\n\t\t}\n\n\t\tlet { scheme, authority, path, query, fragment } = change;\n\t\tif (scheme === undefined) {\n\t\t\tscheme = this.scheme;\n\t\t} else if (scheme === null) {\n\t\t\tscheme = _empty;\n\t\t}\n\t\tif (authority === undefined) {\n\t\t\tauthority = this.authority;\n\t\t} else if (authority === null) {\n\t\t\tauthority = _empty;\n\t\t}\n\t\tif (path === undefined) {\n\t\t\tpath = this.path;\n\t\t} else if (path === null) {\n\t\t\tpath = _empty;\n\t\t}\n\t\tif (query === undefined) {\n\t\t\tquery = this.query;\n\t\t} else if (query === null) {\n\t\t\tquery = _empty;\n\t\t}\n\t\tif (fragment === undefined) {\n\t\t\tfragment = this.fragment;\n\t\t} else if (fragment === null) {\n\t\t\tfragment = _empty;\n\t\t}\n\n\t\tif (scheme === this.scheme\n\t\t\t&& authority === this.authority\n\t\t\t&& path === this.path\n\t\t\t&& query === this.query\n\t\t\t&& fragment === this.fragment) {\n\n\t\t\treturn this;\n\t\t}\n\n\t\treturn new Uri(scheme, authority, path, query, fragment);\n\t}\n\n\t// ---- parse & validate ------------------------\n\n\t/**\n\t * Creates a new URI from a string, e.g. `http://www.example.com/some/path`,\n\t * `file:///usr/home`, or `scheme:with/path`.\n\t *\n\t * @param value A string which represents an URI (see `URI#toString`).\n\t */\n\tstatic parse(value: string, _strict: boolean = false): URI {\n\t\tconst match = _regexp.exec(value);\n\t\tif (!match) {\n\t\t\treturn new Uri(_empty, _empty, _empty, _empty, _empty);\n\t\t}\n\t\treturn new Uri(\n\t\t\tmatch[2] || _empty,\n\t\t\tpercentDecode(match[4] || _empty),\n\t\t\tpercentDecode(match[5] || _empty),\n\t\t\tpercentDecode(match[7] || _empty),\n\t\t\tpercentDecode(match[9] || _empty),\n\t\t\t_strict\n\t\t);\n\t}\n\n\t/**\n\t * Creates a new URI from a file system path, e.g. `c:\\my\\files`,\n\t * `/usr/home`, or `\\\\server\\share\\some\\path`.\n\t *\n\t * The *difference* between `URI#parse` and `URI#file` is that the latter treats the argument\n\t * as path, not as stringified-uri. E.g. `URI.file(path)` is **not the same as**\n\t * `URI.parse('file://' + path)` because the path might contain characters that are\n\t * interpreted (# and ?). See the following sample:\n\t * ```ts\n\tconst good = URI.file('/coding/c#/project1');\n\tgood.scheme === 'file';\n\tgood.path === '/coding/c#/project1';\n\tgood.fragment === '';\n\tconst bad = URI.parse('file://' + '/coding/c#/project1');\n\tbad.scheme === 'file';\n\tbad.path === '/coding/c'; // path is now broken\n\tbad.fragment === '/project1';\n\t```\n\t *\n\t * @param path A file system path (see `URI#fsPath`)\n\t */\n\tstatic file(path: string): URI {\n\n\t\tlet authority = _empty;\n\n\t\t// normalize to fwd-slashes on windows,\n\t\t// on other systems bwd-slashes are valid\n\t\t// filename character, eg /f\\oo/ba\\r.txt\n\t\tif (isWindows) {\n\t\t\tpath = path.replace(/\\\\/g, _slash);\n\t\t}\n\n\t\t// check for authority as used in UNC shares\n\t\t// or use the path as given\n\t\tif (path[0] === _slash && path[1] === _slash) {\n\t\t\tconst idx = path.indexOf(_slash, 2);\n\t\t\tif (idx === -1) {\n\t\t\t\tauthority = path.substring(2);\n\t\t\t\tpath = _slash;\n\t\t\t} else {\n\t\t\t\tauthority = path.substring(2, idx);\n\t\t\t\tpath = path.substring(idx) || _slash;\n\t\t\t}\n\t\t}\n\n\t\treturn new Uri('file', authority, path, _empty, _empty);\n\t}\n\n\tstatic from(components: { scheme: string; authority?: string; path?: string; query?: string; fragment?: string }): URI {\n\t\tconst result = new Uri(\n\t\t\tcomponents.scheme,\n\t\t\tcomponents.authority,\n\t\t\tcomponents.path,\n\t\t\tcomponents.query,\n\t\t\tcomponents.fragment,\n\t\t);\n\t\t_validateUri(result, true);\n\t\treturn result;\n\t}\n\n\t// ---- printing/externalize ---------------------------\n\n\t/**\n\t * Creates a string representation for this URI. It's guaranteed that calling\n\t * `URI.parse` with the result of this function creates an URI which is equal\n\t * to this URI.\n\t *\n\t * * The result shall *not* be used for display purposes but for externalization or transport.\n\t * * The result will be encoded using the percentage encoding and encoding happens mostly\n\t * ignore the scheme-specific encoding rules.\n\t *\n\t * @param skipEncoding Do not encode the result, default is `false`\n\t */\n\ttoString(skipEncoding: boolean = false): string {\n\t\treturn _asFormatted(this, skipEncoding);\n\t}\n\n\ttoJSON(): UriComponents {\n\t\treturn this;\n\t}\n\n\tstatic revive(data: UriComponents | URI): URI;\n\tstatic revive(data: UriComponents | URI | undefined): URI | undefined;\n\tstatic revive(data: UriComponents | URI | null): URI | null;\n\tstatic revive(data: UriComponents | URI | undefined | null): URI | undefined | null;\n\tstatic revive(data: UriComponents | URI | undefined | null): URI | undefined | null {\n\t\tif (!data) {\n\t\t\treturn <any>data;\n\t\t} else if (data instanceof URI) {\n\t\t\treturn data;\n\t\t} else {\n\t\t\tconst result = new Uri(data);\n\t\t\tresult._formatted = (<UriState>data).external;\n\t\t\tresult._fsPath = (<UriState>data)._sep === _pathSepMarker ? (<UriState>data).fsPath : null;\n\t\t\treturn result;\n\t\t}\n\t}\n}\n\nexport interface UriComponents {\n\tscheme: string;\n\tauthority: string;\n\tpath: string;\n\tquery: string;\n\tfragment: string;\n}\n\ninterface UriState extends UriComponents {\n\t$mid: number;\n\texternal: string;\n\tfsPath: string;\n\t_sep: 1 | undefined;\n}\n\nconst _pathSepMarker = isWindows ? 1 : undefined;\n\n// This class exists so that URI is compatible with vscode.Uri (API).\nclass Uri extends URI {\n\n\t_formatted: string | null = null;\n\t_fsPath: string | null = null;\n\n\toverride get fsPath(): string {\n\t\tif (!this._fsPath) {\n\t\t\tthis._fsPath = uriToFsPath(this, false);\n\t\t}\n\t\treturn this._fsPath;\n\t}\n\n\toverride toString(skipEncoding: boolean = false): string {\n\t\tif (!skipEncoding) {\n\t\t\tif (!this._formatted) {\n\t\t\t\tthis._formatted = _asFormatted(this, false);\n\t\t\t}\n\t\t\treturn this._formatted;\n\t\t} else {\n\t\t\t// we don't cache that\n\t\t\treturn _asFormatted(this, true);\n\t\t}\n\t}\n\n\toverride toJSON(): UriComponents {\n\t\tconst res = <UriState>{\n\t\t\t$mid: 1\n\t\t};\n\t\t// cached state\n\t\tif (this._fsPath) {\n\t\t\tres.fsPath = this._fsPath;\n\t\t\tres._sep = _pathSepMarker;\n\t\t}\n\t\tif (this._formatted) {\n\t\t\tres.external = this._formatted;\n\t\t}\n\t\t// uri components\n\t\tif (this.path) {\n\t\t\tres.path = this.path;\n\t\t}\n\t\tif (this.scheme) {\n\t\t\tres.scheme = this.scheme;\n\t\t}\n\t\tif (this.authority) {\n\t\t\tres.authority = this.authority;\n\t\t}\n\t\tif (this.query) {\n\t\t\tres.query = this.query;\n\t\t}\n\t\tif (this.fragment) {\n\t\t\tres.fragment = this.fragment;\n\t\t}\n\t\treturn res;\n\t}\n}\n\n// reserved characters: https://tools.ietf.org/html/rfc3986#section-2.2\nconst encodeTable: { [ch: number]: string } = {\n\t[CharCode.Colon]: '%3A', // gen-delims\n\t[CharCode.Slash]: '%2F',\n\t[CharCode.QuestionMark]: '%3F',\n\t[CharCode.Hash]: '%23',\n\t[CharCode.OpenSquareBracket]: '%5B',\n\t[CharCode.CloseSquareBracket]: '%5D',\n\t[CharCode.AtSign]: '%40',\n\n\t[CharCode.ExclamationMark]: '%21', // sub-delims\n\t[CharCode.DollarSign]: '%24',\n\t[CharCode.Ampersand]: '%26',\n\t[CharCode.SingleQuote]: '%27',\n\t[CharCode.OpenParen]: '%28',\n\t[CharCode.CloseParen]: '%29',\n\t[CharCode.Asterisk]: '%2A',\n\t[CharCode.Plus]: '%2B',\n\t[CharCode.Comma]: '%2C',\n\t[CharCode.Semicolon]: '%3B',\n\t[CharCode.Equals]: '%3D',\n\n\t[CharCode.Space]: '%20',\n};\n\nfunction encodeURIComponentFast(uriComponent: string, isPath: boolean, isAuthority: boolean): string {\n\tlet res: string | undefined = undefined;\n\tlet nativeEncodePos = -1;\n\n\tfor (let pos = 0; pos < uriComponent.length; pos++) {\n\t\tconst code = uriComponent.charCodeAt(pos);\n\n\t\t// unreserved characters: https://tools.ietf.org/html/rfc3986#section-2.3\n\t\tif (\n\t\t\t(code >= CharCode.a && code <= CharCode.z)\n\t\t\t|| (code >= CharCode.A && code <= CharCode.Z)\n\t\t\t|| (code >= CharCode.Digit0 && code <= CharCode.Digit9)\n\t\t\t|| code === CharCode.Dash\n\t\t\t|| code === CharCode.Period\n\t\t\t|| code === CharCode.Underline\n\t\t\t|| code === CharCode.Tilde\n\t\t\t|| (isPath && code === CharCode.Slash)\n\t\t\t|| (isAuthority && code === CharCode.OpenSquareBracket)\n\t\t\t|| (isAuthority && code === CharCode.CloseSquareBracket)\n\t\t\t|| (isAuthority && code === CharCode.Colon)\n\t\t) {\n\t\t\t// check if we are delaying native encode\n\t\t\tif (nativeEncodePos !== -1) {\n\t\t\t\tres += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n\t\t\t\tnativeEncodePos = -1;\n\t\t\t}\n\t\t\t// check if we write into a new string (by default we try to return the param)\n\t\t\tif (res !== undefined) {\n\t\t\t\tres += uriComponent.charAt(pos);\n\t\t\t}\n\n\t\t} else {\n\t\t\t// encoding needed, we need to allocate a new string\n\t\t\tif (res === undefined) {\n\t\t\t\tres = uriComponent.substr(0, pos);\n\t\t\t}\n\n\t\t\t// check with default table first\n\t\t\tconst escaped = encodeTable[code];\n\t\t\tif (escaped !== undefined) {\n\n\t\t\t\t// check if we are delaying native encode\n\t\t\t\tif (nativeEncodePos !== -1) {\n\t\t\t\t\tres += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n\t\t\t\t\tnativeEncodePos = -1;\n\t\t\t\t}\n\n\t\t\t\t// append escaped variant to result\n\t\t\t\tres += escaped;\n\n\t\t\t} else if (nativeEncodePos === -1) {\n\t\t\t\t// use native encode only when needed\n\t\t\t\tnativeEncodePos = pos;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (nativeEncodePos !== -1) {\n\t\tres += encodeURIComponent(uriComponent.substring(nativeEncodePos));\n\t}\n\n\treturn res !== undefined ? res : uriComponent;\n}\n\nfunction encodeURIComponentMinimal(path: string): string {\n\tlet res: string | undefined = undefined;\n\tfor (let pos = 0; pos < path.length; pos++) {\n\t\tconst code = path.charCodeAt(pos);\n\t\tif (code === CharCode.Hash || code === CharCode.QuestionMark) {\n\t\t\tif (res === undefined) {\n\t\t\t\tres = path.substr(0, pos);\n\t\t\t}\n\t\t\tres += encodeTable[code];\n\t\t} else {\n\t\t\tif (res !== undefined) {\n\t\t\t\tres += path[pos];\n\t\t\t}\n\t\t}\n\t}\n\treturn res !== undefined ? res : path;\n}\n\n/**\n * Compute `fsPath` for the given uri\n */\nexport function uriToFsPath(uri: URI, keepDriveLetterCasing: boolean): string {\n\n\tlet value: string;\n\tif (uri.authority && uri.path.length > 1 && uri.scheme === 'file') {\n\t\t// unc path: file://shares/c$/far/boo\n\t\tvalue = `//${uri.authority}${uri.path}`;\n\t} else if (\n\t\turi.path.charCodeAt(0) === CharCode.Slash\n\t\t&& (uri.path.charCodeAt(1) >= CharCode.A && uri.path.charCodeAt(1) <= CharCode.Z || uri.path.charCodeAt(1) >= CharCode.a && uri.path.charCodeAt(1) <= CharCode.z)\n\t\t&& uri.path.charCodeAt(2) === CharCode.Colon\n\t) {\n\t\tif (!keepDriveLetterCasing) {\n\t\t\t// windows drive letter: file:///c:/far/boo\n\t\t\tvalue = uri.path[1].toLowerCase() + uri.path.substr(2);\n\t\t} else {\n\t\t\tvalue = uri.path.substr(1);\n\t\t}\n\t} else {\n\t\t// other path\n\t\tvalue = uri.path;\n\t}\n\tif (isWindows) {\n\t\tvalue = value.replace(/\\//g, '\\\\');\n\t}\n\treturn value;\n}\n\n/**\n * Create the external version of a uri\n */\nfunction _asFormatted(uri: URI, skipEncoding: boolean): string {\n\n\tconst encoder = !skipEncoding\n\t\t? encodeURIComponentFast\n\t\t: encodeURIComponentMinimal;\n\n\tlet res = '';\n\tlet { scheme, authority, path, query, fragment } = uri;\n\tif (scheme) {\n\t\tres += scheme;\n\t\tres += ':';\n\t}\n\tif (authority || scheme === 'file') {\n\t\tres += _slash;\n\t\tres += _slash;\n\t}\n\tif (authority) {\n\t\tlet idx = authority.indexOf('@');\n\t\tif (idx !== -1) {\n\t\t\t// <user>@<auth>\n\t\t\tconst userinfo = authority.substr(0, idx);\n\t\t\tauthority = authority.substr(idx + 1);\n\t\t\tidx = userinfo.lastIndexOf(':');\n\t\t\tif (idx === -1) {\n\t\t\t\tres += encoder(userinfo, false, false);\n\t\t\t} else {\n\t\t\t\t// <user>:<pass>@<auth>\n\t\t\t\tres += encoder(userinfo.substr(0, idx), false, false);\n\t\t\t\tres += ':';\n\t\t\t\tres += encoder(userinfo.substr(idx + 1), false, true);\n\t\t\t}\n\t\t\tres += '@';\n\t\t}\n\t\tauthority = authority.toLowerCase();\n\t\tidx = authority.lastIndexOf(':');\n\t\tif (idx === -1) {\n\t\t\tres += encoder(authority, false, true);\n\t\t} else {\n\t\t\t// <auth>:<port>\n\t\t\tres += encoder(authority.substr(0, idx), false, true);\n\t\t\tres += authority.substr(idx);\n\t\t}\n\t}\n\tif (path) {\n\t\t// lower-case windows drive letters in /C:/fff or C:/fff\n\t\tif (path.length >= 3 && path.charCodeAt(0) === CharCode.Slash && path.charCodeAt(2) === CharCode.Colon) {\n\t\t\tconst code = path.charCodeAt(1);\n\t\t\tif (code >= CharCode.A && code <= CharCode.Z) {\n\t\t\t\tpath = `/${String.fromCharCode(code + 32)}:${path.substr(3)}`; // \"/c:\".length === 3\n\t\t\t}\n\t\t} else if (path.length >= 2 && path.charCodeAt(1) === CharCode.Colon) {\n\t\t\tconst code = path.charCodeAt(0);\n\t\t\tif (code >= CharCode.A && code <= CharCode.Z) {\n\t\t\t\tpath = `${String.fromCharCode(code + 32)}:${path.substr(2)}`; // \"/c:\".length === 3\n\t\t\t}\n\t\t}\n\t\t// encode the rest of the path\n\t\tres += encoder(path, true, false);\n\t}\n\tif (query) {\n\t\tres += '?';\n\t\tres += encoder(query, false, false);\n\t}\n\tif (fragment) {\n\t\tres += '#';\n\t\tres += !skipEncoding ? encodeURIComponentFast(fragment, false, false) : fragment;\n\t}\n\treturn res;\n}\n\n// --- decode\n\nfunction decodeURIComponentGraceful(str: string): string {\n\ttry {\n\t\treturn decodeURIComponent(str);\n\t} catch {\n\t\tif (str.length > 3) {\n\t\t\treturn str.substr(0, 3) + decodeURIComponentGraceful(str.substr(3));\n\t\t} else {\n\t\t\treturn str;\n\t\t}\n\t}\n}\n\nconst _rEncodedAsHex = /(%[0-9A-Za-z][0-9A-Za-z])+/g;\n\nfunction percentDecode(str: string): string {\n\tif (!str.match(_rEncodedAsHex)) {\n\t\treturn str;\n\t}\n\treturn str.replace(_rEncodedAsHex, (match) => decodeURIComponentGraceful(match));\n}\n\n/**\n * Mapped-type that replaces all occurrences of URI with UriComponents\n */\nexport type UriDto<T> = { [K in keyof T]: T[K] extends URI\n\t? UriComponents\n\t: UriDto<T[K]> };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n'use strict';\n\nimport { CharCode } from './charCode';\nimport { URI } from './uri';\nimport * as nodePath from 'path';\n\nconst posixPath = nodePath.posix || nodePath;\nconst slash = '/';\n\nexport namespace Utils {\n\n    /**\n     * Joins one or more input paths to the path of URI. \n     * '/' is used as the directory separation character. \n     * \n     * The resolved path will be normalized. That means:\n     *  - all '..' and '.' segments are resolved.\n     *  - multiple, sequential occurences of '/' are replaced by a single instance of '/'.\n     *  - trailing separators are preserved.\n     * \n     * @param uri The input URI.\n     * @param paths The paths to be joined with the path of URI.\n     * @returns A URI with the joined path. All other properties of the URI (scheme, authority, query, fragments, ...) will be taken from the input URI.\n     */\n    export function joinPath(uri: URI, ...paths: string[]): URI {\n        return uri.with({ path: posixPath.join(uri.path, ...paths) });\n    }\n\n\n    /**\n     * Resolves one or more paths against the path of a URI. \n     * '/' is used as the directory separation character. \n     * \n     * The resolved path will be normalized. That means:\n     *  - all '..' and '.' segments are resolved. \n     *  - multiple, sequential occurences of '/' are replaced by a single instance of '/'.\n     *  - trailing separators are removed.\n     * \n     * @param uri The input URI.\n     * @param paths The paths to resolve against the path of URI.\n     * @returns A URI with the resolved path. All other properties of the URI (scheme, authority, query, fragments, ...) will be taken from the input URI.\n     */\n    export function resolvePath(uri: URI, ...paths: string[]): URI {\n        let path = uri.path; \n        let slashAdded = false;\n        if (path[0] !== slash) {\n            path = slash + path; // make the path abstract: for posixPath.resolve the first segments has to be absolute or cwd is used.\n            slashAdded = true;\n        }\n        let resolvedPath = posixPath.resolve(path, ...paths);\n        if (slashAdded && resolvedPath[0] === slash && !uri.authority) {\n            resolvedPath = resolvedPath.substring(1);\n        }\n        return uri.with({ path: resolvedPath });\n    }\n\n    /**\n     * Returns a URI where the path is the directory name of the input uri, similar to the Unix dirname command. \n     * In the path, '/' is recognized as the directory separation character. Trailing directory separators are ignored.\n     * The orignal URI is returned if the URIs path is empty or does not contain any path segments.\n     * \n     * @param uri The input URI.\n     * @return The last segment of the URIs path.\n     */\n    export function dirname(uri: URI): URI {\n        if (uri.path.length === 0 || uri.path === slash) {\n            return uri;\n        }\n        let path = posixPath.dirname(uri.path);\n        if (path.length === 1 && path.charCodeAt(0) === CharCode.Period) {\n            path = '';\n        }\n        return uri.with({ path });\n    }\n\n    /**\n     * Returns the last segment of the path of a URI, similar to the Unix basename command. \n     * In the path, '/' is recognized as the directory separation character. Trailing directory separators are ignored.\n     * The empty string is returned if the URIs path is empty or does not contain any path segments.\n     * \n     * @param uri The input URI.\n     * @return The base name of the URIs path.\n     */\n    export function basename(uri: URI): string {\n        return posixPath.basename(uri.path);\n    }\n\n    /**\n     * Returns the extension name of the path of a URI, similar to the Unix extname command. \n     * In the path, '/' is recognized as the directory separation character. Trailing directory separators are ignored.\n     * The empty string is returned if the URIs path is empty or does not contain any path segments.\n     * \n     * @param uri The input URI.\n     * @return The extension name of the URIs path.\n     */\n    export function extname(uri: URI): string {\n        return posixPath.extname(uri.path);\n    }\n}","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var DocumentUri;\n(function (DocumentUri) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    DocumentUri.is = is;\n})(DocumentUri || (DocumentUri = {}));\nexport var URI;\n(function (URI) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    URI.is = is;\n})(URI || (URI = {}));\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && integer.MIN_VALUE <= value && value <= integer.MAX_VALUE;\n    }\n    integer.is = is;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && uinteger.MIN_VALUE <= value && value <= uinteger.MAX_VALUE;\n    }\n    uinteger.is = is;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * {@link Position} literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Position} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * {@link Range} literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\".concat(one, \", \").concat(two, \", \").concat(three, \", \").concat(four, \"]\"));\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Range} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * {@link Location} literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Location} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * {@link LocationLink} literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link LocationLink} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && Range.is(candidate.targetSelectionRange)\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * {@link Color} literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red: red,\n            green: green,\n            blue: blue,\n            alpha: alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Color} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * {@link ColorInformation} literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range: range,\n            color: color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * {@link ColorPresentation} literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label: label,\n            textEdit: textEdit,\n            additionalTextEdits: additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * A set of predefined range kinds.\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind.Comment = 'comment';\n    /**\n     * Folding range for an import or include\n     */\n    FoldingRangeKind.Imports = 'imports';\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind.Region = 'region';\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * {@link FoldingRange} literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\n        var result = {\n            startLine: startLine,\n            endLine: endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        if (Is.defined(collapsedText)) {\n            result.collapsedText = collapsedText;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link FoldingRange} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * {@link DiagnosticRelatedInformation} literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location: location,\n            message: message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DiagnosticRelatedInformation} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * {@link Diagnostic} literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Diagnostic} interface.\n     */\n    function is(value) {\n        var _a;\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * {@link Command} literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Command} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates an insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        var result = { label: label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate);\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range: range, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range: range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'create',\n            uri: uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        var result = {\n            kind: 'rename',\n            oldUri: oldUri,\n            newUri: newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'delete',\n            uri: uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.delete = function (range, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\n        if (value === undefined) {\n            throw new Error(\"Text edit change is not configured to manage change annotations.\");\n        }\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A helper class\n */\nvar ChangeAnnotations = /** @class */ (function () {\n    function ChangeAnnotations(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    ChangeAnnotations.prototype.all = function () {\n        return this._annotations;\n    };\n    Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\n        var id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(\"Id \".concat(id, \" is already in use.\"));\n        }\n        if (annotation === undefined) {\n            throw new Error(\"No annotation provided for id \".concat(id));\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    };\n    ChangeAnnotations.prototype.nextId = function () {\n        this._counter++;\n        return this._counter.toString();\n    };\n    return ChangeAnnotations;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach(function (change) {\n                    if (TextDocumentEdit.is(change)) {\n                        var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying {@link WorkspaceEdit} literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            this.initDocumentChanges();\n            if (this._changeAnnotations !== undefined) {\n                if (this._changeAnnotations.size === 0) {\n                    this._workspaceEdit.changeAnnotations = undefined;\n                }\n                else {\n                    this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                }\n            }\n            return this._workspaceEdit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var textDocument = { uri: key.uri, version: key.version };\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    WorkspaceChange.prototype.initDocumentChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    };\n    WorkspaceChange.prototype.initChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    };\n    WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * {@link TextDocumentIdentifier} literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link TextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * {@link VersionedTextDocumentIdentifier} literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link VersionedTextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * {@link OptionalVersionedTextDocumentIdentifier} literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link OptionalVersionedTextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * {@link TextDocumentItem} literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link TextDocumentItem} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n    /**\n     * Checks whether the given value is a value of the {@link MarkupKind} type.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the {@link MarkupContent} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText: newText, insert: insert, replace: replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link InsertReplaceEdit} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\nexport var CompletionItemLabelDetails;\n(function (CompletionItemLabelDetails) {\n    function is(value) {\n        var candidate = value;\n        return candidate && (Is.string(candidate.detail) || candidate.detail === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    CompletionItemLabelDetails.is = is;\n})(CompletionItemLabelDetails || (CompletionItemLabelDetails = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the {@link MarkedString} type.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the {@link Hover} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * {@link ParameterInformation} literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * {@link SignatureInformation} literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * {@link DocumentHighlight} literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     * @param kind The highlight kind\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n *\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var WorkspaceSymbol;\n(function (WorkspaceSymbol) {\n    /**\n     * Create a new workspace symbol.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param uri The resource of the location of the symbol.\n     * @param range An options range of the location.\n     * @returns A WorkspaceSymbol.\n     */\n    function create(name, kind, uri, range) {\n        return range !== undefined\n            ? { name: name, kind: kind, location: { uri: uri, range: range } }\n            : { name: name, kind: kind, location: { uri: uri } };\n    }\n    WorkspaceSymbol.create = create;\n})(WorkspaceSymbol || (WorkspaceSymbol = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        var result = {\n            name: name,\n            detail: detail,\n            kind: kind,\n            range: range,\n            selectionRange: selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DocumentSymbol} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The reason why code actions were requested.\n *\n * @since 3.17.0\n */\nexport var CodeActionTriggerKind;\n(function (CodeActionTriggerKind) {\n    /**\n     * Code actions were explicitly requested by the user or by an extension.\n     */\n    CodeActionTriggerKind.Invoked = 1;\n    /**\n     * Code actions were requested automatically.\n     *\n     * This typically happens when current selection in a file changes, but can\n     * also be triggered when file content changes.\n     */\n    CodeActionTriggerKind.Automatic = 2;\n})(CodeActionTriggerKind || (CodeActionTriggerKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * {@link CodeActionContext} literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only, triggerKind) {\n        var result = { diagnostics: diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        if (triggerKind !== undefined && triggerKind !== null) {\n            result.triggerKind = triggerKind;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link CodeActionContext} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is)\n            && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string))\n            && (candidate.triggerKind === undefined || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        var result = { title: title };\n        var checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * {@link CodeLens} literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link CodeLens} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * {@link FormattingOptions} literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link FormattingOptions} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * {@link DocumentLink} literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range: range, target: target, data: data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DocumentLink} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range: range, parent: parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n    /**\n     * @since 3.17.0\n     */\n    SemanticTokenTypes[\"decorator\"] = \"decorator\";\n})(SemanticTokenTypes || (SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers || (SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nexport var SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens || (SemanticTokens = {}));\n/**\n * The InlineValueText namespace provides functions to deal with InlineValueTexts.\n *\n * @since 3.17.0\n */\nexport var InlineValueText;\n(function (InlineValueText) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, text) {\n        return { range: range, text: text };\n    }\n    InlineValueText.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\n    }\n    InlineValueText.is = is;\n})(InlineValueText || (InlineValueText = {}));\n/**\n * The InlineValueVariableLookup namespace provides functions to deal with InlineValueVariableLookups.\n *\n * @since 3.17.0\n */\nexport var InlineValueVariableLookup;\n(function (InlineValueVariableLookup) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, variableName, caseSensitiveLookup) {\n        return { range: range, variableName: variableName, caseSensitiveLookup: caseSensitiveLookup };\n    }\n    InlineValueVariableLookup.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup)\n            && (Is.string(candidate.variableName) || candidate.variableName === undefined);\n    }\n    InlineValueVariableLookup.is = is;\n})(InlineValueVariableLookup || (InlineValueVariableLookup = {}));\n/**\n * The InlineValueEvaluatableExpression namespace provides functions to deal with InlineValueEvaluatableExpression.\n *\n * @since 3.17.0\n */\nexport var InlineValueEvaluatableExpression;\n(function (InlineValueEvaluatableExpression) {\n    /**\n     * Creates a new InlineValueEvaluatableExpression literal.\n     */\n    function create(range, expression) {\n        return { range: range, expression: expression };\n    }\n    InlineValueEvaluatableExpression.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range)\n            && (Is.string(candidate.expression) || candidate.expression === undefined);\n    }\n    InlineValueEvaluatableExpression.is = is;\n})(InlineValueEvaluatableExpression || (InlineValueEvaluatableExpression = {}));\n/**\n * The InlineValueContext namespace provides helper functions to work with\n * {@link InlineValueContext} literals.\n *\n * @since 3.17.0\n */\nexport var InlineValueContext;\n(function (InlineValueContext) {\n    /**\n     * Creates a new InlineValueContext literal.\n     */\n    function create(frameId, stoppedLocation) {\n        return { frameId: frameId, stoppedLocation: stoppedLocation };\n    }\n    InlineValueContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link InlineValueContext} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(value.stoppedLocation);\n    }\n    InlineValueContext.is = is;\n})(InlineValueContext || (InlineValueContext = {}));\n/**\n * Inlay hint kinds.\n *\n * @since 3.17.0\n */\nexport var InlayHintKind;\n(function (InlayHintKind) {\n    /**\n     * An inlay hint that for a type annotation.\n     */\n    InlayHintKind.Type = 1;\n    /**\n     * An inlay hint that is for a parameter.\n     */\n    InlayHintKind.Parameter = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    InlayHintKind.is = is;\n})(InlayHintKind || (InlayHintKind = {}));\nexport var InlayHintLabelPart;\n(function (InlayHintLabelPart) {\n    function create(value) {\n        return { value: value };\n    }\n    InlayHintLabelPart.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.location === undefined || Location.is(candidate.location))\n            && (candidate.command === undefined || Command.is(candidate.command));\n    }\n    InlayHintLabelPart.is = is;\n})(InlayHintLabelPart || (InlayHintLabelPart = {}));\nexport var InlayHint;\n(function (InlayHint) {\n    function create(position, label, kind) {\n        var result = { position: position, label: label };\n        if (kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    InlayHint.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.position)\n            && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is))\n            && (candidate.kind === undefined || InlayHintKind.is(candidate.kind))\n            && (candidate.textEdits === undefined) || Is.typedArray(candidate.textEdits, TextEdit.is)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.paddingLeft === undefined || Is.boolean(candidate.paddingLeft))\n            && (candidate.paddingRight === undefined || Is.boolean(candidate.paddingRight));\n    }\n    InlayHint.is = is;\n})(InlayHint || (InlayHint = {}));\nexport var WorkspaceFolder;\n(function (WorkspaceFolder) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\n    }\n    WorkspaceFolder.is = is;\n})(WorkspaceFolder || (WorkspaceFolder = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId The document's language Id.\n     * @param version The document's version.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ITextDocument} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","const ALIAS = Symbol.for('yaml.alias');\nconst DOC = Symbol.for('yaml.document');\nconst MAP = Symbol.for('yaml.map');\nconst PAIR = Symbol.for('yaml.pair');\nconst SCALAR = Symbol.for('yaml.scalar');\nconst SEQ = Symbol.for('yaml.seq');\nconst NODE_TYPE = Symbol.for('yaml.node.type');\nconst isAlias = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === ALIAS;\nconst isDocument = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === DOC;\nconst isMap = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === MAP;\nconst isPair = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === PAIR;\nconst isScalar = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === SCALAR;\nconst isSeq = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === SEQ;\nfunction isCollection(node) {\n    if (node && typeof node === 'object')\n        switch (node[NODE_TYPE]) {\n            case MAP:\n            case SEQ:\n                return true;\n        }\n    return false;\n}\nfunction isNode(node) {\n    if (node && typeof node === 'object')\n        switch (node[NODE_TYPE]) {\n            case ALIAS:\n            case MAP:\n            case SCALAR:\n            case SEQ:\n                return true;\n        }\n    return false;\n}\nconst hasAnchor = (node) => (isScalar(node) || isCollection(node)) && !!node.anchor;\n\nexport { ALIAS, DOC, MAP, NODE_TYPE, PAIR, SCALAR, SEQ, hasAnchor, isAlias, isCollection, isDocument, isMap, isNode, isPair, isScalar, isSeq };\n","import { isDocument, isNode, isPair, isCollection, isMap, isSeq, isScalar, isAlias } from './nodes/identity.js';\n\nconst BREAK = Symbol('break visit');\nconst SKIP = Symbol('skip children');\nconst REMOVE = Symbol('remove node');\n/**\n * Apply a visitor to an AST node or document.\n *\n * Walks through the tree (depth-first) starting from `node`, calling a\n * `visitor` function with three arguments:\n *   - `key`: For sequence values and map `Pair`, the node's index in the\n *     collection. Within a `Pair`, `'key'` or `'value'`, correspondingly.\n *     `null` for the root node.\n *   - `node`: The current node.\n *   - `path`: The ancestry of the current node.\n *\n * The return value of the visitor may be used to control the traversal:\n *   - `undefined` (default): Do nothing and continue\n *   - `visit.SKIP`: Do not visit the children of this node, continue with next\n *     sibling\n *   - `visit.BREAK`: Terminate traversal completely\n *   - `visit.REMOVE`: Remove the current node, then continue with the next one\n *   - `Node`: Replace the current node, then continue by visiting it\n *   - `number`: While iterating the items of a sequence or map, set the index\n *     of the next step. This is useful especially if the index of the current\n *     node has changed.\n *\n * If `visitor` is a single function, it will be called with all values\n * encountered in the tree, including e.g. `null` values. Alternatively,\n * separate visitor functions may be defined for each `Map`, `Pair`, `Seq`,\n * `Alias` and `Scalar` node. To define the same visitor function for more than\n * one node type, use the `Collection` (map and seq), `Value` (map, seq & scalar)\n * and `Node` (alias, map, seq & scalar) targets. Of all these, only the most\n * specific defined one will be used for each node.\n */\nfunction visit(node, visitor) {\n    const visitor_ = initVisitor(visitor);\n    if (isDocument(node)) {\n        const cd = visit_(null, node.contents, visitor_, Object.freeze([node]));\n        if (cd === REMOVE)\n            node.contents = null;\n    }\n    else\n        visit_(null, node, visitor_, Object.freeze([]));\n}\n// Without the `as symbol` casts, TS declares these in the `visit`\n// namespace using `var`, but then complains about that because\n// `unique symbol` must be `const`.\n/** Terminate visit traversal completely */\nvisit.BREAK = BREAK;\n/** Do not visit the children of the current node */\nvisit.SKIP = SKIP;\n/** Remove the current node */\nvisit.REMOVE = REMOVE;\nfunction visit_(key, node, visitor, path) {\n    const ctrl = callVisitor(key, node, visitor, path);\n    if (isNode(ctrl) || isPair(ctrl)) {\n        replaceNode(key, path, ctrl);\n        return visit_(key, ctrl, visitor, path);\n    }\n    if (typeof ctrl !== 'symbol') {\n        if (isCollection(node)) {\n            path = Object.freeze(path.concat(node));\n            for (let i = 0; i < node.items.length; ++i) {\n                const ci = visit_(i, node.items[i], visitor, path);\n                if (typeof ci === 'number')\n                    i = ci - 1;\n                else if (ci === BREAK)\n                    return BREAK;\n                else if (ci === REMOVE) {\n                    node.items.splice(i, 1);\n                    i -= 1;\n                }\n            }\n        }\n        else if (isPair(node)) {\n            path = Object.freeze(path.concat(node));\n            const ck = visit_('key', node.key, visitor, path);\n            if (ck === BREAK)\n                return BREAK;\n            else if (ck === REMOVE)\n                node.key = null;\n            const cv = visit_('value', node.value, visitor, path);\n            if (cv === BREAK)\n                return BREAK;\n            else if (cv === REMOVE)\n                node.value = null;\n        }\n    }\n    return ctrl;\n}\n/**\n * Apply an async visitor to an AST node or document.\n *\n * Walks through the tree (depth-first) starting from `node`, calling a\n * `visitor` function with three arguments:\n *   - `key`: For sequence values and map `Pair`, the node's index in the\n *     collection. Within a `Pair`, `'key'` or `'value'`, correspondingly.\n *     `null` for the root node.\n *   - `node`: The current node.\n *   - `path`: The ancestry of the current node.\n *\n * The return value of the visitor may be used to control the traversal:\n *   - `Promise`: Must resolve to one of the following values\n *   - `undefined` (default): Do nothing and continue\n *   - `visit.SKIP`: Do not visit the children of this node, continue with next\n *     sibling\n *   - `visit.BREAK`: Terminate traversal completely\n *   - `visit.REMOVE`: Remove the current node, then continue with the next one\n *   - `Node`: Replace the current node, then continue by visiting it\n *   - `number`: While iterating the items of a sequence or map, set the index\n *     of the next step. This is useful especially if the index of the current\n *     node has changed.\n *\n * If `visitor` is a single function, it will be called with all values\n * encountered in the tree, including e.g. `null` values. Alternatively,\n * separate visitor functions may be defined for each `Map`, `Pair`, `Seq`,\n * `Alias` and `Scalar` node. To define the same visitor function for more than\n * one node type, use the `Collection` (map and seq), `Value` (map, seq & scalar)\n * and `Node` (alias, map, seq & scalar) targets. Of all these, only the most\n * specific defined one will be used for each node.\n */\nasync function visitAsync(node, visitor) {\n    const visitor_ = initVisitor(visitor);\n    if (isDocument(node)) {\n        const cd = await visitAsync_(null, node.contents, visitor_, Object.freeze([node]));\n        if (cd === REMOVE)\n            node.contents = null;\n    }\n    else\n        await visitAsync_(null, node, visitor_, Object.freeze([]));\n}\n// Without the `as symbol` casts, TS declares these in the `visit`\n// namespace using `var`, but then complains about that because\n// `unique symbol` must be `const`.\n/** Terminate visit traversal completely */\nvisitAsync.BREAK = BREAK;\n/** Do not visit the children of the current node */\nvisitAsync.SKIP = SKIP;\n/** Remove the current node */\nvisitAsync.REMOVE = REMOVE;\nasync function visitAsync_(key, node, visitor, path) {\n    const ctrl = await callVisitor(key, node, visitor, path);\n    if (isNode(ctrl) || isPair(ctrl)) {\n        replaceNode(key, path, ctrl);\n        return visitAsync_(key, ctrl, visitor, path);\n    }\n    if (typeof ctrl !== 'symbol') {\n        if (isCollection(node)) {\n            path = Object.freeze(path.concat(node));\n            for (let i = 0; i < node.items.length; ++i) {\n                const ci = await visitAsync_(i, node.items[i], visitor, path);\n                if (typeof ci === 'number')\n                    i = ci - 1;\n                else if (ci === BREAK)\n                    return BREAK;\n                else if (ci === REMOVE) {\n                    node.items.splice(i, 1);\n                    i -= 1;\n                }\n            }\n        }\n        else if (isPair(node)) {\n            path = Object.freeze(path.concat(node));\n            const ck = await visitAsync_('key', node.key, visitor, path);\n            if (ck === BREAK)\n                return BREAK;\n            else if (ck === REMOVE)\n                node.key = null;\n            const cv = await visitAsync_('value', node.value, visitor, path);\n            if (cv === BREAK)\n                return BREAK;\n            else if (cv === REMOVE)\n                node.value = null;\n        }\n    }\n    return ctrl;\n}\nfunction initVisitor(visitor) {\n    if (typeof visitor === 'object' &&\n        (visitor.Collection || visitor.Node || visitor.Value)) {\n        return Object.assign({\n            Alias: visitor.Node,\n            Map: visitor.Node,\n            Scalar: visitor.Node,\n            Seq: visitor.Node\n        }, visitor.Value && {\n            Map: visitor.Value,\n            Scalar: visitor.Value,\n            Seq: visitor.Value\n        }, visitor.Collection && {\n            Map: visitor.Collection,\n            Seq: visitor.Collection\n        }, visitor);\n    }\n    return visitor;\n}\nfunction callVisitor(key, node, visitor, path) {\n    if (typeof visitor === 'function')\n        return visitor(key, node, path);\n    if (isMap(node))\n        return visitor.Map?.(key, node, path);\n    if (isSeq(node))\n        return visitor.Seq?.(key, node, path);\n    if (isPair(node))\n        return visitor.Pair?.(key, node, path);\n    if (isScalar(node))\n        return visitor.Scalar?.(key, node, path);\n    if (isAlias(node))\n        return visitor.Alias?.(key, node, path);\n    return undefined;\n}\nfunction replaceNode(key, path, node) {\n    const parent = path[path.length - 1];\n    if (isCollection(parent)) {\n        parent.items[key] = node;\n    }\n    else if (isPair(parent)) {\n        if (key === 'key')\n            parent.key = node;\n        else\n            parent.value = node;\n    }\n    else if (isDocument(parent)) {\n        parent.contents = node;\n    }\n    else {\n        const pt = isAlias(parent) ? 'alias' : 'scalar';\n        throw new Error(`Cannot replace node with ${pt} parent`);\n    }\n}\n\nexport { visit, visitAsync };\n","import { isNode } from '../nodes/identity.js';\nimport { visit } from '../visit.js';\n\nconst escapeChars = {\n    '!': '%21',\n    ',': '%2C',\n    '[': '%5B',\n    ']': '%5D',\n    '{': '%7B',\n    '}': '%7D'\n};\nconst escapeTagName = (tn) => tn.replace(/[!,[\\]{}]/g, ch => escapeChars[ch]);\nclass Directives {\n    constructor(yaml, tags) {\n        /**\n         * The directives-end/doc-start marker `---`. If `null`, a marker may still be\n         * included in the document's stringified representation.\n         */\n        this.docStart = null;\n        /** The doc-end marker `...`.  */\n        this.docEnd = false;\n        this.yaml = Object.assign({}, Directives.defaultYaml, yaml);\n        this.tags = Object.assign({}, Directives.defaultTags, tags);\n    }\n    clone() {\n        const copy = new Directives(this.yaml, this.tags);\n        copy.docStart = this.docStart;\n        return copy;\n    }\n    /**\n     * During parsing, get a Directives instance for the current document and\n     * update the stream state according to the current version's spec.\n     */\n    atDocument() {\n        const res = new Directives(this.yaml, this.tags);\n        switch (this.yaml.version) {\n            case '1.1':\n                this.atNextDocument = true;\n                break;\n            case '1.2':\n                this.atNextDocument = false;\n                this.yaml = {\n                    explicit: Directives.defaultYaml.explicit,\n                    version: '1.2'\n                };\n                this.tags = Object.assign({}, Directives.defaultTags);\n                break;\n        }\n        return res;\n    }\n    /**\n     * @param onError - May be called even if the action was successful\n     * @returns `true` on success\n     */\n    add(line, onError) {\n        if (this.atNextDocument) {\n            this.yaml = { explicit: Directives.defaultYaml.explicit, version: '1.1' };\n            this.tags = Object.assign({}, Directives.defaultTags);\n            this.atNextDocument = false;\n        }\n        const parts = line.trim().split(/[ \\t]+/);\n        const name = parts.shift();\n        switch (name) {\n            case '%TAG': {\n                if (parts.length !== 2) {\n                    onError(0, '%TAG directive should contain exactly two parts');\n                    if (parts.length < 2)\n                        return false;\n                }\n                const [handle, prefix] = parts;\n                this.tags[handle] = prefix;\n                return true;\n            }\n            case '%YAML': {\n                this.yaml.explicit = true;\n                if (parts.length !== 1) {\n                    onError(0, '%YAML directive should contain exactly one part');\n                    return false;\n                }\n                const [version] = parts;\n                if (version === '1.1' || version === '1.2') {\n                    this.yaml.version = version;\n                    return true;\n                }\n                else {\n                    const isValid = /^\\d+\\.\\d+$/.test(version);\n                    onError(6, `Unsupported YAML version ${version}`, isValid);\n                    return false;\n                }\n            }\n            default:\n                onError(0, `Unknown directive ${name}`, true);\n                return false;\n        }\n    }\n    /**\n     * Resolves a tag, matching handles to those defined in %TAG directives.\n     *\n     * @returns Resolved tag, which may also be the non-specific tag `'!'` or a\n     *   `'!local'` tag, or `null` if unresolvable.\n     */\n    tagName(source, onError) {\n        if (source === '!')\n            return '!'; // non-specific tag\n        if (source[0] !== '!') {\n            onError(`Not a valid tag: ${source}`);\n            return null;\n        }\n        if (source[1] === '<') {\n            const verbatim = source.slice(2, -1);\n            if (verbatim === '!' || verbatim === '!!') {\n                onError(`Verbatim tags aren't resolved, so ${source} is invalid.`);\n                return null;\n            }\n            if (source[source.length - 1] !== '>')\n                onError('Verbatim tags must end with a >');\n            return verbatim;\n        }\n        const [, handle, suffix] = source.match(/^(.*!)([^!]*)$/);\n        if (!suffix)\n            onError(`The ${source} tag has no suffix`);\n        const prefix = this.tags[handle];\n        if (prefix)\n            return prefix + decodeURIComponent(suffix);\n        if (handle === '!')\n            return source; // local tag\n        onError(`Could not resolve tag: ${source}`);\n        return null;\n    }\n    /**\n     * Given a fully resolved tag, returns its printable string form,\n     * taking into account current tag prefixes and defaults.\n     */\n    tagString(tag) {\n        for (const [handle, prefix] of Object.entries(this.tags)) {\n            if (tag.startsWith(prefix))\n                return handle + escapeTagName(tag.substring(prefix.length));\n        }\n        return tag[0] === '!' ? tag : `!<${tag}>`;\n    }\n    toString(doc) {\n        const lines = this.yaml.explicit\n            ? [`%YAML ${this.yaml.version || '1.2'}`]\n            : [];\n        const tagEntries = Object.entries(this.tags);\n        let tagNames;\n        if (doc && tagEntries.length > 0 && isNode(doc.contents)) {\n            const tags = {};\n            visit(doc.contents, (_key, node) => {\n                if (isNode(node) && node.tag)\n                    tags[node.tag] = true;\n            });\n            tagNames = Object.keys(tags);\n        }\n        else\n            tagNames = [];\n        for (const [handle, prefix] of tagEntries) {\n            if (handle === '!!' && prefix === 'tag:yaml.org,2002:')\n                continue;\n            if (!doc || tagNames.some(tn => tn.startsWith(prefix)))\n                lines.push(`%TAG ${handle} ${prefix}`);\n        }\n        return lines.join('\\n');\n    }\n}\nDirectives.defaultYaml = { explicit: false, version: '1.2' };\nDirectives.defaultTags = { '!!': 'tag:yaml.org,2002:' };\n\nexport { Directives };\n","import { isScalar, isCollection } from '../nodes/identity.js';\nimport { visit } from '../visit.js';\n\n/**\n * Verify that the input string is a valid anchor.\n *\n * Will throw on errors.\n */\nfunction anchorIsValid(anchor) {\n    if (/[\\x00-\\x19\\s,[\\]{}]/.test(anchor)) {\n        const sa = JSON.stringify(anchor);\n        const msg = `Anchor must not contain whitespace or control characters: ${sa}`;\n        throw new Error(msg);\n    }\n    return true;\n}\nfunction anchorNames(root) {\n    const anchors = new Set();\n    visit(root, {\n        Value(_key, node) {\n            if (node.anchor)\n                anchors.add(node.anchor);\n        }\n    });\n    return anchors;\n}\n/** Find a new anchor name with the given `prefix` and a one-indexed suffix. */\nfunction findNewAnchor(prefix, exclude) {\n    for (let i = 1; true; ++i) {\n        const name = `${prefix}${i}`;\n        if (!exclude.has(name))\n            return name;\n    }\n}\nfunction createNodeAnchors(doc, prefix) {\n    const aliasObjects = [];\n    const sourceObjects = new Map();\n    let prevAnchors = null;\n    return {\n        onAnchor: (source) => {\n            aliasObjects.push(source);\n            if (!prevAnchors)\n                prevAnchors = anchorNames(doc);\n            const anchor = findNewAnchor(prefix, prevAnchors);\n            prevAnchors.add(anchor);\n            return anchor;\n        },\n        /**\n         * With circular references, the source node is only resolved after all\n         * of its child nodes are. This is why anchors are set only after all of\n         * the nodes have been created.\n         */\n        setAnchors: () => {\n            for (const source of aliasObjects) {\n                const ref = sourceObjects.get(source);\n                if (typeof ref === 'object' &&\n                    ref.anchor &&\n                    (isScalar(ref.node) || isCollection(ref.node))) {\n                    ref.node.anchor = ref.anchor;\n                }\n                else {\n                    const error = new Error('Failed to resolve repeated object (this should not happen)');\n                    error.source = source;\n                    throw error;\n                }\n            }\n        },\n        sourceObjects\n    };\n}\n\nexport { anchorIsValid, anchorNames, createNodeAnchors, findNewAnchor };\n","/**\n * Applies the JSON.parse reviver algorithm as defined in the ECMA-262 spec,\n * in section 24.5.1.1 \"Runtime Semantics: InternalizeJSONProperty\" of the\n * 2021 edition: https://tc39.es/ecma262/#sec-json.parse\n *\n * Includes extensions for handling Map and Set objects.\n */\nfunction applyReviver(reviver, obj, key, val) {\n    if (val && typeof val === 'object') {\n        if (Array.isArray(val)) {\n            for (let i = 0, len = val.length; i < len; ++i) {\n                const v0 = val[i];\n                const v1 = applyReviver(reviver, val, String(i), v0);\n                if (v1 === undefined)\n                    delete val[i];\n                else if (v1 !== v0)\n                    val[i] = v1;\n            }\n        }\n        else if (val instanceof Map) {\n            for (const k of Array.from(val.keys())) {\n                const v0 = val.get(k);\n                const v1 = applyReviver(reviver, val, k, v0);\n                if (v1 === undefined)\n                    val.delete(k);\n                else if (v1 !== v0)\n                    val.set(k, v1);\n            }\n        }\n        else if (val instanceof Set) {\n            for (const v0 of Array.from(val)) {\n                const v1 = applyReviver(reviver, val, v0, v0);\n                if (v1 === undefined)\n                    val.delete(v0);\n                else if (v1 !== v0) {\n                    val.delete(v0);\n                    val.add(v1);\n                }\n            }\n        }\n        else {\n            for (const [k, v0] of Object.entries(val)) {\n                const v1 = applyReviver(reviver, val, k, v0);\n                if (v1 === undefined)\n                    delete val[k];\n                else if (v1 !== v0)\n                    val[k] = v1;\n            }\n        }\n    }\n    return reviver.call(obj, key, val);\n}\n\nexport { applyReviver };\n","import { hasAnchor } from './identity.js';\n\n/**\n * Recursively convert any node or its contents to native JavaScript\n *\n * @param value - The input value\n * @param arg - If `value` defines a `toJSON()` method, use this\n *   as its first argument\n * @param ctx - Conversion context, originally set in Document#toJS(). If\n *   `{ keep: true }` is not set, output should be suitable for JSON\n *   stringification.\n */\nfunction toJS(value, arg, ctx) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n    if (Array.isArray(value))\n        return value.map((v, i) => toJS(v, String(i), ctx));\n    if (value && typeof value.toJSON === 'function') {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n        if (!ctx || !hasAnchor(value))\n            return value.toJSON(arg, ctx);\n        const data = { aliasCount: 0, count: 1, res: undefined };\n        ctx.anchors.set(value, data);\n        ctx.onCreate = res => {\n            data.res = res;\n            delete ctx.onCreate;\n        };\n        const res = value.toJSON(arg, ctx);\n        if (ctx.onCreate)\n            ctx.onCreate(res);\n        return res;\n    }\n    if (typeof value === 'bigint' && !ctx?.keep)\n        return Number(value);\n    return value;\n}\n\nexport { toJS };\n","import { applyReviver } from '../doc/applyReviver.js';\nimport { NODE_TYPE, isDocument } from './identity.js';\nimport { toJS } from './toJS.js';\n\nclass NodeBase {\n    constructor(type) {\n        Object.defineProperty(this, NODE_TYPE, { value: type });\n    }\n    /** Create a copy of this node.  */\n    clone() {\n        const copy = Object.create(Object.getPrototypeOf(this), Object.getOwnPropertyDescriptors(this));\n        if (this.range)\n            copy.range = this.range.slice();\n        return copy;\n    }\n    /** A plain JavaScript representation of this node. */\n    toJS(doc, { mapAsMap, maxAliasCount, onAnchor, reviver } = {}) {\n        if (!isDocument(doc))\n            throw new TypeError('A document argument is required');\n        const ctx = {\n            anchors: new Map(),\n            doc,\n            keep: true,\n            mapAsMap: mapAsMap === true,\n            mapKeyWarned: false,\n            maxAliasCount: typeof maxAliasCount === 'number' ? maxAliasCount : 100\n        };\n        const res = toJS(this, '', ctx);\n        if (typeof onAnchor === 'function')\n            for (const { count, res } of ctx.anchors.values())\n                onAnchor(res, count);\n        return typeof reviver === 'function'\n            ? applyReviver(reviver, { '': res }, '', res)\n            : res;\n    }\n}\n\nexport { NodeBase };\n","import { anchorIsValid } from '../doc/anchors.js';\nimport { visit } from '../visit.js';\nimport { ALIAS, isAlias, isCollection, isPair } from './identity.js';\nimport { NodeBase } from './Node.js';\nimport { toJS } from './toJS.js';\n\nclass Alias extends NodeBase {\n    constructor(source) {\n        super(ALIAS);\n        this.source = source;\n        Object.defineProperty(this, 'tag', {\n            set() {\n                throw new Error('Alias nodes cannot have tags');\n            }\n        });\n    }\n    /**\n     * Resolve the value of this alias within `doc`, finding the last\n     * instance of the `source` anchor before this node.\n     */\n    resolve(doc) {\n        let found = undefined;\n        visit(doc, {\n            Node: (_key, node) => {\n                if (node === this)\n                    return visit.BREAK;\n                if (node.anchor === this.source)\n                    found = node;\n            }\n        });\n        return found;\n    }\n    toJSON(_arg, ctx) {\n        if (!ctx)\n            return { source: this.source };\n        const { anchors, doc, maxAliasCount } = ctx;\n        const source = this.resolve(doc);\n        if (!source) {\n            const msg = `Unresolved alias (the anchor must be set before the alias): ${this.source}`;\n            throw new ReferenceError(msg);\n        }\n        let data = anchors.get(source);\n        if (!data) {\n            // Resolve anchors for Node.prototype.toJS()\n            toJS(source, null, ctx);\n            data = anchors.get(source);\n        }\n        /* istanbul ignore if */\n        if (!data || data.res === undefined) {\n            const msg = 'This should not happen: Alias anchor was not resolved?';\n            throw new ReferenceError(msg);\n        }\n        if (maxAliasCount >= 0) {\n            data.count += 1;\n            if (data.aliasCount === 0)\n                data.aliasCount = getAliasCount(doc, source, anchors);\n            if (data.count * data.aliasCount > maxAliasCount) {\n                const msg = 'Excessive alias count indicates a resource exhaustion attack';\n                throw new ReferenceError(msg);\n            }\n        }\n        return data.res;\n    }\n    toString(ctx, _onComment, _onChompKeep) {\n        const src = `*${this.source}`;\n        if (ctx) {\n            anchorIsValid(this.source);\n            if (ctx.options.verifyAliasOrder && !ctx.anchors.has(this.source)) {\n                const msg = `Unresolved alias (the anchor must be set before the alias): ${this.source}`;\n                throw new Error(msg);\n            }\n            if (ctx.implicitKey)\n                return `${src} `;\n        }\n        return src;\n    }\n}\nfunction getAliasCount(doc, node, anchors) {\n    if (isAlias(node)) {\n        const source = node.resolve(doc);\n        const anchor = anchors && source && anchors.get(source);\n        return anchor ? anchor.count * anchor.aliasCount : 0;\n    }\n    else if (isCollection(node)) {\n        let count = 0;\n        for (const item of node.items) {\n            const c = getAliasCount(doc, item, anchors);\n            if (c > count)\n                count = c;\n        }\n        return count;\n    }\n    else if (isPair(node)) {\n        const kc = getAliasCount(doc, node.key, anchors);\n        const vc = getAliasCount(doc, node.value, anchors);\n        return Math.max(kc, vc);\n    }\n    return 1;\n}\n\nexport { Alias };\n","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","import { SCALAR } from './identity.js';\nimport { NodeBase } from './Node.js';\nimport { toJS } from './toJS.js';\n\nconst isScalarValue = (value) => !value || (typeof value !== 'function' && typeof value !== 'object');\nclass Scalar extends NodeBase {\n    constructor(value) {\n        super(SCALAR);\n        this.value = value;\n    }\n    toJSON(arg, ctx) {\n        return ctx?.keep ? this.value : toJS(this.value, arg, ctx);\n    }\n    toString() {\n        return String(this.value);\n    }\n}\nScalar.BLOCK_FOLDED = 'BLOCK_FOLDED';\nScalar.BLOCK_LITERAL = 'BLOCK_LITERAL';\nScalar.PLAIN = 'PLAIN';\nScalar.QUOTE_DOUBLE = 'QUOTE_DOUBLE';\nScalar.QUOTE_SINGLE = 'QUOTE_SINGLE';\n\nexport { Scalar, isScalarValue };\n","import { Alias } from '../nodes/Alias.js';\nimport { isNode, isPair, MAP, SEQ, isDocument } from '../nodes/identity.js';\nimport { Scalar } from '../nodes/Scalar.js';\n\nconst defaultTagPrefix = 'tag:yaml.org,2002:';\nfunction findTagObject(value, tagName, tags) {\n    if (tagName) {\n        const match = tags.filter(t => t.tag === tagName);\n        const tagObj = match.find(t => !t.format) ?? match[0];\n        if (!tagObj)\n            throw new Error(`Tag ${tagName} not found`);\n        return tagObj;\n    }\n    return tags.find(t => t.identify?.(value) && !t.format);\n}\nfunction createNode(value, tagName, ctx) {\n    if (isDocument(value))\n        value = value.contents;\n    if (isNode(value))\n        return value;\n    if (isPair(value)) {\n        const map = ctx.schema[MAP].createNode?.(ctx.schema, null, ctx);\n        map.items.push(value);\n        return map;\n    }\n    if (value instanceof String ||\n        value instanceof Number ||\n        value instanceof Boolean ||\n        (typeof BigInt !== 'undefined' && value instanceof BigInt) // not supported everywhere\n    ) {\n        // https://tc39.es/ecma262/#sec-serializejsonproperty\n        value = value.valueOf();\n    }\n    const { aliasDuplicateObjects, onAnchor, onTagObj, schema, sourceObjects } = ctx;\n    // Detect duplicate references to the same object & use Alias nodes for all\n    // after first. The `ref` wrapper allows for circular references to resolve.\n    let ref = undefined;\n    if (aliasDuplicateObjects && value && typeof value === 'object') {\n        ref = sourceObjects.get(value);\n        if (ref) {\n            if (!ref.anchor)\n                ref.anchor = onAnchor(value);\n            return new Alias(ref.anchor);\n        }\n        else {\n            ref = { anchor: null, node: null };\n            sourceObjects.set(value, ref);\n        }\n    }\n    if (tagName?.startsWith('!!'))\n        tagName = defaultTagPrefix + tagName.slice(2);\n    let tagObj = findTagObject(value, tagName, schema.tags);\n    if (!tagObj) {\n        if (value && typeof value.toJSON === 'function') {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n            value = value.toJSON();\n        }\n        if (!value || typeof value !== 'object') {\n            const node = new Scalar(value);\n            if (ref)\n                ref.node = node;\n            return node;\n        }\n        tagObj =\n            value instanceof Map\n                ? schema[MAP]\n                : Symbol.iterator in Object(value)\n                    ? schema[SEQ]\n                    : schema[MAP];\n    }\n    if (onTagObj) {\n        onTagObj(tagObj);\n        delete ctx.onTagObj;\n    }\n    const node = tagObj?.createNode\n        ? tagObj.createNode(ctx.schema, value, ctx)\n        : typeof tagObj?.nodeClass?.from === 'function'\n            ? tagObj.nodeClass.from(ctx.schema, value, ctx)\n            : new Scalar(value);\n    if (tagName)\n        node.tag = tagName;\n    else if (!tagObj.default)\n        node.tag = tagObj.tag;\n    if (ref)\n        ref.node = node;\n    return node;\n}\n\nexport { createNode };\n","import { createNode } from '../doc/createNode.js';\nimport { isNode, isPair, isCollection, isScalar } from './identity.js';\nimport { NodeBase } from './Node.js';\n\nfunction collectionFromPath(schema, path, value) {\n    let v = value;\n    for (let i = path.length - 1; i >= 0; --i) {\n        const k = path[i];\n        if (typeof k === 'number' && Number.isInteger(k) && k >= 0) {\n            const a = [];\n            a[k] = v;\n            v = a;\n        }\n        else {\n            v = new Map([[k, v]]);\n        }\n    }\n    return createNode(v, undefined, {\n        aliasDuplicateObjects: false,\n        keepUndefined: false,\n        onAnchor: () => {\n            throw new Error('This should not happen, please report a bug.');\n        },\n        schema,\n        sourceObjects: new Map()\n    });\n}\n// Type guard is intentionally a little wrong so as to be more useful,\n// as it does not cover untypable empty non-string iterables (e.g. []).\nconst isEmptyPath = (path) => path == null ||\n    (typeof path === 'object' && !!path[Symbol.iterator]().next().done);\nclass Collection extends NodeBase {\n    constructor(type, schema) {\n        super(type);\n        Object.defineProperty(this, 'schema', {\n            value: schema,\n            configurable: true,\n            enumerable: false,\n            writable: true\n        });\n    }\n    /**\n     * Create a copy of this collection.\n     *\n     * @param schema - If defined, overwrites the original's schema\n     */\n    clone(schema) {\n        const copy = Object.create(Object.getPrototypeOf(this), Object.getOwnPropertyDescriptors(this));\n        if (schema)\n            copy.schema = schema;\n        copy.items = copy.items.map(it => isNode(it) || isPair(it) ? it.clone(schema) : it);\n        if (this.range)\n            copy.range = this.range.slice();\n        return copy;\n    }\n    /**\n     * Adds a value to the collection. For `!!map` and `!!omap` the value must\n     * be a Pair instance or a `{ key, value }` object, which may not have a key\n     * that already exists in the map.\n     */\n    addIn(path, value) {\n        if (isEmptyPath(path))\n            this.add(value);\n        else {\n            const [key, ...rest] = path;\n            const node = this.get(key, true);\n            if (isCollection(node))\n                node.addIn(rest, value);\n            else if (node === undefined && this.schema)\n                this.set(key, collectionFromPath(this.schema, rest, value));\n            else\n                throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\n        }\n    }\n    /**\n     * Removes a value from the collection.\n     * @returns `true` if the item was found and removed.\n     */\n    deleteIn(path) {\n        const [key, ...rest] = path;\n        if (rest.length === 0)\n            return this.delete(key);\n        const node = this.get(key, true);\n        if (isCollection(node))\n            return node.deleteIn(rest);\n        else\n            throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\n    }\n    /**\n     * Returns item at `key`, or `undefined` if not found. By default unwraps\n     * scalar values from their surrounding node; to disable set `keepScalar` to\n     * `true` (collections are always returned intact).\n     */\n    getIn(path, keepScalar) {\n        const [key, ...rest] = path;\n        const node = this.get(key, true);\n        if (rest.length === 0)\n            return !keepScalar && isScalar(node) ? node.value : node;\n        else\n            return isCollection(node) ? node.getIn(rest, keepScalar) : undefined;\n    }\n    hasAllNullValues(allowScalar) {\n        return this.items.every(node => {\n            if (!isPair(node))\n                return false;\n            const n = node.value;\n            return (n == null ||\n                (allowScalar &&\n                    isScalar(n) &&\n                    n.value == null &&\n                    !n.commentBefore &&\n                    !n.comment &&\n                    !n.tag));\n        });\n    }\n    /**\n     * Checks if the collection includes a value with the key `key`.\n     */\n    hasIn(path) {\n        const [key, ...rest] = path;\n        if (rest.length === 0)\n            return this.has(key);\n        const node = this.get(key, true);\n        return isCollection(node) ? node.hasIn(rest) : false;\n    }\n    /**\n     * Sets a value in this collection. For `!!set`, `value` needs to be a\n     * boolean to add/remove the item from the set.\n     */\n    setIn(path, value) {\n        const [key, ...rest] = path;\n        if (rest.length === 0) {\n            this.set(key, value);\n        }\n        else {\n            const node = this.get(key, true);\n            if (isCollection(node))\n                node.setIn(rest, value);\n            else if (node === undefined && this.schema)\n                this.set(key, collectionFromPath(this.schema, rest, value));\n            else\n                throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\n        }\n    }\n}\nCollection.maxFlowStringSingleLineLength = 60;\n\nexport { Collection, collectionFromPath, isEmptyPath };\n","/**\n * Stringifies a comment.\n *\n * Empty comment lines are left empty,\n * lines consisting of a single space are replaced by `#`,\n * and all other lines are prefixed with a `#`.\n */\nconst stringifyComment = (str) => str.replace(/^(?!$)(?: $)?/gm, '#');\nfunction indentComment(comment, indent) {\n    if (/^\\n+$/.test(comment))\n        return comment.substring(1);\n    return indent ? comment.replace(/^(?! *$)/gm, indent) : comment;\n}\nconst lineComment = (str, indent, comment) => str.endsWith('\\n')\n    ? indentComment(comment, indent)\n    : comment.includes('\\n')\n        ? '\\n' + indentComment(comment, indent)\n        : (str.endsWith(' ') ? '' : ' ') + comment;\n\nexport { indentComment, lineComment, stringifyComment };\n","const FOLD_FLOW = 'flow';\nconst FOLD_BLOCK = 'block';\nconst FOLD_QUOTED = 'quoted';\n/**\n * Tries to keep input at up to `lineWidth` characters, splitting only on spaces\n * not followed by newlines or spaces unless `mode` is `'quoted'`. Lines are\n * terminated with `\\n` and started with `indent`.\n */\nfunction foldFlowLines(text, indent, mode = 'flow', { indentAtStart, lineWidth = 80, minContentWidth = 20, onFold, onOverflow } = {}) {\n    if (!lineWidth || lineWidth < 0)\n        return text;\n    const endStep = Math.max(1 + minContentWidth, 1 + lineWidth - indent.length);\n    if (text.length <= endStep)\n        return text;\n    const folds = [];\n    const escapedFolds = {};\n    let end = lineWidth - indent.length;\n    if (typeof indentAtStart === 'number') {\n        if (indentAtStart > lineWidth - Math.max(2, minContentWidth))\n            folds.push(0);\n        else\n            end = lineWidth - indentAtStart;\n    }\n    let split = undefined;\n    let prev = undefined;\n    let overflow = false;\n    let i = -1;\n    let escStart = -1;\n    let escEnd = -1;\n    if (mode === FOLD_BLOCK) {\n        i = consumeMoreIndentedLines(text, i);\n        if (i !== -1)\n            end = i + endStep;\n    }\n    for (let ch; (ch = text[(i += 1)]);) {\n        if (mode === FOLD_QUOTED && ch === '\\\\') {\n            escStart = i;\n            switch (text[i + 1]) {\n                case 'x':\n                    i += 3;\n                    break;\n                case 'u':\n                    i += 5;\n                    break;\n                case 'U':\n                    i += 9;\n                    break;\n                default:\n                    i += 1;\n            }\n            escEnd = i;\n        }\n        if (ch === '\\n') {\n            if (mode === FOLD_BLOCK)\n                i = consumeMoreIndentedLines(text, i);\n            end = i + endStep;\n            split = undefined;\n        }\n        else {\n            if (ch === ' ' &&\n                prev &&\n                prev !== ' ' &&\n                prev !== '\\n' &&\n                prev !== '\\t') {\n                // space surrounded by non-space can be replaced with newline + indent\n                const next = text[i + 1];\n                if (next && next !== ' ' && next !== '\\n' && next !== '\\t')\n                    split = i;\n            }\n            if (i >= end) {\n                if (split) {\n                    folds.push(split);\n                    end = split + endStep;\n                    split = undefined;\n                }\n                else if (mode === FOLD_QUOTED) {\n                    // white-space collected at end may stretch past lineWidth\n                    while (prev === ' ' || prev === '\\t') {\n                        prev = ch;\n                        ch = text[(i += 1)];\n                        overflow = true;\n                    }\n                    // Account for newline escape, but don't break preceding escape\n                    const j = i > escEnd + 1 ? i - 2 : escStart - 1;\n                    // Bail out if lineWidth & minContentWidth are shorter than an escape string\n                    if (escapedFolds[j])\n                        return text;\n                    folds.push(j);\n                    escapedFolds[j] = true;\n                    end = j + endStep;\n                    split = undefined;\n                }\n                else {\n                    overflow = true;\n                }\n            }\n        }\n        prev = ch;\n    }\n    if (overflow && onOverflow)\n        onOverflow();\n    if (folds.length === 0)\n        return text;\n    if (onFold)\n        onFold();\n    let res = text.slice(0, folds[0]);\n    for (let i = 0; i < folds.length; ++i) {\n        const fold = folds[i];\n        const end = folds[i + 1] || text.length;\n        if (fold === 0)\n            res = `\\n${indent}${text.slice(0, end)}`;\n        else {\n            if (mode === FOLD_QUOTED && escapedFolds[fold])\n                res += `${text[fold]}\\\\`;\n            res += `\\n${indent}${text.slice(fold + 1, end)}`;\n        }\n    }\n    return res;\n}\n/**\n * Presumes `i + 1` is at the start of a line\n * @returns index of last newline in more-indented block\n */\nfunction consumeMoreIndentedLines(text, i) {\n    let ch = text[i + 1];\n    while (ch === ' ' || ch === '\\t') {\n        do {\n            ch = text[(i += 1)];\n        } while (ch && ch !== '\\n');\n        ch = text[i + 1];\n    }\n    return i;\n}\n\nexport { FOLD_BLOCK, FOLD_FLOW, FOLD_QUOTED, foldFlowLines };\n","import { Scalar } from '../nodes/Scalar.js';\nimport { foldFlowLines, FOLD_QUOTED, FOLD_FLOW, FOLD_BLOCK } from './foldFlowLines.js';\n\nconst getFoldOptions = (ctx, isBlock) => ({\n    indentAtStart: isBlock ? ctx.indent.length : ctx.indentAtStart,\n    lineWidth: ctx.options.lineWidth,\n    minContentWidth: ctx.options.minContentWidth\n});\n// Also checks for lines starting with %, as parsing the output as YAML 1.1 will\n// presume that's starting a new document.\nconst containsDocumentMarker = (str) => /^(%|---|\\.\\.\\.)/m.test(str);\nfunction lineLengthOverLimit(str, lineWidth, indentLength) {\n    if (!lineWidth || lineWidth < 0)\n        return false;\n    const limit = lineWidth - indentLength;\n    const strLen = str.length;\n    if (strLen <= limit)\n        return false;\n    for (let i = 0, start = 0; i < strLen; ++i) {\n        if (str[i] === '\\n') {\n            if (i - start > limit)\n                return true;\n            start = i + 1;\n            if (strLen - start <= limit)\n                return false;\n        }\n    }\n    return true;\n}\nfunction doubleQuotedString(value, ctx) {\n    const json = JSON.stringify(value);\n    if (ctx.options.doubleQuotedAsJSON)\n        return json;\n    const { implicitKey } = ctx;\n    const minMultiLineLength = ctx.options.doubleQuotedMinMultiLineLength;\n    const indent = ctx.indent || (containsDocumentMarker(value) ? '  ' : '');\n    let str = '';\n    let start = 0;\n    for (let i = 0, ch = json[i]; ch; ch = json[++i]) {\n        if (ch === ' ' && json[i + 1] === '\\\\' && json[i + 2] === 'n') {\n            // space before newline needs to be escaped to not be folded\n            str += json.slice(start, i) + '\\\\ ';\n            i += 1;\n            start = i;\n            ch = '\\\\';\n        }\n        if (ch === '\\\\')\n            switch (json[i + 1]) {\n                case 'u':\n                    {\n                        str += json.slice(start, i);\n                        const code = json.substr(i + 2, 4);\n                        switch (code) {\n                            case '0000':\n                                str += '\\\\0';\n                                break;\n                            case '0007':\n                                str += '\\\\a';\n                                break;\n                            case '000b':\n                                str += '\\\\v';\n                                break;\n                            case '001b':\n                                str += '\\\\e';\n                                break;\n                            case '0085':\n                                str += '\\\\N';\n                                break;\n                            case '00a0':\n                                str += '\\\\_';\n                                break;\n                            case '2028':\n                                str += '\\\\L';\n                                break;\n                            case '2029':\n                                str += '\\\\P';\n                                break;\n                            default:\n                                if (code.substr(0, 2) === '00')\n                                    str += '\\\\x' + code.substr(2);\n                                else\n                                    str += json.substr(i, 6);\n                        }\n                        i += 5;\n                        start = i + 1;\n                    }\n                    break;\n                case 'n':\n                    if (implicitKey ||\n                        json[i + 2] === '\"' ||\n                        json.length < minMultiLineLength) {\n                        i += 1;\n                    }\n                    else {\n                        // folding will eat first newline\n                        str += json.slice(start, i) + '\\n\\n';\n                        while (json[i + 2] === '\\\\' &&\n                            json[i + 3] === 'n' &&\n                            json[i + 4] !== '\"') {\n                            str += '\\n';\n                            i += 2;\n                        }\n                        str += indent;\n                        // space after newline needs to be escaped to not be folded\n                        if (json[i + 2] === ' ')\n                            str += '\\\\';\n                        i += 1;\n                        start = i + 1;\n                    }\n                    break;\n                default:\n                    i += 1;\n            }\n    }\n    str = start ? str + json.slice(start) : json;\n    return implicitKey\n        ? str\n        : foldFlowLines(str, indent, FOLD_QUOTED, getFoldOptions(ctx, false));\n}\nfunction singleQuotedString(value, ctx) {\n    if (ctx.options.singleQuote === false ||\n        (ctx.implicitKey && value.includes('\\n')) ||\n        /[ \\t]\\n|\\n[ \\t]/.test(value) // single quoted string can't have leading or trailing whitespace around newline\n    )\n        return doubleQuotedString(value, ctx);\n    const indent = ctx.indent || (containsDocumentMarker(value) ? '  ' : '');\n    const res = \"'\" + value.replace(/'/g, \"''\").replace(/\\n+/g, `$&\\n${indent}`) + \"'\";\n    return ctx.implicitKey\n        ? res\n        : foldFlowLines(res, indent, FOLD_FLOW, getFoldOptions(ctx, false));\n}\nfunction quotedString(value, ctx) {\n    const { singleQuote } = ctx.options;\n    let qs;\n    if (singleQuote === false)\n        qs = doubleQuotedString;\n    else {\n        const hasDouble = value.includes('\"');\n        const hasSingle = value.includes(\"'\");\n        if (hasDouble && !hasSingle)\n            qs = singleQuotedString;\n        else if (hasSingle && !hasDouble)\n            qs = doubleQuotedString;\n        else\n            qs = singleQuote ? singleQuotedString : doubleQuotedString;\n    }\n    return qs(value, ctx);\n}\n// The negative lookbehind avoids a polynomial search,\n// but isn't supported yet on Safari: https://caniuse.com/js-regexp-lookbehind\nlet blockEndNewlines;\ntry {\n    blockEndNewlines = new RegExp('(^|(?<!\\n))\\n+(?!\\n|$)', 'g');\n}\ncatch {\n    blockEndNewlines = /\\n+(?!\\n|$)/g;\n}\nfunction blockString({ comment, type, value }, ctx, onComment, onChompKeep) {\n    const { blockQuote, commentString, lineWidth } = ctx.options;\n    // 1. Block can't end in whitespace unless the last line is non-empty.\n    // 2. Strings consisting of only whitespace are best rendered explicitly.\n    if (!blockQuote || /\\n[\\t ]+$/.test(value) || /^\\s*$/.test(value)) {\n        return quotedString(value, ctx);\n    }\n    const indent = ctx.indent ||\n        (ctx.forceBlockIndent || containsDocumentMarker(value) ? '  ' : '');\n    const literal = blockQuote === 'literal'\n        ? true\n        : blockQuote === 'folded' || type === Scalar.BLOCK_FOLDED\n            ? false\n            : type === Scalar.BLOCK_LITERAL\n                ? true\n                : !lineLengthOverLimit(value, lineWidth, indent.length);\n    if (!value)\n        return literal ? '|\\n' : '>\\n';\n    // determine chomping from whitespace at value end\n    let chomp;\n    let endStart;\n    for (endStart = value.length; endStart > 0; --endStart) {\n        const ch = value[endStart - 1];\n        if (ch !== '\\n' && ch !== '\\t' && ch !== ' ')\n            break;\n    }\n    let end = value.substring(endStart);\n    const endNlPos = end.indexOf('\\n');\n    if (endNlPos === -1) {\n        chomp = '-'; // strip\n    }\n    else if (value === end || endNlPos !== end.length - 1) {\n        chomp = '+'; // keep\n        if (onChompKeep)\n            onChompKeep();\n    }\n    else {\n        chomp = ''; // clip\n    }\n    if (end) {\n        value = value.slice(0, -end.length);\n        if (end[end.length - 1] === '\\n')\n            end = end.slice(0, -1);\n        end = end.replace(blockEndNewlines, `$&${indent}`);\n    }\n    // determine indent indicator from whitespace at value start\n    let startWithSpace = false;\n    let startEnd;\n    let startNlPos = -1;\n    for (startEnd = 0; startEnd < value.length; ++startEnd) {\n        const ch = value[startEnd];\n        if (ch === ' ')\n            startWithSpace = true;\n        else if (ch === '\\n')\n            startNlPos = startEnd;\n        else\n            break;\n    }\n    let start = value.substring(0, startNlPos < startEnd ? startNlPos + 1 : startEnd);\n    if (start) {\n        value = value.substring(start.length);\n        start = start.replace(/\\n+/g, `$&${indent}`);\n    }\n    const indentSize = indent ? '2' : '1'; // root is at -1\n    let header = (literal ? '|' : '>') + (startWithSpace ? indentSize : '') + chomp;\n    if (comment) {\n        header += ' ' + commentString(comment.replace(/ ?[\\r\\n]+/g, ' '));\n        if (onComment)\n            onComment();\n    }\n    if (literal) {\n        value = value.replace(/\\n+/g, `$&${indent}`);\n        return `${header}\\n${indent}${start}${value}${end}`;\n    }\n    value = value\n        .replace(/\\n+/g, '\\n$&')\n        .replace(/(?:^|\\n)([\\t ].*)(?:([\\n\\t ]*)\\n(?![\\n\\t ]))?/g, '$1$2') // more-indented lines aren't folded\n        //                ^ more-ind. ^ empty     ^ capture next empty lines only at end of indent\n        .replace(/\\n+/g, `$&${indent}`);\n    const body = foldFlowLines(`${start}${value}${end}`, indent, FOLD_BLOCK, getFoldOptions(ctx, true));\n    return `${header}\\n${indent}${body}`;\n}\nfunction plainString(item, ctx, onComment, onChompKeep) {\n    const { type, value } = item;\n    const { actualString, implicitKey, indent, indentStep, inFlow } = ctx;\n    if ((implicitKey && /[\\n[\\]{},]/.test(value)) ||\n        (inFlow && /[[\\]{},]/.test(value))) {\n        return quotedString(value, ctx);\n    }\n    if (!value ||\n        /^[\\n\\t ,[\\]{}#&*!|>'\"%@`]|^[?-]$|^[?-][ \\t]|[\\n:][ \\t]|[ \\t]\\n|[\\n\\t ]#|[\\n\\t :]$/.test(value)) {\n        // not allowed:\n        // - empty string, '-' or '?'\n        // - start with an indicator character (except [?:-]) or /[?-] /\n        // - '\\n ', ': ' or ' \\n' anywhere\n        // - '#' not preceded by a non-space char\n        // - end with ' ' or ':'\n        return implicitKey || inFlow || !value.includes('\\n')\n            ? quotedString(value, ctx)\n            : blockString(item, ctx, onComment, onChompKeep);\n    }\n    if (!implicitKey &&\n        !inFlow &&\n        type !== Scalar.PLAIN &&\n        value.includes('\\n')) {\n        // Where allowed & type not set explicitly, prefer block style for multiline strings\n        return blockString(item, ctx, onComment, onChompKeep);\n    }\n    if (containsDocumentMarker(value)) {\n        if (indent === '') {\n            ctx.forceBlockIndent = true;\n            return blockString(item, ctx, onComment, onChompKeep);\n        }\n        else if (implicitKey && indent === indentStep) {\n            return quotedString(value, ctx);\n        }\n    }\n    const str = value.replace(/\\n+/g, `$&\\n${indent}`);\n    // Verify that output will be parsed as a string, as e.g. plain numbers and\n    // booleans get parsed with those types in v1.2 (e.g. '42', 'true' & '0.9e-3'),\n    // and others in v1.1.\n    if (actualString) {\n        const test = (tag) => tag.default && tag.tag !== 'tag:yaml.org,2002:str' && tag.test?.test(str);\n        const { compat, tags } = ctx.doc.schema;\n        if (tags.some(test) || compat?.some(test))\n            return quotedString(value, ctx);\n    }\n    return implicitKey\n        ? str\n        : foldFlowLines(str, indent, FOLD_FLOW, getFoldOptions(ctx, false));\n}\nfunction stringifyString(item, ctx, onComment, onChompKeep) {\n    const { implicitKey, inFlow } = ctx;\n    const ss = typeof item.value === 'string'\n        ? item\n        : Object.assign({}, item, { value: String(item.value) });\n    let { type } = item;\n    if (type !== Scalar.QUOTE_DOUBLE) {\n        // force double quotes on control characters & unpaired surrogates\n        if (/[\\x00-\\x08\\x0b-\\x1f\\x7f-\\x9f\\u{D800}-\\u{DFFF}]/u.test(ss.value))\n            type = Scalar.QUOTE_DOUBLE;\n    }\n    const _stringify = (_type) => {\n        switch (_type) {\n            case Scalar.BLOCK_FOLDED:\n            case Scalar.BLOCK_LITERAL:\n                return implicitKey || inFlow\n                    ? quotedString(ss.value, ctx) // blocks are not valid inside flow containers\n                    : blockString(ss, ctx, onComment, onChompKeep);\n            case Scalar.QUOTE_DOUBLE:\n                return doubleQuotedString(ss.value, ctx);\n            case Scalar.QUOTE_SINGLE:\n                return singleQuotedString(ss.value, ctx);\n            case Scalar.PLAIN:\n                return plainString(ss, ctx, onComment, onChompKeep);\n            default:\n                return null;\n        }\n    };\n    let res = _stringify(type);\n    if (res === null) {\n        const { defaultKeyType, defaultStringType } = ctx.options;\n        const t = (implicitKey && defaultKeyType) || defaultStringType;\n        res = _stringify(t);\n        if (res === null)\n            throw new Error(`Unsupported default string type ${t}`);\n    }\n    return res;\n}\n\nexport { stringifyString };\n","import { anchorIsValid } from '../doc/anchors.js';\nimport { isPair, isAlias, isNode, isScalar, isCollection } from '../nodes/identity.js';\nimport { stringifyComment } from './stringifyComment.js';\nimport { stringifyString } from './stringifyString.js';\n\nfunction createStringifyContext(doc, options) {\n    const opt = Object.assign({\n        blockQuote: true,\n        commentString: stringifyComment,\n        defaultKeyType: null,\n        defaultStringType: 'PLAIN',\n        directives: null,\n        doubleQuotedAsJSON: false,\n        doubleQuotedMinMultiLineLength: 40,\n        falseStr: 'false',\n        flowCollectionPadding: true,\n        indentSeq: true,\n        lineWidth: 80,\n        minContentWidth: 20,\n        nullStr: 'null',\n        simpleKeys: false,\n        singleQuote: null,\n        trueStr: 'true',\n        verifyAliasOrder: true\n    }, doc.schema.toStringOptions, options);\n    let inFlow;\n    switch (opt.collectionStyle) {\n        case 'block':\n            inFlow = false;\n            break;\n        case 'flow':\n            inFlow = true;\n            break;\n        default:\n            inFlow = null;\n    }\n    return {\n        anchors: new Set(),\n        doc,\n        flowCollectionPadding: opt.flowCollectionPadding ? ' ' : '',\n        indent: '',\n        indentStep: typeof opt.indent === 'number' ? ' '.repeat(opt.indent) : '  ',\n        inFlow,\n        options: opt\n    };\n}\nfunction getTagObject(tags, item) {\n    if (item.tag) {\n        const match = tags.filter(t => t.tag === item.tag);\n        if (match.length > 0)\n            return match.find(t => t.format === item.format) ?? match[0];\n    }\n    let tagObj = undefined;\n    let obj;\n    if (isScalar(item)) {\n        obj = item.value;\n        const match = tags.filter(t => t.identify?.(obj));\n        tagObj =\n            match.find(t => t.format === item.format) ?? match.find(t => !t.format);\n    }\n    else {\n        obj = item;\n        tagObj = tags.find(t => t.nodeClass && obj instanceof t.nodeClass);\n    }\n    if (!tagObj) {\n        const name = obj?.constructor?.name ?? typeof obj;\n        throw new Error(`Tag not resolved for ${name} value`);\n    }\n    return tagObj;\n}\n// needs to be called before value stringifier to allow for circular anchor refs\nfunction stringifyProps(node, tagObj, { anchors, doc }) {\n    if (!doc.directives)\n        return '';\n    const props = [];\n    const anchor = (isScalar(node) || isCollection(node)) && node.anchor;\n    if (anchor && anchorIsValid(anchor)) {\n        anchors.add(anchor);\n        props.push(`&${anchor}`);\n    }\n    const tag = node.tag ? node.tag : tagObj.default ? null : tagObj.tag;\n    if (tag)\n        props.push(doc.directives.tagString(tag));\n    return props.join(' ');\n}\nfunction stringify(item, ctx, onComment, onChompKeep) {\n    if (isPair(item))\n        return item.toString(ctx, onComment, onChompKeep);\n    if (isAlias(item)) {\n        if (ctx.doc.directives)\n            return item.toString(ctx);\n        if (ctx.resolvedAliases?.has(item)) {\n            throw new TypeError(`Cannot stringify circular structure without alias nodes`);\n        }\n        else {\n            if (ctx.resolvedAliases)\n                ctx.resolvedAliases.add(item);\n            else\n                ctx.resolvedAliases = new Set([item]);\n            item = item.resolve(ctx.doc);\n        }\n    }\n    let tagObj = undefined;\n    const node = isNode(item)\n        ? item\n        : ctx.doc.createNode(item, { onTagObj: o => (tagObj = o) });\n    if (!tagObj)\n        tagObj = getTagObject(ctx.doc.schema.tags, node);\n    const props = stringifyProps(node, tagObj, ctx);\n    if (props.length > 0)\n        ctx.indentAtStart = (ctx.indentAtStart ?? 0) + props.length + 1;\n    const str = typeof tagObj.stringify === 'function'\n        ? tagObj.stringify(node, ctx, onComment, onChompKeep)\n        : isScalar(node)\n            ? stringifyString(node, ctx, onComment, onChompKeep)\n            : node.toString(ctx, onComment, onChompKeep);\n    if (!props)\n        return str;\n    return isScalar(node) || str[0] === '{' || str[0] === '['\n        ? `${props} ${str}`\n        : `${props}\\n${ctx.indent}${str}`;\n}\n\nexport { createStringifyContext, stringify };\n","function debug(logLevel, ...messages) {\n    if (logLevel === 'debug')\n        console.log(...messages);\n}\nfunction warn(logLevel, warning) {\n    if (logLevel === 'debug' || logLevel === 'warn') {\n        if (typeof process !== 'undefined' && process.emitWarning)\n            process.emitWarning(warning);\n        else\n            console.warn(warning);\n    }\n}\n\nexport { debug, warn };\n","import { warn } from '../log.js';\nimport { createStringifyContext } from '../stringify/stringify.js';\nimport { isAlias, isSeq, isScalar, isMap, isNode } from './identity.js';\nimport { Scalar } from './Scalar.js';\nimport { toJS } from './toJS.js';\n\nconst MERGE_KEY = '<<';\nfunction addPairToJSMap(ctx, map, { key, value }) {\n    if (ctx?.doc.schema.merge && isMergeKey(key)) {\n        value = isAlias(value) ? value.resolve(ctx.doc) : value;\n        if (isSeq(value))\n            for (const it of value.items)\n                mergeToJSMap(ctx, map, it);\n        else if (Array.isArray(value))\n            for (const it of value)\n                mergeToJSMap(ctx, map, it);\n        else\n            mergeToJSMap(ctx, map, value);\n    }\n    else {\n        const jsKey = toJS(key, '', ctx);\n        if (map instanceof Map) {\n            map.set(jsKey, toJS(value, jsKey, ctx));\n        }\n        else if (map instanceof Set) {\n            map.add(jsKey);\n        }\n        else {\n            const stringKey = stringifyKey(key, jsKey, ctx);\n            const jsValue = toJS(value, stringKey, ctx);\n            if (stringKey in map)\n                Object.defineProperty(map, stringKey, {\n                    value: jsValue,\n                    writable: true,\n                    enumerable: true,\n                    configurable: true\n                });\n            else\n                map[stringKey] = jsValue;\n        }\n    }\n    return map;\n}\nconst isMergeKey = (key) => key === MERGE_KEY ||\n    (isScalar(key) &&\n        key.value === MERGE_KEY &&\n        (!key.type || key.type === Scalar.PLAIN));\n// If the value associated with a merge key is a single mapping node, each of\n// its key/value pairs is inserted into the current mapping, unless the key\n// already exists in it. If the value associated with the merge key is a\n// sequence, then this sequence is expected to contain mapping nodes and each\n// of these nodes is merged in turn according to its order in the sequence.\n// Keys in mapping nodes earlier in the sequence override keys specified in\n// later mapping nodes. -- http://yaml.org/type/merge.html\nfunction mergeToJSMap(ctx, map, value) {\n    const source = ctx && isAlias(value) ? value.resolve(ctx.doc) : value;\n    if (!isMap(source))\n        throw new Error('Merge sources must be maps or map aliases');\n    const srcMap = source.toJSON(null, ctx, Map);\n    for (const [key, value] of srcMap) {\n        if (map instanceof Map) {\n            if (!map.has(key))\n                map.set(key, value);\n        }\n        else if (map instanceof Set) {\n            map.add(key);\n        }\n        else if (!Object.prototype.hasOwnProperty.call(map, key)) {\n            Object.defineProperty(map, key, {\n                value,\n                writable: true,\n                enumerable: true,\n                configurable: true\n            });\n        }\n    }\n    return map;\n}\nfunction stringifyKey(key, jsKey, ctx) {\n    if (jsKey === null)\n        return '';\n    if (typeof jsKey !== 'object')\n        return String(jsKey);\n    if (isNode(key) && ctx && ctx.doc) {\n        const strCtx = createStringifyContext(ctx.doc, {});\n        strCtx.anchors = new Set();\n        for (const node of ctx.anchors.keys())\n            strCtx.anchors.add(node.anchor);\n        strCtx.inFlow = true;\n        strCtx.inStringifyKey = true;\n        const strKey = key.toString(strCtx);\n        if (!ctx.mapKeyWarned) {\n            let jsonStr = JSON.stringify(strKey);\n            if (jsonStr.length > 40)\n                jsonStr = jsonStr.substring(0, 36) + '...\"';\n            warn(ctx.doc.options.logLevel, `Keys with collection values will be stringified due to JS Object restrictions: ${jsonStr}. Set mapAsMap: true to use object keys.`);\n            ctx.mapKeyWarned = true;\n        }\n        return strKey;\n    }\n    return JSON.stringify(jsKey);\n}\n\nexport { addPairToJSMap };\n","import { createNode } from '../doc/createNode.js';\nimport { stringifyPair } from '../stringify/stringifyPair.js';\nimport { addPairToJSMap } from './addPairToJSMap.js';\nimport { NODE_TYPE, PAIR, isNode } from './identity.js';\n\nfunction createPair(key, value, ctx) {\n    const k = createNode(key, undefined, ctx);\n    const v = createNode(value, undefined, ctx);\n    return new Pair(k, v);\n}\nclass Pair {\n    constructor(key, value = null) {\n        Object.defineProperty(this, NODE_TYPE, { value: PAIR });\n        this.key = key;\n        this.value = value;\n    }\n    clone(schema) {\n        let { key, value } = this;\n        if (isNode(key))\n            key = key.clone(schema);\n        if (isNode(value))\n            value = value.clone(schema);\n        return new Pair(key, value);\n    }\n    toJSON(_, ctx) {\n        const pair = ctx?.mapAsMap ? new Map() : {};\n        return addPairToJSMap(ctx, pair, this);\n    }\n    toString(ctx, onComment, onChompKeep) {\n        return ctx?.doc\n            ? stringifyPair(this, ctx, onComment, onChompKeep)\n            : JSON.stringify(this);\n    }\n}\n\nexport { Pair, createPair };\n","import { isCollection, isNode, isScalar, isSeq } from '../nodes/identity.js';\nimport { Scalar } from '../nodes/Scalar.js';\nimport { stringify } from './stringify.js';\nimport { lineComment, indentComment } from './stringifyComment.js';\n\nfunction stringifyPair({ key, value }, ctx, onComment, onChompKeep) {\n    const { allNullValues, doc, indent, indentStep, options: { commentString, indentSeq, simpleKeys } } = ctx;\n    let keyComment = (isNode(key) && key.comment) || null;\n    if (simpleKeys) {\n        if (keyComment) {\n            throw new Error('With simple keys, key nodes cannot have comments');\n        }\n        if (isCollection(key)) {\n            const msg = 'With simple keys, collection cannot be used as a key value';\n            throw new Error(msg);\n        }\n    }\n    let explicitKey = !simpleKeys &&\n        (!key ||\n            (keyComment && value == null && !ctx.inFlow) ||\n            isCollection(key) ||\n            (isScalar(key)\n                ? key.type === Scalar.BLOCK_FOLDED || key.type === Scalar.BLOCK_LITERAL\n                : typeof key === 'object'));\n    ctx = Object.assign({}, ctx, {\n        allNullValues: false,\n        implicitKey: !explicitKey && (simpleKeys || !allNullValues),\n        indent: indent + indentStep\n    });\n    let keyCommentDone = false;\n    let chompKeep = false;\n    let str = stringify(key, ctx, () => (keyCommentDone = true), () => (chompKeep = true));\n    if (!explicitKey && !ctx.inFlow && str.length > 1024) {\n        if (simpleKeys)\n            throw new Error('With simple keys, single line scalar must not span more than 1024 characters');\n        explicitKey = true;\n    }\n    if (ctx.inFlow) {\n        if (allNullValues || value == null) {\n            if (keyCommentDone && onComment)\n                onComment();\n            return str === '' ? '?' : explicitKey ? `? ${str}` : str;\n        }\n    }\n    else if ((allNullValues && !simpleKeys) || (value == null && explicitKey)) {\n        str = `? ${str}`;\n        if (keyComment && !keyCommentDone) {\n            str += lineComment(str, ctx.indent, commentString(keyComment));\n        }\n        else if (chompKeep && onChompKeep)\n            onChompKeep();\n        return str;\n    }\n    if (keyCommentDone)\n        keyComment = null;\n    if (explicitKey) {\n        if (keyComment)\n            str += lineComment(str, ctx.indent, commentString(keyComment));\n        str = `? ${str}\\n${indent}:`;\n    }\n    else {\n        str = `${str}:`;\n        if (keyComment)\n            str += lineComment(str, ctx.indent, commentString(keyComment));\n    }\n    let vsb, vcb, valueComment;\n    if (isNode(value)) {\n        vsb = !!value.spaceBefore;\n        vcb = value.commentBefore;\n        valueComment = value.comment;\n    }\n    else {\n        vsb = false;\n        vcb = null;\n        valueComment = null;\n        if (value && typeof value === 'object')\n            value = doc.createNode(value);\n    }\n    ctx.implicitKey = false;\n    if (!explicitKey && !keyComment && isScalar(value))\n        ctx.indentAtStart = str.length + 1;\n    chompKeep = false;\n    if (!indentSeq &&\n        indentStep.length >= 2 &&\n        !ctx.inFlow &&\n        !explicitKey &&\n        isSeq(value) &&\n        !value.flow &&\n        !value.tag &&\n        !value.anchor) {\n        // If indentSeq === false, consider '- ' as part of indentation where possible\n        ctx.indent = ctx.indent.substring(2);\n    }\n    let valueCommentDone = false;\n    const valueStr = stringify(value, ctx, () => (valueCommentDone = true), () => (chompKeep = true));\n    let ws = ' ';\n    if (keyComment || vsb || vcb) {\n        ws = vsb ? '\\n' : '';\n        if (vcb) {\n            const cs = commentString(vcb);\n            ws += `\\n${indentComment(cs, ctx.indent)}`;\n        }\n        if (valueStr === '' && !ctx.inFlow) {\n            if (ws === '\\n')\n                ws = '\\n\\n';\n        }\n        else {\n            ws += `\\n${ctx.indent}`;\n        }\n    }\n    else if (!explicitKey && isCollection(value)) {\n        const vs0 = valueStr[0];\n        const nl0 = valueStr.indexOf('\\n');\n        const hasNewline = nl0 !== -1;\n        const flow = ctx.inFlow ?? value.flow ?? value.items.length === 0;\n        if (hasNewline || !flow) {\n            let hasPropsLine = false;\n            if (hasNewline && (vs0 === '&' || vs0 === '!')) {\n                let sp0 = valueStr.indexOf(' ');\n                if (vs0 === '&' &&\n                    sp0 !== -1 &&\n                    sp0 < nl0 &&\n                    valueStr[sp0 + 1] === '!') {\n                    sp0 = valueStr.indexOf(' ', sp0 + 1);\n                }\n                if (sp0 === -1 || nl0 < sp0)\n                    hasPropsLine = true;\n            }\n            if (!hasPropsLine)\n                ws = `\\n${ctx.indent}`;\n        }\n    }\n    else if (valueStr === '' || valueStr[0] === '\\n') {\n        ws = '';\n    }\n    str += ws + valueStr;\n    if (ctx.inFlow) {\n        if (valueCommentDone && onComment)\n            onComment();\n    }\n    else if (valueComment && !valueCommentDone) {\n        str += lineComment(str, ctx.indent, commentString(valueComment));\n    }\n    else if (chompKeep && onChompKeep) {\n        onChompKeep();\n    }\n    return str;\n}\n\nexport { stringifyPair };\n","import { Collection } from '../nodes/Collection.js';\nimport { isNode, isPair } from '../nodes/identity.js';\nimport { stringify } from './stringify.js';\nimport { lineComment, indentComment } from './stringifyComment.js';\n\nfunction stringifyCollection(collection, ctx, options) {\n    const flow = ctx.inFlow ?? collection.flow;\n    const stringify = flow ? stringifyFlowCollection : stringifyBlockCollection;\n    return stringify(collection, ctx, options);\n}\nfunction stringifyBlockCollection({ comment, items }, ctx, { blockItemPrefix, flowChars, itemIndent, onChompKeep, onComment }) {\n    const { indent, options: { commentString } } = ctx;\n    const itemCtx = Object.assign({}, ctx, { indent: itemIndent, type: null });\n    let chompKeep = false; // flag for the preceding node's status\n    const lines = [];\n    for (let i = 0; i < items.length; ++i) {\n        const item = items[i];\n        let comment = null;\n        if (isNode(item)) {\n            if (!chompKeep && item.spaceBefore)\n                lines.push('');\n            addCommentBefore(ctx, lines, item.commentBefore, chompKeep);\n            if (item.comment)\n                comment = item.comment;\n        }\n        else if (isPair(item)) {\n            const ik = isNode(item.key) ? item.key : null;\n            if (ik) {\n                if (!chompKeep && ik.spaceBefore)\n                    lines.push('');\n                addCommentBefore(ctx, lines, ik.commentBefore, chompKeep);\n            }\n        }\n        chompKeep = false;\n        let str = stringify(item, itemCtx, () => (comment = null), () => (chompKeep = true));\n        if (comment)\n            str += lineComment(str, itemIndent, commentString(comment));\n        if (chompKeep && comment)\n            chompKeep = false;\n        lines.push(blockItemPrefix + str);\n    }\n    let str;\n    if (lines.length === 0) {\n        str = flowChars.start + flowChars.end;\n    }\n    else {\n        str = lines[0];\n        for (let i = 1; i < lines.length; ++i) {\n            const line = lines[i];\n            str += line ? `\\n${indent}${line}` : '\\n';\n        }\n    }\n    if (comment) {\n        str += '\\n' + indentComment(commentString(comment), indent);\n        if (onComment)\n            onComment();\n    }\n    else if (chompKeep && onChompKeep)\n        onChompKeep();\n    return str;\n}\nfunction stringifyFlowCollection({ comment, items }, ctx, { flowChars, itemIndent, onComment }) {\n    const { indent, indentStep, flowCollectionPadding: fcPadding, options: { commentString } } = ctx;\n    itemIndent += indentStep;\n    const itemCtx = Object.assign({}, ctx, {\n        indent: itemIndent,\n        inFlow: true,\n        type: null\n    });\n    let reqNewline = false;\n    let linesAtValue = 0;\n    const lines = [];\n    for (let i = 0; i < items.length; ++i) {\n        const item = items[i];\n        let comment = null;\n        if (isNode(item)) {\n            if (item.spaceBefore)\n                lines.push('');\n            addCommentBefore(ctx, lines, item.commentBefore, false);\n            if (item.comment)\n                comment = item.comment;\n        }\n        else if (isPair(item)) {\n            const ik = isNode(item.key) ? item.key : null;\n            if (ik) {\n                if (ik.spaceBefore)\n                    lines.push('');\n                addCommentBefore(ctx, lines, ik.commentBefore, false);\n                if (ik.comment)\n                    reqNewline = true;\n            }\n            const iv = isNode(item.value) ? item.value : null;\n            if (iv) {\n                if (iv.comment)\n                    comment = iv.comment;\n                if (iv.commentBefore)\n                    reqNewline = true;\n            }\n            else if (item.value == null && ik && ik.comment) {\n                comment = ik.comment;\n            }\n        }\n        if (comment)\n            reqNewline = true;\n        let str = stringify(item, itemCtx, () => (comment = null));\n        if (i < items.length - 1)\n            str += ',';\n        if (comment)\n            str += lineComment(str, itemIndent, commentString(comment));\n        if (!reqNewline && (lines.length > linesAtValue || str.includes('\\n')))\n            reqNewline = true;\n        lines.push(str);\n        linesAtValue = lines.length;\n    }\n    let str;\n    const { start, end } = flowChars;\n    if (lines.length === 0) {\n        str = start + end;\n    }\n    else {\n        if (!reqNewline) {\n            const len = lines.reduce((sum, line) => sum + line.length + 2, 2);\n            reqNewline = len > Collection.maxFlowStringSingleLineLength;\n        }\n        if (reqNewline) {\n            str = start;\n            for (const line of lines)\n                str += line ? `\\n${indentStep}${indent}${line}` : '\\n';\n            str += `\\n${indent}${end}`;\n        }\n        else {\n            str = `${start}${fcPadding}${lines.join(' ')}${fcPadding}${end}`;\n        }\n    }\n    if (comment) {\n        str += lineComment(str, indent, commentString(comment));\n        if (onComment)\n            onComment();\n    }\n    return str;\n}\nfunction addCommentBefore({ indent, options: { commentString } }, lines, comment, chompKeep) {\n    if (comment && chompKeep)\n        comment = comment.replace(/^\\n+/, '');\n    if (comment) {\n        const ic = indentComment(commentString(comment), indent);\n        lines.push(ic.trimStart()); // Avoid double indent on first line\n    }\n}\n\nexport { stringifyCollection };\n","import { stringifyCollection } from '../stringify/stringifyCollection.js';\nimport { addPairToJSMap } from './addPairToJSMap.js';\nimport { Collection } from './Collection.js';\nimport { isPair, isScalar, MAP } from './identity.js';\nimport { Pair, createPair } from './Pair.js';\nimport { isScalarValue } from './Scalar.js';\n\nfunction findPair(items, key) {\n    const k = isScalar(key) ? key.value : key;\n    for (const it of items) {\n        if (isPair(it)) {\n            if (it.key === key || it.key === k)\n                return it;\n            if (isScalar(it.key) && it.key.value === k)\n                return it;\n        }\n    }\n    return undefined;\n}\nclass YAMLMap extends Collection {\n    static get tagName() {\n        return 'tag:yaml.org,2002:map';\n    }\n    constructor(schema) {\n        super(MAP, schema);\n        this.items = [];\n    }\n    /**\n     * A generic collection parsing method that can be extended\n     * to other node classes that inherit from YAMLMap\n     */\n    static from(schema, obj, ctx) {\n        const { keepUndefined, replacer } = ctx;\n        const map = new this(schema);\n        const add = (key, value) => {\n            if (typeof replacer === 'function')\n                value = replacer.call(obj, key, value);\n            else if (Array.isArray(replacer) && !replacer.includes(key))\n                return;\n            if (value !== undefined || keepUndefined)\n                map.items.push(createPair(key, value, ctx));\n        };\n        if (obj instanceof Map) {\n            for (const [key, value] of obj)\n                add(key, value);\n        }\n        else if (obj && typeof obj === 'object') {\n            for (const key of Object.keys(obj))\n                add(key, obj[key]);\n        }\n        if (typeof schema.sortMapEntries === 'function') {\n            map.items.sort(schema.sortMapEntries);\n        }\n        return map;\n    }\n    /**\n     * Adds a value to the collection.\n     *\n     * @param overwrite - If not set `true`, using a key that is already in the\n     *   collection will throw. Otherwise, overwrites the previous value.\n     */\n    add(pair, overwrite) {\n        let _pair;\n        if (isPair(pair))\n            _pair = pair;\n        else if (!pair || typeof pair !== 'object' || !('key' in pair)) {\n            // In TypeScript, this never happens.\n            _pair = new Pair(pair, pair?.value);\n        }\n        else\n            _pair = new Pair(pair.key, pair.value);\n        const prev = findPair(this.items, _pair.key);\n        const sortEntries = this.schema?.sortMapEntries;\n        if (prev) {\n            if (!overwrite)\n                throw new Error(`Key ${_pair.key} already set`);\n            // For scalars, keep the old node & its comments and anchors\n            if (isScalar(prev.value) && isScalarValue(_pair.value))\n                prev.value.value = _pair.value;\n            else\n                prev.value = _pair.value;\n        }\n        else if (sortEntries) {\n            const i = this.items.findIndex(item => sortEntries(_pair, item) < 0);\n            if (i === -1)\n                this.items.push(_pair);\n            else\n                this.items.splice(i, 0, _pair);\n        }\n        else {\n            this.items.push(_pair);\n        }\n    }\n    delete(key) {\n        const it = findPair(this.items, key);\n        if (!it)\n            return false;\n        const del = this.items.splice(this.items.indexOf(it), 1);\n        return del.length > 0;\n    }\n    get(key, keepScalar) {\n        const it = findPair(this.items, key);\n        const node = it?.value;\n        return (!keepScalar && isScalar(node) ? node.value : node) ?? undefined;\n    }\n    has(key) {\n        return !!findPair(this.items, key);\n    }\n    set(key, value) {\n        this.add(new Pair(key, value), true);\n    }\n    /**\n     * @param ctx - Conversion context, originally set in Document#toJS()\n     * @param {Class} Type - If set, forces the returned collection type\n     * @returns Instance of Type, Map, or Object\n     */\n    toJSON(_, ctx, Type) {\n        const map = Type ? new Type() : ctx?.mapAsMap ? new Map() : {};\n        if (ctx?.onCreate)\n            ctx.onCreate(map);\n        for (const item of this.items)\n            addPairToJSMap(ctx, map, item);\n        return map;\n    }\n    toString(ctx, onComment, onChompKeep) {\n        if (!ctx)\n            return JSON.stringify(this);\n        for (const item of this.items) {\n            if (!isPair(item))\n                throw new Error(`Map items must all be pairs; found ${JSON.stringify(item)} instead`);\n        }\n        if (!ctx.allNullValues && this.hasAllNullValues(false))\n            ctx = Object.assign({}, ctx, { allNullValues: true });\n        return stringifyCollection(this, ctx, {\n            blockItemPrefix: '',\n            flowChars: { start: '{', end: '}' },\n            itemIndent: ctx.indent || '',\n            onChompKeep,\n            onComment\n        });\n    }\n}\n\nexport { YAMLMap, findPair };\n","import { isMap } from '../../nodes/identity.js';\nimport { YAMLMap } from '../../nodes/YAMLMap.js';\n\nconst map = {\n    collection: 'map',\n    default: true,\n    nodeClass: YAMLMap,\n    tag: 'tag:yaml.org,2002:map',\n    resolve(map, onError) {\n        if (!isMap(map))\n            onError('Expected a mapping for this tag');\n        return map;\n    },\n    createNode: (schema, obj, ctx) => YAMLMap.from(schema, obj, ctx)\n};\n\nexport { map };\n","import { createNode } from '../doc/createNode.js';\nimport { stringifyCollection } from '../stringify/stringifyCollection.js';\nimport { Collection } from './Collection.js';\nimport { SEQ, isScalar } from './identity.js';\nimport { isScalarValue } from './Scalar.js';\nimport { toJS } from './toJS.js';\n\nclass YAMLSeq extends Collection {\n    static get tagName() {\n        return 'tag:yaml.org,2002:seq';\n    }\n    constructor(schema) {\n        super(SEQ, schema);\n        this.items = [];\n    }\n    add(value) {\n        this.items.push(value);\n    }\n    /**\n     * Removes a value from the collection.\n     *\n     * `key` must contain a representation of an integer for this to succeed.\n     * It may be wrapped in a `Scalar`.\n     *\n     * @returns `true` if the item was found and removed.\n     */\n    delete(key) {\n        const idx = asItemIndex(key);\n        if (typeof idx !== 'number')\n            return false;\n        const del = this.items.splice(idx, 1);\n        return del.length > 0;\n    }\n    get(key, keepScalar) {\n        const idx = asItemIndex(key);\n        if (typeof idx !== 'number')\n            return undefined;\n        const it = this.items[idx];\n        return !keepScalar && isScalar(it) ? it.value : it;\n    }\n    /**\n     * Checks if the collection includes a value with the key `key`.\n     *\n     * `key` must contain a representation of an integer for this to succeed.\n     * It may be wrapped in a `Scalar`.\n     */\n    has(key) {\n        const idx = asItemIndex(key);\n        return typeof idx === 'number' && idx < this.items.length;\n    }\n    /**\n     * Sets a value in this collection. For `!!set`, `value` needs to be a\n     * boolean to add/remove the item from the set.\n     *\n     * If `key` does not contain a representation of an integer, this will throw.\n     * It may be wrapped in a `Scalar`.\n     */\n    set(key, value) {\n        const idx = asItemIndex(key);\n        if (typeof idx !== 'number')\n            throw new Error(`Expected a valid index, not ${key}.`);\n        const prev = this.items[idx];\n        if (isScalar(prev) && isScalarValue(value))\n            prev.value = value;\n        else\n            this.items[idx] = value;\n    }\n    toJSON(_, ctx) {\n        const seq = [];\n        if (ctx?.onCreate)\n            ctx.onCreate(seq);\n        let i = 0;\n        for (const item of this.items)\n            seq.push(toJS(item, String(i++), ctx));\n        return seq;\n    }\n    toString(ctx, onComment, onChompKeep) {\n        if (!ctx)\n            return JSON.stringify(this);\n        return stringifyCollection(this, ctx, {\n            blockItemPrefix: '- ',\n            flowChars: { start: '[', end: ']' },\n            itemIndent: (ctx.indent || '') + '  ',\n            onChompKeep,\n            onComment\n        });\n    }\n    static from(schema, obj, ctx) {\n        const { replacer } = ctx;\n        const seq = new this(schema);\n        if (obj && Symbol.iterator in Object(obj)) {\n            let i = 0;\n            for (let it of obj) {\n                if (typeof replacer === 'function') {\n                    const key = obj instanceof Set ? it : String(i++);\n                    it = replacer.call(obj, key, it);\n                }\n                seq.items.push(createNode(it, undefined, ctx));\n            }\n        }\n        return seq;\n    }\n}\nfunction asItemIndex(key) {\n    let idx = isScalar(key) ? key.value : key;\n    if (idx && typeof idx === 'string')\n        idx = Number(idx);\n    return typeof idx === 'number' && Number.isInteger(idx) && idx >= 0\n        ? idx\n        : null;\n}\n\nexport { YAMLSeq };\n","import { isSeq } from '../../nodes/identity.js';\nimport { YAMLSeq } from '../../nodes/YAMLSeq.js';\n\nconst seq = {\n    collection: 'seq',\n    default: true,\n    nodeClass: YAMLSeq,\n    tag: 'tag:yaml.org,2002:seq',\n    resolve(seq, onError) {\n        if (!isSeq(seq))\n            onError('Expected a sequence for this tag');\n        return seq;\n    },\n    createNode: (schema, obj, ctx) => YAMLSeq.from(schema, obj, ctx)\n};\n\nexport { seq };\n","import { stringifyString } from '../../stringify/stringifyString.js';\n\nconst string = {\n    identify: value => typeof value === 'string',\n    default: true,\n    tag: 'tag:yaml.org,2002:str',\n    resolve: str => str,\n    stringify(item, ctx, onComment, onChompKeep) {\n        ctx = Object.assign({ actualString: true }, ctx);\n        return stringifyString(item, ctx, onComment, onChompKeep);\n    }\n};\n\nexport { string };\n","import { Scalar } from '../../nodes/Scalar.js';\n\nconst nullTag = {\n    identify: value => value == null,\n    createNode: () => new Scalar(null),\n    default: true,\n    tag: 'tag:yaml.org,2002:null',\n    test: /^(?:~|[Nn]ull|NULL)?$/,\n    resolve: () => new Scalar(null),\n    stringify: ({ source }, ctx) => typeof source === 'string' && nullTag.test.test(source)\n        ? source\n        : ctx.options.nullStr\n};\n\nexport { nullTag };\n","import { Scalar } from '../../nodes/Scalar.js';\n\nconst boolTag = {\n    identify: value => typeof value === 'boolean',\n    default: true,\n    tag: 'tag:yaml.org,2002:bool',\n    test: /^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,\n    resolve: str => new Scalar(str[0] === 't' || str[0] === 'T'),\n    stringify({ source, value }, ctx) {\n        if (source && boolTag.test.test(source)) {\n            const sv = source[0] === 't' || source[0] === 'T';\n            if (value === sv)\n                return source;\n        }\n        return value ? ctx.options.trueStr : ctx.options.falseStr;\n    }\n};\n\nexport { boolTag };\n","function stringifyNumber({ format, minFractionDigits, tag, value }) {\n    if (typeof value === 'bigint')\n        return String(value);\n    const num = typeof value === 'number' ? value : Number(value);\n    if (!isFinite(num))\n        return isNaN(num) ? '.nan' : num < 0 ? '-.inf' : '.inf';\n    let n = JSON.stringify(value);\n    if (!format &&\n        minFractionDigits &&\n        (!tag || tag === 'tag:yaml.org,2002:float') &&\n        /^\\d/.test(n)) {\n        let i = n.indexOf('.');\n        if (i < 0) {\n            i = n.length;\n            n += '.';\n        }\n        let d = minFractionDigits - (n.length - i - 1);\n        while (d-- > 0)\n            n += '0';\n    }\n    return n;\n}\n\nexport { stringifyNumber };\n","import { Scalar } from '../../nodes/Scalar.js';\nimport { stringifyNumber } from '../../stringify/stringifyNumber.js';\n\nconst floatNaN = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    test: /^(?:[-+]?\\.(?:inf|Inf|INF|nan|NaN|NAN))$/,\n    resolve: str => str.slice(-3).toLowerCase() === 'nan'\n        ? NaN\n        : str[0] === '-'\n            ? Number.NEGATIVE_INFINITY\n            : Number.POSITIVE_INFINITY,\n    stringify: stringifyNumber\n};\nconst floatExp = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    format: 'EXP',\n    test: /^[-+]?(?:\\.[0-9]+|[0-9]+(?:\\.[0-9]*)?)[eE][-+]?[0-9]+$/,\n    resolve: str => parseFloat(str),\n    stringify(node) {\n        const num = Number(node.value);\n        return isFinite(num) ? num.toExponential() : stringifyNumber(node);\n    }\n};\nconst float = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    test: /^[-+]?(?:\\.[0-9]+|[0-9]+\\.[0-9]*)$/,\n    resolve(str) {\n        const node = new Scalar(parseFloat(str));\n        const dot = str.indexOf('.');\n        if (dot !== -1 && str[str.length - 1] === '0')\n            node.minFractionDigits = str.length - dot - 1;\n        return node;\n    },\n    stringify: stringifyNumber\n};\n\nexport { float, floatExp, floatNaN };\n","import { stringifyNumber } from '../../stringify/stringifyNumber.js';\n\nconst intIdentify = (value) => typeof value === 'bigint' || Number.isInteger(value);\nconst intResolve = (str, offset, radix, { intAsBigInt }) => (intAsBigInt ? BigInt(str) : parseInt(str.substring(offset), radix));\nfunction intStringify(node, radix, prefix) {\n    const { value } = node;\n    if (intIdentify(value) && value >= 0)\n        return prefix + value.toString(radix);\n    return stringifyNumber(node);\n}\nconst intOct = {\n    identify: value => intIdentify(value) && value >= 0,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'OCT',\n    test: /^0o[0-7]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 2, 8, opt),\n    stringify: node => intStringify(node, 8, '0o')\n};\nconst int = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    test: /^[-+]?[0-9]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 0, 10, opt),\n    stringify: stringifyNumber\n};\nconst intHex = {\n    identify: value => intIdentify(value) && value >= 0,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'HEX',\n    test: /^0x[0-9a-fA-F]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 2, 16, opt),\n    stringify: node => intStringify(node, 16, '0x')\n};\n\nexport { int, intHex, intOct };\n","import { map } from '../common/map.js';\nimport { nullTag } from '../common/null.js';\nimport { seq } from '../common/seq.js';\nimport { string } from '../common/string.js';\nimport { boolTag } from './bool.js';\nimport { floatNaN, floatExp, float } from './float.js';\nimport { intOct, int, intHex } from './int.js';\n\nconst schema = [\n    map,\n    seq,\n    string,\n    nullTag,\n    boolTag,\n    intOct,\n    int,\n    intHex,\n    floatNaN,\n    floatExp,\n    float\n];\n\nexport { schema };\n","import { Scalar } from '../../nodes/Scalar.js';\nimport { map } from '../common/map.js';\nimport { seq } from '../common/seq.js';\n\nfunction intIdentify(value) {\n    return typeof value === 'bigint' || Number.isInteger(value);\n}\nconst stringifyJSON = ({ value }) => JSON.stringify(value);\nconst jsonScalars = [\n    {\n        identify: value => typeof value === 'string',\n        default: true,\n        tag: 'tag:yaml.org,2002:str',\n        resolve: str => str,\n        stringify: stringifyJSON\n    },\n    {\n        identify: value => value == null,\n        createNode: () => new Scalar(null),\n        default: true,\n        tag: 'tag:yaml.org,2002:null',\n        test: /^null$/,\n        resolve: () => null,\n        stringify: stringifyJSON\n    },\n    {\n        identify: value => typeof value === 'boolean',\n        default: true,\n        tag: 'tag:yaml.org,2002:bool',\n        test: /^true|false$/,\n        resolve: str => str === 'true',\n        stringify: stringifyJSON\n    },\n    {\n        identify: intIdentify,\n        default: true,\n        tag: 'tag:yaml.org,2002:int',\n        test: /^-?(?:0|[1-9][0-9]*)$/,\n        resolve: (str, _onError, { intAsBigInt }) => intAsBigInt ? BigInt(str) : parseInt(str, 10),\n        stringify: ({ value }) => intIdentify(value) ? value.toString() : JSON.stringify(value)\n    },\n    {\n        identify: value => typeof value === 'number',\n        default: true,\n        tag: 'tag:yaml.org,2002:float',\n        test: /^-?(?:0|[1-9][0-9]*)(?:\\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,\n        resolve: str => parseFloat(str),\n        stringify: stringifyJSON\n    }\n];\nconst jsonError = {\n    default: true,\n    tag: '',\n    test: /^/,\n    resolve(str, onError) {\n        onError(`Unresolved plain scalar ${JSON.stringify(str)}`);\n        return str;\n    }\n};\nconst schema = [map, seq].concat(jsonScalars, jsonError);\n\nexport { schema };\n","import { Scalar } from '../../nodes/Scalar.js';\nimport { stringifyString } from '../../stringify/stringifyString.js';\n\nconst binary = {\n    identify: value => value instanceof Uint8Array,\n    default: false,\n    tag: 'tag:yaml.org,2002:binary',\n    /**\n     * Returns a Buffer in node and an Uint8Array in browsers\n     *\n     * To use the resulting buffer as an image, you'll want to do something like:\n     *\n     *   const blob = new Blob([buffer], { type: 'image/jpeg' })\n     *   document.querySelector('#photo').src = URL.createObjectURL(blob)\n     */\n    resolve(src, onError) {\n        if (typeof Buffer === 'function') {\n            return Buffer.from(src, 'base64');\n        }\n        else if (typeof atob === 'function') {\n            // On IE 11, atob() can't handle newlines\n            const str = atob(src.replace(/[\\n\\r]/g, ''));\n            const buffer = new Uint8Array(str.length);\n            for (let i = 0; i < str.length; ++i)\n                buffer[i] = str.charCodeAt(i);\n            return buffer;\n        }\n        else {\n            onError('This environment does not support reading binary tags; either Buffer or atob is required');\n            return src;\n        }\n    },\n    stringify({ comment, type, value }, ctx, onComment, onChompKeep) {\n        const buf = value; // checked earlier by binary.identify()\n        let str;\n        if (typeof Buffer === 'function') {\n            str =\n                buf instanceof Buffer\n                    ? buf.toString('base64')\n                    : Buffer.from(buf.buffer).toString('base64');\n        }\n        else if (typeof btoa === 'function') {\n            let s = '';\n            for (let i = 0; i < buf.length; ++i)\n                s += String.fromCharCode(buf[i]);\n            str = btoa(s);\n        }\n        else {\n            throw new Error('This environment does not support writing binary tags; either Buffer or btoa is required');\n        }\n        if (!type)\n            type = Scalar.BLOCK_LITERAL;\n        if (type !== Scalar.QUOTE_DOUBLE) {\n            const lineWidth = Math.max(ctx.options.lineWidth - ctx.indent.length, ctx.options.minContentWidth);\n            const n = Math.ceil(str.length / lineWidth);\n            const lines = new Array(n);\n            for (let i = 0, o = 0; i < n; ++i, o += lineWidth) {\n                lines[i] = str.substr(o, lineWidth);\n            }\n            str = lines.join(type === Scalar.BLOCK_LITERAL ? '\\n' : ' ');\n        }\n        return stringifyString({ comment, type, value: str }, ctx, onComment, onChompKeep);\n    }\n};\n\nexport { binary };\n","import { isSeq, isPair, isMap } from '../../nodes/identity.js';\nimport { Pair, createPair } from '../../nodes/Pair.js';\nimport { Scalar } from '../../nodes/Scalar.js';\nimport { YAMLSeq } from '../../nodes/YAMLSeq.js';\n\nfunction resolvePairs(seq, onError) {\n    if (isSeq(seq)) {\n        for (let i = 0; i < seq.items.length; ++i) {\n            let item = seq.items[i];\n            if (isPair(item))\n                continue;\n            else if (isMap(item)) {\n                if (item.items.length > 1)\n                    onError('Each pair must have its own sequence indicator');\n                const pair = item.items[0] || new Pair(new Scalar(null));\n                if (item.commentBefore)\n                    pair.key.commentBefore = pair.key.commentBefore\n                        ? `${item.commentBefore}\\n${pair.key.commentBefore}`\n                        : item.commentBefore;\n                if (item.comment) {\n                    const cn = pair.value ?? pair.key;\n                    cn.comment = cn.comment\n                        ? `${item.comment}\\n${cn.comment}`\n                        : item.comment;\n                }\n                item = pair;\n            }\n            seq.items[i] = isPair(item) ? item : new Pair(item);\n        }\n    }\n    else\n        onError('Expected a sequence for this tag');\n    return seq;\n}\nfunction createPairs(schema, iterable, ctx) {\n    const { replacer } = ctx;\n    const pairs = new YAMLSeq(schema);\n    pairs.tag = 'tag:yaml.org,2002:pairs';\n    let i = 0;\n    if (iterable && Symbol.iterator in Object(iterable))\n        for (let it of iterable) {\n            if (typeof replacer === 'function')\n                it = replacer.call(iterable, String(i++), it);\n            let key, value;\n            if (Array.isArray(it)) {\n                if (it.length === 2) {\n                    key = it[0];\n                    value = it[1];\n                }\n                else\n                    throw new TypeError(`Expected [key, value] tuple: ${it}`);\n            }\n            else if (it && it instanceof Object) {\n                const keys = Object.keys(it);\n                if (keys.length === 1) {\n                    key = keys[0];\n                    value = it[key];\n                }\n                else\n                    throw new TypeError(`Expected { key: value } tuple: ${it}`);\n            }\n            else {\n                key = it;\n            }\n            pairs.items.push(createPair(key, value, ctx));\n        }\n    return pairs;\n}\nconst pairs = {\n    collection: 'seq',\n    default: false,\n    tag: 'tag:yaml.org,2002:pairs',\n    resolve: resolvePairs,\n    createNode: createPairs\n};\n\nexport { createPairs, pairs, resolvePairs };\n","import { isScalar, isPair } from '../../nodes/identity.js';\nimport { toJS } from '../../nodes/toJS.js';\nimport { YAMLMap } from '../../nodes/YAMLMap.js';\nimport { YAMLSeq } from '../../nodes/YAMLSeq.js';\nimport { resolvePairs, createPairs } from './pairs.js';\n\nclass YAMLOMap extends YAMLSeq {\n    constructor() {\n        super();\n        this.add = YAMLMap.prototype.add.bind(this);\n        this.delete = YAMLMap.prototype.delete.bind(this);\n        this.get = YAMLMap.prototype.get.bind(this);\n        this.has = YAMLMap.prototype.has.bind(this);\n        this.set = YAMLMap.prototype.set.bind(this);\n        this.tag = YAMLOMap.tag;\n    }\n    /**\n     * If `ctx` is given, the return type is actually `Map<unknown, unknown>`,\n     * but TypeScript won't allow widening the signature of a child method.\n     */\n    toJSON(_, ctx) {\n        if (!ctx)\n            return super.toJSON(_);\n        const map = new Map();\n        if (ctx?.onCreate)\n            ctx.onCreate(map);\n        for (const pair of this.items) {\n            let key, value;\n            if (isPair(pair)) {\n                key = toJS(pair.key, '', ctx);\n                value = toJS(pair.value, key, ctx);\n            }\n            else {\n                key = toJS(pair, '', ctx);\n            }\n            if (map.has(key))\n                throw new Error('Ordered maps must not include duplicate keys');\n            map.set(key, value);\n        }\n        return map;\n    }\n    static from(schema, iterable, ctx) {\n        const pairs = createPairs(schema, iterable, ctx);\n        const omap = new this();\n        omap.items = pairs.items;\n        return omap;\n    }\n}\nYAMLOMap.tag = 'tag:yaml.org,2002:omap';\nconst omap = {\n    collection: 'seq',\n    identify: value => value instanceof Map,\n    nodeClass: YAMLOMap,\n    default: false,\n    tag: 'tag:yaml.org,2002:omap',\n    resolve(seq, onError) {\n        const pairs = resolvePairs(seq, onError);\n        const seenKeys = [];\n        for (const { key } of pairs.items) {\n            if (isScalar(key)) {\n                if (seenKeys.includes(key.value)) {\n                    onError(`Ordered maps must not include duplicate keys: ${key.value}`);\n                }\n                else {\n                    seenKeys.push(key.value);\n                }\n            }\n        }\n        return Object.assign(new YAMLOMap(), pairs);\n    },\n    createNode: (schema, iterable, ctx) => YAMLOMap.from(schema, iterable, ctx)\n};\n\nexport { YAMLOMap, omap };\n","import { Scalar } from '../../nodes/Scalar.js';\n\nfunction boolStringify({ value, source }, ctx) {\n    const boolObj = value ? trueTag : falseTag;\n    if (source && boolObj.test.test(source))\n        return source;\n    return value ? ctx.options.trueStr : ctx.options.falseStr;\n}\nconst trueTag = {\n    identify: value => value === true,\n    default: true,\n    tag: 'tag:yaml.org,2002:bool',\n    test: /^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,\n    resolve: () => new Scalar(true),\n    stringify: boolStringify\n};\nconst falseTag = {\n    identify: value => value === false,\n    default: true,\n    tag: 'tag:yaml.org,2002:bool',\n    test: /^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,\n    resolve: () => new Scalar(false),\n    stringify: boolStringify\n};\n\nexport { falseTag, trueTag };\n","import { Scalar } from '../../nodes/Scalar.js';\nimport { stringifyNumber } from '../../stringify/stringifyNumber.js';\n\nconst floatNaN = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    test: /^[-+]?\\.(?:inf|Inf|INF|nan|NaN|NAN)$/,\n    resolve: (str) => str.slice(-3).toLowerCase() === 'nan'\n        ? NaN\n        : str[0] === '-'\n            ? Number.NEGATIVE_INFINITY\n            : Number.POSITIVE_INFINITY,\n    stringify: stringifyNumber\n};\nconst floatExp = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    format: 'EXP',\n    test: /^[-+]?(?:[0-9][0-9_]*)?(?:\\.[0-9_]*)?[eE][-+]?[0-9]+$/,\n    resolve: (str) => parseFloat(str.replace(/_/g, '')),\n    stringify(node) {\n        const num = Number(node.value);\n        return isFinite(num) ? num.toExponential() : stringifyNumber(node);\n    }\n};\nconst float = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    test: /^[-+]?(?:[0-9][0-9_]*)?\\.[0-9_]*$/,\n    resolve(str) {\n        const node = new Scalar(parseFloat(str.replace(/_/g, '')));\n        const dot = str.indexOf('.');\n        if (dot !== -1) {\n            const f = str.substring(dot + 1).replace(/_/g, '');\n            if (f[f.length - 1] === '0')\n                node.minFractionDigits = f.length;\n        }\n        return node;\n    },\n    stringify: stringifyNumber\n};\n\nexport { float, floatExp, floatNaN };\n","import { stringifyNumber } from '../../stringify/stringifyNumber.js';\n\nconst intIdentify = (value) => typeof value === 'bigint' || Number.isInteger(value);\nfunction intResolve(str, offset, radix, { intAsBigInt }) {\n    const sign = str[0];\n    if (sign === '-' || sign === '+')\n        offset += 1;\n    str = str.substring(offset).replace(/_/g, '');\n    if (intAsBigInt) {\n        switch (radix) {\n            case 2:\n                str = `0b${str}`;\n                break;\n            case 8:\n                str = `0o${str}`;\n                break;\n            case 16:\n                str = `0x${str}`;\n                break;\n        }\n        const n = BigInt(str);\n        return sign === '-' ? BigInt(-1) * n : n;\n    }\n    const n = parseInt(str, radix);\n    return sign === '-' ? -1 * n : n;\n}\nfunction intStringify(node, radix, prefix) {\n    const { value } = node;\n    if (intIdentify(value)) {\n        const str = value.toString(radix);\n        return value < 0 ? '-' + prefix + str.substr(1) : prefix + str;\n    }\n    return stringifyNumber(node);\n}\nconst intBin = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'BIN',\n    test: /^[-+]?0b[0-1_]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 2, 2, opt),\n    stringify: node => intStringify(node, 2, '0b')\n};\nconst intOct = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'OCT',\n    test: /^[-+]?0[0-7_]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 1, 8, opt),\n    stringify: node => intStringify(node, 8, '0')\n};\nconst int = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    test: /^[-+]?[0-9][0-9_]*$/,\n    resolve: (str, _onError, opt) => intResolve(str, 0, 10, opt),\n    stringify: stringifyNumber\n};\nconst intHex = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'HEX',\n    test: /^[-+]?0x[0-9a-fA-F_]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 2, 16, opt),\n    stringify: node => intStringify(node, 16, '0x')\n};\n\nexport { int, intBin, intHex, intOct };\n","import { isMap, isPair, isScalar } from '../../nodes/identity.js';\nimport { Pair, createPair } from '../../nodes/Pair.js';\nimport { YAMLMap, findPair } from '../../nodes/YAMLMap.js';\n\nclass YAMLSet extends YAMLMap {\n    constructor(schema) {\n        super(schema);\n        this.tag = YAMLSet.tag;\n    }\n    add(key) {\n        let pair;\n        if (isPair(key))\n            pair = key;\n        else if (key &&\n            typeof key === 'object' &&\n            'key' in key &&\n            'value' in key &&\n            key.value === null)\n            pair = new Pair(key.key, null);\n        else\n            pair = new Pair(key, null);\n        const prev = findPair(this.items, pair.key);\n        if (!prev)\n            this.items.push(pair);\n    }\n    /**\n     * If `keepPair` is `true`, returns the Pair matching `key`.\n     * Otherwise, returns the value of that Pair's key.\n     */\n    get(key, keepPair) {\n        const pair = findPair(this.items, key);\n        return !keepPair && isPair(pair)\n            ? isScalar(pair.key)\n                ? pair.key.value\n                : pair.key\n            : pair;\n    }\n    set(key, value) {\n        if (typeof value !== 'boolean')\n            throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof value}`);\n        const prev = findPair(this.items, key);\n        if (prev && !value) {\n            this.items.splice(this.items.indexOf(prev), 1);\n        }\n        else if (!prev && value) {\n            this.items.push(new Pair(key));\n        }\n    }\n    toJSON(_, ctx) {\n        return super.toJSON(_, ctx, Set);\n    }\n    toString(ctx, onComment, onChompKeep) {\n        if (!ctx)\n            return JSON.stringify(this);\n        if (this.hasAllNullValues(true))\n            return super.toString(Object.assign({}, ctx, { allNullValues: true }), onComment, onChompKeep);\n        else\n            throw new Error('Set items must all have null values');\n    }\n    static from(schema, iterable, ctx) {\n        const { replacer } = ctx;\n        const set = new this(schema);\n        if (iterable && Symbol.iterator in Object(iterable))\n            for (let value of iterable) {\n                if (typeof replacer === 'function')\n                    value = replacer.call(iterable, value, value);\n                set.items.push(createPair(value, null, ctx));\n            }\n        return set;\n    }\n}\nYAMLSet.tag = 'tag:yaml.org,2002:set';\nconst set = {\n    collection: 'map',\n    identify: value => value instanceof Set,\n    nodeClass: YAMLSet,\n    default: false,\n    tag: 'tag:yaml.org,2002:set',\n    createNode: (schema, iterable, ctx) => YAMLSet.from(schema, iterable, ctx),\n    resolve(map, onError) {\n        if (isMap(map)) {\n            if (map.hasAllNullValues(true))\n                return Object.assign(new YAMLSet(), map);\n            else\n                onError('Set items must all have null values');\n        }\n        else\n            onError('Expected a mapping for this tag');\n        return map;\n    }\n};\n\nexport { YAMLSet, set };\n","import { stringifyNumber } from '../../stringify/stringifyNumber.js';\n\n/** Internal types handle bigint as number, because TS can't figure it out. */\nfunction parseSexagesimal(str, asBigInt) {\n    const sign = str[0];\n    const parts = sign === '-' || sign === '+' ? str.substring(1) : str;\n    const num = (n) => asBigInt ? BigInt(n) : Number(n);\n    const res = parts\n        .replace(/_/g, '')\n        .split(':')\n        .reduce((res, p) => res * num(60) + num(p), num(0));\n    return (sign === '-' ? num(-1) * res : res);\n}\n/**\n * hhhh:mm:ss.sss\n *\n * Internal types handle bigint as number, because TS can't figure it out.\n */\nfunction stringifySexagesimal(node) {\n    let { value } = node;\n    let num = (n) => n;\n    if (typeof value === 'bigint')\n        num = n => BigInt(n);\n    else if (isNaN(value) || !isFinite(value))\n        return stringifyNumber(node);\n    let sign = '';\n    if (value < 0) {\n        sign = '-';\n        value *= num(-1);\n    }\n    const _60 = num(60);\n    const parts = [value % _60]; // seconds, including ms\n    if (value < 60) {\n        parts.unshift(0); // at least one : is required\n    }\n    else {\n        value = (value - parts[0]) / _60;\n        parts.unshift(value % _60); // minutes\n        if (value >= 60) {\n            value = (value - parts[0]) / _60;\n            parts.unshift(value); // hours\n        }\n    }\n    return (sign +\n        parts\n            .map(n => String(n).padStart(2, '0'))\n            .join(':')\n            .replace(/000000\\d*$/, '') // % 60 may introduce error\n    );\n}\nconst intTime = {\n    identify: value => typeof value === 'bigint' || Number.isInteger(value),\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'TIME',\n    test: /^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,\n    resolve: (str, _onError, { intAsBigInt }) => parseSexagesimal(str, intAsBigInt),\n    stringify: stringifySexagesimal\n};\nconst floatTime = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    format: 'TIME',\n    test: /^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*$/,\n    resolve: str => parseSexagesimal(str, false),\n    stringify: stringifySexagesimal\n};\nconst timestamp = {\n    identify: value => value instanceof Date,\n    default: true,\n    tag: 'tag:yaml.org,2002:timestamp',\n    // If the time zone is omitted, the timestamp is assumed to be specified in UTC. The time part\n    // may be omitted altogether, resulting in a date format. In such a case, the time part is\n    // assumed to be 00:00:00Z (start of day, UTC).\n    test: RegExp('^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})' + // YYYY-Mm-Dd\n        '(?:' + // time is optional\n        '(?:t|T|[ \\\\t]+)' + // t | T | whitespace\n        '([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\\\.[0-9]+)?)' + // Hh:Mm:Ss(.ss)?\n        '(?:[ \\\\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?' + // Z | +5 | -03:30\n        ')?$'),\n    resolve(str) {\n        const match = str.match(timestamp.test);\n        if (!match)\n            throw new Error('!!timestamp expects a date, starting with yyyy-mm-dd');\n        const [, year, month, day, hour, minute, second] = match.map(Number);\n        const millisec = match[7] ? Number((match[7] + '00').substr(1, 3)) : 0;\n        let date = Date.UTC(year, month - 1, day, hour || 0, minute || 0, second || 0, millisec);\n        const tz = match[8];\n        if (tz && tz !== 'Z') {\n            let d = parseSexagesimal(tz, false);\n            if (Math.abs(d) < 30)\n                d *= 60;\n            date -= 60000 * d;\n        }\n        return new Date(date);\n    },\n    stringify: ({ value }) => value.toISOString().replace(/((T00:00)?:00)?\\.000Z$/, '')\n};\n\nexport { floatTime, intTime, timestamp };\n","import { map } from '../common/map.js';\nimport { nullTag } from '../common/null.js';\nimport { seq } from '../common/seq.js';\nimport { string } from '../common/string.js';\nimport { binary } from './binary.js';\nimport { trueTag, falseTag } from './bool.js';\nimport { floatNaN, floatExp, float } from './float.js';\nimport { intBin, intOct, int, intHex } from './int.js';\nimport { omap } from './omap.js';\nimport { pairs } from './pairs.js';\nimport { set } from './set.js';\nimport { intTime, floatTime, timestamp } from './timestamp.js';\n\nconst schema = [\n    map,\n    seq,\n    string,\n    nullTag,\n    trueTag,\n    falseTag,\n    intBin,\n    intOct,\n    int,\n    intHex,\n    floatNaN,\n    floatExp,\n    float,\n    binary,\n    omap,\n    pairs,\n    set,\n    intTime,\n    floatTime,\n    timestamp\n];\n\nexport { schema };\n","import { map } from './common/map.js';\nimport { nullTag } from './common/null.js';\nimport { seq } from './common/seq.js';\nimport { string } from './common/string.js';\nimport { boolTag } from './core/bool.js';\nimport { float, floatExp, floatNaN } from './core/float.js';\nimport { int, intHex, intOct } from './core/int.js';\nimport { schema } from './core/schema.js';\nimport { schema as schema$1 } from './json/schema.js';\nimport { binary } from './yaml-1.1/binary.js';\nimport { omap } from './yaml-1.1/omap.js';\nimport { pairs } from './yaml-1.1/pairs.js';\nimport { schema as schema$2 } from './yaml-1.1/schema.js';\nimport { set } from './yaml-1.1/set.js';\nimport { timestamp, floatTime, intTime } from './yaml-1.1/timestamp.js';\n\nconst schemas = new Map([\n    ['core', schema],\n    ['failsafe', [map, seq, string]],\n    ['json', schema$1],\n    ['yaml11', schema$2],\n    ['yaml-1.1', schema$2]\n]);\nconst tagsByName = {\n    binary,\n    bool: boolTag,\n    float,\n    floatExp,\n    floatNaN,\n    floatTime,\n    int,\n    intHex,\n    intOct,\n    intTime,\n    map,\n    null: nullTag,\n    omap,\n    pairs,\n    seq,\n    set,\n    timestamp\n};\nconst coreKnownTags = {\n    'tag:yaml.org,2002:binary': binary,\n    'tag:yaml.org,2002:omap': omap,\n    'tag:yaml.org,2002:pairs': pairs,\n    'tag:yaml.org,2002:set': set,\n    'tag:yaml.org,2002:timestamp': timestamp\n};\nfunction getTags(customTags, schemaName) {\n    let tags = schemas.get(schemaName);\n    if (!tags) {\n        if (Array.isArray(customTags))\n            tags = [];\n        else {\n            const keys = Array.from(schemas.keys())\n                .filter(key => key !== 'yaml11')\n                .map(key => JSON.stringify(key))\n                .join(', ');\n            throw new Error(`Unknown schema \"${schemaName}\"; use one of ${keys} or define customTags array`);\n        }\n    }\n    if (Array.isArray(customTags)) {\n        for (const tag of customTags)\n            tags = tags.concat(tag);\n    }\n    else if (typeof customTags === 'function') {\n        tags = customTags(tags.slice());\n    }\n    return tags.map(tag => {\n        if (typeof tag !== 'string')\n            return tag;\n        const tagObj = tagsByName[tag];\n        if (tagObj)\n            return tagObj;\n        const keys = Object.keys(tagsByName)\n            .map(key => JSON.stringify(key))\n            .join(', ');\n        throw new Error(`Unknown custom tag \"${tag}\"; use one of ${keys}`);\n    });\n}\n\nexport { coreKnownTags, getTags };\n","import { MAP, SCALAR, SEQ } from '../nodes/identity.js';\nimport { map } from './common/map.js';\nimport { seq } from './common/seq.js';\nimport { string } from './common/string.js';\nimport { getTags, coreKnownTags } from './tags.js';\n\nconst sortMapEntriesByKey = (a, b) => a.key < b.key ? -1 : a.key > b.key ? 1 : 0;\nclass Schema {\n    constructor({ compat, customTags, merge, resolveKnownTags, schema, sortMapEntries, toStringDefaults }) {\n        this.compat = Array.isArray(compat)\n            ? getTags(compat, 'compat')\n            : compat\n                ? getTags(null, compat)\n                : null;\n        this.merge = !!merge;\n        this.name = (typeof schema === 'string' && schema) || 'core';\n        this.knownTags = resolveKnownTags ? coreKnownTags : {};\n        this.tags = getTags(customTags, this.name);\n        this.toStringOptions = toStringDefaults ?? null;\n        Object.defineProperty(this, MAP, { value: map });\n        Object.defineProperty(this, SCALAR, { value: string });\n        Object.defineProperty(this, SEQ, { value: seq });\n        // Used by createMap()\n        this.sortMapEntries =\n            typeof sortMapEntries === 'function'\n                ? sortMapEntries\n                : sortMapEntries === true\n                    ? sortMapEntriesByKey\n                    : null;\n    }\n    clone() {\n        const copy = Object.create(Schema.prototype, Object.getOwnPropertyDescriptors(this));\n        copy.tags = this.tags.slice();\n        return copy;\n    }\n}\n\nexport { Schema };\n","import { Alias } from '../nodes/Alias.js';\nimport { isEmptyPath, collectionFromPath } from '../nodes/Collection.js';\nimport { NODE_TYPE, DOC, isNode, isCollection, isScalar } from '../nodes/identity.js';\nimport { Pair } from '../nodes/Pair.js';\nimport { toJS } from '../nodes/toJS.js';\nimport { Schema } from '../schema/Schema.js';\nimport { stringifyDocument } from '../stringify/stringifyDocument.js';\nimport { anchorNames, findNewAnchor, createNodeAnchors } from './anchors.js';\nimport { applyReviver } from './applyReviver.js';\nimport { createNode } from './createNode.js';\nimport { Directives } from './directives.js';\n\nclass Document {\n    constructor(value, replacer, options) {\n        /** A comment before this Document */\n        this.commentBefore = null;\n        /** A comment immediately after this Document */\n        this.comment = null;\n        /** Errors encountered during parsing. */\n        this.errors = [];\n        /** Warnings encountered during parsing. */\n        this.warnings = [];\n        Object.defineProperty(this, NODE_TYPE, { value: DOC });\n        let _replacer = null;\n        if (typeof replacer === 'function' || Array.isArray(replacer)) {\n            _replacer = replacer;\n        }\n        else if (options === undefined && replacer) {\n            options = replacer;\n            replacer = undefined;\n        }\n        const opt = Object.assign({\n            intAsBigInt: false,\n            keepSourceTokens: false,\n            logLevel: 'warn',\n            prettyErrors: true,\n            strict: true,\n            uniqueKeys: true,\n            version: '1.2'\n        }, options);\n        this.options = opt;\n        let { version } = opt;\n        if (options?._directives) {\n            this.directives = options._directives.atDocument();\n            if (this.directives.yaml.explicit)\n                version = this.directives.yaml.version;\n        }\n        else\n            this.directives = new Directives({ version });\n        this.setSchema(version, options);\n        // @ts-expect-error We can't really know that this matches Contents.\n        this.contents =\n            value === undefined ? null : this.createNode(value, _replacer, options);\n    }\n    /**\n     * Create a deep copy of this Document and its contents.\n     *\n     * Custom Node values that inherit from `Object` still refer to their original instances.\n     */\n    clone() {\n        const copy = Object.create(Document.prototype, {\n            [NODE_TYPE]: { value: DOC }\n        });\n        copy.commentBefore = this.commentBefore;\n        copy.comment = this.comment;\n        copy.errors = this.errors.slice();\n        copy.warnings = this.warnings.slice();\n        copy.options = Object.assign({}, this.options);\n        if (this.directives)\n            copy.directives = this.directives.clone();\n        copy.schema = this.schema.clone();\n        // @ts-expect-error We can't really know that this matches Contents.\n        copy.contents = isNode(this.contents)\n            ? this.contents.clone(copy.schema)\n            : this.contents;\n        if (this.range)\n            copy.range = this.range.slice();\n        return copy;\n    }\n    /** Adds a value to the document. */\n    add(value) {\n        if (assertCollection(this.contents))\n            this.contents.add(value);\n    }\n    /** Adds a value to the document. */\n    addIn(path, value) {\n        if (assertCollection(this.contents))\n            this.contents.addIn(path, value);\n    }\n    /**\n     * Create a new `Alias` node, ensuring that the target `node` has the required anchor.\n     *\n     * If `node` already has an anchor, `name` is ignored.\n     * Otherwise, the `node.anchor` value will be set to `name`,\n     * or if an anchor with that name is already present in the document,\n     * `name` will be used as a prefix for a new unique anchor.\n     * If `name` is undefined, the generated anchor will use 'a' as a prefix.\n     */\n    createAlias(node, name) {\n        if (!node.anchor) {\n            const prev = anchorNames(this);\n            node.anchor =\n                // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n                !name || prev.has(name) ? findNewAnchor(name || 'a', prev) : name;\n        }\n        return new Alias(node.anchor);\n    }\n    createNode(value, replacer, options) {\n        let _replacer = undefined;\n        if (typeof replacer === 'function') {\n            value = replacer.call({ '': value }, '', value);\n            _replacer = replacer;\n        }\n        else if (Array.isArray(replacer)) {\n            const keyToStr = (v) => typeof v === 'number' || v instanceof String || v instanceof Number;\n            const asStr = replacer.filter(keyToStr).map(String);\n            if (asStr.length > 0)\n                replacer = replacer.concat(asStr);\n            _replacer = replacer;\n        }\n        else if (options === undefined && replacer) {\n            options = replacer;\n            replacer = undefined;\n        }\n        const { aliasDuplicateObjects, anchorPrefix, flow, keepUndefined, onTagObj, tag } = options ?? {};\n        const { onAnchor, setAnchors, sourceObjects } = createNodeAnchors(this, \n        // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n        anchorPrefix || 'a');\n        const ctx = {\n            aliasDuplicateObjects: aliasDuplicateObjects ?? true,\n            keepUndefined: keepUndefined ?? false,\n            onAnchor,\n            onTagObj,\n            replacer: _replacer,\n            schema: this.schema,\n            sourceObjects\n        };\n        const node = createNode(value, tag, ctx);\n        if (flow && isCollection(node))\n            node.flow = true;\n        setAnchors();\n        return node;\n    }\n    /**\n     * Convert a key and a value into a `Pair` using the current schema,\n     * recursively wrapping all values as `Scalar` or `Collection` nodes.\n     */\n    createPair(key, value, options = {}) {\n        const k = this.createNode(key, null, options);\n        const v = this.createNode(value, null, options);\n        return new Pair(k, v);\n    }\n    /**\n     * Removes a value from the document.\n     * @returns `true` if the item was found and removed.\n     */\n    delete(key) {\n        return assertCollection(this.contents) ? this.contents.delete(key) : false;\n    }\n    /**\n     * Removes a value from the document.\n     * @returns `true` if the item was found and removed.\n     */\n    deleteIn(path) {\n        if (isEmptyPath(path)) {\n            if (this.contents == null)\n                return false;\n            // @ts-expect-error Presumed impossible if Strict extends false\n            this.contents = null;\n            return true;\n        }\n        return assertCollection(this.contents)\n            ? this.contents.deleteIn(path)\n            : false;\n    }\n    /**\n     * Returns item at `key`, or `undefined` if not found. By default unwraps\n     * scalar values from their surrounding node; to disable set `keepScalar` to\n     * `true` (collections are always returned intact).\n     */\n    get(key, keepScalar) {\n        return isCollection(this.contents)\n            ? this.contents.get(key, keepScalar)\n            : undefined;\n    }\n    /**\n     * Returns item at `path`, or `undefined` if not found. By default unwraps\n     * scalar values from their surrounding node; to disable set `keepScalar` to\n     * `true` (collections are always returned intact).\n     */\n    getIn(path, keepScalar) {\n        if (isEmptyPath(path))\n            return !keepScalar && isScalar(this.contents)\n                ? this.contents.value\n                : this.contents;\n        return isCollection(this.contents)\n            ? this.contents.getIn(path, keepScalar)\n            : undefined;\n    }\n    /**\n     * Checks if the document includes a value with the key `key`.\n     */\n    has(key) {\n        return isCollection(this.contents) ? this.contents.has(key) : false;\n    }\n    /**\n     * Checks if the document includes a value at `path`.\n     */\n    hasIn(path) {\n        if (isEmptyPath(path))\n            return this.contents !== undefined;\n        return isCollection(this.contents) ? this.contents.hasIn(path) : false;\n    }\n    /**\n     * Sets a value in this document. For `!!set`, `value` needs to be a\n     * boolean to add/remove the item from the set.\n     */\n    set(key, value) {\n        if (this.contents == null) {\n            // @ts-expect-error We can't really know that this matches Contents.\n            this.contents = collectionFromPath(this.schema, [key], value);\n        }\n        else if (assertCollection(this.contents)) {\n            this.contents.set(key, value);\n        }\n    }\n    /**\n     * Sets a value in this document. For `!!set`, `value` needs to be a\n     * boolean to add/remove the item from the set.\n     */\n    setIn(path, value) {\n        if (isEmptyPath(path)) {\n            // @ts-expect-error We can't really know that this matches Contents.\n            this.contents = value;\n        }\n        else if (this.contents == null) {\n            // @ts-expect-error We can't really know that this matches Contents.\n            this.contents = collectionFromPath(this.schema, Array.from(path), value);\n        }\n        else if (assertCollection(this.contents)) {\n            this.contents.setIn(path, value);\n        }\n    }\n    /**\n     * Change the YAML version and schema used by the document.\n     * A `null` version disables support for directives, explicit tags, anchors, and aliases.\n     * It also requires the `schema` option to be given as a `Schema` instance value.\n     *\n     * Overrides all previously set schema options.\n     */\n    setSchema(version, options = {}) {\n        if (typeof version === 'number')\n            version = String(version);\n        let opt;\n        switch (version) {\n            case '1.1':\n                if (this.directives)\n                    this.directives.yaml.version = '1.1';\n                else\n                    this.directives = new Directives({ version: '1.1' });\n                opt = { merge: true, resolveKnownTags: false, schema: 'yaml-1.1' };\n                break;\n            case '1.2':\n            case 'next':\n                if (this.directives)\n                    this.directives.yaml.version = version;\n                else\n                    this.directives = new Directives({ version });\n                opt = { merge: false, resolveKnownTags: true, schema: 'core' };\n                break;\n            case null:\n                if (this.directives)\n                    delete this.directives;\n                opt = null;\n                break;\n            default: {\n                const sv = JSON.stringify(version);\n                throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${sv}`);\n            }\n        }\n        // Not using `instanceof Schema` to allow for duck typing\n        if (options.schema instanceof Object)\n            this.schema = options.schema;\n        else if (opt)\n            this.schema = new Schema(Object.assign(opt, options));\n        else\n            throw new Error(`With a null YAML version, the { schema: Schema } option is required`);\n    }\n    // json & jsonArg are only used from toJSON()\n    toJS({ json, jsonArg, mapAsMap, maxAliasCount, onAnchor, reviver } = {}) {\n        const ctx = {\n            anchors: new Map(),\n            doc: this,\n            keep: !json,\n            mapAsMap: mapAsMap === true,\n            mapKeyWarned: false,\n            maxAliasCount: typeof maxAliasCount === 'number' ? maxAliasCount : 100\n        };\n        const res = toJS(this.contents, jsonArg ?? '', ctx);\n        if (typeof onAnchor === 'function')\n            for (const { count, res } of ctx.anchors.values())\n                onAnchor(res, count);\n        return typeof reviver === 'function'\n            ? applyReviver(reviver, { '': res }, '', res)\n            : res;\n    }\n    /**\n     * A JSON representation of the document `contents`.\n     *\n     * @param jsonArg Used by `JSON.stringify` to indicate the array index or\n     *   property name.\n     */\n    toJSON(jsonArg, onAnchor) {\n        return this.toJS({ json: true, jsonArg, mapAsMap: false, onAnchor });\n    }\n    /** A YAML representation of the document. */\n    toString(options = {}) {\n        if (this.errors.length > 0)\n            throw new Error('Document with errors cannot be stringified');\n        if ('indent' in options &&\n            (!Number.isInteger(options.indent) || Number(options.indent) <= 0)) {\n            const s = JSON.stringify(options.indent);\n            throw new Error(`\"indent\" option must be a positive integer, not ${s}`);\n        }\n        return stringifyDocument(this, options);\n    }\n}\nfunction assertCollection(contents) {\n    if (isCollection(contents))\n        return true;\n    throw new Error('Expected a YAML collection as document contents');\n}\n\nexport { Document };\n","import { isNode } from '../nodes/identity.js';\nimport { createStringifyContext, stringify } from './stringify.js';\nimport { indentComment, lineComment } from './stringifyComment.js';\n\nfunction stringifyDocument(doc, options) {\n    const lines = [];\n    let hasDirectives = options.directives === true;\n    if (options.directives !== false && doc.directives) {\n        const dir = doc.directives.toString(doc);\n        if (dir) {\n            lines.push(dir);\n            hasDirectives = true;\n        }\n        else if (doc.directives.docStart)\n            hasDirectives = true;\n    }\n    if (hasDirectives)\n        lines.push('---');\n    const ctx = createStringifyContext(doc, options);\n    const { commentString } = ctx.options;\n    if (doc.commentBefore) {\n        if (lines.length !== 1)\n            lines.unshift('');\n        const cs = commentString(doc.commentBefore);\n        lines.unshift(indentComment(cs, ''));\n    }\n    let chompKeep = false;\n    let contentComment = null;\n    if (doc.contents) {\n        if (isNode(doc.contents)) {\n            if (doc.contents.spaceBefore && hasDirectives)\n                lines.push('');\n            if (doc.contents.commentBefore) {\n                const cs = commentString(doc.contents.commentBefore);\n                lines.push(indentComment(cs, ''));\n            }\n            // top-level block scalars need to be indented if followed by a comment\n            ctx.forceBlockIndent = !!doc.comment;\n            contentComment = doc.contents.comment;\n        }\n        const onChompKeep = contentComment ? undefined : () => (chompKeep = true);\n        let body = stringify(doc.contents, ctx, () => (contentComment = null), onChompKeep);\n        if (contentComment)\n            body += lineComment(body, '', commentString(contentComment));\n        if ((body[0] === '|' || body[0] === '>') &&\n            lines[lines.length - 1] === '---') {\n            // Top-level block scalars with a preceding doc marker ought to use the\n            // same line for their header.\n            lines[lines.length - 1] = `--- ${body}`;\n        }\n        else\n            lines.push(body);\n    }\n    else {\n        lines.push(stringify(doc.contents, ctx));\n    }\n    if (doc.directives?.docEnd) {\n        if (doc.comment) {\n            const cs = commentString(doc.comment);\n            if (cs.includes('\\n')) {\n                lines.push('...');\n                lines.push(indentComment(cs, ''));\n            }\n            else {\n                lines.push(`... ${cs}`);\n            }\n        }\n        else {\n            lines.push('...');\n        }\n    }\n    else {\n        let dc = doc.comment;\n        if (dc && chompKeep)\n            dc = dc.replace(/^\\n+/, '');\n        if (dc) {\n            if ((!chompKeep || contentComment) && lines[lines.length - 1] !== '')\n                lines.push('');\n            lines.push(indentComment(commentString(dc), ''));\n        }\n    }\n    return lines.join('\\n') + '\\n';\n}\n\nexport { stringifyDocument };\n","class YAMLError extends Error {\n    constructor(name, pos, code, message) {\n        super();\n        this.name = name;\n        this.code = code;\n        this.message = message;\n        this.pos = pos;\n    }\n}\nclass YAMLParseError extends YAMLError {\n    constructor(pos, code, message) {\n        super('YAMLParseError', pos, code, message);\n    }\n}\nclass YAMLWarning extends YAMLError {\n    constructor(pos, code, message) {\n        super('YAMLWarning', pos, code, message);\n    }\n}\nconst prettifyError = (src, lc) => (error) => {\n    if (error.pos[0] === -1)\n        return;\n    error.linePos = error.pos.map(pos => lc.linePos(pos));\n    const { line, col } = error.linePos[0];\n    error.message += ` at line ${line}, column ${col}`;\n    let ci = col - 1;\n    let lineStr = src\n        .substring(lc.lineStarts[line - 1], lc.lineStarts[line])\n        .replace(/[\\n\\r]+$/, '');\n    // Trim to max 80 chars, keeping col position near the middle\n    if (ci >= 60 && lineStr.length > 80) {\n        const trimStart = Math.min(ci - 39, lineStr.length - 79);\n        lineStr = '' + lineStr.substring(trimStart);\n        ci -= trimStart - 1;\n    }\n    if (lineStr.length > 80)\n        lineStr = lineStr.substring(0, 79) + '';\n    // Include previous line in context if pointing at line start\n    if (line > 1 && /^ *$/.test(lineStr.substring(0, ci))) {\n        // Regexp won't match if start is trimmed\n        let prev = src.substring(lc.lineStarts[line - 2], lc.lineStarts[line - 1]);\n        if (prev.length > 80)\n            prev = prev.substring(0, 79) + '\\n';\n        lineStr = prev + lineStr;\n    }\n    if (/[^ ]/.test(lineStr)) {\n        let count = 1;\n        const end = error.linePos[1];\n        if (end && end.line === line && end.col > col) {\n            count = Math.max(1, Math.min(end.col - col, 80 - ci));\n        }\n        const pointer = ' '.repeat(ci) + '^'.repeat(count);\n        error.message += `:\\n\\n${lineStr}\\n${pointer}\\n`;\n    }\n};\n\nexport { YAMLError, YAMLParseError, YAMLWarning, prettifyError };\n","function resolveProps(tokens, { flow, indicator, next, offset, onError, startOnNewline }) {\n    let spaceBefore = false;\n    let atNewline = startOnNewline;\n    let hasSpace = startOnNewline;\n    let comment = '';\n    let commentSep = '';\n    let hasNewline = false;\n    let hasNewlineAfterProp = false;\n    let reqSpace = false;\n    let anchor = null;\n    let tag = null;\n    let comma = null;\n    let found = null;\n    let start = null;\n    for (const token of tokens) {\n        if (reqSpace) {\n            if (token.type !== 'space' &&\n                token.type !== 'newline' &&\n                token.type !== 'comma')\n                onError(token.offset, 'MISSING_CHAR', 'Tags and anchors must be separated from the next token by white space');\n            reqSpace = false;\n        }\n        switch (token.type) {\n            case 'space':\n                // At the doc level, tabs at line start may be parsed\n                // as leading white space rather than indentation.\n                // In a flow collection, only the parser handles indent.\n                if (!flow &&\n                    atNewline &&\n                    indicator !== 'doc-start' &&\n                    token.source[0] === '\\t')\n                    onError(token, 'TAB_AS_INDENT', 'Tabs are not allowed as indentation');\n                hasSpace = true;\n                break;\n            case 'comment': {\n                if (!hasSpace)\n                    onError(token, 'MISSING_CHAR', 'Comments must be separated from other tokens by white space characters');\n                const cb = token.source.substring(1) || ' ';\n                if (!comment)\n                    comment = cb;\n                else\n                    comment += commentSep + cb;\n                commentSep = '';\n                atNewline = false;\n                break;\n            }\n            case 'newline':\n                if (atNewline) {\n                    if (comment)\n                        comment += token.source;\n                    else\n                        spaceBefore = true;\n                }\n                else\n                    commentSep += token.source;\n                atNewline = true;\n                hasNewline = true;\n                if (anchor || tag)\n                    hasNewlineAfterProp = true;\n                hasSpace = true;\n                break;\n            case 'anchor':\n                if (anchor)\n                    onError(token, 'MULTIPLE_ANCHORS', 'A node can have at most one anchor');\n                if (token.source.endsWith(':'))\n                    onError(token.offset + token.source.length - 1, 'BAD_ALIAS', 'Anchor ending in : is ambiguous', true);\n                anchor = token;\n                if (start === null)\n                    start = token.offset;\n                atNewline = false;\n                hasSpace = false;\n                reqSpace = true;\n                break;\n            case 'tag': {\n                if (tag)\n                    onError(token, 'MULTIPLE_TAGS', 'A node can have at most one tag');\n                tag = token;\n                if (start === null)\n                    start = token.offset;\n                atNewline = false;\n                hasSpace = false;\n                reqSpace = true;\n                break;\n            }\n            case indicator:\n                // Could here handle preceding comments differently\n                if (anchor || tag)\n                    onError(token, 'BAD_PROP_ORDER', `Anchors and tags must be after the ${token.source} indicator`);\n                if (found)\n                    onError(token, 'UNEXPECTED_TOKEN', `Unexpected ${token.source} in ${flow ?? 'collection'}`);\n                found = token;\n                atNewline = false;\n                hasSpace = false;\n                break;\n            case 'comma':\n                if (flow) {\n                    if (comma)\n                        onError(token, 'UNEXPECTED_TOKEN', `Unexpected , in ${flow}`);\n                    comma = token;\n                    atNewline = false;\n                    hasSpace = false;\n                    break;\n                }\n            // else fallthrough\n            default:\n                onError(token, 'UNEXPECTED_TOKEN', `Unexpected ${token.type} token`);\n                atNewline = false;\n                hasSpace = false;\n        }\n    }\n    const last = tokens[tokens.length - 1];\n    const end = last ? last.offset + last.source.length : offset;\n    if (reqSpace &&\n        next &&\n        next.type !== 'space' &&\n        next.type !== 'newline' &&\n        next.type !== 'comma' &&\n        (next.type !== 'scalar' || next.source !== ''))\n        onError(next.offset, 'MISSING_CHAR', 'Tags and anchors must be separated from the next token by white space');\n    return {\n        comma,\n        found,\n        spaceBefore,\n        comment,\n        hasNewline,\n        hasNewlineAfterProp,\n        anchor,\n        tag,\n        end,\n        start: start ?? end\n    };\n}\n\nexport { resolveProps };\n","function containsNewline(key) {\n    if (!key)\n        return null;\n    switch (key.type) {\n        case 'alias':\n        case 'scalar':\n        case 'double-quoted-scalar':\n        case 'single-quoted-scalar':\n            if (key.source.includes('\\n'))\n                return true;\n            if (key.end)\n                for (const st of key.end)\n                    if (st.type === 'newline')\n                        return true;\n            return false;\n        case 'flow-collection':\n            for (const it of key.items) {\n                for (const st of it.start)\n                    if (st.type === 'newline')\n                        return true;\n                if (it.sep)\n                    for (const st of it.sep)\n                        if (st.type === 'newline')\n                            return true;\n                if (containsNewline(it.key) || containsNewline(it.value))\n                    return true;\n            }\n            return false;\n        default:\n            return true;\n    }\n}\n\nexport { containsNewline };\n","import { containsNewline } from './util-contains-newline.js';\n\nfunction flowIndentCheck(indent, fc, onError) {\n    if (fc?.type === 'flow-collection') {\n        const end = fc.end[0];\n        if (end.indent === indent &&\n            (end.source === ']' || end.source === '}') &&\n            containsNewline(fc)) {\n            const msg = 'Flow end indicator should be more indented than parent';\n            onError(end, 'BAD_INDENT', msg, true);\n        }\n    }\n}\n\nexport { flowIndentCheck };\n","import { isScalar } from '../nodes/identity.js';\n\nfunction mapIncludes(ctx, items, search) {\n    const { uniqueKeys } = ctx.options;\n    if (uniqueKeys === false)\n        return false;\n    const isEqual = typeof uniqueKeys === 'function'\n        ? uniqueKeys\n        : (a, b) => a === b ||\n            (isScalar(a) &&\n                isScalar(b) &&\n                a.value === b.value &&\n                !(a.value === '<<' && ctx.schema.merge));\n    return items.some(pair => isEqual(pair.key, search));\n}\n\nexport { mapIncludes };\n","import { Pair } from '../nodes/Pair.js';\nimport { YAMLMap } from '../nodes/YAMLMap.js';\nimport { resolveProps } from './resolve-props.js';\nimport { containsNewline } from './util-contains-newline.js';\nimport { flowIndentCheck } from './util-flow-indent-check.js';\nimport { mapIncludes } from './util-map-includes.js';\n\nconst startColMsg = 'All mapping items must start at the same column';\nfunction resolveBlockMap({ composeNode, composeEmptyNode }, ctx, bm, onError, tag) {\n    const NodeClass = tag?.nodeClass ?? YAMLMap;\n    const map = new NodeClass(ctx.schema);\n    if (ctx.atRoot)\n        ctx.atRoot = false;\n    let offset = bm.offset;\n    let commentEnd = null;\n    for (const collItem of bm.items) {\n        const { start, key, sep, value } = collItem;\n        // key properties\n        const keyProps = resolveProps(start, {\n            indicator: 'explicit-key-ind',\n            next: key ?? sep?.[0],\n            offset,\n            onError,\n            startOnNewline: true\n        });\n        const implicitKey = !keyProps.found;\n        if (implicitKey) {\n            if (key) {\n                if (key.type === 'block-seq')\n                    onError(offset, 'BLOCK_AS_IMPLICIT_KEY', 'A block sequence may not be used as an implicit map key');\n                else if ('indent' in key && key.indent !== bm.indent)\n                    onError(offset, 'BAD_INDENT', startColMsg);\n            }\n            if (!keyProps.anchor && !keyProps.tag && !sep) {\n                commentEnd = keyProps.end;\n                if (keyProps.comment) {\n                    if (map.comment)\n                        map.comment += '\\n' + keyProps.comment;\n                    else\n                        map.comment = keyProps.comment;\n                }\n                continue;\n            }\n            if (keyProps.hasNewlineAfterProp || containsNewline(key)) {\n                onError(key ?? start[start.length - 1], 'MULTILINE_IMPLICIT_KEY', 'Implicit keys need to be on a single line');\n            }\n        }\n        else if (keyProps.found?.indent !== bm.indent) {\n            onError(offset, 'BAD_INDENT', startColMsg);\n        }\n        // key value\n        const keyStart = keyProps.end;\n        const keyNode = key\n            ? composeNode(ctx, key, keyProps, onError)\n            : composeEmptyNode(ctx, keyStart, start, null, keyProps, onError);\n        if (ctx.schema.compat)\n            flowIndentCheck(bm.indent, key, onError);\n        if (mapIncludes(ctx, map.items, keyNode))\n            onError(keyStart, 'DUPLICATE_KEY', 'Map keys must be unique');\n        // value properties\n        const valueProps = resolveProps(sep ?? [], {\n            indicator: 'map-value-ind',\n            next: value,\n            offset: keyNode.range[2],\n            onError,\n            startOnNewline: !key || key.type === 'block-scalar'\n        });\n        offset = valueProps.end;\n        if (valueProps.found) {\n            if (implicitKey) {\n                if (value?.type === 'block-map' && !valueProps.hasNewline)\n                    onError(offset, 'BLOCK_AS_IMPLICIT_KEY', 'Nested mappings are not allowed in compact mappings');\n                if (ctx.options.strict &&\n                    keyProps.start < valueProps.found.offset - 1024)\n                    onError(keyNode.range, 'KEY_OVER_1024_CHARS', 'The : indicator must be at most 1024 chars after the start of an implicit block mapping key');\n            }\n            // value value\n            const valueNode = value\n                ? composeNode(ctx, value, valueProps, onError)\n                : composeEmptyNode(ctx, offset, sep, null, valueProps, onError);\n            if (ctx.schema.compat)\n                flowIndentCheck(bm.indent, value, onError);\n            offset = valueNode.range[2];\n            const pair = new Pair(keyNode, valueNode);\n            if (ctx.options.keepSourceTokens)\n                pair.srcToken = collItem;\n            map.items.push(pair);\n        }\n        else {\n            // key with no value\n            if (implicitKey)\n                onError(keyNode.range, 'MISSING_CHAR', 'Implicit map keys need to be followed by map values');\n            if (valueProps.comment) {\n                if (keyNode.comment)\n                    keyNode.comment += '\\n' + valueProps.comment;\n                else\n                    keyNode.comment = valueProps.comment;\n            }\n            const pair = new Pair(keyNode);\n            if (ctx.options.keepSourceTokens)\n                pair.srcToken = collItem;\n            map.items.push(pair);\n        }\n    }\n    if (commentEnd && commentEnd < offset)\n        onError(commentEnd, 'IMPOSSIBLE', 'Map comment with trailing content');\n    map.range = [bm.offset, offset, commentEnd ?? offset];\n    return map;\n}\n\nexport { resolveBlockMap };\n","function resolveEnd(end, offset, reqSpace, onError) {\n    let comment = '';\n    if (end) {\n        let hasSpace = false;\n        let sep = '';\n        for (const token of end) {\n            const { source, type } = token;\n            switch (type) {\n                case 'space':\n                    hasSpace = true;\n                    break;\n                case 'comment': {\n                    if (reqSpace && !hasSpace)\n                        onError(token, 'MISSING_CHAR', 'Comments must be separated from other tokens by white space characters');\n                    const cb = source.substring(1) || ' ';\n                    if (!comment)\n                        comment = cb;\n                    else\n                        comment += sep + cb;\n                    sep = '';\n                    break;\n                }\n                case 'newline':\n                    if (comment)\n                        sep += source;\n                    hasSpace = true;\n                    break;\n                default:\n                    onError(token, 'UNEXPECTED_TOKEN', `Unexpected ${type} at node end`);\n            }\n            offset += source.length;\n        }\n    }\n    return { comment, offset };\n}\n\nexport { resolveEnd };\n","import { isPair } from '../nodes/identity.js';\nimport { Pair } from '../nodes/Pair.js';\nimport { YAMLMap } from '../nodes/YAMLMap.js';\nimport { YAMLSeq } from '../nodes/YAMLSeq.js';\nimport { resolveEnd } from './resolve-end.js';\nimport { resolveProps } from './resolve-props.js';\nimport { containsNewline } from './util-contains-newline.js';\nimport { mapIncludes } from './util-map-includes.js';\n\nconst blockMsg = 'Block collections are not allowed within flow collections';\nconst isBlock = (token) => token && (token.type === 'block-map' || token.type === 'block-seq');\nfunction resolveFlowCollection({ composeNode, composeEmptyNode }, ctx, fc, onError, tag) {\n    const isMap = fc.start.source === '{';\n    const fcName = isMap ? 'flow map' : 'flow sequence';\n    const NodeClass = (tag?.nodeClass ?? (isMap ? YAMLMap : YAMLSeq));\n    const coll = new NodeClass(ctx.schema);\n    coll.flow = true;\n    const atRoot = ctx.atRoot;\n    if (atRoot)\n        ctx.atRoot = false;\n    let offset = fc.offset + fc.start.source.length;\n    for (let i = 0; i < fc.items.length; ++i) {\n        const collItem = fc.items[i];\n        const { start, key, sep, value } = collItem;\n        const props = resolveProps(start, {\n            flow: fcName,\n            indicator: 'explicit-key-ind',\n            next: key ?? sep?.[0],\n            offset,\n            onError,\n            startOnNewline: false\n        });\n        if (!props.found) {\n            if (!props.anchor && !props.tag && !sep && !value) {\n                if (i === 0 && props.comma)\n                    onError(props.comma, 'UNEXPECTED_TOKEN', `Unexpected , in ${fcName}`);\n                else if (i < fc.items.length - 1)\n                    onError(props.start, 'UNEXPECTED_TOKEN', `Unexpected empty item in ${fcName}`);\n                if (props.comment) {\n                    if (coll.comment)\n                        coll.comment += '\\n' + props.comment;\n                    else\n                        coll.comment = props.comment;\n                }\n                offset = props.end;\n                continue;\n            }\n            if (!isMap && ctx.options.strict && containsNewline(key))\n                onError(key, // checked by containsNewline()\n                'MULTILINE_IMPLICIT_KEY', 'Implicit keys of flow sequence pairs need to be on a single line');\n        }\n        if (i === 0) {\n            if (props.comma)\n                onError(props.comma, 'UNEXPECTED_TOKEN', `Unexpected , in ${fcName}`);\n        }\n        else {\n            if (!props.comma)\n                onError(props.start, 'MISSING_CHAR', `Missing , between ${fcName} items`);\n            if (props.comment) {\n                let prevItemComment = '';\n                loop: for (const st of start) {\n                    switch (st.type) {\n                        case 'comma':\n                        case 'space':\n                            break;\n                        case 'comment':\n                            prevItemComment = st.source.substring(1);\n                            break loop;\n                        default:\n                            break loop;\n                    }\n                }\n                if (prevItemComment) {\n                    let prev = coll.items[coll.items.length - 1];\n                    if (isPair(prev))\n                        prev = prev.value ?? prev.key;\n                    if (prev.comment)\n                        prev.comment += '\\n' + prevItemComment;\n                    else\n                        prev.comment = prevItemComment;\n                    props.comment = props.comment.substring(prevItemComment.length + 1);\n                }\n            }\n        }\n        if (!isMap && !sep && !props.found) {\n            // item is a value in a seq\n            //  key & sep are empty, start does not include ? or :\n            const valueNode = value\n                ? composeNode(ctx, value, props, onError)\n                : composeEmptyNode(ctx, props.end, sep, null, props, onError);\n            coll.items.push(valueNode);\n            offset = valueNode.range[2];\n            if (isBlock(value))\n                onError(valueNode.range, 'BLOCK_IN_FLOW', blockMsg);\n        }\n        else {\n            // item is a key+value pair\n            // key value\n            const keyStart = props.end;\n            const keyNode = key\n                ? composeNode(ctx, key, props, onError)\n                : composeEmptyNode(ctx, keyStart, start, null, props, onError);\n            if (isBlock(key))\n                onError(keyNode.range, 'BLOCK_IN_FLOW', blockMsg);\n            // value properties\n            const valueProps = resolveProps(sep ?? [], {\n                flow: fcName,\n                indicator: 'map-value-ind',\n                next: value,\n                offset: keyNode.range[2],\n                onError,\n                startOnNewline: false\n            });\n            if (valueProps.found) {\n                if (!isMap && !props.found && ctx.options.strict) {\n                    if (sep)\n                        for (const st of sep) {\n                            if (st === valueProps.found)\n                                break;\n                            if (st.type === 'newline') {\n                                onError(st, 'MULTILINE_IMPLICIT_KEY', 'Implicit keys of flow sequence pairs need to be on a single line');\n                                break;\n                            }\n                        }\n                    if (props.start < valueProps.found.offset - 1024)\n                        onError(valueProps.found, 'KEY_OVER_1024_CHARS', 'The : indicator must be at most 1024 chars after the start of an implicit flow sequence key');\n                }\n            }\n            else if (value) {\n                if ('source' in value && value.source && value.source[0] === ':')\n                    onError(value, 'MISSING_CHAR', `Missing space after : in ${fcName}`);\n                else\n                    onError(valueProps.start, 'MISSING_CHAR', `Missing , or : between ${fcName} items`);\n            }\n            // value value\n            const valueNode = value\n                ? composeNode(ctx, value, valueProps, onError)\n                : valueProps.found\n                    ? composeEmptyNode(ctx, valueProps.end, sep, null, valueProps, onError)\n                    : null;\n            if (valueNode) {\n                if (isBlock(value))\n                    onError(valueNode.range, 'BLOCK_IN_FLOW', blockMsg);\n            }\n            else if (valueProps.comment) {\n                if (keyNode.comment)\n                    keyNode.comment += '\\n' + valueProps.comment;\n                else\n                    keyNode.comment = valueProps.comment;\n            }\n            const pair = new Pair(keyNode, valueNode);\n            if (ctx.options.keepSourceTokens)\n                pair.srcToken = collItem;\n            if (isMap) {\n                const map = coll;\n                if (mapIncludes(ctx, map.items, keyNode))\n                    onError(keyStart, 'DUPLICATE_KEY', 'Map keys must be unique');\n                map.items.push(pair);\n            }\n            else {\n                const map = new YAMLMap(ctx.schema);\n                map.flow = true;\n                map.items.push(pair);\n                coll.items.push(map);\n            }\n            offset = valueNode ? valueNode.range[2] : valueProps.end;\n        }\n    }\n    const expectedEnd = isMap ? '}' : ']';\n    const [ce, ...ee] = fc.end;\n    let cePos = offset;\n    if (ce && ce.source === expectedEnd)\n        cePos = ce.offset + ce.source.length;\n    else {\n        const name = fcName[0].toUpperCase() + fcName.substring(1);\n        const msg = atRoot\n            ? `${name} must end with a ${expectedEnd}`\n            : `${name} in block collection must be sufficiently indented and end with a ${expectedEnd}`;\n        onError(offset, atRoot ? 'MISSING_CHAR' : 'BAD_INDENT', msg);\n        if (ce && ce.source.length !== 1)\n            ee.unshift(ce);\n    }\n    if (ee.length > 0) {\n        const end = resolveEnd(ee, cePos, ctx.options.strict, onError);\n        if (end.comment) {\n            if (coll.comment)\n                coll.comment += '\\n' + end.comment;\n            else\n                coll.comment = end.comment;\n        }\n        coll.range = [fc.offset, cePos, end.offset];\n    }\n    else {\n        coll.range = [fc.offset, cePos, cePos];\n    }\n    return coll;\n}\n\nexport { resolveFlowCollection };\n","import { isNode } from '../nodes/identity.js';\nimport { Scalar } from '../nodes/Scalar.js';\nimport { YAMLMap } from '../nodes/YAMLMap.js';\nimport { YAMLSeq } from '../nodes/YAMLSeq.js';\nimport { resolveBlockMap } from './resolve-block-map.js';\nimport { resolveBlockSeq } from './resolve-block-seq.js';\nimport { resolveFlowCollection } from './resolve-flow-collection.js';\n\nfunction resolveCollection(CN, ctx, token, onError, tagName, tag) {\n    const coll = token.type === 'block-map'\n        ? resolveBlockMap(CN, ctx, token, onError, tag)\n        : token.type === 'block-seq'\n            ? resolveBlockSeq(CN, ctx, token, onError, tag)\n            : resolveFlowCollection(CN, ctx, token, onError, tag);\n    const Coll = coll.constructor;\n    // If we got a tagName matching the class, or the tag name is '!',\n    // then use the tagName from the node class used to create it.\n    if (tagName === '!' || tagName === Coll.tagName) {\n        coll.tag = Coll.tagName;\n        return coll;\n    }\n    if (tagName)\n        coll.tag = tagName;\n    return coll;\n}\nfunction composeCollection(CN, ctx, token, tagToken, onError) {\n    const tagName = !tagToken\n        ? null\n        : ctx.directives.tagName(tagToken.source, msg => onError(tagToken, 'TAG_RESOLVE_FAILED', msg));\n    const expType = token.type === 'block-map'\n        ? 'map'\n        : token.type === 'block-seq'\n            ? 'seq'\n            : token.start.source === '{'\n                ? 'map'\n                : 'seq';\n    // shortcut: check if it's a generic YAMLMap or YAMLSeq\n    // before jumping into the custom tag logic.\n    if (!tagToken ||\n        !tagName ||\n        tagName === '!' ||\n        (tagName === YAMLMap.tagName && expType === 'map') ||\n        (tagName === YAMLSeq.tagName && expType === 'seq') ||\n        !expType) {\n        return resolveCollection(CN, ctx, token, onError, tagName);\n    }\n    let tag = ctx.schema.tags.find(t => t.tag === tagName && t.collection === expType);\n    if (!tag) {\n        const kt = ctx.schema.knownTags[tagName];\n        if (kt && kt.collection === expType) {\n            ctx.schema.tags.push(Object.assign({}, kt, { default: false }));\n            tag = kt;\n        }\n        else {\n            if (kt?.collection) {\n                onError(tagToken, 'BAD_COLLECTION_TYPE', `${kt.tag} used for ${expType} collection, but expects ${kt.collection}`, true);\n            }\n            else {\n                onError(tagToken, 'TAG_RESOLVE_FAILED', `Unresolved tag: ${tagName}`, true);\n            }\n            return resolveCollection(CN, ctx, token, onError, tagName);\n        }\n    }\n    const coll = resolveCollection(CN, ctx, token, onError, tagName, tag);\n    const res = tag.resolve?.(coll, msg => onError(tagToken, 'TAG_RESOLVE_FAILED', msg), ctx.options) ?? coll;\n    const node = isNode(res)\n        ? res\n        : new Scalar(res);\n    node.range = coll.range;\n    node.tag = tagName;\n    if (tag?.format)\n        node.format = tag.format;\n    return node;\n}\n\nexport { composeCollection };\n","import { YAMLSeq } from '../nodes/YAMLSeq.js';\nimport { resolveProps } from './resolve-props.js';\nimport { flowIndentCheck } from './util-flow-indent-check.js';\n\nfunction resolveBlockSeq({ composeNode, composeEmptyNode }, ctx, bs, onError, tag) {\n    const NodeClass = tag?.nodeClass ?? YAMLSeq;\n    const seq = new NodeClass(ctx.schema);\n    if (ctx.atRoot)\n        ctx.atRoot = false;\n    let offset = bs.offset;\n    let commentEnd = null;\n    for (const { start, value } of bs.items) {\n        const props = resolveProps(start, {\n            indicator: 'seq-item-ind',\n            next: value,\n            offset,\n            onError,\n            startOnNewline: true\n        });\n        if (!props.found) {\n            if (props.anchor || props.tag || value) {\n                if (value && value.type === 'block-seq')\n                    onError(props.end, 'BAD_INDENT', 'All sequence items must start at the same column');\n                else\n                    onError(offset, 'MISSING_CHAR', 'Sequence item without - indicator');\n            }\n            else {\n                commentEnd = props.end;\n                if (props.comment)\n                    seq.comment = props.comment;\n                continue;\n            }\n        }\n        const node = value\n            ? composeNode(ctx, value, props, onError)\n            : composeEmptyNode(ctx, props.end, start, null, props, onError);\n        if (ctx.schema.compat)\n            flowIndentCheck(bs.indent, value, onError);\n        offset = node.range[2];\n        seq.items.push(node);\n    }\n    seq.range = [bs.offset, offset, commentEnd ?? offset];\n    return seq;\n}\n\nexport { resolveBlockSeq };\n","import { Scalar } from '../nodes/Scalar.js';\n\nfunction resolveBlockScalar(scalar, strict, onError) {\n    const start = scalar.offset;\n    const header = parseBlockScalarHeader(scalar, strict, onError);\n    if (!header)\n        return { value: '', type: null, comment: '', range: [start, start, start] };\n    const type = header.mode === '>' ? Scalar.BLOCK_FOLDED : Scalar.BLOCK_LITERAL;\n    const lines = scalar.source ? splitLines(scalar.source) : [];\n    // determine the end of content & start of chomping\n    let chompStart = lines.length;\n    for (let i = lines.length - 1; i >= 0; --i) {\n        const content = lines[i][1];\n        if (content === '' || content === '\\r')\n            chompStart = i;\n        else\n            break;\n    }\n    // shortcut for empty contents\n    if (chompStart === 0) {\n        const value = header.chomp === '+' && lines.length > 0\n            ? '\\n'.repeat(Math.max(1, lines.length - 1))\n            : '';\n        let end = start + header.length;\n        if (scalar.source)\n            end += scalar.source.length;\n        return { value, type, comment: header.comment, range: [start, end, end] };\n    }\n    // find the indentation level to trim from start\n    let trimIndent = scalar.indent + header.indent;\n    let offset = scalar.offset + header.length;\n    let contentStart = 0;\n    for (let i = 0; i < chompStart; ++i) {\n        const [indent, content] = lines[i];\n        if (content === '' || content === '\\r') {\n            if (header.indent === 0 && indent.length > trimIndent)\n                trimIndent = indent.length;\n        }\n        else {\n            if (indent.length < trimIndent) {\n                const message = 'Block scalars with more-indented leading empty lines must use an explicit indentation indicator';\n                onError(offset + indent.length, 'MISSING_CHAR', message);\n            }\n            if (header.indent === 0)\n                trimIndent = indent.length;\n            contentStart = i;\n            break;\n        }\n        offset += indent.length + content.length + 1;\n    }\n    // include trailing more-indented empty lines in content\n    for (let i = lines.length - 1; i >= chompStart; --i) {\n        if (lines[i][0].length > trimIndent)\n            chompStart = i + 1;\n    }\n    let value = '';\n    let sep = '';\n    let prevMoreIndented = false;\n    // leading whitespace is kept intact\n    for (let i = 0; i < contentStart; ++i)\n        value += lines[i][0].slice(trimIndent) + '\\n';\n    for (let i = contentStart; i < chompStart; ++i) {\n        let [indent, content] = lines[i];\n        offset += indent.length + content.length + 1;\n        const crlf = content[content.length - 1] === '\\r';\n        if (crlf)\n            content = content.slice(0, -1);\n        /* istanbul ignore if already caught in lexer */\n        if (content && indent.length < trimIndent) {\n            const src = header.indent\n                ? 'explicit indentation indicator'\n                : 'first line';\n            const message = `Block scalar lines must not be less indented than their ${src}`;\n            onError(offset - content.length - (crlf ? 2 : 1), 'BAD_INDENT', message);\n            indent = '';\n        }\n        if (type === Scalar.BLOCK_LITERAL) {\n            value += sep + indent.slice(trimIndent) + content;\n            sep = '\\n';\n        }\n        else if (indent.length > trimIndent || content[0] === '\\t') {\n            // more-indented content within a folded block\n            if (sep === ' ')\n                sep = '\\n';\n            else if (!prevMoreIndented && sep === '\\n')\n                sep = '\\n\\n';\n            value += sep + indent.slice(trimIndent) + content;\n            sep = '\\n';\n            prevMoreIndented = true;\n        }\n        else if (content === '') {\n            // empty line\n            if (sep === '\\n')\n                value += '\\n';\n            else\n                sep = '\\n';\n        }\n        else {\n            value += sep + content;\n            sep = ' ';\n            prevMoreIndented = false;\n        }\n    }\n    switch (header.chomp) {\n        case '-':\n            break;\n        case '+':\n            for (let i = chompStart; i < lines.length; ++i)\n                value += '\\n' + lines[i][0].slice(trimIndent);\n            if (value[value.length - 1] !== '\\n')\n                value += '\\n';\n            break;\n        default:\n            value += '\\n';\n    }\n    const end = start + header.length + scalar.source.length;\n    return { value, type, comment: header.comment, range: [start, end, end] };\n}\nfunction parseBlockScalarHeader({ offset, props }, strict, onError) {\n    /* istanbul ignore if should not happen */\n    if (props[0].type !== 'block-scalar-header') {\n        onError(props[0], 'IMPOSSIBLE', 'Block scalar header not found');\n        return null;\n    }\n    const { source } = props[0];\n    const mode = source[0];\n    let indent = 0;\n    let chomp = '';\n    let error = -1;\n    for (let i = 1; i < source.length; ++i) {\n        const ch = source[i];\n        if (!chomp && (ch === '-' || ch === '+'))\n            chomp = ch;\n        else {\n            const n = Number(ch);\n            if (!indent && n)\n                indent = n;\n            else if (error === -1)\n                error = offset + i;\n        }\n    }\n    if (error !== -1)\n        onError(error, 'UNEXPECTED_TOKEN', `Block scalar header includes extra characters: ${source}`);\n    let hasSpace = false;\n    let comment = '';\n    let length = source.length;\n    for (let i = 1; i < props.length; ++i) {\n        const token = props[i];\n        switch (token.type) {\n            case 'space':\n                hasSpace = true;\n            // fallthrough\n            case 'newline':\n                length += token.source.length;\n                break;\n            case 'comment':\n                if (strict && !hasSpace) {\n                    const message = 'Comments must be separated from other tokens by white space characters';\n                    onError(token, 'MISSING_CHAR', message);\n                }\n                length += token.source.length;\n                comment = token.source.substring(1);\n                break;\n            case 'error':\n                onError(token, 'UNEXPECTED_TOKEN', token.message);\n                length += token.source.length;\n                break;\n            /* istanbul ignore next should not happen */\n            default: {\n                const message = `Unexpected token in block scalar header: ${token.type}`;\n                onError(token, 'UNEXPECTED_TOKEN', message);\n                const ts = token.source;\n                if (ts && typeof ts === 'string')\n                    length += ts.length;\n            }\n        }\n    }\n    return { mode, indent, chomp, comment, length };\n}\n/** @returns Array of lines split up as `[indent, content]` */\nfunction splitLines(source) {\n    const split = source.split(/\\n( *)/);\n    const first = split[0];\n    const m = first.match(/^( *)/);\n    const line0 = m?.[1]\n        ? [m[1], first.slice(m[1].length)]\n        : ['', first];\n    const lines = [line0];\n    for (let i = 1; i < split.length; i += 2)\n        lines.push([split[i], split[i + 1]]);\n    return lines;\n}\n\nexport { resolveBlockScalar };\n","import { Scalar } from '../nodes/Scalar.js';\nimport { resolveEnd } from './resolve-end.js';\n\nfunction resolveFlowScalar(scalar, strict, onError) {\n    const { offset, type, source, end } = scalar;\n    let _type;\n    let value;\n    const _onError = (rel, code, msg) => onError(offset + rel, code, msg);\n    switch (type) {\n        case 'scalar':\n            _type = Scalar.PLAIN;\n            value = plainValue(source, _onError);\n            break;\n        case 'single-quoted-scalar':\n            _type = Scalar.QUOTE_SINGLE;\n            value = singleQuotedValue(source, _onError);\n            break;\n        case 'double-quoted-scalar':\n            _type = Scalar.QUOTE_DOUBLE;\n            value = doubleQuotedValue(source, _onError);\n            break;\n        /* istanbul ignore next should not happen */\n        default:\n            onError(scalar, 'UNEXPECTED_TOKEN', `Expected a flow scalar value, but found: ${type}`);\n            return {\n                value: '',\n                type: null,\n                comment: '',\n                range: [offset, offset + source.length, offset + source.length]\n            };\n    }\n    const valueEnd = offset + source.length;\n    const re = resolveEnd(end, valueEnd, strict, onError);\n    return {\n        value,\n        type: _type,\n        comment: re.comment,\n        range: [offset, valueEnd, re.offset]\n    };\n}\nfunction plainValue(source, onError) {\n    let badChar = '';\n    switch (source[0]) {\n        /* istanbul ignore next should not happen */\n        case '\\t':\n            badChar = 'a tab character';\n            break;\n        case ',':\n            badChar = 'flow indicator character ,';\n            break;\n        case '%':\n            badChar = 'directive indicator character %';\n            break;\n        case '|':\n        case '>': {\n            badChar = `block scalar indicator ${source[0]}`;\n            break;\n        }\n        case '@':\n        case '`': {\n            badChar = `reserved character ${source[0]}`;\n            break;\n        }\n    }\n    if (badChar)\n        onError(0, 'BAD_SCALAR_START', `Plain value cannot start with ${badChar}`);\n    return foldLines(source);\n}\nfunction singleQuotedValue(source, onError) {\n    if (source[source.length - 1] !== \"'\" || source.length === 1)\n        onError(source.length, 'MISSING_CHAR', \"Missing closing 'quote\");\n    return foldLines(source.slice(1, -1)).replace(/''/g, \"'\");\n}\nfunction foldLines(source) {\n    /**\n     * The negative lookbehind here and in the `re` RegExp is to\n     * prevent causing a polynomial search time in certain cases.\n     *\n     * The try-catch is for Safari, which doesn't support this yet:\n     * https://caniuse.com/js-regexp-lookbehind\n     */\n    let first, line;\n    try {\n        first = new RegExp('(.*?)(?<![ \\t])[ \\t]*\\r?\\n', 'sy');\n        line = new RegExp('[ \\t]*(.*?)(?:(?<![ \\t])[ \\t]*)?\\r?\\n', 'sy');\n    }\n    catch (_) {\n        first = /(.*?)[ \\t]*\\r?\\n/sy;\n        line = /[ \\t]*(.*?)[ \\t]*\\r?\\n/sy;\n    }\n    let match = first.exec(source);\n    if (!match)\n        return source;\n    let res = match[1];\n    let sep = ' ';\n    let pos = first.lastIndex;\n    line.lastIndex = pos;\n    while ((match = line.exec(source))) {\n        if (match[1] === '') {\n            if (sep === '\\n')\n                res += sep;\n            else\n                sep = '\\n';\n        }\n        else {\n            res += sep + match[1];\n            sep = ' ';\n        }\n        pos = line.lastIndex;\n    }\n    const last = /[ \\t]*(.*)/sy;\n    last.lastIndex = pos;\n    match = last.exec(source);\n    return res + sep + (match?.[1] ?? '');\n}\nfunction doubleQuotedValue(source, onError) {\n    let res = '';\n    for (let i = 1; i < source.length - 1; ++i) {\n        const ch = source[i];\n        if (ch === '\\r' && source[i + 1] === '\\n')\n            continue;\n        if (ch === '\\n') {\n            const { fold, offset } = foldNewline(source, i);\n            res += fold;\n            i = offset;\n        }\n        else if (ch === '\\\\') {\n            let next = source[++i];\n            const cc = escapeCodes[next];\n            if (cc)\n                res += cc;\n            else if (next === '\\n') {\n                // skip escaped newlines, but still trim the following line\n                next = source[i + 1];\n                while (next === ' ' || next === '\\t')\n                    next = source[++i + 1];\n            }\n            else if (next === '\\r' && source[i + 1] === '\\n') {\n                // skip escaped CRLF newlines, but still trim the following line\n                next = source[++i + 1];\n                while (next === ' ' || next === '\\t')\n                    next = source[++i + 1];\n            }\n            else if (next === 'x' || next === 'u' || next === 'U') {\n                const length = { x: 2, u: 4, U: 8 }[next];\n                res += parseCharCode(source, i + 1, length, onError);\n                i += length;\n            }\n            else {\n                const raw = source.substr(i - 1, 2);\n                onError(i - 1, 'BAD_DQ_ESCAPE', `Invalid escape sequence ${raw}`);\n                res += raw;\n            }\n        }\n        else if (ch === ' ' || ch === '\\t') {\n            // trim trailing whitespace\n            const wsStart = i;\n            let next = source[i + 1];\n            while (next === ' ' || next === '\\t')\n                next = source[++i + 1];\n            if (next !== '\\n' && !(next === '\\r' && source[i + 2] === '\\n'))\n                res += i > wsStart ? source.slice(wsStart, i + 1) : ch;\n        }\n        else {\n            res += ch;\n        }\n    }\n    if (source[source.length - 1] !== '\"' || source.length === 1)\n        onError(source.length, 'MISSING_CHAR', 'Missing closing \"quote');\n    return res;\n}\n/**\n * Fold a single newline into a space, multiple newlines to N - 1 newlines.\n * Presumes `source[offset] === '\\n'`\n */\nfunction foldNewline(source, offset) {\n    let fold = '';\n    let ch = source[offset + 1];\n    while (ch === ' ' || ch === '\\t' || ch === '\\n' || ch === '\\r') {\n        if (ch === '\\r' && source[offset + 2] !== '\\n')\n            break;\n        if (ch === '\\n')\n            fold += '\\n';\n        offset += 1;\n        ch = source[offset + 1];\n    }\n    if (!fold)\n        fold = ' ';\n    return { fold, offset };\n}\nconst escapeCodes = {\n    '0': '\\0',\n    a: '\\x07',\n    b: '\\b',\n    e: '\\x1b',\n    f: '\\f',\n    n: '\\n',\n    r: '\\r',\n    t: '\\t',\n    v: '\\v',\n    N: '\\u0085',\n    _: '\\u00a0',\n    L: '\\u2028',\n    P: '\\u2029',\n    ' ': ' ',\n    '\"': '\"',\n    '/': '/',\n    '\\\\': '\\\\',\n    '\\t': '\\t'\n};\nfunction parseCharCode(source, offset, length, onError) {\n    const cc = source.substr(offset, length);\n    const ok = cc.length === length && /^[0-9a-fA-F]+$/.test(cc);\n    const code = ok ? parseInt(cc, 16) : NaN;\n    if (isNaN(code)) {\n        const raw = source.substr(offset - 2, length + 2);\n        onError(offset - 2, 'BAD_DQ_ESCAPE', `Invalid escape sequence ${raw}`);\n        return raw;\n    }\n    return String.fromCodePoint(code);\n}\n\nexport { resolveFlowScalar };\n","import { SCALAR, isScalar } from '../nodes/identity.js';\nimport { Scalar } from '../nodes/Scalar.js';\nimport { resolveBlockScalar } from './resolve-block-scalar.js';\nimport { resolveFlowScalar } from './resolve-flow-scalar.js';\n\nfunction composeScalar(ctx, token, tagToken, onError) {\n    const { value, type, comment, range } = token.type === 'block-scalar'\n        ? resolveBlockScalar(token, ctx.options.strict, onError)\n        : resolveFlowScalar(token, ctx.options.strict, onError);\n    const tagName = tagToken\n        ? ctx.directives.tagName(tagToken.source, msg => onError(tagToken, 'TAG_RESOLVE_FAILED', msg))\n        : null;\n    const tag = tagToken && tagName\n        ? findScalarTagByName(ctx.schema, value, tagName, tagToken, onError)\n        : token.type === 'scalar'\n            ? findScalarTagByTest(ctx, value, token, onError)\n            : ctx.schema[SCALAR];\n    let scalar;\n    try {\n        const res = tag.resolve(value, msg => onError(tagToken ?? token, 'TAG_RESOLVE_FAILED', msg), ctx.options);\n        scalar = isScalar(res) ? res : new Scalar(res);\n    }\n    catch (error) {\n        const msg = error instanceof Error ? error.message : String(error);\n        onError(tagToken ?? token, 'TAG_RESOLVE_FAILED', msg);\n        scalar = new Scalar(value);\n    }\n    scalar.range = range;\n    scalar.source = value;\n    if (type)\n        scalar.type = type;\n    if (tagName)\n        scalar.tag = tagName;\n    if (tag.format)\n        scalar.format = tag.format;\n    if (comment)\n        scalar.comment = comment;\n    return scalar;\n}\nfunction findScalarTagByName(schema, value, tagName, tagToken, onError) {\n    if (tagName === '!')\n        return schema[SCALAR]; // non-specific tag\n    const matchWithTest = [];\n    for (const tag of schema.tags) {\n        if (!tag.collection && tag.tag === tagName) {\n            if (tag.default && tag.test)\n                matchWithTest.push(tag);\n            else\n                return tag;\n        }\n    }\n    for (const tag of matchWithTest)\n        if (tag.test?.test(value))\n            return tag;\n    const kt = schema.knownTags[tagName];\n    if (kt && !kt.collection) {\n        // Ensure that the known tag is available for stringifying,\n        // but does not get used by default.\n        schema.tags.push(Object.assign({}, kt, { default: false, test: undefined }));\n        return kt;\n    }\n    onError(tagToken, 'TAG_RESOLVE_FAILED', `Unresolved tag: ${tagName}`, tagName !== 'tag:yaml.org,2002:str');\n    return schema[SCALAR];\n}\nfunction findScalarTagByTest({ directives, schema }, value, token, onError) {\n    const tag = schema.tags.find(tag => tag.default && tag.test?.test(value)) || schema[SCALAR];\n    if (schema.compat) {\n        const compat = schema.compat.find(tag => tag.default && tag.test?.test(value)) ??\n            schema[SCALAR];\n        if (tag.tag !== compat.tag) {\n            const ts = directives.tagString(tag.tag);\n            const cs = directives.tagString(compat.tag);\n            const msg = `Value may be parsed as either ${ts} or ${cs}`;\n            onError(token, 'TAG_RESOLVE_FAILED', msg, true);\n        }\n    }\n    return tag;\n}\n\nexport { composeScalar };\n","function emptyScalarPosition(offset, before, pos) {\n    if (before) {\n        if (pos === null)\n            pos = before.length;\n        for (let i = pos - 1; i >= 0; --i) {\n            let st = before[i];\n            switch (st.type) {\n                case 'space':\n                case 'comment':\n                case 'newline':\n                    offset -= st.source.length;\n                    continue;\n            }\n            // Technically, an empty scalar is immediately after the last non-empty\n            // node, but it's more useful to place it after any whitespace.\n            st = before[++i];\n            while (st?.type === 'space') {\n                offset += st.source.length;\n                st = before[++i];\n            }\n            break;\n        }\n    }\n    return offset;\n}\n\nexport { emptyScalarPosition };\n","import { Alias } from '../nodes/Alias.js';\nimport { composeCollection } from './compose-collection.js';\nimport { composeScalar } from './compose-scalar.js';\nimport { resolveEnd } from './resolve-end.js';\nimport { emptyScalarPosition } from './util-empty-scalar-position.js';\n\nconst CN = { composeNode, composeEmptyNode };\nfunction composeNode(ctx, token, props, onError) {\n    const { spaceBefore, comment, anchor, tag } = props;\n    let node;\n    let isSrcToken = true;\n    switch (token.type) {\n        case 'alias':\n            node = composeAlias(ctx, token, onError);\n            if (anchor || tag)\n                onError(token, 'ALIAS_PROPS', 'An alias node must not specify any properties');\n            break;\n        case 'scalar':\n        case 'single-quoted-scalar':\n        case 'double-quoted-scalar':\n        case 'block-scalar':\n            node = composeScalar(ctx, token, tag, onError);\n            if (anchor)\n                node.anchor = anchor.source.substring(1);\n            break;\n        case 'block-map':\n        case 'block-seq':\n        case 'flow-collection':\n            node = composeCollection(CN, ctx, token, tag, onError);\n            if (anchor)\n                node.anchor = anchor.source.substring(1);\n            break;\n        default: {\n            const message = token.type === 'error'\n                ? token.message\n                : `Unsupported token (type: ${token.type})`;\n            onError(token, 'UNEXPECTED_TOKEN', message);\n            node = composeEmptyNode(ctx, token.offset, undefined, null, props, onError);\n            isSrcToken = false;\n        }\n    }\n    if (anchor && node.anchor === '')\n        onError(anchor, 'BAD_ALIAS', 'Anchor cannot be an empty string');\n    if (spaceBefore)\n        node.spaceBefore = true;\n    if (comment) {\n        if (token.type === 'scalar' && token.source === '')\n            node.comment = comment;\n        else\n            node.commentBefore = comment;\n    }\n    // @ts-expect-error Type checking misses meaning of isSrcToken\n    if (ctx.options.keepSourceTokens && isSrcToken)\n        node.srcToken = token;\n    return node;\n}\nfunction composeEmptyNode(ctx, offset, before, pos, { spaceBefore, comment, anchor, tag, end }, onError) {\n    const token = {\n        type: 'scalar',\n        offset: emptyScalarPosition(offset, before, pos),\n        indent: -1,\n        source: ''\n    };\n    const node = composeScalar(ctx, token, tag, onError);\n    if (anchor) {\n        node.anchor = anchor.source.substring(1);\n        if (node.anchor === '')\n            onError(anchor, 'BAD_ALIAS', 'Anchor cannot be an empty string');\n    }\n    if (spaceBefore)\n        node.spaceBefore = true;\n    if (comment) {\n        node.comment = comment;\n        node.range[2] = end;\n    }\n    return node;\n}\nfunction composeAlias({ options }, { offset, source, end }, onError) {\n    const alias = new Alias(source.substring(1));\n    if (alias.source === '')\n        onError(offset, 'BAD_ALIAS', 'Alias cannot be an empty string');\n    if (alias.source.endsWith(':'))\n        onError(offset + source.length - 1, 'BAD_ALIAS', 'Alias ending in : is ambiguous', true);\n    const valueEnd = offset + source.length;\n    const re = resolveEnd(end, valueEnd, options.strict, onError);\n    alias.range = [offset, valueEnd, re.offset];\n    if (re.comment)\n        alias.comment = re.comment;\n    return alias;\n}\n\nexport { composeEmptyNode, composeNode };\n","import { Document } from '../doc/Document.js';\nimport { composeNode, composeEmptyNode } from './compose-node.js';\nimport { resolveEnd } from './resolve-end.js';\nimport { resolveProps } from './resolve-props.js';\n\nfunction composeDoc(options, directives, { offset, start, value, end }, onError) {\n    const opts = Object.assign({ _directives: directives }, options);\n    const doc = new Document(undefined, opts);\n    const ctx = {\n        atRoot: true,\n        directives: doc.directives,\n        options: doc.options,\n        schema: doc.schema\n    };\n    const props = resolveProps(start, {\n        indicator: 'doc-start',\n        next: value ?? end?.[0],\n        offset,\n        onError,\n        startOnNewline: true\n    });\n    if (props.found) {\n        doc.directives.docStart = true;\n        if (value &&\n            (value.type === 'block-map' || value.type === 'block-seq') &&\n            !props.hasNewline)\n            onError(props.end, 'MISSING_CHAR', 'Block collection cannot start on same line with directives-end marker');\n    }\n    // @ts-expect-error If Contents is set, let's trust the user\n    doc.contents = value\n        ? composeNode(ctx, value, props, onError)\n        : composeEmptyNode(ctx, props.end, start, null, props, onError);\n    const contentEnd = doc.contents.range[2];\n    const re = resolveEnd(end, contentEnd, false, onError);\n    if (re.comment)\n        doc.comment = re.comment;\n    doc.range = [offset, contentEnd, re.offset];\n    return doc;\n}\n\nexport { composeDoc };\n","import { Directives } from '../doc/directives.js';\nimport { Document } from '../doc/Document.js';\nimport { YAMLWarning, YAMLParseError } from '../errors.js';\nimport { isCollection, isPair } from '../nodes/identity.js';\nimport { composeDoc } from './compose-doc.js';\nimport { resolveEnd } from './resolve-end.js';\n\nfunction getErrorPos(src) {\n    if (typeof src === 'number')\n        return [src, src + 1];\n    if (Array.isArray(src))\n        return src.length === 2 ? src : [src[0], src[1]];\n    const { offset, source } = src;\n    return [offset, offset + (typeof source === 'string' ? source.length : 1)];\n}\nfunction parsePrelude(prelude) {\n    let comment = '';\n    let atComment = false;\n    let afterEmptyLine = false;\n    for (let i = 0; i < prelude.length; ++i) {\n        const source = prelude[i];\n        switch (source[0]) {\n            case '#':\n                comment +=\n                    (comment === '' ? '' : afterEmptyLine ? '\\n\\n' : '\\n') +\n                        (source.substring(1) || ' ');\n                atComment = true;\n                afterEmptyLine = false;\n                break;\n            case '%':\n                if (prelude[i + 1]?.[0] !== '#')\n                    i += 1;\n                atComment = false;\n                break;\n            default:\n                // This may be wrong after doc-end, but in that case it doesn't matter\n                if (!atComment)\n                    afterEmptyLine = true;\n                atComment = false;\n        }\n    }\n    return { comment, afterEmptyLine };\n}\n/**\n * Compose a stream of CST nodes into a stream of YAML Documents.\n *\n * ```ts\n * import { Composer, Parser } from 'yaml'\n *\n * const src: string = ...\n * const tokens = new Parser().parse(src)\n * const docs = new Composer().compose(tokens)\n * ```\n */\nclass Composer {\n    constructor(options = {}) {\n        this.doc = null;\n        this.atDirectives = false;\n        this.prelude = [];\n        this.errors = [];\n        this.warnings = [];\n        this.onError = (source, code, message, warning) => {\n            const pos = getErrorPos(source);\n            if (warning)\n                this.warnings.push(new YAMLWarning(pos, code, message));\n            else\n                this.errors.push(new YAMLParseError(pos, code, message));\n        };\n        // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n        this.directives = new Directives({ version: options.version || '1.2' });\n        this.options = options;\n    }\n    decorate(doc, afterDoc) {\n        const { comment, afterEmptyLine } = parsePrelude(this.prelude);\n        //console.log({ dc: doc.comment, prelude, comment })\n        if (comment) {\n            const dc = doc.contents;\n            if (afterDoc) {\n                doc.comment = doc.comment ? `${doc.comment}\\n${comment}` : comment;\n            }\n            else if (afterEmptyLine || doc.directives.docStart || !dc) {\n                doc.commentBefore = comment;\n            }\n            else if (isCollection(dc) && !dc.flow && dc.items.length > 0) {\n                let it = dc.items[0];\n                if (isPair(it))\n                    it = it.key;\n                const cb = it.commentBefore;\n                it.commentBefore = cb ? `${comment}\\n${cb}` : comment;\n            }\n            else {\n                const cb = dc.commentBefore;\n                dc.commentBefore = cb ? `${comment}\\n${cb}` : comment;\n            }\n        }\n        if (afterDoc) {\n            Array.prototype.push.apply(doc.errors, this.errors);\n            Array.prototype.push.apply(doc.warnings, this.warnings);\n        }\n        else {\n            doc.errors = this.errors;\n            doc.warnings = this.warnings;\n        }\n        this.prelude = [];\n        this.errors = [];\n        this.warnings = [];\n    }\n    /**\n     * Current stream status information.\n     *\n     * Mostly useful at the end of input for an empty stream.\n     */\n    streamInfo() {\n        return {\n            comment: parsePrelude(this.prelude).comment,\n            directives: this.directives,\n            errors: this.errors,\n            warnings: this.warnings\n        };\n    }\n    /**\n     * Compose tokens into documents.\n     *\n     * @param forceDoc - If the stream contains no document, still emit a final document including any comments and directives that would be applied to a subsequent document.\n     * @param endOffset - Should be set if `forceDoc` is also set, to set the document range end and to indicate errors correctly.\n     */\n    *compose(tokens, forceDoc = false, endOffset = -1) {\n        for (const token of tokens)\n            yield* this.next(token);\n        yield* this.end(forceDoc, endOffset);\n    }\n    /** Advance the composer by one CST token. */\n    *next(token) {\n        switch (token.type) {\n            case 'directive':\n                this.directives.add(token.source, (offset, message, warning) => {\n                    const pos = getErrorPos(token);\n                    pos[0] += offset;\n                    this.onError(pos, 'BAD_DIRECTIVE', message, warning);\n                });\n                this.prelude.push(token.source);\n                this.atDirectives = true;\n                break;\n            case 'document': {\n                const doc = composeDoc(this.options, this.directives, token, this.onError);\n                if (this.atDirectives && !doc.directives.docStart)\n                    this.onError(token, 'MISSING_CHAR', 'Missing directives-end/doc-start indicator line');\n                this.decorate(doc, false);\n                if (this.doc)\n                    yield this.doc;\n                this.doc = doc;\n                this.atDirectives = false;\n                break;\n            }\n            case 'byte-order-mark':\n            case 'space':\n                break;\n            case 'comment':\n            case 'newline':\n                this.prelude.push(token.source);\n                break;\n            case 'error': {\n                const msg = token.source\n                    ? `${token.message}: ${JSON.stringify(token.source)}`\n                    : token.message;\n                const error = new YAMLParseError(getErrorPos(token), 'UNEXPECTED_TOKEN', msg);\n                if (this.atDirectives || !this.doc)\n                    this.errors.push(error);\n                else\n                    this.doc.errors.push(error);\n                break;\n            }\n            case 'doc-end': {\n                if (!this.doc) {\n                    const msg = 'Unexpected doc-end without preceding document';\n                    this.errors.push(new YAMLParseError(getErrorPos(token), 'UNEXPECTED_TOKEN', msg));\n                    break;\n                }\n                this.doc.directives.docEnd = true;\n                const end = resolveEnd(token.end, token.offset + token.source.length, this.doc.options.strict, this.onError);\n                this.decorate(this.doc, true);\n                if (end.comment) {\n                    const dc = this.doc.comment;\n                    this.doc.comment = dc ? `${dc}\\n${end.comment}` : end.comment;\n                }\n                this.doc.range[2] = end.offset;\n                break;\n            }\n            default:\n                this.errors.push(new YAMLParseError(getErrorPos(token), 'UNEXPECTED_TOKEN', `Unsupported token ${token.type}`));\n        }\n    }\n    /**\n     * Call at end of input to yield any remaining document.\n     *\n     * @param forceDoc - If the stream contains no document, still emit a final document including any comments and directives that would be applied to a subsequent document.\n     * @param endOffset - Should be set if `forceDoc` is also set, to set the document range end and to indicate errors correctly.\n     */\n    *end(forceDoc = false, endOffset = -1) {\n        if (this.doc) {\n            this.decorate(this.doc, true);\n            yield this.doc;\n            this.doc = null;\n        }\n        else if (forceDoc) {\n            const opts = Object.assign({ _directives: this.directives }, this.options);\n            const doc = new Document(undefined, opts);\n            if (this.atDirectives)\n                this.onError(endOffset, 'MISSING_CHAR', 'Missing directives-end indicator line');\n            doc.range = [0, endOffset, endOffset];\n            this.decorate(doc, false);\n            yield doc;\n        }\n    }\n}\n\nexport { Composer };\n","/**\n * Stringify a CST document, token, or collection item\n *\n * Fair warning: This applies no validation whatsoever, and\n * simply concatenates the sources in their logical order.\n */\nconst stringify = (cst) => 'type' in cst ? stringifyToken(cst) : stringifyItem(cst);\nfunction stringifyToken(token) {\n    switch (token.type) {\n        case 'block-scalar': {\n            let res = '';\n            for (const tok of token.props)\n                res += stringifyToken(tok);\n            return res + token.source;\n        }\n        case 'block-map':\n        case 'block-seq': {\n            let res = '';\n            for (const item of token.items)\n                res += stringifyItem(item);\n            return res;\n        }\n        case 'flow-collection': {\n            let res = token.start.source;\n            for (const item of token.items)\n                res += stringifyItem(item);\n            for (const st of token.end)\n                res += st.source;\n            return res;\n        }\n        case 'document': {\n            let res = stringifyItem(token);\n            if (token.end)\n                for (const st of token.end)\n                    res += st.source;\n            return res;\n        }\n        default: {\n            let res = token.source;\n            if ('end' in token && token.end)\n                for (const st of token.end)\n                    res += st.source;\n            return res;\n        }\n    }\n}\nfunction stringifyItem({ start, key, sep, value }) {\n    let res = '';\n    for (const st of start)\n        res += st.source;\n    if (key)\n        res += stringifyToken(key);\n    if (sep)\n        for (const st of sep)\n            res += st.source;\n    if (value)\n        res += stringifyToken(value);\n    return res;\n}\n\nexport { stringify };\n","const BREAK = Symbol('break visit');\nconst SKIP = Symbol('skip children');\nconst REMOVE = Symbol('remove item');\n/**\n * Apply a visitor to a CST document or item.\n *\n * Walks through the tree (depth-first) starting from the root, calling a\n * `visitor` function with two arguments when entering each item:\n *   - `item`: The current item, which included the following members:\n *     - `start: SourceToken[]`  Source tokens before the key or value,\n *       possibly including its anchor or tag.\n *     - `key?: Token | null`  Set for pair values. May then be `null`, if\n *       the key before the `:` separator is empty.\n *     - `sep?: SourceToken[]`  Source tokens between the key and the value,\n *       which should include the `:` map value indicator if `value` is set.\n *     - `value?: Token`  The value of a sequence item, or of a map pair.\n *   - `path`: The steps from the root to the current node, as an array of\n *     `['key' | 'value', number]` tuples.\n *\n * The return value of the visitor may be used to control the traversal:\n *   - `undefined` (default): Do nothing and continue\n *   - `visit.SKIP`: Do not visit the children of this token, continue with\n *      next sibling\n *   - `visit.BREAK`: Terminate traversal completely\n *   - `visit.REMOVE`: Remove the current item, then continue with the next one\n *   - `number`: Set the index of the next step. This is useful especially if\n *     the index of the current token has changed.\n *   - `function`: Define the next visitor for this item. After the original\n *     visitor is called on item entry, next visitors are called after handling\n *     a non-empty `key` and when exiting the item.\n */\nfunction visit(cst, visitor) {\n    if ('type' in cst && cst.type === 'document')\n        cst = { start: cst.start, value: cst.value };\n    _visit(Object.freeze([]), cst, visitor);\n}\n// Without the `as symbol` casts, TS declares these in the `visit`\n// namespace using `var`, but then complains about that because\n// `unique symbol` must be `const`.\n/** Terminate visit traversal completely */\nvisit.BREAK = BREAK;\n/** Do not visit the children of the current item */\nvisit.SKIP = SKIP;\n/** Remove the current item */\nvisit.REMOVE = REMOVE;\n/** Find the item at `path` from `cst` as the root */\nvisit.itemAtPath = (cst, path) => {\n    let item = cst;\n    for (const [field, index] of path) {\n        const tok = item?.[field];\n        if (tok && 'items' in tok) {\n            item = tok.items[index];\n        }\n        else\n            return undefined;\n    }\n    return item;\n};\n/**\n * Get the immediate parent collection of the item at `path` from `cst` as the root.\n *\n * Throws an error if the collection is not found, which should never happen if the item itself exists.\n */\nvisit.parentCollection = (cst, path) => {\n    const parent = visit.itemAtPath(cst, path.slice(0, -1));\n    const field = path[path.length - 1][0];\n    const coll = parent?.[field];\n    if (coll && 'items' in coll)\n        return coll;\n    throw new Error('Parent collection not found');\n};\nfunction _visit(path, item, visitor) {\n    let ctrl = visitor(item, path);\n    if (typeof ctrl === 'symbol')\n        return ctrl;\n    for (const field of ['key', 'value']) {\n        const token = item[field];\n        if (token && 'items' in token) {\n            for (let i = 0; i < token.items.length; ++i) {\n                const ci = _visit(Object.freeze(path.concat([[field, i]])), token.items[i], visitor);\n                if (typeof ci === 'number')\n                    i = ci - 1;\n                else if (ci === BREAK)\n                    return BREAK;\n                else if (ci === REMOVE) {\n                    token.items.splice(i, 1);\n                    i -= 1;\n                }\n            }\n            if (typeof ctrl === 'function' && field === 'key')\n                ctrl = ctrl(item, path);\n        }\n    }\n    return typeof ctrl === 'function' ? ctrl(item, path) : ctrl;\n}\n\nexport { visit };\n","export { createScalarToken, resolveAsScalar, setScalarValue } from './cst-scalar.js';\nexport { stringify } from './cst-stringify.js';\nexport { visit } from './cst-visit.js';\n\n/** The byte order mark */\nconst BOM = '\\u{FEFF}';\n/** Start of doc-mode */\nconst DOCUMENT = '\\x02'; // C0: Start of Text\n/** Unexpected end of flow-mode */\nconst FLOW_END = '\\x18'; // C0: Cancel\n/** Next token is a scalar value */\nconst SCALAR = '\\x1f'; // C0: Unit Separator\n/** @returns `true` if `token` is a flow or block collection */\nconst isCollection = (token) => !!token && 'items' in token;\n/** @returns `true` if `token` is a flow or block scalar; not an alias */\nconst isScalar = (token) => !!token &&\n    (token.type === 'scalar' ||\n        token.type === 'single-quoted-scalar' ||\n        token.type === 'double-quoted-scalar' ||\n        token.type === 'block-scalar');\n/* istanbul ignore next */\n/** Get a printable representation of a lexer token */\nfunction prettyToken(token) {\n    switch (token) {\n        case BOM:\n            return '<BOM>';\n        case DOCUMENT:\n            return '<DOC>';\n        case FLOW_END:\n            return '<FLOW_END>';\n        case SCALAR:\n            return '<SCALAR>';\n        default:\n            return JSON.stringify(token);\n    }\n}\n/** Identify the type of a lexer token. May return `null` for unknown tokens. */\nfunction tokenType(source) {\n    switch (source) {\n        case BOM:\n            return 'byte-order-mark';\n        case DOCUMENT:\n            return 'doc-mode';\n        case FLOW_END:\n            return 'flow-error-end';\n        case SCALAR:\n            return 'scalar';\n        case '---':\n            return 'doc-start';\n        case '...':\n            return 'doc-end';\n        case '':\n        case '\\n':\n        case '\\r\\n':\n            return 'newline';\n        case '-':\n            return 'seq-item-ind';\n        case '?':\n            return 'explicit-key-ind';\n        case ':':\n            return 'map-value-ind';\n        case '{':\n            return 'flow-map-start';\n        case '}':\n            return 'flow-map-end';\n        case '[':\n            return 'flow-seq-start';\n        case ']':\n            return 'flow-seq-end';\n        case ',':\n            return 'comma';\n    }\n    switch (source[0]) {\n        case ' ':\n        case '\\t':\n            return 'space';\n        case '#':\n            return 'comment';\n        case '%':\n            return 'directive-line';\n        case '*':\n            return 'alias';\n        case '&':\n            return 'anchor';\n        case '!':\n            return 'tag';\n        case \"'\":\n            return 'single-quoted-scalar';\n        case '\"':\n            return 'double-quoted-scalar';\n        case '|':\n        case '>':\n            return 'block-scalar-header';\n    }\n    return null;\n}\n\nexport { BOM, DOCUMENT, FLOW_END, SCALAR, isCollection, isScalar, prettyToken, tokenType };\n","import { BOM, DOCUMENT, FLOW_END, SCALAR } from './cst.js';\n\n/*\nSTART -> stream\n\nstream\n  directive -> line-end -> stream\n  indent + line-end -> stream\n  [else] -> line-start\n\nline-end\n  comment -> line-end\n  newline -> .\n  input-end -> END\n\nline-start\n  doc-start -> doc\n  doc-end -> stream\n  [else] -> indent -> block-start\n\nblock-start\n  seq-item-start -> block-start\n  explicit-key-start -> block-start\n  map-value-start -> block-start\n  [else] -> doc\n\ndoc\n  line-end -> line-start\n  spaces -> doc\n  anchor -> doc\n  tag -> doc\n  flow-start -> flow -> doc\n  flow-end -> error -> doc\n  seq-item-start -> error -> doc\n  explicit-key-start -> error -> doc\n  map-value-start -> doc\n  alias -> doc\n  quote-start -> quoted-scalar -> doc\n  block-scalar-header -> line-end -> block-scalar(min) -> line-start\n  [else] -> plain-scalar(false, min) -> doc\n\nflow\n  line-end -> flow\n  spaces -> flow\n  anchor -> flow\n  tag -> flow\n  flow-start -> flow -> flow\n  flow-end -> .\n  seq-item-start -> error -> flow\n  explicit-key-start -> flow\n  map-value-start -> flow\n  alias -> flow\n  quote-start -> quoted-scalar -> flow\n  comma -> flow\n  [else] -> plain-scalar(true, 0) -> flow\n\nquoted-scalar\n  quote-end -> .\n  [else] -> quoted-scalar\n\nblock-scalar(min)\n  newline + peek(indent < min) -> .\n  [else] -> block-scalar(min)\n\nplain-scalar(is-flow, min)\n  scalar-end(is-flow) -> .\n  peek(newline + (indent < min)) -> .\n  [else] -> plain-scalar(min)\n*/\nfunction isEmpty(ch) {\n    switch (ch) {\n        case undefined:\n        case ' ':\n        case '\\n':\n        case '\\r':\n        case '\\t':\n            return true;\n        default:\n            return false;\n    }\n}\nconst hexDigits = '0123456789ABCDEFabcdef'.split('');\nconst tagChars = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()\".split('');\nconst invalidFlowScalarChars = ',[]{}'.split('');\nconst invalidAnchorChars = ' ,[]{}\\n\\r\\t'.split('');\nconst isNotAnchorChar = (ch) => !ch || invalidAnchorChars.includes(ch);\n/**\n * Splits an input string into lexical tokens, i.e. smaller strings that are\n * easily identifiable by `tokens.tokenType()`.\n *\n * Lexing starts always in a \"stream\" context. Incomplete input may be buffered\n * until a complete token can be emitted.\n *\n * In addition to slices of the original input, the following control characters\n * may also be emitted:\n *\n * - `\\x02` (Start of Text): A document starts with the next token\n * - `\\x18` (Cancel): Unexpected end of flow-mode (indicates an error)\n * - `\\x1f` (Unit Separator): Next token is a scalar value\n * - `\\u{FEFF}` (Byte order mark): Emitted separately outside documents\n */\nclass Lexer {\n    constructor() {\n        /**\n         * Flag indicating whether the end of the current buffer marks the end of\n         * all input\n         */\n        this.atEnd = false;\n        /**\n         * Explicit indent set in block scalar header, as an offset from the current\n         * minimum indent, so e.g. set to 1 from a header `|2+`. Set to -1 if not\n         * explicitly set.\n         */\n        this.blockScalarIndent = -1;\n        /**\n         * Block scalars that include a + (keep) chomping indicator in their header\n         * include trailing empty lines, which are otherwise excluded from the\n         * scalar's contents.\n         */\n        this.blockScalarKeep = false;\n        /** Current input */\n        this.buffer = '';\n        /**\n         * Flag noting whether the map value indicator : can immediately follow this\n         * node within a flow context.\n         */\n        this.flowKey = false;\n        /** Count of surrounding flow collection levels. */\n        this.flowLevel = 0;\n        /**\n         * Minimum level of indentation required for next lines to be parsed as a\n         * part of the current scalar value.\n         */\n        this.indentNext = 0;\n        /** Indentation level of the current line. */\n        this.indentValue = 0;\n        /** Position of the next \\n character. */\n        this.lineEndPos = null;\n        /** Stores the state of the lexer if reaching the end of incpomplete input */\n        this.next = null;\n        /** A pointer to `buffer`; the current position of the lexer. */\n        this.pos = 0;\n    }\n    /**\n     * Generate YAML tokens from the `source` string. If `incomplete`,\n     * a part of the last line may be left as a buffer for the next call.\n     *\n     * @returns A generator of lexical tokens\n     */\n    *lex(source, incomplete = false) {\n        if (source) {\n            this.buffer = this.buffer ? this.buffer + source : source;\n            this.lineEndPos = null;\n        }\n        this.atEnd = !incomplete;\n        let next = this.next ?? 'stream';\n        while (next && (incomplete || this.hasChars(1)))\n            next = yield* this.parseNext(next);\n    }\n    atLineEnd() {\n        let i = this.pos;\n        let ch = this.buffer[i];\n        while (ch === ' ' || ch === '\\t')\n            ch = this.buffer[++i];\n        if (!ch || ch === '#' || ch === '\\n')\n            return true;\n        if (ch === '\\r')\n            return this.buffer[i + 1] === '\\n';\n        return false;\n    }\n    charAt(n) {\n        return this.buffer[this.pos + n];\n    }\n    continueScalar(offset) {\n        let ch = this.buffer[offset];\n        if (this.indentNext > 0) {\n            let indent = 0;\n            while (ch === ' ')\n                ch = this.buffer[++indent + offset];\n            if (ch === '\\r') {\n                const next = this.buffer[indent + offset + 1];\n                if (next === '\\n' || (!next && !this.atEnd))\n                    return offset + indent + 1;\n            }\n            return ch === '\\n' || indent >= this.indentNext || (!ch && !this.atEnd)\n                ? offset + indent\n                : -1;\n        }\n        if (ch === '-' || ch === '.') {\n            const dt = this.buffer.substr(offset, 3);\n            if ((dt === '---' || dt === '...') && isEmpty(this.buffer[offset + 3]))\n                return -1;\n        }\n        return offset;\n    }\n    getLine() {\n        let end = this.lineEndPos;\n        if (typeof end !== 'number' || (end !== -1 && end < this.pos)) {\n            end = this.buffer.indexOf('\\n', this.pos);\n            this.lineEndPos = end;\n        }\n        if (end === -1)\n            return this.atEnd ? this.buffer.substring(this.pos) : null;\n        if (this.buffer[end - 1] === '\\r')\n            end -= 1;\n        return this.buffer.substring(this.pos, end);\n    }\n    hasChars(n) {\n        return this.pos + n <= this.buffer.length;\n    }\n    setNext(state) {\n        this.buffer = this.buffer.substring(this.pos);\n        this.pos = 0;\n        this.lineEndPos = null;\n        this.next = state;\n        return null;\n    }\n    peek(n) {\n        return this.buffer.substr(this.pos, n);\n    }\n    *parseNext(next) {\n        switch (next) {\n            case 'stream':\n                return yield* this.parseStream();\n            case 'line-start':\n                return yield* this.parseLineStart();\n            case 'block-start':\n                return yield* this.parseBlockStart();\n            case 'doc':\n                return yield* this.parseDocument();\n            case 'flow':\n                return yield* this.parseFlowCollection();\n            case 'quoted-scalar':\n                return yield* this.parseQuotedScalar();\n            case 'block-scalar':\n                return yield* this.parseBlockScalar();\n            case 'plain-scalar':\n                return yield* this.parsePlainScalar();\n        }\n    }\n    *parseStream() {\n        let line = this.getLine();\n        if (line === null)\n            return this.setNext('stream');\n        if (line[0] === BOM) {\n            yield* this.pushCount(1);\n            line = line.substring(1);\n        }\n        if (line[0] === '%') {\n            let dirEnd = line.length;\n            const cs = line.indexOf('#');\n            if (cs !== -1) {\n                const ch = line[cs - 1];\n                if (ch === ' ' || ch === '\\t')\n                    dirEnd = cs - 1;\n            }\n            while (true) {\n                const ch = line[dirEnd - 1];\n                if (ch === ' ' || ch === '\\t')\n                    dirEnd -= 1;\n                else\n                    break;\n            }\n            const n = (yield* this.pushCount(dirEnd)) + (yield* this.pushSpaces(true));\n            yield* this.pushCount(line.length - n); // possible comment\n            this.pushNewline();\n            return 'stream';\n        }\n        if (this.atLineEnd()) {\n            const sp = yield* this.pushSpaces(true);\n            yield* this.pushCount(line.length - sp);\n            yield* this.pushNewline();\n            return 'stream';\n        }\n        yield DOCUMENT;\n        return yield* this.parseLineStart();\n    }\n    *parseLineStart() {\n        const ch = this.charAt(0);\n        if (!ch && !this.atEnd)\n            return this.setNext('line-start');\n        if (ch === '-' || ch === '.') {\n            if (!this.atEnd && !this.hasChars(4))\n                return this.setNext('line-start');\n            const s = this.peek(3);\n            if (s === '---' && isEmpty(this.charAt(3))) {\n                yield* this.pushCount(3);\n                this.indentValue = 0;\n                this.indentNext = 0;\n                return 'doc';\n            }\n            else if (s === '...' && isEmpty(this.charAt(3))) {\n                yield* this.pushCount(3);\n                return 'stream';\n            }\n        }\n        this.indentValue = yield* this.pushSpaces(false);\n        if (this.indentNext > this.indentValue && !isEmpty(this.charAt(1)))\n            this.indentNext = this.indentValue;\n        return yield* this.parseBlockStart();\n    }\n    *parseBlockStart() {\n        const [ch0, ch1] = this.peek(2);\n        if (!ch1 && !this.atEnd)\n            return this.setNext('block-start');\n        if ((ch0 === '-' || ch0 === '?' || ch0 === ':') && isEmpty(ch1)) {\n            const n = (yield* this.pushCount(1)) + (yield* this.pushSpaces(true));\n            this.indentNext = this.indentValue + 1;\n            this.indentValue += n;\n            return yield* this.parseBlockStart();\n        }\n        return 'doc';\n    }\n    *parseDocument() {\n        yield* this.pushSpaces(true);\n        const line = this.getLine();\n        if (line === null)\n            return this.setNext('doc');\n        let n = yield* this.pushIndicators();\n        switch (line[n]) {\n            case '#':\n                yield* this.pushCount(line.length - n);\n            // fallthrough\n            case undefined:\n                yield* this.pushNewline();\n                return yield* this.parseLineStart();\n            case '{':\n            case '[':\n                yield* this.pushCount(1);\n                this.flowKey = false;\n                this.flowLevel = 1;\n                return 'flow';\n            case '}':\n            case ']':\n                // this is an error\n                yield* this.pushCount(1);\n                return 'doc';\n            case '*':\n                yield* this.pushUntil(isNotAnchorChar);\n                return 'doc';\n            case '\"':\n            case \"'\":\n                return yield* this.parseQuotedScalar();\n            case '|':\n            case '>':\n                n += yield* this.parseBlockScalarHeader();\n                n += yield* this.pushSpaces(true);\n                yield* this.pushCount(line.length - n);\n                yield* this.pushNewline();\n                return yield* this.parseBlockScalar();\n            default:\n                return yield* this.parsePlainScalar();\n        }\n    }\n    *parseFlowCollection() {\n        let nl, sp;\n        let indent = -1;\n        do {\n            nl = yield* this.pushNewline();\n            if (nl > 0) {\n                sp = yield* this.pushSpaces(false);\n                this.indentValue = indent = sp;\n            }\n            else {\n                sp = 0;\n            }\n            sp += yield* this.pushSpaces(true);\n        } while (nl + sp > 0);\n        const line = this.getLine();\n        if (line === null)\n            return this.setNext('flow');\n        if ((indent !== -1 && indent < this.indentNext && line[0] !== '#') ||\n            (indent === 0 &&\n                (line.startsWith('---') || line.startsWith('...')) &&\n                isEmpty(line[3]))) {\n            // Allowing for the terminal ] or } at the same (rather than greater)\n            // indent level as the initial [ or { is technically invalid, but\n            // failing here would be surprising to users.\n            const atFlowEndMarker = indent === this.indentNext - 1 &&\n                this.flowLevel === 1 &&\n                (line[0] === ']' || line[0] === '}');\n            if (!atFlowEndMarker) {\n                // this is an error\n                this.flowLevel = 0;\n                yield FLOW_END;\n                return yield* this.parseLineStart();\n            }\n        }\n        let n = 0;\n        while (line[n] === ',') {\n            n += yield* this.pushCount(1);\n            n += yield* this.pushSpaces(true);\n            this.flowKey = false;\n        }\n        n += yield* this.pushIndicators();\n        switch (line[n]) {\n            case undefined:\n                return 'flow';\n            case '#':\n                yield* this.pushCount(line.length - n);\n                return 'flow';\n            case '{':\n            case '[':\n                yield* this.pushCount(1);\n                this.flowKey = false;\n                this.flowLevel += 1;\n                return 'flow';\n            case '}':\n            case ']':\n                yield* this.pushCount(1);\n                this.flowKey = true;\n                this.flowLevel -= 1;\n                return this.flowLevel ? 'flow' : 'doc';\n            case '*':\n                yield* this.pushUntil(isNotAnchorChar);\n                return 'flow';\n            case '\"':\n            case \"'\":\n                this.flowKey = true;\n                return yield* this.parseQuotedScalar();\n            case ':': {\n                const next = this.charAt(1);\n                if (this.flowKey || isEmpty(next) || next === ',') {\n                    this.flowKey = false;\n                    yield* this.pushCount(1);\n                    yield* this.pushSpaces(true);\n                    return 'flow';\n                }\n            }\n            // fallthrough\n            default:\n                this.flowKey = false;\n                return yield* this.parsePlainScalar();\n        }\n    }\n    *parseQuotedScalar() {\n        const quote = this.charAt(0);\n        let end = this.buffer.indexOf(quote, this.pos + 1);\n        if (quote === \"'\") {\n            while (end !== -1 && this.buffer[end + 1] === \"'\")\n                end = this.buffer.indexOf(\"'\", end + 2);\n        }\n        else {\n            // double-quote\n            while (end !== -1) {\n                let n = 0;\n                while (this.buffer[end - 1 - n] === '\\\\')\n                    n += 1;\n                if (n % 2 === 0)\n                    break;\n                end = this.buffer.indexOf('\"', end + 1);\n            }\n        }\n        // Only looking for newlines within the quotes\n        const qb = this.buffer.substring(0, end);\n        let nl = qb.indexOf('\\n', this.pos);\n        if (nl !== -1) {\n            while (nl !== -1) {\n                const cs = this.continueScalar(nl + 1);\n                if (cs === -1)\n                    break;\n                nl = qb.indexOf('\\n', cs);\n            }\n            if (nl !== -1) {\n                // this is an error caused by an unexpected unindent\n                end = nl - (qb[nl - 1] === '\\r' ? 2 : 1);\n            }\n        }\n        if (end === -1) {\n            if (!this.atEnd)\n                return this.setNext('quoted-scalar');\n            end = this.buffer.length;\n        }\n        yield* this.pushToIndex(end + 1, false);\n        return this.flowLevel ? 'flow' : 'doc';\n    }\n    *parseBlockScalarHeader() {\n        this.blockScalarIndent = -1;\n        this.blockScalarKeep = false;\n        let i = this.pos;\n        while (true) {\n            const ch = this.buffer[++i];\n            if (ch === '+')\n                this.blockScalarKeep = true;\n            else if (ch > '0' && ch <= '9')\n                this.blockScalarIndent = Number(ch) - 1;\n            else if (ch !== '-')\n                break;\n        }\n        return yield* this.pushUntil(ch => isEmpty(ch) || ch === '#');\n    }\n    *parseBlockScalar() {\n        let nl = this.pos - 1; // may be -1 if this.pos === 0\n        let indent = 0;\n        let ch;\n        loop: for (let i = this.pos; (ch = this.buffer[i]); ++i) {\n            switch (ch) {\n                case ' ':\n                    indent += 1;\n                    break;\n                case '\\n':\n                    nl = i;\n                    indent = 0;\n                    break;\n                case '\\r': {\n                    const next = this.buffer[i + 1];\n                    if (!next && !this.atEnd)\n                        return this.setNext('block-scalar');\n                    if (next === '\\n')\n                        break;\n                } // fallthrough\n                default:\n                    break loop;\n            }\n        }\n        if (!ch && !this.atEnd)\n            return this.setNext('block-scalar');\n        if (indent >= this.indentNext) {\n            if (this.blockScalarIndent === -1)\n                this.indentNext = indent;\n            else\n                this.indentNext += this.blockScalarIndent;\n            do {\n                const cs = this.continueScalar(nl + 1);\n                if (cs === -1)\n                    break;\n                nl = this.buffer.indexOf('\\n', cs);\n            } while (nl !== -1);\n            if (nl === -1) {\n                if (!this.atEnd)\n                    return this.setNext('block-scalar');\n                nl = this.buffer.length;\n            }\n        }\n        if (!this.blockScalarKeep) {\n            do {\n                let i = nl - 1;\n                let ch = this.buffer[i];\n                if (ch === '\\r')\n                    ch = this.buffer[--i];\n                const lastChar = i; // Drop the line if last char not more indented\n                while (ch === ' ' || ch === '\\t')\n                    ch = this.buffer[--i];\n                if (ch === '\\n' && i >= this.pos && i + 1 + indent > lastChar)\n                    nl = i;\n                else\n                    break;\n            } while (true);\n        }\n        yield SCALAR;\n        yield* this.pushToIndex(nl + 1, true);\n        return yield* this.parseLineStart();\n    }\n    *parsePlainScalar() {\n        const inFlow = this.flowLevel > 0;\n        let end = this.pos - 1;\n        let i = this.pos - 1;\n        let ch;\n        while ((ch = this.buffer[++i])) {\n            if (ch === ':') {\n                const next = this.buffer[i + 1];\n                if (isEmpty(next) || (inFlow && next === ','))\n                    break;\n                end = i;\n            }\n            else if (isEmpty(ch)) {\n                let next = this.buffer[i + 1];\n                if (ch === '\\r') {\n                    if (next === '\\n') {\n                        i += 1;\n                        ch = '\\n';\n                        next = this.buffer[i + 1];\n                    }\n                    else\n                        end = i;\n                }\n                if (next === '#' || (inFlow && invalidFlowScalarChars.includes(next)))\n                    break;\n                if (ch === '\\n') {\n                    const cs = this.continueScalar(i + 1);\n                    if (cs === -1)\n                        break;\n                    i = Math.max(i, cs - 2); // to advance, but still account for ' #'\n                }\n            }\n            else {\n                if (inFlow && invalidFlowScalarChars.includes(ch))\n                    break;\n                end = i;\n            }\n        }\n        if (!ch && !this.atEnd)\n            return this.setNext('plain-scalar');\n        yield SCALAR;\n        yield* this.pushToIndex(end + 1, true);\n        return inFlow ? 'flow' : 'doc';\n    }\n    *pushCount(n) {\n        if (n > 0) {\n            yield this.buffer.substr(this.pos, n);\n            this.pos += n;\n            return n;\n        }\n        return 0;\n    }\n    *pushToIndex(i, allowEmpty) {\n        const s = this.buffer.slice(this.pos, i);\n        if (s) {\n            yield s;\n            this.pos += s.length;\n            return s.length;\n        }\n        else if (allowEmpty)\n            yield '';\n        return 0;\n    }\n    *pushIndicators() {\n        switch (this.charAt(0)) {\n            case '!':\n                return ((yield* this.pushTag()) +\n                    (yield* this.pushSpaces(true)) +\n                    (yield* this.pushIndicators()));\n            case '&':\n                return ((yield* this.pushUntil(isNotAnchorChar)) +\n                    (yield* this.pushSpaces(true)) +\n                    (yield* this.pushIndicators()));\n            case '-': // this is an error\n            case '?': // this is an error outside flow collections\n            case ':': {\n                const inFlow = this.flowLevel > 0;\n                const ch1 = this.charAt(1);\n                if (isEmpty(ch1) || (inFlow && invalidFlowScalarChars.includes(ch1))) {\n                    if (!inFlow)\n                        this.indentNext = this.indentValue + 1;\n                    else if (this.flowKey)\n                        this.flowKey = false;\n                    return ((yield* this.pushCount(1)) +\n                        (yield* this.pushSpaces(true)) +\n                        (yield* this.pushIndicators()));\n                }\n            }\n        }\n        return 0;\n    }\n    *pushTag() {\n        if (this.charAt(1) === '<') {\n            let i = this.pos + 2;\n            let ch = this.buffer[i];\n            while (!isEmpty(ch) && ch !== '>')\n                ch = this.buffer[++i];\n            return yield* this.pushToIndex(ch === '>' ? i + 1 : i, false);\n        }\n        else {\n            let i = this.pos + 1;\n            let ch = this.buffer[i];\n            while (ch) {\n                if (tagChars.includes(ch))\n                    ch = this.buffer[++i];\n                else if (ch === '%' &&\n                    hexDigits.includes(this.buffer[i + 1]) &&\n                    hexDigits.includes(this.buffer[i + 2])) {\n                    ch = this.buffer[(i += 3)];\n                }\n                else\n                    break;\n            }\n            return yield* this.pushToIndex(i, false);\n        }\n    }\n    *pushNewline() {\n        const ch = this.buffer[this.pos];\n        if (ch === '\\n')\n            return yield* this.pushCount(1);\n        else if (ch === '\\r' && this.charAt(1) === '\\n')\n            return yield* this.pushCount(2);\n        else\n            return 0;\n    }\n    *pushSpaces(allowTabs) {\n        let i = this.pos - 1;\n        let ch;\n        do {\n            ch = this.buffer[++i];\n        } while (ch === ' ' || (allowTabs && ch === '\\t'));\n        const n = i - this.pos;\n        if (n > 0) {\n            yield this.buffer.substr(this.pos, n);\n            this.pos = i;\n        }\n        return n;\n    }\n    *pushUntil(test) {\n        let i = this.pos;\n        let ch = this.buffer[i];\n        while (!test(ch))\n            ch = this.buffer[++i];\n        return yield* this.pushToIndex(i, false);\n    }\n}\n\nexport { Lexer };\n","/**\n * Tracks newlines during parsing in order to provide an efficient API for\n * determining the one-indexed `{ line, col }` position for any offset\n * within the input.\n */\nclass LineCounter {\n    constructor() {\n        this.lineStarts = [];\n        /**\n         * Should be called in ascending order. Otherwise, call\n         * `lineCounter.lineStarts.sort()` before calling `linePos()`.\n         */\n        this.addNewLine = (offset) => this.lineStarts.push(offset);\n        /**\n         * Performs a binary search and returns the 1-indexed { line, col }\n         * position of `offset`. If `line === 0`, `addNewLine` has never been\n         * called or `offset` is before the first known newline.\n         */\n        this.linePos = (offset) => {\n            let low = 0;\n            let high = this.lineStarts.length;\n            while (low < high) {\n                const mid = (low + high) >> 1; // Math.floor((low + high) / 2)\n                if (this.lineStarts[mid] < offset)\n                    low = mid + 1;\n                else\n                    high = mid;\n            }\n            if (this.lineStarts[low] === offset)\n                return { line: low + 1, col: 1 };\n            if (low === 0)\n                return { line: 0, col: offset };\n            const start = this.lineStarts[low - 1];\n            return { line: low, col: offset - start + 1 };\n        };\n    }\n}\n\nexport { LineCounter };\n","import { tokenType } from './cst.js';\nimport { Lexer } from './lexer.js';\n\nfunction includesToken(list, type) {\n    for (let i = 0; i < list.length; ++i)\n        if (list[i].type === type)\n            return true;\n    return false;\n}\nfunction findNonEmptyIndex(list) {\n    for (let i = 0; i < list.length; ++i) {\n        switch (list[i].type) {\n            case 'space':\n            case 'comment':\n            case 'newline':\n                break;\n            default:\n                return i;\n        }\n    }\n    return -1;\n}\nfunction isFlowToken(token) {\n    switch (token?.type) {\n        case 'alias':\n        case 'scalar':\n        case 'single-quoted-scalar':\n        case 'double-quoted-scalar':\n        case 'flow-collection':\n            return true;\n        default:\n            return false;\n    }\n}\nfunction getPrevProps(parent) {\n    switch (parent.type) {\n        case 'document':\n            return parent.start;\n        case 'block-map': {\n            const it = parent.items[parent.items.length - 1];\n            return it.sep ?? it.start;\n        }\n        case 'block-seq':\n            return parent.items[parent.items.length - 1].start;\n        /* istanbul ignore next should not happen */\n        default:\n            return [];\n    }\n}\n/** Note: May modify input array */\nfunction getFirstKeyStartProps(prev) {\n    if (prev.length === 0)\n        return [];\n    let i = prev.length;\n    loop: while (--i >= 0) {\n        switch (prev[i].type) {\n            case 'doc-start':\n            case 'explicit-key-ind':\n            case 'map-value-ind':\n            case 'seq-item-ind':\n            case 'newline':\n                break loop;\n        }\n    }\n    while (prev[++i]?.type === 'space') {\n        /* loop */\n    }\n    return prev.splice(i, prev.length);\n}\nfunction fixFlowSeqItems(fc) {\n    if (fc.start.type === 'flow-seq-start') {\n        for (const it of fc.items) {\n            if (it.sep &&\n                !it.value &&\n                !includesToken(it.start, 'explicit-key-ind') &&\n                !includesToken(it.sep, 'map-value-ind')) {\n                if (it.key)\n                    it.value = it.key;\n                delete it.key;\n                if (isFlowToken(it.value)) {\n                    if (it.value.end)\n                        Array.prototype.push.apply(it.value.end, it.sep);\n                    else\n                        it.value.end = it.sep;\n                }\n                else\n                    Array.prototype.push.apply(it.start, it.sep);\n                delete it.sep;\n            }\n        }\n    }\n}\n/**\n * A YAML concrete syntax tree (CST) parser\n *\n * ```ts\n * const src: string = ...\n * for (const token of new Parser().parse(src)) {\n *   // token: Token\n * }\n * ```\n *\n * To use the parser with a user-provided lexer:\n *\n * ```ts\n * function* parse(source: string, lexer: Lexer) {\n *   const parser = new Parser()\n *   for (const lexeme of lexer.lex(source))\n *     yield* parser.next(lexeme)\n *   yield* parser.end()\n * }\n *\n * const src: string = ...\n * const lexer = new Lexer()\n * for (const token of parse(src, lexer)) {\n *   // token: Token\n * }\n * ```\n */\nclass Parser {\n    /**\n     * @param onNewLine - If defined, called separately with the start position of\n     *   each new line (in `parse()`, including the start of input).\n     */\n    constructor(onNewLine) {\n        /** If true, space and sequence indicators count as indentation */\n        this.atNewLine = true;\n        /** If true, next token is a scalar value */\n        this.atScalar = false;\n        /** Current indentation level */\n        this.indent = 0;\n        /** Current offset since the start of parsing */\n        this.offset = 0;\n        /** On the same line with a block map key */\n        this.onKeyLine = false;\n        /** Top indicates the node that's currently being built */\n        this.stack = [];\n        /** The source of the current token, set in parse() */\n        this.source = '';\n        /** The type of the current token, set in parse() */\n        this.type = '';\n        // Must be defined after `next()`\n        this.lexer = new Lexer();\n        this.onNewLine = onNewLine;\n    }\n    /**\n     * Parse `source` as a YAML stream.\n     * If `incomplete`, a part of the last line may be left as a buffer for the next call.\n     *\n     * Errors are not thrown, but yielded as `{ type: 'error', message }` tokens.\n     *\n     * @returns A generator of tokens representing each directive, document, and other structure.\n     */\n    *parse(source, incomplete = false) {\n        if (this.onNewLine && this.offset === 0)\n            this.onNewLine(0);\n        for (const lexeme of this.lexer.lex(source, incomplete))\n            yield* this.next(lexeme);\n        if (!incomplete)\n            yield* this.end();\n    }\n    /**\n     * Advance the parser by the `source` of one lexical token.\n     */\n    *next(source) {\n        this.source = source;\n        if (this.atScalar) {\n            this.atScalar = false;\n            yield* this.step();\n            this.offset += source.length;\n            return;\n        }\n        const type = tokenType(source);\n        if (!type) {\n            const message = `Not a YAML token: ${source}`;\n            yield* this.pop({ type: 'error', offset: this.offset, message, source });\n            this.offset += source.length;\n        }\n        else if (type === 'scalar') {\n            this.atNewLine = false;\n            this.atScalar = true;\n            this.type = 'scalar';\n        }\n        else {\n            this.type = type;\n            yield* this.step();\n            switch (type) {\n                case 'newline':\n                    this.atNewLine = true;\n                    this.indent = 0;\n                    if (this.onNewLine)\n                        this.onNewLine(this.offset + source.length);\n                    break;\n                case 'space':\n                    if (this.atNewLine && source[0] === ' ')\n                        this.indent += source.length;\n                    break;\n                case 'explicit-key-ind':\n                case 'map-value-ind':\n                case 'seq-item-ind':\n                    if (this.atNewLine)\n                        this.indent += source.length;\n                    break;\n                case 'doc-mode':\n                case 'flow-error-end':\n                    return;\n                default:\n                    this.atNewLine = false;\n            }\n            this.offset += source.length;\n        }\n    }\n    /** Call at end of input to push out any remaining constructions */\n    *end() {\n        while (this.stack.length > 0)\n            yield* this.pop();\n    }\n    get sourceToken() {\n        const st = {\n            type: this.type,\n            offset: this.offset,\n            indent: this.indent,\n            source: this.source\n        };\n        return st;\n    }\n    *step() {\n        const top = this.peek(1);\n        if (this.type === 'doc-end' && (!top || top.type !== 'doc-end')) {\n            while (this.stack.length > 0)\n                yield* this.pop();\n            this.stack.push({\n                type: 'doc-end',\n                offset: this.offset,\n                source: this.source\n            });\n            return;\n        }\n        if (!top)\n            return yield* this.stream();\n        switch (top.type) {\n            case 'document':\n                return yield* this.document(top);\n            case 'alias':\n            case 'scalar':\n            case 'single-quoted-scalar':\n            case 'double-quoted-scalar':\n                return yield* this.scalar(top);\n            case 'block-scalar':\n                return yield* this.blockScalar(top);\n            case 'block-map':\n                return yield* this.blockMap(top);\n            case 'block-seq':\n                return yield* this.blockSequence(top);\n            case 'flow-collection':\n                return yield* this.flowCollection(top);\n            case 'doc-end':\n                return yield* this.documentEnd(top);\n        }\n        /* istanbul ignore next should not happen */\n        yield* this.pop();\n    }\n    peek(n) {\n        return this.stack[this.stack.length - n];\n    }\n    *pop(error) {\n        const token = error ?? this.stack.pop();\n        /* istanbul ignore if should not happen */\n        if (!token) {\n            const message = 'Tried to pop an empty stack';\n            yield { type: 'error', offset: this.offset, source: '', message };\n        }\n        else if (this.stack.length === 0) {\n            yield token;\n        }\n        else {\n            const top = this.peek(1);\n            if (token.type === 'block-scalar') {\n                // Block scalars use their parent rather than header indent\n                token.indent = 'indent' in top ? top.indent : 0;\n            }\n            else if (token.type === 'flow-collection' && top.type === 'document') {\n                // Ignore all indent for top-level flow collections\n                token.indent = 0;\n            }\n            if (token.type === 'flow-collection')\n                fixFlowSeqItems(token);\n            switch (top.type) {\n                case 'document':\n                    top.value = token;\n                    break;\n                case 'block-scalar':\n                    top.props.push(token); // error\n                    break;\n                case 'block-map': {\n                    const it = top.items[top.items.length - 1];\n                    if (it.value) {\n                        top.items.push({ start: [], key: token, sep: [] });\n                        this.onKeyLine = true;\n                        return;\n                    }\n                    else if (it.sep) {\n                        it.value = token;\n                    }\n                    else {\n                        Object.assign(it, { key: token, sep: [] });\n                        this.onKeyLine = !includesToken(it.start, 'explicit-key-ind');\n                        return;\n                    }\n                    break;\n                }\n                case 'block-seq': {\n                    const it = top.items[top.items.length - 1];\n                    if (it.value)\n                        top.items.push({ start: [], value: token });\n                    else\n                        it.value = token;\n                    break;\n                }\n                case 'flow-collection': {\n                    const it = top.items[top.items.length - 1];\n                    if (!it || it.value)\n                        top.items.push({ start: [], key: token, sep: [] });\n                    else if (it.sep)\n                        it.value = token;\n                    else\n                        Object.assign(it, { key: token, sep: [] });\n                    return;\n                }\n                /* istanbul ignore next should not happen */\n                default:\n                    yield* this.pop();\n                    yield* this.pop(token);\n            }\n            if ((top.type === 'document' ||\n                top.type === 'block-map' ||\n                top.type === 'block-seq') &&\n                (token.type === 'block-map' || token.type === 'block-seq')) {\n                const last = token.items[token.items.length - 1];\n                if (last &&\n                    !last.sep &&\n                    !last.value &&\n                    last.start.length > 0 &&\n                    findNonEmptyIndex(last.start) === -1 &&\n                    (token.indent === 0 ||\n                        last.start.every(st => st.type !== 'comment' || st.indent < token.indent))) {\n                    if (top.type === 'document')\n                        top.end = last.start;\n                    else\n                        top.items.push({ start: last.start });\n                    token.items.splice(-1, 1);\n                }\n            }\n        }\n    }\n    *stream() {\n        switch (this.type) {\n            case 'directive-line':\n                yield { type: 'directive', offset: this.offset, source: this.source };\n                return;\n            case 'byte-order-mark':\n            case 'space':\n            case 'comment':\n            case 'newline':\n                yield this.sourceToken;\n                return;\n            case 'doc-mode':\n            case 'doc-start': {\n                const doc = {\n                    type: 'document',\n                    offset: this.offset,\n                    start: []\n                };\n                if (this.type === 'doc-start')\n                    doc.start.push(this.sourceToken);\n                this.stack.push(doc);\n                return;\n            }\n        }\n        yield {\n            type: 'error',\n            offset: this.offset,\n            message: `Unexpected ${this.type} token in YAML stream`,\n            source: this.source\n        };\n    }\n    *document(doc) {\n        if (doc.value)\n            return yield* this.lineEnd(doc);\n        switch (this.type) {\n            case 'doc-start': {\n                if (findNonEmptyIndex(doc.start) !== -1) {\n                    yield* this.pop();\n                    yield* this.step();\n                }\n                else\n                    doc.start.push(this.sourceToken);\n                return;\n            }\n            case 'anchor':\n            case 'tag':\n            case 'space':\n            case 'comment':\n            case 'newline':\n                doc.start.push(this.sourceToken);\n                return;\n        }\n        const bv = this.startBlockValue(doc);\n        if (bv)\n            this.stack.push(bv);\n        else {\n            yield {\n                type: 'error',\n                offset: this.offset,\n                message: `Unexpected ${this.type} token in YAML document`,\n                source: this.source\n            };\n        }\n    }\n    *scalar(scalar) {\n        if (this.type === 'map-value-ind') {\n            const prev = getPrevProps(this.peek(2));\n            const start = getFirstKeyStartProps(prev);\n            let sep;\n            if (scalar.end) {\n                sep = scalar.end;\n                sep.push(this.sourceToken);\n                delete scalar.end;\n            }\n            else\n                sep = [this.sourceToken];\n            const map = {\n                type: 'block-map',\n                offset: scalar.offset,\n                indent: scalar.indent,\n                items: [{ start, key: scalar, sep }]\n            };\n            this.onKeyLine = true;\n            this.stack[this.stack.length - 1] = map;\n        }\n        else\n            yield* this.lineEnd(scalar);\n    }\n    *blockScalar(scalar) {\n        switch (this.type) {\n            case 'space':\n            case 'comment':\n            case 'newline':\n                scalar.props.push(this.sourceToken);\n                return;\n            case 'scalar':\n                scalar.source = this.source;\n                // block-scalar source includes trailing newline\n                this.atNewLine = true;\n                this.indent = 0;\n                if (this.onNewLine) {\n                    let nl = this.source.indexOf('\\n') + 1;\n                    while (nl !== 0) {\n                        this.onNewLine(this.offset + nl);\n                        nl = this.source.indexOf('\\n', nl) + 1;\n                    }\n                }\n                yield* this.pop();\n                break;\n            /* istanbul ignore next should not happen */\n            default:\n                yield* this.pop();\n                yield* this.step();\n        }\n    }\n    *blockMap(map) {\n        const it = map.items[map.items.length - 1];\n        // it.sep is true-ish if pair already has key or : separator\n        switch (this.type) {\n            case 'newline':\n                this.onKeyLine = false;\n                if (it.value) {\n                    const end = 'end' in it.value ? it.value.end : undefined;\n                    const last = Array.isArray(end) ? end[end.length - 1] : undefined;\n                    if (last?.type === 'comment')\n                        end?.push(this.sourceToken);\n                    else\n                        map.items.push({ start: [this.sourceToken] });\n                }\n                else if (it.sep) {\n                    it.sep.push(this.sourceToken);\n                }\n                else {\n                    it.start.push(this.sourceToken);\n                }\n                return;\n            case 'space':\n            case 'comment':\n                if (it.value) {\n                    map.items.push({ start: [this.sourceToken] });\n                }\n                else if (it.sep) {\n                    it.sep.push(this.sourceToken);\n                }\n                else {\n                    if (this.atIndentedComment(it.start, map.indent)) {\n                        const prev = map.items[map.items.length - 2];\n                        const end = prev?.value?.end;\n                        if (Array.isArray(end)) {\n                            Array.prototype.push.apply(end, it.start);\n                            end.push(this.sourceToken);\n                            map.items.pop();\n                            return;\n                        }\n                    }\n                    it.start.push(this.sourceToken);\n                }\n                return;\n        }\n        if (this.indent >= map.indent) {\n            const atNextItem = !this.onKeyLine && this.indent === map.indent && it.sep;\n            // For empty nodes, assign newline-separated not indented empty tokens to following node\n            let start = [];\n            if (atNextItem && it.sep && !it.value) {\n                const nl = [];\n                for (let i = 0; i < it.sep.length; ++i) {\n                    const st = it.sep[i];\n                    switch (st.type) {\n                        case 'newline':\n                            nl.push(i);\n                            break;\n                        case 'space':\n                            break;\n                        case 'comment':\n                            if (st.indent > map.indent)\n                                nl.length = 0;\n                            break;\n                        default:\n                            nl.length = 0;\n                    }\n                }\n                if (nl.length >= 2)\n                    start = it.sep.splice(nl[1]);\n            }\n            switch (this.type) {\n                case 'anchor':\n                case 'tag':\n                    if (atNextItem || it.value) {\n                        start.push(this.sourceToken);\n                        map.items.push({ start });\n                        this.onKeyLine = true;\n                    }\n                    else if (it.sep) {\n                        it.sep.push(this.sourceToken);\n                    }\n                    else {\n                        it.start.push(this.sourceToken);\n                    }\n                    return;\n                case 'explicit-key-ind':\n                    if (!it.sep && !includesToken(it.start, 'explicit-key-ind')) {\n                        it.start.push(this.sourceToken);\n                    }\n                    else if (atNextItem || it.value) {\n                        start.push(this.sourceToken);\n                        map.items.push({ start });\n                    }\n                    else {\n                        this.stack.push({\n                            type: 'block-map',\n                            offset: this.offset,\n                            indent: this.indent,\n                            items: [{ start: [this.sourceToken] }]\n                        });\n                    }\n                    this.onKeyLine = true;\n                    return;\n                case 'map-value-ind':\n                    if (includesToken(it.start, 'explicit-key-ind')) {\n                        if (!it.sep) {\n                            if (includesToken(it.start, 'newline')) {\n                                Object.assign(it, { key: null, sep: [this.sourceToken] });\n                            }\n                            else {\n                                const start = getFirstKeyStartProps(it.start);\n                                this.stack.push({\n                                    type: 'block-map',\n                                    offset: this.offset,\n                                    indent: this.indent,\n                                    items: [{ start, key: null, sep: [this.sourceToken] }]\n                                });\n                            }\n                        }\n                        else if (it.value) {\n                            map.items.push({ start: [], key: null, sep: [this.sourceToken] });\n                        }\n                        else if (includesToken(it.sep, 'map-value-ind')) {\n                            this.stack.push({\n                                type: 'block-map',\n                                offset: this.offset,\n                                indent: this.indent,\n                                items: [{ start, key: null, sep: [this.sourceToken] }]\n                            });\n                        }\n                        else if (isFlowToken(it.key) &&\n                            !includesToken(it.sep, 'newline')) {\n                            const start = getFirstKeyStartProps(it.start);\n                            const key = it.key;\n                            const sep = it.sep;\n                            sep.push(this.sourceToken);\n                            // @ts-expect-error type guard is wrong here\n                            delete it.key, delete it.sep;\n                            this.stack.push({\n                                type: 'block-map',\n                                offset: this.offset,\n                                indent: this.indent,\n                                items: [{ start, key, sep }]\n                            });\n                        }\n                        else if (start.length > 0) {\n                            // Not actually at next item\n                            it.sep = it.sep.concat(start, this.sourceToken);\n                        }\n                        else {\n                            it.sep.push(this.sourceToken);\n                        }\n                    }\n                    else {\n                        if (!it.sep) {\n                            Object.assign(it, { key: null, sep: [this.sourceToken] });\n                        }\n                        else if (it.value || atNextItem) {\n                            map.items.push({ start, key: null, sep: [this.sourceToken] });\n                        }\n                        else if (includesToken(it.sep, 'map-value-ind')) {\n                            this.stack.push({\n                                type: 'block-map',\n                                offset: this.offset,\n                                indent: this.indent,\n                                items: [{ start: [], key: null, sep: [this.sourceToken] }]\n                            });\n                        }\n                        else {\n                            it.sep.push(this.sourceToken);\n                        }\n                    }\n                    this.onKeyLine = true;\n                    return;\n                case 'alias':\n                case 'scalar':\n                case 'single-quoted-scalar':\n                case 'double-quoted-scalar': {\n                    const fs = this.flowScalar(this.type);\n                    if (atNextItem || it.value) {\n                        map.items.push({ start, key: fs, sep: [] });\n                        this.onKeyLine = true;\n                    }\n                    else if (it.sep) {\n                        this.stack.push(fs);\n                    }\n                    else {\n                        Object.assign(it, { key: fs, sep: [] });\n                        this.onKeyLine = true;\n                    }\n                    return;\n                }\n                default: {\n                    const bv = this.startBlockValue(map);\n                    if (bv) {\n                        if (atNextItem &&\n                            bv.type !== 'block-seq' &&\n                            includesToken(it.start, 'explicit-key-ind')) {\n                            map.items.push({ start });\n                        }\n                        this.stack.push(bv);\n                        return;\n                    }\n                }\n            }\n        }\n        yield* this.pop();\n        yield* this.step();\n    }\n    *blockSequence(seq) {\n        const it = seq.items[seq.items.length - 1];\n        switch (this.type) {\n            case 'newline':\n                if (it.value) {\n                    const end = 'end' in it.value ? it.value.end : undefined;\n                    const last = Array.isArray(end) ? end[end.length - 1] : undefined;\n                    if (last?.type === 'comment')\n                        end?.push(this.sourceToken);\n                    else\n                        seq.items.push({ start: [this.sourceToken] });\n                }\n                else\n                    it.start.push(this.sourceToken);\n                return;\n            case 'space':\n            case 'comment':\n                if (it.value)\n                    seq.items.push({ start: [this.sourceToken] });\n                else {\n                    if (this.atIndentedComment(it.start, seq.indent)) {\n                        const prev = seq.items[seq.items.length - 2];\n                        const end = prev?.value?.end;\n                        if (Array.isArray(end)) {\n                            Array.prototype.push.apply(end, it.start);\n                            end.push(this.sourceToken);\n                            seq.items.pop();\n                            return;\n                        }\n                    }\n                    it.start.push(this.sourceToken);\n                }\n                return;\n            case 'anchor':\n            case 'tag':\n                if (it.value || this.indent <= seq.indent)\n                    break;\n                it.start.push(this.sourceToken);\n                return;\n            case 'seq-item-ind':\n                if (this.indent !== seq.indent)\n                    break;\n                if (it.value || includesToken(it.start, 'seq-item-ind'))\n                    seq.items.push({ start: [this.sourceToken] });\n                else\n                    it.start.push(this.sourceToken);\n                return;\n        }\n        if (this.indent > seq.indent) {\n            const bv = this.startBlockValue(seq);\n            if (bv) {\n                this.stack.push(bv);\n                return;\n            }\n        }\n        yield* this.pop();\n        yield* this.step();\n    }\n    *flowCollection(fc) {\n        const it = fc.items[fc.items.length - 1];\n        if (this.type === 'flow-error-end') {\n            let top;\n            do {\n                yield* this.pop();\n                top = this.peek(1);\n            } while (top && top.type === 'flow-collection');\n        }\n        else if (fc.end.length === 0) {\n            switch (this.type) {\n                case 'comma':\n                case 'explicit-key-ind':\n                    if (!it || it.sep)\n                        fc.items.push({ start: [this.sourceToken] });\n                    else\n                        it.start.push(this.sourceToken);\n                    return;\n                case 'map-value-ind':\n                    if (!it || it.value)\n                        fc.items.push({ start: [], key: null, sep: [this.sourceToken] });\n                    else if (it.sep)\n                        it.sep.push(this.sourceToken);\n                    else\n                        Object.assign(it, { key: null, sep: [this.sourceToken] });\n                    return;\n                case 'space':\n                case 'comment':\n                case 'newline':\n                case 'anchor':\n                case 'tag':\n                    if (!it || it.value)\n                        fc.items.push({ start: [this.sourceToken] });\n                    else if (it.sep)\n                        it.sep.push(this.sourceToken);\n                    else\n                        it.start.push(this.sourceToken);\n                    return;\n                case 'alias':\n                case 'scalar':\n                case 'single-quoted-scalar':\n                case 'double-quoted-scalar': {\n                    const fs = this.flowScalar(this.type);\n                    if (!it || it.value)\n                        fc.items.push({ start: [], key: fs, sep: [] });\n                    else if (it.sep)\n                        this.stack.push(fs);\n                    else\n                        Object.assign(it, { key: fs, sep: [] });\n                    return;\n                }\n                case 'flow-map-end':\n                case 'flow-seq-end':\n                    fc.end.push(this.sourceToken);\n                    return;\n            }\n            const bv = this.startBlockValue(fc);\n            /* istanbul ignore else should not happen */\n            if (bv)\n                this.stack.push(bv);\n            else {\n                yield* this.pop();\n                yield* this.step();\n            }\n        }\n        else {\n            const parent = this.peek(2);\n            if (parent.type === 'block-map' &&\n                ((this.type === 'map-value-ind' && parent.indent === fc.indent) ||\n                    (this.type === 'newline' &&\n                        !parent.items[parent.items.length - 1].sep))) {\n                yield* this.pop();\n                yield* this.step();\n            }\n            else if (this.type === 'map-value-ind' &&\n                parent.type !== 'flow-collection') {\n                const prev = getPrevProps(parent);\n                const start = getFirstKeyStartProps(prev);\n                fixFlowSeqItems(fc);\n                const sep = fc.end.splice(1, fc.end.length);\n                sep.push(this.sourceToken);\n                const map = {\n                    type: 'block-map',\n                    offset: fc.offset,\n                    indent: fc.indent,\n                    items: [{ start, key: fc, sep }]\n                };\n                this.onKeyLine = true;\n                this.stack[this.stack.length - 1] = map;\n            }\n            else {\n                yield* this.lineEnd(fc);\n            }\n        }\n    }\n    flowScalar(type) {\n        if (this.onNewLine) {\n            let nl = this.source.indexOf('\\n') + 1;\n            while (nl !== 0) {\n                this.onNewLine(this.offset + nl);\n                nl = this.source.indexOf('\\n', nl) + 1;\n            }\n        }\n        return {\n            type,\n            offset: this.offset,\n            indent: this.indent,\n            source: this.source\n        };\n    }\n    startBlockValue(parent) {\n        switch (this.type) {\n            case 'alias':\n            case 'scalar':\n            case 'single-quoted-scalar':\n            case 'double-quoted-scalar':\n                return this.flowScalar(this.type);\n            case 'block-scalar-header':\n                return {\n                    type: 'block-scalar',\n                    offset: this.offset,\n                    indent: this.indent,\n                    props: [this.sourceToken],\n                    source: ''\n                };\n            case 'flow-map-start':\n            case 'flow-seq-start':\n                return {\n                    type: 'flow-collection',\n                    offset: this.offset,\n                    indent: this.indent,\n                    start: this.sourceToken,\n                    items: [],\n                    end: []\n                };\n            case 'seq-item-ind':\n                return {\n                    type: 'block-seq',\n                    offset: this.offset,\n                    indent: this.indent,\n                    items: [{ start: [this.sourceToken] }]\n                };\n            case 'explicit-key-ind': {\n                this.onKeyLine = true;\n                const prev = getPrevProps(parent);\n                const start = getFirstKeyStartProps(prev);\n                start.push(this.sourceToken);\n                return {\n                    type: 'block-map',\n                    offset: this.offset,\n                    indent: this.indent,\n                    items: [{ start }]\n                };\n            }\n            case 'map-value-ind': {\n                this.onKeyLine = true;\n                const prev = getPrevProps(parent);\n                const start = getFirstKeyStartProps(prev);\n                return {\n                    type: 'block-map',\n                    offset: this.offset,\n                    indent: this.indent,\n                    items: [{ start, key: null, sep: [this.sourceToken] }]\n                };\n            }\n        }\n        return null;\n    }\n    atIndentedComment(start, indent) {\n        if (this.type !== 'comment')\n            return false;\n        if (this.indent <= indent)\n            return false;\n        return start.every(st => st.type === 'newline' || st.type === 'space');\n    }\n    *documentEnd(docEnd) {\n        if (this.type !== 'doc-mode') {\n            if (docEnd.end)\n                docEnd.end.push(this.sourceToken);\n            else\n                docEnd.end = [this.sourceToken];\n            if (this.type === 'newline')\n                yield* this.pop();\n        }\n    }\n    *lineEnd(token) {\n        switch (this.type) {\n            case 'comma':\n            case 'doc-start':\n            case 'doc-end':\n            case 'flow-seq-end':\n            case 'flow-map-end':\n            case 'map-value-ind':\n                yield* this.pop();\n                yield* this.step();\n                break;\n            case 'newline':\n                this.onKeyLine = false;\n            // fallthrough\n            case 'space':\n            case 'comment':\n            default:\n                // all other values are errors\n                if (token.end)\n                    token.end.push(this.sourceToken);\n                else\n                    token.end = [this.sourceToken];\n                if (this.type === 'newline')\n                    yield* this.pop();\n        }\n    }\n}\n\nexport { Parser };\n","import { Composer } from './compose/composer.js';\nimport { Document } from './doc/Document.js';\nimport { prettifyError, YAMLParseError } from './errors.js';\nimport { warn } from './log.js';\nimport { LineCounter } from './parse/line-counter.js';\nimport { Parser } from './parse/parser.js';\n\nfunction parseOptions(options) {\n    const prettyErrors = options.prettyErrors !== false;\n    const lineCounter = options.lineCounter || (prettyErrors && new LineCounter()) || null;\n    return { lineCounter, prettyErrors };\n}\n/**\n * Parse the input as a stream of YAML documents.\n *\n * Documents should be separated from each other by `...` or `---` marker lines.\n *\n * @returns If an empty `docs` array is returned, it will be of type\n *   EmptyStream and contain additional stream information. In\n *   TypeScript, you should use `'empty' in docs` as a type guard for it.\n */\nfunction parseAllDocuments(source, options = {}) {\n    const { lineCounter, prettyErrors } = parseOptions(options);\n    const parser = new Parser(lineCounter?.addNewLine);\n    const composer = new Composer(options);\n    const docs = Array.from(composer.compose(parser.parse(source)));\n    if (prettyErrors && lineCounter)\n        for (const doc of docs) {\n            doc.errors.forEach(prettifyError(source, lineCounter));\n            doc.warnings.forEach(prettifyError(source, lineCounter));\n        }\n    if (docs.length > 0)\n        return docs;\n    return Object.assign([], { empty: true }, composer.streamInfo());\n}\n/** Parse an input string into a single YAML.Document */\nfunction parseDocument(source, options = {}) {\n    const { lineCounter, prettyErrors } = parseOptions(options);\n    const parser = new Parser(lineCounter?.addNewLine);\n    const composer = new Composer(options);\n    // `doc` is always set by compose.end(true) at the very latest\n    let doc = null;\n    for (const _doc of composer.compose(parser.parse(source), true, source.length)) {\n        if (!doc)\n            doc = _doc;\n        else if (doc.options.logLevel !== 'silent') {\n            doc.errors.push(new YAMLParseError(_doc.range.slice(0, 2), 'MULTIPLE_DOCS', 'Source contains multiple documents; please use YAML.parseAllDocuments()'));\n            break;\n        }\n    }\n    if (prettyErrors && lineCounter) {\n        doc.errors.forEach(prettifyError(source, lineCounter));\n        doc.warnings.forEach(prettifyError(source, lineCounter));\n    }\n    return doc;\n}\nfunction parse(src, reviver, options) {\n    let _reviver = undefined;\n    if (typeof reviver === 'function') {\n        _reviver = reviver;\n    }\n    else if (options === undefined && reviver && typeof reviver === 'object') {\n        options = reviver;\n    }\n    const doc = parseDocument(src, options);\n    if (!doc)\n        return null;\n    doc.warnings.forEach(warning => warn(doc.options.logLevel, warning));\n    if (doc.errors.length > 0) {\n        if (doc.options.logLevel !== 'silent')\n            throw doc.errors[0];\n        else\n            doc.errors = [];\n    }\n    return doc.toJS(Object.assign({ reviver: _reviver }, options));\n}\nfunction stringify(value, replacer, options) {\n    let _replacer = null;\n    if (typeof replacer === 'function' || Array.isArray(replacer)) {\n        _replacer = replacer;\n    }\n    else if (options === undefined && replacer) {\n        options = replacer;\n    }\n    if (typeof options === 'string')\n        options = options.length;\n    if (typeof options === 'number') {\n        const indent = Math.round(options);\n        options = indent < 1 ? undefined : indent > 8 ? { indent: 8 } : { indent };\n    }\n    if (value === undefined) {\n        const { keepUndefined } = options ?? replacer ?? {};\n        if (!keepUndefined)\n            return undefined;\n    }\n    return new Document(value, _replacer, options).toString(options);\n}\n\nexport { parse, parseAllDocuments, parseDocument, stringify };\n","// `export * as default from ...` fails on Webpack v4\n// https://github.com/eemeli/yaml/issues/228\nimport * as YAML from './dist/index.js'\nexport default YAML\nexport * from './dist/index.js'\n","// To avoid including Prettier functionality in YAML Editor,\n// we overwrite regular Prettier formatting with no formatiing.\nexport function format(text) {\n    return text;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Range, Position, MarkupContent, MarkupKind, Color, ColorInformation, ColorPresentation, FoldingRange, FoldingRangeKind, SelectionRange, Diagnostic, DiagnosticSeverity, CompletionItem, CompletionItemKind, CompletionList, CompletionItemTag, InsertTextFormat, SymbolInformation, SymbolKind, DocumentSymbol, Location, Hover, MarkedString, CodeActionContext, Command, CodeAction, DocumentHighlight, DocumentLink, WorkspaceEdit, TextEdit, CodeActionKind, TextDocumentEdit, VersionedTextDocumentIdentifier, DocumentHighlightKind } from 'vscode-languageserver-types';\nimport { TextDocument } from 'vscode-languageserver-textdocument';\nexport { TextDocument, Range, Position, MarkupContent, MarkupKind, Color, ColorInformation, ColorPresentation, FoldingRange, FoldingRangeKind, SelectionRange, Diagnostic, DiagnosticSeverity, CompletionItem, CompletionItemKind, CompletionList, CompletionItemTag, InsertTextFormat, SymbolInformation, SymbolKind, DocumentSymbol, Location, Hover, MarkedString, CodeActionContext, Command, CodeAction, DocumentHighlight, DocumentLink, WorkspaceEdit, TextEdit, CodeActionKind, TextDocumentEdit, VersionedTextDocumentIdentifier, DocumentHighlightKind };\n/**\n * Error codes used by diagnostics\n */\nexport var ErrorCode;\n(function (ErrorCode) {\n    ErrorCode[ErrorCode[\"Undefined\"] = 0] = \"Undefined\";\n    ErrorCode[ErrorCode[\"EnumValueMismatch\"] = 1] = \"EnumValueMismatch\";\n    ErrorCode[ErrorCode[\"Deprecated\"] = 2] = \"Deprecated\";\n    ErrorCode[ErrorCode[\"UnexpectedEndOfComment\"] = 257] = \"UnexpectedEndOfComment\";\n    ErrorCode[ErrorCode[\"UnexpectedEndOfString\"] = 258] = \"UnexpectedEndOfString\";\n    ErrorCode[ErrorCode[\"UnexpectedEndOfNumber\"] = 259] = \"UnexpectedEndOfNumber\";\n    ErrorCode[ErrorCode[\"InvalidUnicode\"] = 260] = \"InvalidUnicode\";\n    ErrorCode[ErrorCode[\"InvalidEscapeCharacter\"] = 261] = \"InvalidEscapeCharacter\";\n    ErrorCode[ErrorCode[\"InvalidCharacter\"] = 262] = \"InvalidCharacter\";\n    ErrorCode[ErrorCode[\"PropertyExpected\"] = 513] = \"PropertyExpected\";\n    ErrorCode[ErrorCode[\"CommaExpected\"] = 514] = \"CommaExpected\";\n    ErrorCode[ErrorCode[\"ColonExpected\"] = 515] = \"ColonExpected\";\n    ErrorCode[ErrorCode[\"ValueExpected\"] = 516] = \"ValueExpected\";\n    ErrorCode[ErrorCode[\"CommaOrCloseBacketExpected\"] = 517] = \"CommaOrCloseBacketExpected\";\n    ErrorCode[ErrorCode[\"CommaOrCloseBraceExpected\"] = 518] = \"CommaOrCloseBraceExpected\";\n    ErrorCode[ErrorCode[\"TrailingComma\"] = 519] = \"TrailingComma\";\n    ErrorCode[ErrorCode[\"DuplicateKey\"] = 520] = \"DuplicateKey\";\n    ErrorCode[ErrorCode[\"CommentNotPermitted\"] = 521] = \"CommentNotPermitted\";\n    ErrorCode[ErrorCode[\"SchemaResolveError\"] = 768] = \"SchemaResolveError\";\n})(ErrorCode || (ErrorCode = {}));\nexport var ClientCapabilities;\n(function (ClientCapabilities) {\n    ClientCapabilities.LATEST = {\n        textDocument: {\n            completion: {\n                completionItem: {\n                    documentationFormat: [MarkupKind.Markdown, MarkupKind.PlainText],\n                    commitCharactersSupport: true\n                }\n            }\n        }\n    };\n})(ClientCapabilities || (ClientCapabilities = {}));\n","{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"$id\": \"http://json-schema.org/draft-07/schema#\",\n  \"title\": \"Core schema meta-schema\",\n  \"definitions\": {\n    \"schemaArray\": {\n      \"type\": \"array\",\n      \"minItems\": 1,\n      \"items\": {\"$ref\": \"#\"}\n    },\n    \"nonNegativeInteger\": {\n      \"type\": \"integer\",\n      \"minimum\": 0\n    },\n    \"nonNegativeIntegerDefault0\": {\n      \"allOf\": [{\"$ref\": \"#/definitions/nonNegativeInteger\"}, {\"default\": 0}]\n    },\n    \"simpleTypes\": {\n      \"enum\": [\"array\", \"boolean\", \"integer\", \"null\", \"number\", \"object\", \"string\"]\n    },\n    \"stringArray\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"string\"},\n      \"uniqueItems\": true,\n      \"default\": []\n    }\n  },\n  \"type\": [\"object\", \"boolean\"],\n  \"properties\": {\n    \"$id\": {\n      \"type\": \"string\",\n      \"format\": \"uri-reference\"\n    },\n    \"$schema\": {\n      \"type\": \"string\",\n      \"format\": \"uri\"\n    },\n    \"$ref\": {\n      \"type\": \"string\",\n      \"format\": \"uri-reference\"\n    },\n    \"$comment\": {\n      \"type\": \"string\"\n    },\n    \"title\": {\n      \"type\": \"string\"\n    },\n    \"description\": {\n      \"type\": \"string\"\n    },\n    \"default\": true,\n    \"readOnly\": {\n      \"type\": \"boolean\",\n      \"default\": false\n    },\n    \"examples\": {\n      \"type\": \"array\",\n      \"items\": true\n    },\n    \"multipleOf\": {\n      \"type\": \"number\",\n      \"exclusiveMinimum\": 0\n    },\n    \"maximum\": {\n      \"type\": \"number\"\n    },\n    \"exclusiveMaximum\": {\n      \"type\": \"number\"\n    },\n    \"minimum\": {\n      \"type\": \"number\"\n    },\n    \"exclusiveMinimum\": {\n      \"type\": \"number\"\n    },\n    \"maxLength\": {\"$ref\": \"#/definitions/nonNegativeInteger\"},\n    \"minLength\": {\"$ref\": \"#/definitions/nonNegativeIntegerDefault0\"},\n    \"pattern\": {\n      \"type\": \"string\",\n      \"format\": \"regex\"\n    },\n    \"additionalItems\": {\"$ref\": \"#\"},\n    \"items\": {\n      \"anyOf\": [{\"$ref\": \"#\"}, {\"$ref\": \"#/definitions/schemaArray\"}],\n      \"default\": true\n    },\n    \"maxItems\": {\"$ref\": \"#/definitions/nonNegativeInteger\"},\n    \"minItems\": {\"$ref\": \"#/definitions/nonNegativeIntegerDefault0\"},\n    \"uniqueItems\": {\n      \"type\": \"boolean\",\n      \"default\": false\n    },\n    \"contains\": {\"$ref\": \"#\"},\n    \"maxProperties\": {\"$ref\": \"#/definitions/nonNegativeInteger\"},\n    \"minProperties\": {\"$ref\": \"#/definitions/nonNegativeIntegerDefault0\"},\n    \"required\": {\"$ref\": \"#/definitions/stringArray\"},\n    \"additionalProperties\": {\"$ref\": \"#\"},\n    \"definitions\": {\n      \"type\": \"object\",\n      \"additionalProperties\": {\"$ref\": \"#\"},\n      \"default\": {}\n    },\n    \"properties\": {\n      \"type\": \"object\",\n      \"additionalProperties\": {\"$ref\": \"#\"},\n      \"default\": {}\n    },\n    \"patternProperties\": {\n      \"type\": \"object\",\n      \"additionalProperties\": {\"$ref\": \"#\"},\n      \"propertyNames\": {\"format\": \"regex\"},\n      \"default\": {}\n    },\n    \"dependencies\": {\n      \"type\": \"object\",\n      \"additionalProperties\": {\n        \"anyOf\": [{\"$ref\": \"#\"}, {\"$ref\": \"#/definitions/stringArray\"}]\n      }\n    },\n    \"propertyNames\": {\"$ref\": \"#\"},\n    \"const\": true,\n    \"enum\": {\n      \"type\": \"array\",\n      \"items\": true,\n      \"minItems\": 1,\n      \"uniqueItems\": true\n    },\n    \"type\": {\n      \"anyOf\": [\n        {\"$ref\": \"#/definitions/simpleTypes\"},\n        {\n          \"type\": \"array\",\n          \"items\": {\"$ref\": \"#/definitions/simpleTypes\"},\n          \"minItems\": 1,\n          \"uniqueItems\": true\n        }\n      ]\n    },\n    \"format\": {\"type\": \"string\"},\n    \"contentMediaType\": {\"type\": \"string\"},\n    \"contentEncoding\": {\"type\": \"string\"},\n    \"if\": {\"$ref\": \"#\"},\n    \"then\": {\"$ref\": \"#\"},\n    \"else\": {\"$ref\": \"#\"},\n    \"allOf\": {\"$ref\": \"#/definitions/schemaArray\"},\n    \"anyOf\": {\"$ref\": \"#/definitions/schemaArray\"},\n    \"oneOf\": {\"$ref\": \"#/definitions/schemaArray\"},\n    \"not\": {\"$ref\": \"#\"}\n  },\n  \"default\": true\n}\n","/*---------------------------------------------------------------------------------------------\n*  Copyright (c) Microsoft Corporation. All rights reserved.\n*  Licensed under the MIT License. See License.txt in the project root for license information.\n*--------------------------------------------------------------------------------------------*/\nexport function startsWith(haystack, needle) {\n    if (haystack.length < needle.length) {\n        return false;\n    }\n    for (var i = 0; i < needle.length; i++) {\n        if (haystack[i] !== needle[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Determines if haystack ends with needle.\n */\nexport function endsWith(haystack, needle) {\n    var diff = haystack.length - needle.length;\n    if (diff > 0) {\n        return haystack.lastIndexOf(needle) === diff;\n    }\n    else if (diff === 0) {\n        return haystack === needle;\n    }\n    else {\n        return false;\n    }\n}\nexport function convertSimple2RegExpPattern(pattern) {\n    return pattern.replace(/[\\-\\\\\\{\\}\\+\\?\\|\\^\\$\\.\\,\\[\\]\\(\\)\\#\\s]/g, '\\\\$&').replace(/[\\*]/g, '.*');\n}\nexport function repeat(value, count) {\n    var s = '';\n    while (count > 0) {\n        if ((count & 1) === 1) {\n            s += value;\n        }\n        value += value;\n        count = count >>> 1;\n    }\n    return s;\n}\nexport function extendedRegExp(pattern) {\n    if (startsWith(pattern, '(?i)')) {\n        return new RegExp(pattern.substring(4), 'i');\n    }\n    else {\n        return new RegExp(pattern);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n*  Copyright (c) Microsoft Corporation. All rights reserved.\n*  Licensed under the MIT License. See License.txt in the project root for license information.\n*--------------------------------------------------------------------------------------------*/\nexport function equals(one, other) {\n    if (one === other) {\n        return true;\n    }\n    if (one === null || one === undefined || other === null || other === undefined) {\n        return false;\n    }\n    if (typeof one !== typeof other) {\n        return false;\n    }\n    if (typeof one !== 'object') {\n        return false;\n    }\n    if ((Array.isArray(one)) !== (Array.isArray(other))) {\n        return false;\n    }\n    var i, key;\n    if (Array.isArray(one)) {\n        if (one.length !== other.length) {\n            return false;\n        }\n        for (i = 0; i < one.length; i++) {\n            if (!equals(one[i], other[i])) {\n                return false;\n            }\n        }\n    }\n    else {\n        var oneKeys = [];\n        for (key in one) {\n            oneKeys.push(key);\n        }\n        oneKeys.sort();\n        var otherKeys = [];\n        for (key in other) {\n            otherKeys.push(key);\n        }\n        otherKeys.sort();\n        if (!equals(oneKeys, otherKeys)) {\n            return false;\n        }\n        for (i = 0; i < oneKeys.length; i++) {\n            if (!equals(one[oneKeys[i]], other[oneKeys[i]])) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nexport function isNumber(val) {\n    return typeof val === 'number';\n}\nexport function isDefined(val) {\n    return typeof val !== 'undefined';\n}\nexport function isBoolean(val) {\n    return typeof val === 'boolean';\n}\nexport function isString(val) {\n    return typeof val === 'string';\n}\n","export interface Options {\n  locale?: string;\n  cacheLanguageResolution?: boolean;\n}\nexport interface LocalizeInfo {\n  key: string;\n  comment: string[];\n}\nexport type LocalizeFunc = (\n  info: LocalizeInfo | string,\n  message: string,\n  ...args: string[]\n) => string;\nexport type LoadFunc = (file?: string) => LocalizeFunc;\n\nfunction format(message: string, args: string[]): string {\n  return args.length === 0\n    ? message\n    : message.replace(/{(\\d+)}/g, (match, [index]: number[]) =>\n        index in args ? args[index] : match,\n      );\n}\n\nconst localize: LocalizeFunc = (key, message, ...args) => format(message, args);\n\nexport function loadMessageBundle(): LocalizeFunc {\n  return localize;\n}\n\nexport function config(): LoadFunc {\n  return loadMessageBundle;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as Json from 'jsonc-parser';\nimport { isNumber, equals, isBoolean, isString, isDefined } from '../utils/objects';\nimport { extendedRegExp } from '../utils/strings';\nimport { ErrorCode, Diagnostic, DiagnosticSeverity, Range } from '../jsonLanguageTypes';\nimport * as nls from 'vscode-nls';\nvar localize = nls.loadMessageBundle();\nvar formats = {\n    'color-hex': { errorMessage: localize('colorHexFormatWarning', 'Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA.'), pattern: /^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/ },\n    'date-time': { errorMessage: localize('dateTimeFormatWarning', 'String is not a RFC3339 date-time.'), pattern: /^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i },\n    'date': { errorMessage: localize('dateFormatWarning', 'String is not a RFC3339 date.'), pattern: /^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i },\n    'time': { errorMessage: localize('timeFormatWarning', 'String is not a RFC3339 time.'), pattern: /^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i },\n    'email': { errorMessage: localize('emailFormatWarning', 'String is not an e-mail address.'), pattern: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/ }\n};\nvar ASTNodeImpl = /** @class */ (function () {\n    function ASTNodeImpl(parent, offset, length) {\n        if (length === void 0) { length = 0; }\n        this.offset = offset;\n        this.length = length;\n        this.parent = parent;\n    }\n    Object.defineProperty(ASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return [];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ASTNodeImpl.prototype.toString = function () {\n        return 'type: ' + this.type + ' (' + this.offset + '/' + this.length + ')' + (this.parent ? ' parent: {' + this.parent.toString() + '}' : '');\n    };\n    return ASTNodeImpl;\n}());\nexport { ASTNodeImpl };\nvar NullASTNodeImpl = /** @class */ (function (_super) {\n    __extends(NullASTNodeImpl, _super);\n    function NullASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'null';\n        _this.value = null;\n        return _this;\n    }\n    return NullASTNodeImpl;\n}(ASTNodeImpl));\nexport { NullASTNodeImpl };\nvar BooleanASTNodeImpl = /** @class */ (function (_super) {\n    __extends(BooleanASTNodeImpl, _super);\n    function BooleanASTNodeImpl(parent, boolValue, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'boolean';\n        _this.value = boolValue;\n        return _this;\n    }\n    return BooleanASTNodeImpl;\n}(ASTNodeImpl));\nexport { BooleanASTNodeImpl };\nvar ArrayASTNodeImpl = /** @class */ (function (_super) {\n    __extends(ArrayASTNodeImpl, _super);\n    function ArrayASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'array';\n        _this.items = [];\n        return _this;\n    }\n    Object.defineProperty(ArrayASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return this.items;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ArrayASTNodeImpl;\n}(ASTNodeImpl));\nexport { ArrayASTNodeImpl };\nvar NumberASTNodeImpl = /** @class */ (function (_super) {\n    __extends(NumberASTNodeImpl, _super);\n    function NumberASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'number';\n        _this.isInteger = true;\n        _this.value = Number.NaN;\n        return _this;\n    }\n    return NumberASTNodeImpl;\n}(ASTNodeImpl));\nexport { NumberASTNodeImpl };\nvar StringASTNodeImpl = /** @class */ (function (_super) {\n    __extends(StringASTNodeImpl, _super);\n    function StringASTNodeImpl(parent, offset, length) {\n        var _this = _super.call(this, parent, offset, length) || this;\n        _this.type = 'string';\n        _this.value = '';\n        return _this;\n    }\n    return StringASTNodeImpl;\n}(ASTNodeImpl));\nexport { StringASTNodeImpl };\nvar PropertyASTNodeImpl = /** @class */ (function (_super) {\n    __extends(PropertyASTNodeImpl, _super);\n    function PropertyASTNodeImpl(parent, offset, keyNode) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'property';\n        _this.colonOffset = -1;\n        _this.keyNode = keyNode;\n        return _this;\n    }\n    Object.defineProperty(PropertyASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return this.valueNode ? [this.keyNode, this.valueNode] : [this.keyNode];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return PropertyASTNodeImpl;\n}(ASTNodeImpl));\nexport { PropertyASTNodeImpl };\nvar ObjectASTNodeImpl = /** @class */ (function (_super) {\n    __extends(ObjectASTNodeImpl, _super);\n    function ObjectASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'object';\n        _this.properties = [];\n        return _this;\n    }\n    Object.defineProperty(ObjectASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return this.properties;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ObjectASTNodeImpl;\n}(ASTNodeImpl));\nexport { ObjectASTNodeImpl };\nexport function asSchema(schema) {\n    if (isBoolean(schema)) {\n        return schema ? {} : { \"not\": {} };\n    }\n    return schema;\n}\nexport var EnumMatch;\n(function (EnumMatch) {\n    EnumMatch[EnumMatch[\"Key\"] = 0] = \"Key\";\n    EnumMatch[EnumMatch[\"Enum\"] = 1] = \"Enum\";\n})(EnumMatch || (EnumMatch = {}));\nvar SchemaCollector = /** @class */ (function () {\n    function SchemaCollector(focusOffset, exclude) {\n        if (focusOffset === void 0) { focusOffset = -1; }\n        this.focusOffset = focusOffset;\n        this.exclude = exclude;\n        this.schemas = [];\n    }\n    SchemaCollector.prototype.add = function (schema) {\n        this.schemas.push(schema);\n    };\n    SchemaCollector.prototype.merge = function (other) {\n        Array.prototype.push.apply(this.schemas, other.schemas);\n    };\n    SchemaCollector.prototype.include = function (node) {\n        return (this.focusOffset === -1 || contains(node, this.focusOffset)) && (node !== this.exclude);\n    };\n    SchemaCollector.prototype.newSub = function () {\n        return new SchemaCollector(-1, this.exclude);\n    };\n    return SchemaCollector;\n}());\nvar NoOpSchemaCollector = /** @class */ (function () {\n    function NoOpSchemaCollector() {\n    }\n    Object.defineProperty(NoOpSchemaCollector.prototype, \"schemas\", {\n        get: function () { return []; },\n        enumerable: false,\n        configurable: true\n    });\n    NoOpSchemaCollector.prototype.add = function (schema) { };\n    NoOpSchemaCollector.prototype.merge = function (other) { };\n    NoOpSchemaCollector.prototype.include = function (node) { return true; };\n    NoOpSchemaCollector.prototype.newSub = function () { return this; };\n    NoOpSchemaCollector.instance = new NoOpSchemaCollector();\n    return NoOpSchemaCollector;\n}());\nvar ValidationResult = /** @class */ (function () {\n    function ValidationResult() {\n        this.problems = [];\n        this.propertiesMatches = 0;\n        this.propertiesValueMatches = 0;\n        this.primaryValueMatches = 0;\n        this.enumValueMatch = false;\n        this.enumValues = undefined;\n    }\n    ValidationResult.prototype.hasProblems = function () {\n        return !!this.problems.length;\n    };\n    ValidationResult.prototype.mergeAll = function (validationResults) {\n        for (var _i = 0, validationResults_1 = validationResults; _i < validationResults_1.length; _i++) {\n            var validationResult = validationResults_1[_i];\n            this.merge(validationResult);\n        }\n    };\n    ValidationResult.prototype.merge = function (validationResult) {\n        this.problems = this.problems.concat(validationResult.problems);\n    };\n    ValidationResult.prototype.mergeEnumValues = function (validationResult) {\n        if (!this.enumValueMatch && !validationResult.enumValueMatch && this.enumValues && validationResult.enumValues) {\n            this.enumValues = this.enumValues.concat(validationResult.enumValues);\n            for (var _i = 0, _a = this.problems; _i < _a.length; _i++) {\n                var error = _a[_i];\n                if (error.code === ErrorCode.EnumValueMismatch) {\n                    error.message = localize('enumWarning', 'Value is not accepted. Valid values: {0}.', this.enumValues.map(function (v) { return JSON.stringify(v); }).join(', '));\n                }\n            }\n        }\n    };\n    ValidationResult.prototype.mergePropertyMatch = function (propertyValidationResult) {\n        this.merge(propertyValidationResult);\n        this.propertiesMatches++;\n        if (propertyValidationResult.enumValueMatch || !propertyValidationResult.hasProblems() && propertyValidationResult.propertiesMatches) {\n            this.propertiesValueMatches++;\n        }\n        if (propertyValidationResult.enumValueMatch && propertyValidationResult.enumValues && propertyValidationResult.enumValues.length === 1) {\n            this.primaryValueMatches++;\n        }\n    };\n    ValidationResult.prototype.compare = function (other) {\n        var hasProblems = this.hasProblems();\n        if (hasProblems !== other.hasProblems()) {\n            return hasProblems ? -1 : 1;\n        }\n        if (this.enumValueMatch !== other.enumValueMatch) {\n            return other.enumValueMatch ? -1 : 1;\n        }\n        if (this.primaryValueMatches !== other.primaryValueMatches) {\n            return this.primaryValueMatches - other.primaryValueMatches;\n        }\n        if (this.propertiesValueMatches !== other.propertiesValueMatches) {\n            return this.propertiesValueMatches - other.propertiesValueMatches;\n        }\n        return this.propertiesMatches - other.propertiesMatches;\n    };\n    return ValidationResult;\n}());\nexport { ValidationResult };\nexport function newJSONDocument(root, diagnostics) {\n    if (diagnostics === void 0) { diagnostics = []; }\n    return new JSONDocument(root, diagnostics, []);\n}\nexport function getNodeValue(node) {\n    return Json.getNodeValue(node);\n}\nexport function getNodePath(node) {\n    return Json.getNodePath(node);\n}\nexport function contains(node, offset, includeRightBound) {\n    if (includeRightBound === void 0) { includeRightBound = false; }\n    return offset >= node.offset && offset < (node.offset + node.length) || includeRightBound && offset === (node.offset + node.length);\n}\nvar JSONDocument = /** @class */ (function () {\n    function JSONDocument(root, syntaxErrors, comments) {\n        if (syntaxErrors === void 0) { syntaxErrors = []; }\n        if (comments === void 0) { comments = []; }\n        this.root = root;\n        this.syntaxErrors = syntaxErrors;\n        this.comments = comments;\n    }\n    JSONDocument.prototype.getNodeFromOffset = function (offset, includeRightBound) {\n        if (includeRightBound === void 0) { includeRightBound = false; }\n        if (this.root) {\n            return Json.findNodeAtOffset(this.root, offset, includeRightBound);\n        }\n        return undefined;\n    };\n    JSONDocument.prototype.visit = function (visitor) {\n        if (this.root) {\n            var doVisit_1 = function (node) {\n                var ctn = visitor(node);\n                var children = node.children;\n                if (Array.isArray(children)) {\n                    for (var i = 0; i < children.length && ctn; i++) {\n                        ctn = doVisit_1(children[i]);\n                    }\n                }\n                return ctn;\n            };\n            doVisit_1(this.root);\n        }\n    };\n    JSONDocument.prototype.validate = function (textDocument, schema, severity) {\n        if (severity === void 0) { severity = DiagnosticSeverity.Warning; }\n        if (this.root && schema) {\n            var validationResult = new ValidationResult();\n            validate(this.root, schema, validationResult, NoOpSchemaCollector.instance);\n            return validationResult.problems.map(function (p) {\n                var _a;\n                var range = Range.create(textDocument.positionAt(p.location.offset), textDocument.positionAt(p.location.offset + p.location.length));\n                return Diagnostic.create(range, p.message, (_a = p.severity) !== null && _a !== void 0 ? _a : severity, p.code);\n            });\n        }\n        return undefined;\n    };\n    JSONDocument.prototype.getMatchingSchemas = function (schema, focusOffset, exclude) {\n        if (focusOffset === void 0) { focusOffset = -1; }\n        var matchingSchemas = new SchemaCollector(focusOffset, exclude);\n        if (this.root && schema) {\n            validate(this.root, schema, new ValidationResult(), matchingSchemas);\n        }\n        return matchingSchemas.schemas;\n    };\n    return JSONDocument;\n}());\nexport { JSONDocument };\nfunction validate(n, schema, validationResult, matchingSchemas) {\n    if (!n || !matchingSchemas.include(n)) {\n        return;\n    }\n    var node = n;\n    switch (node.type) {\n        case 'object':\n            _validateObjectNode(node, schema, validationResult, matchingSchemas);\n            break;\n        case 'array':\n            _validateArrayNode(node, schema, validationResult, matchingSchemas);\n            break;\n        case 'string':\n            _validateStringNode(node, schema, validationResult, matchingSchemas);\n            break;\n        case 'number':\n            _validateNumberNode(node, schema, validationResult, matchingSchemas);\n            break;\n        case 'property':\n            return validate(node.valueNode, schema, validationResult, matchingSchemas);\n    }\n    _validateNode();\n    matchingSchemas.add({ node: node, schema: schema });\n    function _validateNode() {\n        function matchesType(type) {\n            return node.type === type || (type === 'integer' && node.type === 'number' && node.isInteger);\n        }\n        if (Array.isArray(schema.type)) {\n            if (!schema.type.some(matchesType)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: schema.errorMessage || localize('typeArrayMismatchWarning', 'Incorrect type. Expected one of {0}.', schema.type.join(', '))\n                });\n            }\n        }\n        else if (schema.type) {\n            if (!matchesType(schema.type)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: schema.errorMessage || localize('typeMismatchWarning', 'Incorrect type. Expected \"{0}\".', schema.type)\n                });\n            }\n        }\n        if (Array.isArray(schema.allOf)) {\n            for (var _i = 0, _a = schema.allOf; _i < _a.length; _i++) {\n                var subSchemaRef = _a[_i];\n                validate(node, asSchema(subSchemaRef), validationResult, matchingSchemas);\n            }\n        }\n        var notSchema = asSchema(schema.not);\n        if (notSchema) {\n            var subValidationResult = new ValidationResult();\n            var subMatchingSchemas = matchingSchemas.newSub();\n            validate(node, notSchema, subValidationResult, subMatchingSchemas);\n            if (!subValidationResult.hasProblems()) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: localize('notSchemaWarning', \"Matches a schema that is not allowed.\")\n                });\n            }\n            for (var _b = 0, _c = subMatchingSchemas.schemas; _b < _c.length; _b++) {\n                var ms = _c[_b];\n                ms.inverted = !ms.inverted;\n                matchingSchemas.add(ms);\n            }\n        }\n        var testAlternatives = function (alternatives, maxOneMatch) {\n            var matches = [];\n            // remember the best match that is used for error messages\n            var bestMatch = undefined;\n            for (var _i = 0, alternatives_1 = alternatives; _i < alternatives_1.length; _i++) {\n                var subSchemaRef = alternatives_1[_i];\n                var subSchema = asSchema(subSchemaRef);\n                var subValidationResult = new ValidationResult();\n                var subMatchingSchemas = matchingSchemas.newSub();\n                validate(node, subSchema, subValidationResult, subMatchingSchemas);\n                if (!subValidationResult.hasProblems()) {\n                    matches.push(subSchema);\n                }\n                if (!bestMatch) {\n                    bestMatch = { schema: subSchema, validationResult: subValidationResult, matchingSchemas: subMatchingSchemas };\n                }\n                else {\n                    if (!maxOneMatch && !subValidationResult.hasProblems() && !bestMatch.validationResult.hasProblems()) {\n                        // no errors, both are equally good matches\n                        bestMatch.matchingSchemas.merge(subMatchingSchemas);\n                        bestMatch.validationResult.propertiesMatches += subValidationResult.propertiesMatches;\n                        bestMatch.validationResult.propertiesValueMatches += subValidationResult.propertiesValueMatches;\n                    }\n                    else {\n                        var compareResult = subValidationResult.compare(bestMatch.validationResult);\n                        if (compareResult > 0) {\n                            // our node is the best matching so far\n                            bestMatch = { schema: subSchema, validationResult: subValidationResult, matchingSchemas: subMatchingSchemas };\n                        }\n                        else if (compareResult === 0) {\n                            // there's already a best matching but we are as good\n                            bestMatch.matchingSchemas.merge(subMatchingSchemas);\n                            bestMatch.validationResult.mergeEnumValues(subValidationResult);\n                        }\n                    }\n                }\n            }\n            if (matches.length > 1 && maxOneMatch) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: 1 },\n                    message: localize('oneOfWarning', \"Matches multiple schemas when only one must validate.\")\n                });\n            }\n            if (bestMatch) {\n                validationResult.merge(bestMatch.validationResult);\n                validationResult.propertiesMatches += bestMatch.validationResult.propertiesMatches;\n                validationResult.propertiesValueMatches += bestMatch.validationResult.propertiesValueMatches;\n                matchingSchemas.merge(bestMatch.matchingSchemas);\n            }\n            return matches.length;\n        };\n        if (Array.isArray(schema.anyOf)) {\n            testAlternatives(schema.anyOf, false);\n        }\n        if (Array.isArray(schema.oneOf)) {\n            testAlternatives(schema.oneOf, true);\n        }\n        var testBranch = function (schema) {\n            var subValidationResult = new ValidationResult();\n            var subMatchingSchemas = matchingSchemas.newSub();\n            validate(node, asSchema(schema), subValidationResult, subMatchingSchemas);\n            validationResult.merge(subValidationResult);\n            validationResult.propertiesMatches += subValidationResult.propertiesMatches;\n            validationResult.propertiesValueMatches += subValidationResult.propertiesValueMatches;\n            matchingSchemas.merge(subMatchingSchemas);\n        };\n        var testCondition = function (ifSchema, thenSchema, elseSchema) {\n            var subSchema = asSchema(ifSchema);\n            var subValidationResult = new ValidationResult();\n            var subMatchingSchemas = matchingSchemas.newSub();\n            validate(node, subSchema, subValidationResult, subMatchingSchemas);\n            matchingSchemas.merge(subMatchingSchemas);\n            if (!subValidationResult.hasProblems()) {\n                if (thenSchema) {\n                    testBranch(thenSchema);\n                }\n            }\n            else if (elseSchema) {\n                testBranch(elseSchema);\n            }\n        };\n        var ifSchema = asSchema(schema.if);\n        if (ifSchema) {\n            testCondition(ifSchema, asSchema(schema.then), asSchema(schema.else));\n        }\n        if (Array.isArray(schema.enum)) {\n            var val = getNodeValue(node);\n            var enumValueMatch = false;\n            for (var _d = 0, _e = schema.enum; _d < _e.length; _d++) {\n                var e = _e[_d];\n                if (equals(val, e)) {\n                    enumValueMatch = true;\n                    break;\n                }\n            }\n            validationResult.enumValues = schema.enum;\n            validationResult.enumValueMatch = enumValueMatch;\n            if (!enumValueMatch) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    code: ErrorCode.EnumValueMismatch,\n                    message: schema.errorMessage || localize('enumWarning', 'Value is not accepted. Valid values: {0}.', schema.enum.map(function (v) { return JSON.stringify(v); }).join(', '))\n                });\n            }\n        }\n        if (isDefined(schema.const)) {\n            var val = getNodeValue(node);\n            if (!equals(val, schema.const)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    code: ErrorCode.EnumValueMismatch,\n                    message: schema.errorMessage || localize('constWarning', 'Value must be {0}.', JSON.stringify(schema.const))\n                });\n                validationResult.enumValueMatch = false;\n            }\n            else {\n                validationResult.enumValueMatch = true;\n            }\n            validationResult.enumValues = [schema.const];\n        }\n        if (schema.deprecationMessage && node.parent) {\n            validationResult.problems.push({\n                location: { offset: node.parent.offset, length: node.parent.length },\n                severity: DiagnosticSeverity.Warning,\n                message: schema.deprecationMessage,\n                code: ErrorCode.Deprecated\n            });\n        }\n    }\n    function _validateNumberNode(node, schema, validationResult, matchingSchemas) {\n        var val = node.value;\n        function normalizeFloats(float) {\n            var _a;\n            var parts = /^(-?\\d+)(?:\\.(\\d+))?(?:e([-+]\\d+))?$/.exec(float.toString());\n            return parts && {\n                value: Number(parts[1] + (parts[2] || '')),\n                multiplier: (((_a = parts[2]) === null || _a === void 0 ? void 0 : _a.length) || 0) - (parseInt(parts[3]) || 0)\n            };\n        }\n        ;\n        if (isNumber(schema.multipleOf)) {\n            var remainder = -1;\n            if (Number.isInteger(schema.multipleOf)) {\n                remainder = val % schema.multipleOf;\n            }\n            else {\n                var normMultipleOf = normalizeFloats(schema.multipleOf);\n                var normValue = normalizeFloats(val);\n                if (normMultipleOf && normValue) {\n                    var multiplier = Math.pow(10, Math.abs(normValue.multiplier - normMultipleOf.multiplier));\n                    if (normValue.multiplier < normMultipleOf.multiplier) {\n                        normValue.value *= multiplier;\n                    }\n                    else {\n                        normMultipleOf.value *= multiplier;\n                    }\n                    remainder = normValue.value % normMultipleOf.value;\n                }\n            }\n            if (remainder !== 0) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: localize('multipleOfWarning', 'Value is not divisible by {0}.', schema.multipleOf)\n                });\n            }\n        }\n        function getExclusiveLimit(limit, exclusive) {\n            if (isNumber(exclusive)) {\n                return exclusive;\n            }\n            if (isBoolean(exclusive) && exclusive) {\n                return limit;\n            }\n            return undefined;\n        }\n        function getLimit(limit, exclusive) {\n            if (!isBoolean(exclusive) || !exclusive) {\n                return limit;\n            }\n            return undefined;\n        }\n        var exclusiveMinimum = getExclusiveLimit(schema.minimum, schema.exclusiveMinimum);\n        if (isNumber(exclusiveMinimum) && val <= exclusiveMinimum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('exclusiveMinimumWarning', 'Value is below the exclusive minimum of {0}.', exclusiveMinimum)\n            });\n        }\n        var exclusiveMaximum = getExclusiveLimit(schema.maximum, schema.exclusiveMaximum);\n        if (isNumber(exclusiveMaximum) && val >= exclusiveMaximum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('exclusiveMaximumWarning', 'Value is above the exclusive maximum of {0}.', exclusiveMaximum)\n            });\n        }\n        var minimum = getLimit(schema.minimum, schema.exclusiveMinimum);\n        if (isNumber(minimum) && val < minimum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('minimumWarning', 'Value is below the minimum of {0}.', minimum)\n            });\n        }\n        var maximum = getLimit(schema.maximum, schema.exclusiveMaximum);\n        if (isNumber(maximum) && val > maximum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('maximumWarning', 'Value is above the maximum of {0}.', maximum)\n            });\n        }\n    }\n    function _validateStringNode(node, schema, validationResult, matchingSchemas) {\n        if (isNumber(schema.minLength) && node.value.length < schema.minLength) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('minLengthWarning', 'String is shorter than the minimum length of {0}.', schema.minLength)\n            });\n        }\n        if (isNumber(schema.maxLength) && node.value.length > schema.maxLength) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('maxLengthWarning', 'String is longer than the maximum length of {0}.', schema.maxLength)\n            });\n        }\n        if (isString(schema.pattern)) {\n            var regex = extendedRegExp(schema.pattern);\n            if (!regex.test(node.value)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: schema.patternErrorMessage || schema.errorMessage || localize('patternWarning', 'String does not match the pattern of \"{0}\".', schema.pattern)\n                });\n            }\n        }\n        if (schema.format) {\n            switch (schema.format) {\n                case 'uri':\n                case 'uri-reference':\n                    {\n                        var errorMessage = void 0;\n                        if (!node.value) {\n                            errorMessage = localize('uriEmpty', 'URI expected.');\n                        }\n                        else {\n                            var match = /^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/.exec(node.value);\n                            if (!match) {\n                                errorMessage = localize('uriMissing', 'URI is expected.');\n                            }\n                            else if (!match[2] && schema.format === 'uri') {\n                                errorMessage = localize('uriSchemeMissing', 'URI with a scheme is expected.');\n                            }\n                        }\n                        if (errorMessage) {\n                            validationResult.problems.push({\n                                location: { offset: node.offset, length: node.length },\n                                message: schema.patternErrorMessage || schema.errorMessage || localize('uriFormatWarning', 'String is not a URI: {0}', errorMessage)\n                            });\n                        }\n                    }\n                    break;\n                case 'color-hex':\n                case 'date-time':\n                case 'date':\n                case 'time':\n                case 'email':\n                    var format = formats[schema.format];\n                    if (!node.value || !format.pattern.exec(node.value)) {\n                        validationResult.problems.push({\n                            location: { offset: node.offset, length: node.length },\n                            message: schema.patternErrorMessage || schema.errorMessage || format.errorMessage\n                        });\n                    }\n                default:\n            }\n        }\n    }\n    function _validateArrayNode(node, schema, validationResult, matchingSchemas) {\n        if (Array.isArray(schema.items)) {\n            var subSchemas = schema.items;\n            for (var index = 0; index < subSchemas.length; index++) {\n                var subSchemaRef = subSchemas[index];\n                var subSchema = asSchema(subSchemaRef);\n                var itemValidationResult = new ValidationResult();\n                var item = node.items[index];\n                if (item) {\n                    validate(item, subSchema, itemValidationResult, matchingSchemas);\n                    validationResult.mergePropertyMatch(itemValidationResult);\n                }\n                else if (node.items.length >= subSchemas.length) {\n                    validationResult.propertiesValueMatches++;\n                }\n            }\n            if (node.items.length > subSchemas.length) {\n                if (typeof schema.additionalItems === 'object') {\n                    for (var i = subSchemas.length; i < node.items.length; i++) {\n                        var itemValidationResult = new ValidationResult();\n                        validate(node.items[i], schema.additionalItems, itemValidationResult, matchingSchemas);\n                        validationResult.mergePropertyMatch(itemValidationResult);\n                    }\n                }\n                else if (schema.additionalItems === false) {\n                    validationResult.problems.push({\n                        location: { offset: node.offset, length: node.length },\n                        message: localize('additionalItemsWarning', 'Array has too many items according to schema. Expected {0} or fewer.', subSchemas.length)\n                    });\n                }\n            }\n        }\n        else {\n            var itemSchema = asSchema(schema.items);\n            if (itemSchema) {\n                for (var _i = 0, _a = node.items; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    var itemValidationResult = new ValidationResult();\n                    validate(item, itemSchema, itemValidationResult, matchingSchemas);\n                    validationResult.mergePropertyMatch(itemValidationResult);\n                }\n            }\n        }\n        var containsSchema = asSchema(schema.contains);\n        if (containsSchema) {\n            var doesContain = node.items.some(function (item) {\n                var itemValidationResult = new ValidationResult();\n                validate(item, containsSchema, itemValidationResult, NoOpSchemaCollector.instance);\n                return !itemValidationResult.hasProblems();\n            });\n            if (!doesContain) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: schema.errorMessage || localize('requiredItemMissingWarning', 'Array does not contain required item.')\n                });\n            }\n        }\n        if (isNumber(schema.minItems) && node.items.length < schema.minItems) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('minItemsWarning', 'Array has too few items. Expected {0} or more.', schema.minItems)\n            });\n        }\n        if (isNumber(schema.maxItems) && node.items.length > schema.maxItems) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('maxItemsWarning', 'Array has too many items. Expected {0} or fewer.', schema.maxItems)\n            });\n        }\n        if (schema.uniqueItems === true) {\n            var values_1 = getNodeValue(node);\n            var duplicates = values_1.some(function (value, index) {\n                return index !== values_1.lastIndexOf(value);\n            });\n            if (duplicates) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: localize('uniqueItemsWarning', 'Array has duplicate items.')\n                });\n            }\n        }\n    }\n    function _validateObjectNode(node, schema, validationResult, matchingSchemas) {\n        var seenKeys = Object.create(null);\n        var unprocessedProperties = [];\n        for (var _i = 0, _a = node.properties; _i < _a.length; _i++) {\n            var propertyNode = _a[_i];\n            var key = propertyNode.keyNode.value;\n            seenKeys[key] = propertyNode.valueNode;\n            unprocessedProperties.push(key);\n        }\n        if (Array.isArray(schema.required)) {\n            for (var _b = 0, _c = schema.required; _b < _c.length; _b++) {\n                var propertyName = _c[_b];\n                if (!seenKeys[propertyName]) {\n                    var keyNode = node.parent && node.parent.type === 'property' && node.parent.keyNode;\n                    var location = keyNode ? { offset: keyNode.offset, length: keyNode.length } : { offset: node.offset, length: 1 };\n                    validationResult.problems.push({\n                        location: location,\n                        message: localize('MissingRequiredPropWarning', 'Missing property \"{0}\".', propertyName)\n                    });\n                }\n            }\n        }\n        var propertyProcessed = function (prop) {\n            var index = unprocessedProperties.indexOf(prop);\n            while (index >= 0) {\n                unprocessedProperties.splice(index, 1);\n                index = unprocessedProperties.indexOf(prop);\n            }\n        };\n        if (schema.properties) {\n            for (var _d = 0, _e = Object.keys(schema.properties); _d < _e.length; _d++) {\n                var propertyName = _e[_d];\n                propertyProcessed(propertyName);\n                var propertySchema = schema.properties[propertyName];\n                var child = seenKeys[propertyName];\n                if (child) {\n                    if (isBoolean(propertySchema)) {\n                        if (!propertySchema) {\n                            var propertyNode = child.parent;\n                            validationResult.problems.push({\n                                location: { offset: propertyNode.keyNode.offset, length: propertyNode.keyNode.length },\n                                message: schema.errorMessage || localize('DisallowedExtraPropWarning', 'Property {0} is not allowed.', propertyName)\n                            });\n                        }\n                        else {\n                            validationResult.propertiesMatches++;\n                            validationResult.propertiesValueMatches++;\n                        }\n                    }\n                    else {\n                        var propertyValidationResult = new ValidationResult();\n                        validate(child, propertySchema, propertyValidationResult, matchingSchemas);\n                        validationResult.mergePropertyMatch(propertyValidationResult);\n                    }\n                }\n            }\n        }\n        if (schema.patternProperties) {\n            for (var _f = 0, _g = Object.keys(schema.patternProperties); _f < _g.length; _f++) {\n                var propertyPattern = _g[_f];\n                var regex = extendedRegExp(propertyPattern);\n                for (var _h = 0, _j = unprocessedProperties.slice(0); _h < _j.length; _h++) {\n                    var propertyName = _j[_h];\n                    if (regex.test(propertyName)) {\n                        propertyProcessed(propertyName);\n                        var child = seenKeys[propertyName];\n                        if (child) {\n                            var propertySchema = schema.patternProperties[propertyPattern];\n                            if (isBoolean(propertySchema)) {\n                                if (!propertySchema) {\n                                    var propertyNode = child.parent;\n                                    validationResult.problems.push({\n                                        location: { offset: propertyNode.keyNode.offset, length: propertyNode.keyNode.length },\n                                        message: schema.errorMessage || localize('DisallowedExtraPropWarning', 'Property {0} is not allowed.', propertyName)\n                                    });\n                                }\n                                else {\n                                    validationResult.propertiesMatches++;\n                                    validationResult.propertiesValueMatches++;\n                                }\n                            }\n                            else {\n                                var propertyValidationResult = new ValidationResult();\n                                validate(child, propertySchema, propertyValidationResult, matchingSchemas);\n                                validationResult.mergePropertyMatch(propertyValidationResult);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        if (typeof schema.additionalProperties === 'object') {\n            for (var _k = 0, unprocessedProperties_1 = unprocessedProperties; _k < unprocessedProperties_1.length; _k++) {\n                var propertyName = unprocessedProperties_1[_k];\n                var child = seenKeys[propertyName];\n                if (child) {\n                    var propertyValidationResult = new ValidationResult();\n                    validate(child, schema.additionalProperties, propertyValidationResult, matchingSchemas);\n                    validationResult.mergePropertyMatch(propertyValidationResult);\n                }\n            }\n        }\n        else if (schema.additionalProperties === false) {\n            if (unprocessedProperties.length > 0) {\n                for (var _l = 0, unprocessedProperties_2 = unprocessedProperties; _l < unprocessedProperties_2.length; _l++) {\n                    var propertyName = unprocessedProperties_2[_l];\n                    var child = seenKeys[propertyName];\n                    if (child) {\n                        var propertyNode = child.parent;\n                        validationResult.problems.push({\n                            location: { offset: propertyNode.keyNode.offset, length: propertyNode.keyNode.length },\n                            message: schema.errorMessage || localize('DisallowedExtraPropWarning', 'Property {0} is not allowed.', propertyName)\n                        });\n                    }\n                }\n            }\n        }\n        if (isNumber(schema.maxProperties)) {\n            if (node.properties.length > schema.maxProperties) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: localize('MaxPropWarning', 'Object has more properties than limit of {0}.', schema.maxProperties)\n                });\n            }\n        }\n        if (isNumber(schema.minProperties)) {\n            if (node.properties.length < schema.minProperties) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: localize('MinPropWarning', 'Object has fewer properties than the required number of {0}', schema.minProperties)\n                });\n            }\n        }\n        if (schema.dependencies) {\n            for (var _m = 0, _o = Object.keys(schema.dependencies); _m < _o.length; _m++) {\n                var key = _o[_m];\n                var prop = seenKeys[key];\n                if (prop) {\n                    var propertyDep = schema.dependencies[key];\n                    if (Array.isArray(propertyDep)) {\n                        for (var _p = 0, propertyDep_1 = propertyDep; _p < propertyDep_1.length; _p++) {\n                            var requiredProp = propertyDep_1[_p];\n                            if (!seenKeys[requiredProp]) {\n                                validationResult.problems.push({\n                                    location: { offset: node.offset, length: node.length },\n                                    message: localize('RequiredDependentPropWarning', 'Object is missing property {0} required by property {1}.', requiredProp, key)\n                                });\n                            }\n                            else {\n                                validationResult.propertiesValueMatches++;\n                            }\n                        }\n                    }\n                    else {\n                        var propertySchema = asSchema(propertyDep);\n                        if (propertySchema) {\n                            var propertyValidationResult = new ValidationResult();\n                            validate(node, propertySchema, propertyValidationResult, matchingSchemas);\n                            validationResult.mergePropertyMatch(propertyValidationResult);\n                        }\n                    }\n                }\n            }\n        }\n        var propertyNames = asSchema(schema.propertyNames);\n        if (propertyNames) {\n            for (var _q = 0, _r = node.properties; _q < _r.length; _q++) {\n                var f = _r[_q];\n                var key = f.keyNode;\n                if (key) {\n                    validate(key, propertyNames, validationResult, NoOpSchemaCollector.instance);\n                }\n            }\n        }\n    }\n}\nexport function parse(textDocument, config) {\n    var problems = [];\n    var lastProblemOffset = -1;\n    var text = textDocument.getText();\n    var scanner = Json.createScanner(text, false);\n    var commentRanges = config && config.collectComments ? [] : undefined;\n    function _scanNext() {\n        while (true) {\n            var token_1 = scanner.scan();\n            _checkScanError();\n            switch (token_1) {\n                case 12 /* LineCommentTrivia */:\n                case 13 /* BlockCommentTrivia */:\n                    if (Array.isArray(commentRanges)) {\n                        commentRanges.push(Range.create(textDocument.positionAt(scanner.getTokenOffset()), textDocument.positionAt(scanner.getTokenOffset() + scanner.getTokenLength())));\n                    }\n                    break;\n                case 15 /* Trivia */:\n                case 14 /* LineBreakTrivia */:\n                    break;\n                default:\n                    return token_1;\n            }\n        }\n    }\n    function _accept(token) {\n        if (scanner.getToken() === token) {\n            _scanNext();\n            return true;\n        }\n        return false;\n    }\n    function _errorAtRange(message, code, startOffset, endOffset, severity) {\n        if (severity === void 0) { severity = DiagnosticSeverity.Error; }\n        if (problems.length === 0 || startOffset !== lastProblemOffset) {\n            var range = Range.create(textDocument.positionAt(startOffset), textDocument.positionAt(endOffset));\n            problems.push(Diagnostic.create(range, message, severity, code, textDocument.languageId));\n            lastProblemOffset = startOffset;\n        }\n    }\n    function _error(message, code, node, skipUntilAfter, skipUntil) {\n        if (node === void 0) { node = undefined; }\n        if (skipUntilAfter === void 0) { skipUntilAfter = []; }\n        if (skipUntil === void 0) { skipUntil = []; }\n        var start = scanner.getTokenOffset();\n        var end = scanner.getTokenOffset() + scanner.getTokenLength();\n        if (start === end && start > 0) {\n            start--;\n            while (start > 0 && /\\s/.test(text.charAt(start))) {\n                start--;\n            }\n            end = start + 1;\n        }\n        _errorAtRange(message, code, start, end);\n        if (node) {\n            _finalize(node, false);\n        }\n        if (skipUntilAfter.length + skipUntil.length > 0) {\n            var token_2 = scanner.getToken();\n            while (token_2 !== 17 /* EOF */) {\n                if (skipUntilAfter.indexOf(token_2) !== -1) {\n                    _scanNext();\n                    break;\n                }\n                else if (skipUntil.indexOf(token_2) !== -1) {\n                    break;\n                }\n                token_2 = _scanNext();\n            }\n        }\n        return node;\n    }\n    function _checkScanError() {\n        switch (scanner.getTokenError()) {\n            case 4 /* InvalidUnicode */:\n                _error(localize('InvalidUnicode', 'Invalid unicode sequence in string.'), ErrorCode.InvalidUnicode);\n                return true;\n            case 5 /* InvalidEscapeCharacter */:\n                _error(localize('InvalidEscapeCharacter', 'Invalid escape character in string.'), ErrorCode.InvalidEscapeCharacter);\n                return true;\n            case 3 /* UnexpectedEndOfNumber */:\n                _error(localize('UnexpectedEndOfNumber', 'Unexpected end of number.'), ErrorCode.UnexpectedEndOfNumber);\n                return true;\n            case 1 /* UnexpectedEndOfComment */:\n                _error(localize('UnexpectedEndOfComment', 'Unexpected end of comment.'), ErrorCode.UnexpectedEndOfComment);\n                return true;\n            case 2 /* UnexpectedEndOfString */:\n                _error(localize('UnexpectedEndOfString', 'Unexpected end of string.'), ErrorCode.UnexpectedEndOfString);\n                return true;\n            case 6 /* InvalidCharacter */:\n                _error(localize('InvalidCharacter', 'Invalid characters in string. Control characters must be escaped.'), ErrorCode.InvalidCharacter);\n                return true;\n        }\n        return false;\n    }\n    function _finalize(node, scanNext) {\n        node.length = scanner.getTokenOffset() + scanner.getTokenLength() - node.offset;\n        if (scanNext) {\n            _scanNext();\n        }\n        return node;\n    }\n    function _parseArray(parent) {\n        if (scanner.getToken() !== 3 /* OpenBracketToken */) {\n            return undefined;\n        }\n        var node = new ArrayASTNodeImpl(parent, scanner.getTokenOffset());\n        _scanNext(); // consume OpenBracketToken\n        var count = 0;\n        var needsComma = false;\n        while (scanner.getToken() !== 4 /* CloseBracketToken */ && scanner.getToken() !== 17 /* EOF */) {\n            if (scanner.getToken() === 5 /* CommaToken */) {\n                if (!needsComma) {\n                    _error(localize('ValueExpected', 'Value expected'), ErrorCode.ValueExpected);\n                }\n                var commaOffset = scanner.getTokenOffset();\n                _scanNext(); // consume comma\n                if (scanner.getToken() === 4 /* CloseBracketToken */) {\n                    if (needsComma) {\n                        _errorAtRange(localize('TrailingComma', 'Trailing comma'), ErrorCode.TrailingComma, commaOffset, commaOffset + 1);\n                    }\n                    continue;\n                }\n            }\n            else if (needsComma) {\n                _error(localize('ExpectedComma', 'Expected comma'), ErrorCode.CommaExpected);\n            }\n            var item = _parseValue(node);\n            if (!item) {\n                _error(localize('PropertyExpected', 'Value expected'), ErrorCode.ValueExpected, undefined, [], [4 /* CloseBracketToken */, 5 /* CommaToken */]);\n            }\n            else {\n                node.items.push(item);\n            }\n            needsComma = true;\n        }\n        if (scanner.getToken() !== 4 /* CloseBracketToken */) {\n            return _error(localize('ExpectedCloseBracket', 'Expected comma or closing bracket'), ErrorCode.CommaOrCloseBacketExpected, node);\n        }\n        return _finalize(node, true);\n    }\n    var keyPlaceholder = new StringASTNodeImpl(undefined, 0, 0);\n    function _parseProperty(parent, keysSeen) {\n        var node = new PropertyASTNodeImpl(parent, scanner.getTokenOffset(), keyPlaceholder);\n        var key = _parseString(node);\n        if (!key) {\n            if (scanner.getToken() === 16 /* Unknown */) {\n                // give a more helpful error message\n                _error(localize('DoubleQuotesExpected', 'Property keys must be doublequoted'), ErrorCode.Undefined);\n                var keyNode = new StringASTNodeImpl(node, scanner.getTokenOffset(), scanner.getTokenLength());\n                keyNode.value = scanner.getTokenValue();\n                key = keyNode;\n                _scanNext(); // consume Unknown\n            }\n            else {\n                return undefined;\n            }\n        }\n        node.keyNode = key;\n        var seen = keysSeen[key.value];\n        if (seen) {\n            _errorAtRange(localize('DuplicateKeyWarning', \"Duplicate object key\"), ErrorCode.DuplicateKey, node.keyNode.offset, node.keyNode.offset + node.keyNode.length, DiagnosticSeverity.Warning);\n            if (typeof seen === 'object') {\n                _errorAtRange(localize('DuplicateKeyWarning', \"Duplicate object key\"), ErrorCode.DuplicateKey, seen.keyNode.offset, seen.keyNode.offset + seen.keyNode.length, DiagnosticSeverity.Warning);\n            }\n            keysSeen[key.value] = true; // if the same key is duplicate again, avoid duplicate error reporting\n        }\n        else {\n            keysSeen[key.value] = node;\n        }\n        if (scanner.getToken() === 6 /* ColonToken */) {\n            node.colonOffset = scanner.getTokenOffset();\n            _scanNext(); // consume ColonToken\n        }\n        else {\n            _error(localize('ColonExpected', 'Colon expected'), ErrorCode.ColonExpected);\n            if (scanner.getToken() === 10 /* StringLiteral */ && textDocument.positionAt(key.offset + key.length).line < textDocument.positionAt(scanner.getTokenOffset()).line) {\n                node.length = key.length;\n                return node;\n            }\n        }\n        var value = _parseValue(node);\n        if (!value) {\n            return _error(localize('ValueExpected', 'Value expected'), ErrorCode.ValueExpected, node, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n        }\n        node.valueNode = value;\n        node.length = value.offset + value.length - node.offset;\n        return node;\n    }\n    function _parseObject(parent) {\n        if (scanner.getToken() !== 1 /* OpenBraceToken */) {\n            return undefined;\n        }\n        var node = new ObjectASTNodeImpl(parent, scanner.getTokenOffset());\n        var keysSeen = Object.create(null);\n        _scanNext(); // consume OpenBraceToken\n        var needsComma = false;\n        while (scanner.getToken() !== 2 /* CloseBraceToken */ && scanner.getToken() !== 17 /* EOF */) {\n            if (scanner.getToken() === 5 /* CommaToken */) {\n                if (!needsComma) {\n                    _error(localize('PropertyExpected', 'Property expected'), ErrorCode.PropertyExpected);\n                }\n                var commaOffset = scanner.getTokenOffset();\n                _scanNext(); // consume comma\n                if (scanner.getToken() === 2 /* CloseBraceToken */) {\n                    if (needsComma) {\n                        _errorAtRange(localize('TrailingComma', 'Trailing comma'), ErrorCode.TrailingComma, commaOffset, commaOffset + 1);\n                    }\n                    continue;\n                }\n            }\n            else if (needsComma) {\n                _error(localize('ExpectedComma', 'Expected comma'), ErrorCode.CommaExpected);\n            }\n            var property = _parseProperty(node, keysSeen);\n            if (!property) {\n                _error(localize('PropertyExpected', 'Property expected'), ErrorCode.PropertyExpected, undefined, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n            }\n            else {\n                node.properties.push(property);\n            }\n            needsComma = true;\n        }\n        if (scanner.getToken() !== 2 /* CloseBraceToken */) {\n            return _error(localize('ExpectedCloseBrace', 'Expected comma or closing brace'), ErrorCode.CommaOrCloseBraceExpected, node);\n        }\n        return _finalize(node, true);\n    }\n    function _parseString(parent) {\n        if (scanner.getToken() !== 10 /* StringLiteral */) {\n            return undefined;\n        }\n        var node = new StringASTNodeImpl(parent, scanner.getTokenOffset());\n        node.value = scanner.getTokenValue();\n        return _finalize(node, true);\n    }\n    function _parseNumber(parent) {\n        if (scanner.getToken() !== 11 /* NumericLiteral */) {\n            return undefined;\n        }\n        var node = new NumberASTNodeImpl(parent, scanner.getTokenOffset());\n        if (scanner.getTokenError() === 0 /* None */) {\n            var tokenValue = scanner.getTokenValue();\n            try {\n                var numberValue = JSON.parse(tokenValue);\n                if (!isNumber(numberValue)) {\n                    return _error(localize('InvalidNumberFormat', 'Invalid number format.'), ErrorCode.Undefined, node);\n                }\n                node.value = numberValue;\n            }\n            catch (e) {\n                return _error(localize('InvalidNumberFormat', 'Invalid number format.'), ErrorCode.Undefined, node);\n            }\n            node.isInteger = tokenValue.indexOf('.') === -1;\n        }\n        return _finalize(node, true);\n    }\n    function _parseLiteral(parent) {\n        var node;\n        switch (scanner.getToken()) {\n            case 7 /* NullKeyword */:\n                return _finalize(new NullASTNodeImpl(parent, scanner.getTokenOffset()), true);\n            case 8 /* TrueKeyword */:\n                return _finalize(new BooleanASTNodeImpl(parent, true, scanner.getTokenOffset()), true);\n            case 9 /* FalseKeyword */:\n                return _finalize(new BooleanASTNodeImpl(parent, false, scanner.getTokenOffset()), true);\n            default:\n                return undefined;\n        }\n    }\n    function _parseValue(parent) {\n        return _parseArray(parent) || _parseObject(parent) || _parseString(parent) || _parseNumber(parent) || _parseLiteral(parent);\n    }\n    var _root = undefined;\n    var token = _scanNext();\n    if (token !== 17 /* EOF */) {\n        _root = _parseValue(_root);\n        if (!_root) {\n            _error(localize('Invalid symbol', 'Expected a JSON object, array or literal.'), ErrorCode.Undefined);\n        }\n        else if (scanner.getToken() !== 17 /* EOF */) {\n            _error(localize('End of file expected', 'End of file expected.'), ErrorCode.Undefined);\n        }\n    }\n    return new JSONDocument(_root, problems, commentRanges);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Copyright (c) 2013, Nick Fitzgerald\n *  Licensed under the MIT License. See LICENCE.md in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function createRegex(glob, opts) {\n    if (typeof glob !== 'string') {\n        throw new TypeError('Expected a string');\n    }\n    var str = String(glob);\n    // The regexp we are building, as a string.\n    var reStr = \"\";\n    // Whether we are matching so called \"extended\" globs (like bash) and should\n    // support single character matching, matching ranges of characters, group\n    // matching, etc.\n    var extended = opts ? !!opts.extended : false;\n    // When globstar is _false_ (default), '/foo/*' is translated a regexp like\n    // '^\\/foo\\/.*$' which will match any string beginning with '/foo/'\n    // When globstar is _true_, '/foo/*' is translated to regexp like\n    // '^\\/foo\\/[^/]*$' which will match any string beginning with '/foo/' BUT\n    // which does not have a '/' to the right of it.\n    // E.g. with '/foo/*' these will match: '/foo/bar', '/foo/bar.txt' but\n    // these will not '/foo/bar/baz', '/foo/bar/baz.txt'\n    // Lastely, when globstar is _true_, '/foo/**' is equivelant to '/foo/*' when\n    // globstar is _false_\n    var globstar = opts ? !!opts.globstar : false;\n    // If we are doing extended matching, this boolean is true when we are inside\n    // a group (eg {*.html,*.js}), and false otherwise.\n    var inGroup = false;\n    // RegExp flags (eg \"i\" ) to pass in to RegExp constructor.\n    var flags = opts && typeof (opts.flags) === \"string\" ? opts.flags : \"\";\n    var c;\n    for (var i = 0, len = str.length; i < len; i++) {\n        c = str[i];\n        switch (c) {\n            case \"/\":\n            case \"$\":\n            case \"^\":\n            case \"+\":\n            case \".\":\n            case \"(\":\n            case \")\":\n            case \"=\":\n            case \"!\":\n            case \"|\":\n                reStr += \"\\\\\" + c;\n                break;\n            case \"?\":\n                if (extended) {\n                    reStr += \".\";\n                    break;\n                }\n            case \"[\":\n            case \"]\":\n                if (extended) {\n                    reStr += c;\n                    break;\n                }\n            case \"{\":\n                if (extended) {\n                    inGroup = true;\n                    reStr += \"(\";\n                    break;\n                }\n            case \"}\":\n                if (extended) {\n                    inGroup = false;\n                    reStr += \")\";\n                    break;\n                }\n            case \",\":\n                if (inGroup) {\n                    reStr += \"|\";\n                    break;\n                }\n                reStr += \"\\\\\" + c;\n                break;\n            case \"*\":\n                // Move over all consecutive \"*\"'s.\n                // Also store the previous and next characters\n                var prevChar = str[i - 1];\n                var starCount = 1;\n                while (str[i + 1] === \"*\") {\n                    starCount++;\n                    i++;\n                }\n                var nextChar = str[i + 1];\n                if (!globstar) {\n                    // globstar is disabled, so treat any number of \"*\" as one\n                    reStr += \".*\";\n                }\n                else {\n                    // globstar is enabled, so determine if this is a globstar segment\n                    var isGlobstar = starCount > 1 // multiple \"*\"'s\n                        && (prevChar === \"/\" || prevChar === undefined || prevChar === '{' || prevChar === ',') // from the start of the segment\n                        && (nextChar === \"/\" || nextChar === undefined || nextChar === ',' || nextChar === '}'); // to the end of the segment\n                    if (isGlobstar) {\n                        if (nextChar === \"/\") {\n                            i++; // move over the \"/\"\n                        }\n                        else if (prevChar === '/' && reStr.endsWith('\\\\/')) {\n                            reStr = reStr.substr(0, reStr.length - 2);\n                        }\n                        // it's a globstar, so match zero or more path segments\n                        reStr += \"((?:[^/]*(?:\\/|$))*)\";\n                    }\n                    else {\n                        // it's not a globstar, so only match one path segment\n                        reStr += \"([^/]*)\";\n                    }\n                }\n                break;\n            default:\n                reStr += c;\n        }\n    }\n    // When regexp 'g' flag is specified don't\n    // constrain the regular expression with ^ & $\n    if (!flags || !~flags.indexOf('g')) {\n        reStr = \"^\" + reStr + \"$\";\n    }\n    return new RegExp(reStr, flags);\n}\n;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as Json from 'jsonc-parser';\nimport { URI } from 'vscode-uri';\nimport * as Strings from '../utils/strings';\nimport * as Parser from '../parser/jsonParser';\nimport * as nls from 'vscode-nls';\nimport { createRegex } from '../utils/glob';\nvar localize = nls.loadMessageBundle();\nvar BANG = '!';\nvar PATH_SEP = '/';\nvar FilePatternAssociation = /** @class */ (function () {\n    function FilePatternAssociation(pattern, uris) {\n        this.globWrappers = [];\n        try {\n            for (var _i = 0, pattern_1 = pattern; _i < pattern_1.length; _i++) {\n                var patternString = pattern_1[_i];\n                var include = patternString[0] !== BANG;\n                if (!include) {\n                    patternString = patternString.substring(1);\n                }\n                if (patternString.length > 0) {\n                    if (patternString[0] === PATH_SEP) {\n                        patternString = patternString.substring(1);\n                    }\n                    this.globWrappers.push({\n                        regexp: createRegex('**/' + patternString, { extended: true, globstar: true }),\n                        include: include,\n                    });\n                }\n            }\n            ;\n            this.uris = uris;\n        }\n        catch (e) {\n            this.globWrappers.length = 0;\n            this.uris = [];\n        }\n    }\n    FilePatternAssociation.prototype.matchesPattern = function (fileName) {\n        var match = false;\n        for (var _i = 0, _a = this.globWrappers; _i < _a.length; _i++) {\n            var _b = _a[_i], regexp = _b.regexp, include = _b.include;\n            if (regexp.test(fileName)) {\n                match = include;\n            }\n        }\n        return match;\n    };\n    FilePatternAssociation.prototype.getURIs = function () {\n        return this.uris;\n    };\n    return FilePatternAssociation;\n}());\nvar SchemaHandle = /** @class */ (function () {\n    function SchemaHandle(service, url, unresolvedSchemaContent) {\n        this.service = service;\n        this.url = url;\n        this.dependencies = {};\n        if (unresolvedSchemaContent) {\n            this.unresolvedSchema = this.service.promise.resolve(new UnresolvedSchema(unresolvedSchemaContent));\n        }\n    }\n    SchemaHandle.prototype.getUnresolvedSchema = function () {\n        if (!this.unresolvedSchema) {\n            this.unresolvedSchema = this.service.loadSchema(this.url);\n        }\n        return this.unresolvedSchema;\n    };\n    SchemaHandle.prototype.getResolvedSchema = function () {\n        var _this = this;\n        if (!this.resolvedSchema) {\n            this.resolvedSchema = this.getUnresolvedSchema().then(function (unresolved) {\n                return _this.service.resolveSchemaContent(unresolved, _this.url, _this.dependencies);\n            });\n        }\n        return this.resolvedSchema;\n    };\n    SchemaHandle.prototype.clearSchema = function () {\n        this.resolvedSchema = undefined;\n        this.unresolvedSchema = undefined;\n        this.dependencies = {};\n    };\n    return SchemaHandle;\n}());\nvar UnresolvedSchema = /** @class */ (function () {\n    function UnresolvedSchema(schema, errors) {\n        if (errors === void 0) { errors = []; }\n        this.schema = schema;\n        this.errors = errors;\n    }\n    return UnresolvedSchema;\n}());\nexport { UnresolvedSchema };\nvar ResolvedSchema = /** @class */ (function () {\n    function ResolvedSchema(schema, errors) {\n        if (errors === void 0) { errors = []; }\n        this.schema = schema;\n        this.errors = errors;\n    }\n    ResolvedSchema.prototype.getSection = function (path) {\n        var schemaRef = this.getSectionRecursive(path, this.schema);\n        if (schemaRef) {\n            return Parser.asSchema(schemaRef);\n        }\n        return undefined;\n    };\n    ResolvedSchema.prototype.getSectionRecursive = function (path, schema) {\n        if (!schema || typeof schema === 'boolean' || path.length === 0) {\n            return schema;\n        }\n        var next = path.shift();\n        if (schema.properties && typeof schema.properties[next]) {\n            return this.getSectionRecursive(path, schema.properties[next]);\n        }\n        else if (schema.patternProperties) {\n            for (var _i = 0, _a = Object.keys(schema.patternProperties); _i < _a.length; _i++) {\n                var pattern = _a[_i];\n                var regex = Strings.extendedRegExp(pattern);\n                if (regex.test(next)) {\n                    return this.getSectionRecursive(path, schema.patternProperties[pattern]);\n                }\n            }\n        }\n        else if (typeof schema.additionalProperties === 'object') {\n            return this.getSectionRecursive(path, schema.additionalProperties);\n        }\n        else if (next.match('[0-9]+')) {\n            if (Array.isArray(schema.items)) {\n                var index = parseInt(next, 10);\n                if (!isNaN(index) && schema.items[index]) {\n                    return this.getSectionRecursive(path, schema.items[index]);\n                }\n            }\n            else if (schema.items) {\n                return this.getSectionRecursive(path, schema.items);\n            }\n        }\n        return undefined;\n    };\n    return ResolvedSchema;\n}());\nexport { ResolvedSchema };\nvar JSONSchemaService = /** @class */ (function () {\n    function JSONSchemaService(requestService, contextService, promiseConstructor) {\n        this.contextService = contextService;\n        this.requestService = requestService;\n        this.promiseConstructor = promiseConstructor || Promise;\n        this.callOnDispose = [];\n        this.contributionSchemas = {};\n        this.contributionAssociations = [];\n        this.schemasById = {};\n        this.filePatternAssociations = [];\n        this.registeredSchemasIds = {};\n    }\n    JSONSchemaService.prototype.getRegisteredSchemaIds = function (filter) {\n        return Object.keys(this.registeredSchemasIds).filter(function (id) {\n            var scheme = URI.parse(id).scheme;\n            return scheme !== 'schemaservice' && (!filter || filter(scheme));\n        });\n    };\n    Object.defineProperty(JSONSchemaService.prototype, \"promise\", {\n        get: function () {\n            return this.promiseConstructor;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    JSONSchemaService.prototype.dispose = function () {\n        while (this.callOnDispose.length > 0) {\n            this.callOnDispose.pop()();\n        }\n    };\n    JSONSchemaService.prototype.onResourceChange = function (uri) {\n        var _this = this;\n        // always clear this local cache when a resource changes\n        this.cachedSchemaForResource = undefined;\n        var hasChanges = false;\n        uri = normalizeId(uri);\n        var toWalk = [uri];\n        var all = Object.keys(this.schemasById).map(function (key) { return _this.schemasById[key]; });\n        while (toWalk.length) {\n            var curr = toWalk.pop();\n            for (var i = 0; i < all.length; i++) {\n                var handle = all[i];\n                if (handle && (handle.url === curr || handle.dependencies[curr])) {\n                    if (handle.url !== curr) {\n                        toWalk.push(handle.url);\n                    }\n                    handle.clearSchema();\n                    all[i] = undefined;\n                    hasChanges = true;\n                }\n            }\n        }\n        return hasChanges;\n    };\n    JSONSchemaService.prototype.setSchemaContributions = function (schemaContributions) {\n        if (schemaContributions.schemas) {\n            var schemas = schemaContributions.schemas;\n            for (var id in schemas) {\n                var normalizedId = normalizeId(id);\n                this.contributionSchemas[normalizedId] = this.addSchemaHandle(normalizedId, schemas[id]);\n            }\n        }\n        if (Array.isArray(schemaContributions.schemaAssociations)) {\n            var schemaAssociations = schemaContributions.schemaAssociations;\n            for (var _i = 0, schemaAssociations_1 = schemaAssociations; _i < schemaAssociations_1.length; _i++) {\n                var schemaAssociation = schemaAssociations_1[_i];\n                var uris = schemaAssociation.uris.map(normalizeId);\n                var association = this.addFilePatternAssociation(schemaAssociation.pattern, uris);\n                this.contributionAssociations.push(association);\n            }\n        }\n    };\n    JSONSchemaService.prototype.addSchemaHandle = function (id, unresolvedSchemaContent) {\n        var schemaHandle = new SchemaHandle(this, id, unresolvedSchemaContent);\n        this.schemasById[id] = schemaHandle;\n        return schemaHandle;\n    };\n    JSONSchemaService.prototype.getOrAddSchemaHandle = function (id, unresolvedSchemaContent) {\n        return this.schemasById[id] || this.addSchemaHandle(id, unresolvedSchemaContent);\n    };\n    JSONSchemaService.prototype.addFilePatternAssociation = function (pattern, uris) {\n        var fpa = new FilePatternAssociation(pattern, uris);\n        this.filePatternAssociations.push(fpa);\n        return fpa;\n    };\n    JSONSchemaService.prototype.registerExternalSchema = function (uri, filePatterns, unresolvedSchemaContent) {\n        var id = normalizeId(uri);\n        this.registeredSchemasIds[id] = true;\n        this.cachedSchemaForResource = undefined;\n        if (filePatterns) {\n            this.addFilePatternAssociation(filePatterns, [uri]);\n        }\n        return unresolvedSchemaContent ? this.addSchemaHandle(id, unresolvedSchemaContent) : this.getOrAddSchemaHandle(id);\n    };\n    JSONSchemaService.prototype.clearExternalSchemas = function () {\n        this.schemasById = {};\n        this.filePatternAssociations = [];\n        this.registeredSchemasIds = {};\n        this.cachedSchemaForResource = undefined;\n        for (var id in this.contributionSchemas) {\n            this.schemasById[id] = this.contributionSchemas[id];\n            this.registeredSchemasIds[id] = true;\n        }\n        for (var _i = 0, _a = this.contributionAssociations; _i < _a.length; _i++) {\n            var contributionAssociation = _a[_i];\n            this.filePatternAssociations.push(contributionAssociation);\n        }\n    };\n    JSONSchemaService.prototype.getResolvedSchema = function (schemaId) {\n        var id = normalizeId(schemaId);\n        var schemaHandle = this.schemasById[id];\n        if (schemaHandle) {\n            return schemaHandle.getResolvedSchema();\n        }\n        return this.promise.resolve(undefined);\n    };\n    JSONSchemaService.prototype.loadSchema = function (url) {\n        if (!this.requestService) {\n            var errorMessage = localize('json.schema.norequestservice', 'Unable to load schema from \\'{0}\\'. No schema request service available', toDisplayString(url));\n            return this.promise.resolve(new UnresolvedSchema({}, [errorMessage]));\n        }\n        return this.requestService(url).then(function (content) {\n            if (!content) {\n                var errorMessage = localize('json.schema.nocontent', 'Unable to load schema from \\'{0}\\': No content.', toDisplayString(url));\n                return new UnresolvedSchema({}, [errorMessage]);\n            }\n            var schemaContent = {};\n            var jsonErrors = [];\n            schemaContent = Json.parse(content, jsonErrors);\n            var errors = jsonErrors.length ? [localize('json.schema.invalidFormat', 'Unable to parse content from \\'{0}\\': Parse error at offset {1}.', toDisplayString(url), jsonErrors[0].offset)] : [];\n            return new UnresolvedSchema(schemaContent, errors);\n        }, function (error) {\n            var errorMessage = error.toString();\n            var errorSplit = error.toString().split('Error: ');\n            if (errorSplit.length > 1) {\n                // more concise error message, URL and context are attached by caller anyways\n                errorMessage = errorSplit[1];\n            }\n            if (Strings.endsWith(errorMessage, '.')) {\n                errorMessage = errorMessage.substr(0, errorMessage.length - 1);\n            }\n            return new UnresolvedSchema({}, [localize('json.schema.nocontent', 'Unable to load schema from \\'{0}\\': {1}.', toDisplayString(url), errorMessage)]);\n        });\n    };\n    JSONSchemaService.prototype.resolveSchemaContent = function (schemaToResolve, schemaURL, dependencies) {\n        var _this = this;\n        var resolveErrors = schemaToResolve.errors.slice(0);\n        var schema = schemaToResolve.schema;\n        if (schema.$schema) {\n            var id = normalizeId(schema.$schema);\n            if (id === 'http://json-schema.org/draft-03/schema') {\n                return this.promise.resolve(new ResolvedSchema({}, [localize('json.schema.draft03.notsupported', \"Draft-03 schemas are not supported.\")]));\n            }\n            else if (id === 'https://json-schema.org/draft/2019-09/schema') {\n                resolveErrors.push(localize('json.schema.draft201909.notsupported', \"Draft 2019-09 schemas are not yet fully supported.\"));\n            }\n        }\n        var contextService = this.contextService;\n        var findSection = function (schema, path) {\n            if (!path) {\n                return schema;\n            }\n            var current = schema;\n            if (path[0] === '/') {\n                path = path.substr(1);\n            }\n            path.split('/').some(function (part) {\n                part = part.replace(/~1/g, '/').replace(/~0/g, '~');\n                current = current[part];\n                return !current;\n            });\n            return current;\n        };\n        var merge = function (target, sourceRoot, sourceURI, refSegment) {\n            var path = refSegment ? decodeURIComponent(refSegment) : undefined;\n            var section = findSection(sourceRoot, path);\n            if (section) {\n                for (var key in section) {\n                    if (section.hasOwnProperty(key) && !target.hasOwnProperty(key)) {\n                        target[key] = section[key];\n                    }\n                }\n            }\n            else {\n                resolveErrors.push(localize('json.schema.invalidref', '$ref \\'{0}\\' in \\'{1}\\' can not be resolved.', path, sourceURI));\n            }\n        };\n        var resolveExternalLink = function (node, uri, refSegment, parentSchemaURL, parentSchemaDependencies) {\n            if (contextService && !/^[A-Za-z][A-Za-z0-9+\\-.+]*:\\/\\/.*/.test(uri)) {\n                uri = contextService.resolveRelativePath(uri, parentSchemaURL);\n            }\n            uri = normalizeId(uri);\n            var referencedHandle = _this.getOrAddSchemaHandle(uri);\n            return referencedHandle.getUnresolvedSchema().then(function (unresolvedSchema) {\n                parentSchemaDependencies[uri] = true;\n                if (unresolvedSchema.errors.length) {\n                    var loc = refSegment ? uri + '#' + refSegment : uri;\n                    resolveErrors.push(localize('json.schema.problemloadingref', 'Problems loading reference \\'{0}\\': {1}', loc, unresolvedSchema.errors[0]));\n                }\n                merge(node, unresolvedSchema.schema, uri, refSegment);\n                return resolveRefs(node, unresolvedSchema.schema, uri, referencedHandle.dependencies);\n            });\n        };\n        var resolveRefs = function (node, parentSchema, parentSchemaURL, parentSchemaDependencies) {\n            if (!node || typeof node !== 'object') {\n                return Promise.resolve(null);\n            }\n            var toWalk = [node];\n            var seen = [];\n            var openPromises = [];\n            var collectEntries = function () {\n                var entries = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    entries[_i] = arguments[_i];\n                }\n                for (var _a = 0, entries_1 = entries; _a < entries_1.length; _a++) {\n                    var entry = entries_1[_a];\n                    if (typeof entry === 'object') {\n                        toWalk.push(entry);\n                    }\n                }\n            };\n            var collectMapEntries = function () {\n                var maps = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    maps[_i] = arguments[_i];\n                }\n                for (var _a = 0, maps_1 = maps; _a < maps_1.length; _a++) {\n                    var map = maps_1[_a];\n                    if (typeof map === 'object') {\n                        for (var k in map) {\n                            var key = k;\n                            var entry = map[key];\n                            if (typeof entry === 'object') {\n                                toWalk.push(entry);\n                            }\n                        }\n                    }\n                }\n            };\n            var collectArrayEntries = function () {\n                var arrays = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    arrays[_i] = arguments[_i];\n                }\n                for (var _a = 0, arrays_1 = arrays; _a < arrays_1.length; _a++) {\n                    var array = arrays_1[_a];\n                    if (Array.isArray(array)) {\n                        for (var _b = 0, array_1 = array; _b < array_1.length; _b++) {\n                            var entry = array_1[_b];\n                            if (typeof entry === 'object') {\n                                toWalk.push(entry);\n                            }\n                        }\n                    }\n                }\n            };\n            var handleRef = function (next) {\n                var seenRefs = [];\n                while (next.$ref) {\n                    var ref = next.$ref;\n                    var segments = ref.split('#', 2);\n                    delete next.$ref;\n                    if (segments[0].length > 0) {\n                        openPromises.push(resolveExternalLink(next, segments[0], segments[1], parentSchemaURL, parentSchemaDependencies));\n                        return;\n                    }\n                    else {\n                        if (seenRefs.indexOf(ref) === -1) {\n                            merge(next, parentSchema, parentSchemaURL, segments[1]); // can set next.$ref again, use seenRefs to avoid circle\n                            seenRefs.push(ref);\n                        }\n                    }\n                }\n                collectEntries(next.items, next.additionalItems, next.additionalProperties, next.not, next.contains, next.propertyNames, next.if, next.then, next.else);\n                collectMapEntries(next.definitions, next.properties, next.patternProperties, next.dependencies);\n                collectArrayEntries(next.anyOf, next.allOf, next.oneOf, next.items);\n            };\n            while (toWalk.length) {\n                var next = toWalk.pop();\n                if (seen.indexOf(next) >= 0) {\n                    continue;\n                }\n                seen.push(next);\n                handleRef(next);\n            }\n            return _this.promise.all(openPromises);\n        };\n        return resolveRefs(schema, schema, schemaURL, dependencies).then(function (_) { return new ResolvedSchema(schema, resolveErrors); });\n    };\n    JSONSchemaService.prototype.getSchemaForResource = function (resource, document) {\n        // first use $schema if present\n        if (document && document.root && document.root.type === 'object') {\n            var schemaProperties = document.root.properties.filter(function (p) { return (p.keyNode.value === '$schema') && p.valueNode && p.valueNode.type === 'string'; });\n            if (schemaProperties.length > 0) {\n                var valueNode = schemaProperties[0].valueNode;\n                if (valueNode && valueNode.type === 'string') {\n                    var schemeId = Parser.getNodeValue(valueNode);\n                    if (schemeId && Strings.startsWith(schemeId, '.') && this.contextService) {\n                        schemeId = this.contextService.resolveRelativePath(schemeId, resource);\n                    }\n                    if (schemeId) {\n                        var id = normalizeId(schemeId);\n                        return this.getOrAddSchemaHandle(id).getResolvedSchema();\n                    }\n                }\n            }\n        }\n        if (this.cachedSchemaForResource && this.cachedSchemaForResource.resource === resource) {\n            return this.cachedSchemaForResource.resolvedSchema;\n        }\n        var seen = Object.create(null);\n        var schemas = [];\n        var normalizedResource = normalizeResourceForMatching(resource);\n        for (var _i = 0, _a = this.filePatternAssociations; _i < _a.length; _i++) {\n            var entry = _a[_i];\n            if (entry.matchesPattern(normalizedResource)) {\n                for (var _b = 0, _c = entry.getURIs(); _b < _c.length; _b++) {\n                    var schemaId = _c[_b];\n                    if (!seen[schemaId]) {\n                        schemas.push(schemaId);\n                        seen[schemaId] = true;\n                    }\n                }\n            }\n        }\n        var resolvedSchema = schemas.length > 0 ? this.createCombinedSchema(resource, schemas).getResolvedSchema() : this.promise.resolve(undefined);\n        this.cachedSchemaForResource = { resource: resource, resolvedSchema: resolvedSchema };\n        return resolvedSchema;\n    };\n    JSONSchemaService.prototype.createCombinedSchema = function (resource, schemaIds) {\n        if (schemaIds.length === 1) {\n            return this.getOrAddSchemaHandle(schemaIds[0]);\n        }\n        else {\n            var combinedSchemaId = 'schemaservice://combinedSchema/' + encodeURIComponent(resource);\n            var combinedSchema = {\n                allOf: schemaIds.map(function (schemaId) { return ({ $ref: schemaId }); })\n            };\n            return this.addSchemaHandle(combinedSchemaId, combinedSchema);\n        }\n    };\n    JSONSchemaService.prototype.getMatchingSchemas = function (document, jsonDocument, schema) {\n        if (schema) {\n            var id = schema.id || ('schemaservice://untitled/matchingSchemas/' + idCounter++);\n            return this.resolveSchemaContent(new UnresolvedSchema(schema), id, {}).then(function (resolvedSchema) {\n                return jsonDocument.getMatchingSchemas(resolvedSchema.schema).filter(function (s) { return !s.inverted; });\n            });\n        }\n        return this.getSchemaForResource(document.uri, jsonDocument).then(function (schema) {\n            if (schema) {\n                return jsonDocument.getMatchingSchemas(schema.schema).filter(function (s) { return !s.inverted; });\n            }\n            return [];\n        });\n    };\n    return JSONSchemaService;\n}());\nexport { JSONSchemaService };\nvar idCounter = 0;\nfunction normalizeId(id) {\n    // remove trailing '#', normalize drive capitalization\n    try {\n        return URI.parse(id).toString();\n    }\n    catch (e) {\n        return id;\n    }\n}\nfunction normalizeResourceForMatching(resource) {\n    // remove queries and fragments, normalize drive capitalization\n    try {\n        return URI.parse(resource).with({ fragment: null, query: null }).toString();\n    }\n    catch (e) {\n        return resource;\n    }\n}\nfunction toDisplayString(url) {\n    try {\n        var uri = URI.parse(url);\n        if (uri.scheme === 'file') {\n            return uri.fsPath;\n        }\n    }\n    catch (e) {\n        // ignore\n    }\n    return url;\n}\n",null,null,null,"/*---------------------------------------------------------------------------------------------\n*  Copyright (c) Microsoft Corporation. All rights reserved.\n*  Licensed under the MIT License. See License.txt in the project root for license information.\n*--------------------------------------------------------------------------------------------*/\nexport function stringifyObject(obj, indent, stringifyLiteral) {\n    if (obj !== null && typeof obj === 'object') {\n        var newIndent = indent + '\\t';\n        if (Array.isArray(obj)) {\n            if (obj.length === 0) {\n                return '[]';\n            }\n            var result = '[\\n';\n            for (var i = 0; i < obj.length; i++) {\n                result += newIndent + stringifyObject(obj[i], newIndent, stringifyLiteral);\n                if (i < obj.length - 1) {\n                    result += ',';\n                }\n                result += '\\n';\n            }\n            result += indent + ']';\n            return result;\n        }\n        else {\n            var keys = Object.keys(obj);\n            if (keys.length === 0) {\n                return '{}';\n            }\n            var result = '{\\n';\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                result += newIndent + JSON.stringify(key) + ': ' + stringifyObject(obj[key], newIndent, stringifyLiteral);\n                if (i < keys.length - 1) {\n                    result += ',';\n                }\n                result += '\\n';\n            }\n            result += indent + '}';\n            return result;\n        }\n    }\n    return stringifyLiteral(obj);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as Parser from '../parser/jsonParser';\nimport * as Json from 'jsonc-parser';\nimport { stringifyObject } from '../utils/json';\nimport { endsWith, extendedRegExp } from '../utils/strings';\nimport { isDefined } from '../utils/objects';\nimport { CompletionItem, CompletionItemKind, Range, TextEdit, InsertTextFormat, MarkupKind } from '../jsonLanguageTypes';\nimport * as nls from 'vscode-nls';\nvar localize = nls.loadMessageBundle();\nvar valueCommitCharacters = [',', '}', ']'];\nvar propertyCommitCharacters = [':'];\nvar JSONCompletion = /** @class */ (function () {\n    function JSONCompletion(schemaService, contributions, promiseConstructor, clientCapabilities) {\n        if (contributions === void 0) { contributions = []; }\n        if (promiseConstructor === void 0) { promiseConstructor = Promise; }\n        if (clientCapabilities === void 0) { clientCapabilities = {}; }\n        this.schemaService = schemaService;\n        this.contributions = contributions;\n        this.promiseConstructor = promiseConstructor;\n        this.clientCapabilities = clientCapabilities;\n    }\n    JSONCompletion.prototype.doResolve = function (item) {\n        for (var i = this.contributions.length - 1; i >= 0; i--) {\n            var resolveCompletion = this.contributions[i].resolveCompletion;\n            if (resolveCompletion) {\n                var resolver = resolveCompletion(item);\n                if (resolver) {\n                    return resolver;\n                }\n            }\n        }\n        return this.promiseConstructor.resolve(item);\n    };\n    JSONCompletion.prototype.doComplete = function (document, position, doc) {\n        var _this = this;\n        var result = {\n            items: [],\n            isIncomplete: false\n        };\n        var text = document.getText();\n        var offset = document.offsetAt(position);\n        var node = doc.getNodeFromOffset(offset, true);\n        if (this.isInComment(document, node ? node.offset : 0, offset)) {\n            return Promise.resolve(result);\n        }\n        if (node && (offset === node.offset + node.length) && offset > 0) {\n            var ch = text[offset - 1];\n            if (node.type === 'object' && ch === '}' || node.type === 'array' && ch === ']') {\n                // after ] or }\n                node = node.parent;\n            }\n        }\n        var currentWord = this.getCurrentWord(document, offset);\n        var overwriteRange;\n        if (node && (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null')) {\n            overwriteRange = Range.create(document.positionAt(node.offset), document.positionAt(node.offset + node.length));\n        }\n        else {\n            var overwriteStart = offset - currentWord.length;\n            if (overwriteStart > 0 && text[overwriteStart - 1] === '\"') {\n                overwriteStart--;\n            }\n            overwriteRange = Range.create(document.positionAt(overwriteStart), position);\n        }\n        var supportsCommitCharacters = false; //this.doesSupportsCommitCharacters(); disabled for now, waiting for new API: https://github.com/microsoft/vscode/issues/42544\n        var proposed = {};\n        var collector = {\n            add: function (suggestion) {\n                var label = suggestion.label;\n                var existing = proposed[label];\n                if (!existing) {\n                    label = label.replace(/[\\n]/g, '');\n                    if (label.length > 60) {\n                        var shortendedLabel = label.substr(0, 57).trim() + '...';\n                        if (!proposed[shortendedLabel]) {\n                            label = shortendedLabel;\n                        }\n                    }\n                    if (overwriteRange && suggestion.insertText !== undefined) {\n                        suggestion.textEdit = TextEdit.replace(overwriteRange, suggestion.insertText);\n                    }\n                    if (supportsCommitCharacters) {\n                        suggestion.commitCharacters = suggestion.kind === CompletionItemKind.Property ? propertyCommitCharacters : valueCommitCharacters;\n                    }\n                    suggestion.label = label;\n                    proposed[label] = suggestion;\n                    result.items.push(suggestion);\n                }\n                else {\n                    if (!existing.documentation) {\n                        existing.documentation = suggestion.documentation;\n                    }\n                    if (!existing.detail) {\n                        existing.detail = suggestion.detail;\n                    }\n                }\n            },\n            setAsIncomplete: function () {\n                result.isIncomplete = true;\n            },\n            error: function (message) {\n                console.error(message);\n            },\n            log: function (message) {\n                console.log(message);\n            },\n            getNumberOfProposals: function () {\n                return result.items.length;\n            }\n        };\n        return this.schemaService.getSchemaForResource(document.uri, doc).then(function (schema) {\n            var collectionPromises = [];\n            var addValue = true;\n            var currentKey = '';\n            var currentProperty = undefined;\n            if (node) {\n                if (node.type === 'string') {\n                    var parent = node.parent;\n                    if (parent && parent.type === 'property' && parent.keyNode === node) {\n                        addValue = !parent.valueNode;\n                        currentProperty = parent;\n                        currentKey = text.substr(node.offset + 1, node.length - 2);\n                        if (parent) {\n                            node = parent.parent;\n                        }\n                    }\n                }\n            }\n            // proposals for properties\n            if (node && node.type === 'object') {\n                // don't suggest keys when the cursor is just before the opening curly brace\n                if (node.offset === offset) {\n                    return result;\n                }\n                // don't suggest properties that are already present\n                var properties = node.properties;\n                properties.forEach(function (p) {\n                    if (!currentProperty || currentProperty !== p) {\n                        proposed[p.keyNode.value] = CompletionItem.create('__');\n                    }\n                });\n                var separatorAfter_1 = '';\n                if (addValue) {\n                    separatorAfter_1 = _this.evaluateSeparatorAfter(document, document.offsetAt(overwriteRange.end));\n                }\n                if (schema) {\n                    // property proposals with schema\n                    _this.getPropertyCompletions(schema, doc, node, addValue, separatorAfter_1, collector);\n                }\n                else {\n                    // property proposals without schema\n                    _this.getSchemaLessPropertyCompletions(doc, node, currentKey, collector);\n                }\n                var location_1 = Parser.getNodePath(node);\n                _this.contributions.forEach(function (contribution) {\n                    var collectPromise = contribution.collectPropertyCompletions(document.uri, location_1, currentWord, addValue, separatorAfter_1 === '', collector);\n                    if (collectPromise) {\n                        collectionPromises.push(collectPromise);\n                    }\n                });\n                if ((!schema && currentWord.length > 0 && text.charAt(offset - currentWord.length - 1) !== '\"')) {\n                    collector.add({\n                        kind: CompletionItemKind.Property,\n                        label: _this.getLabelForValue(currentWord),\n                        insertText: _this.getInsertTextForProperty(currentWord, undefined, false, separatorAfter_1),\n                        insertTextFormat: InsertTextFormat.Snippet, documentation: '',\n                    });\n                    collector.setAsIncomplete();\n                }\n            }\n            // proposals for values\n            var types = {};\n            if (schema) {\n                // value proposals with schema\n                _this.getValueCompletions(schema, doc, node, offset, document, collector, types);\n            }\n            else {\n                // value proposals without schema\n                _this.getSchemaLessValueCompletions(doc, node, offset, document, collector);\n            }\n            if (_this.contributions.length > 0) {\n                _this.getContributedValueCompletions(doc, node, offset, document, collector, collectionPromises);\n            }\n            return _this.promiseConstructor.all(collectionPromises).then(function () {\n                if (collector.getNumberOfProposals() === 0) {\n                    var offsetForSeparator = offset;\n                    if (node && (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null')) {\n                        offsetForSeparator = node.offset + node.length;\n                    }\n                    var separatorAfter = _this.evaluateSeparatorAfter(document, offsetForSeparator);\n                    _this.addFillerValueCompletions(types, separatorAfter, collector);\n                }\n                return result;\n            });\n        });\n    };\n    JSONCompletion.prototype.getPropertyCompletions = function (schema, doc, node, addValue, separatorAfter, collector) {\n        var _this = this;\n        var matchingSchemas = doc.getMatchingSchemas(schema.schema, node.offset);\n        matchingSchemas.forEach(function (s) {\n            if (s.node === node && !s.inverted) {\n                var schemaProperties_1 = s.schema.properties;\n                if (schemaProperties_1) {\n                    Object.keys(schemaProperties_1).forEach(function (key) {\n                        var propertySchema = schemaProperties_1[key];\n                        if (typeof propertySchema === 'object' && !propertySchema.deprecationMessage && !propertySchema.doNotSuggest) {\n                            var proposal = {\n                                kind: CompletionItemKind.Property,\n                                label: key,\n                                insertText: _this.getInsertTextForProperty(key, propertySchema, addValue, separatorAfter),\n                                insertTextFormat: InsertTextFormat.Snippet,\n                                filterText: _this.getFilterTextForValue(key),\n                                documentation: _this.fromMarkup(propertySchema.markdownDescription) || propertySchema.description || '',\n                            };\n                            if (propertySchema.suggestSortText !== undefined) {\n                                proposal.sortText = propertySchema.suggestSortText;\n                            }\n                            if (proposal.insertText && endsWith(proposal.insertText, \"$1\" + separatorAfter)) {\n                                proposal.command = {\n                                    title: 'Suggest',\n                                    command: 'editor.action.triggerSuggest'\n                                };\n                            }\n                            collector.add(proposal);\n                        }\n                    });\n                }\n                var schemaPropertyNames_1 = s.schema.propertyNames;\n                if (typeof schemaPropertyNames_1 === 'object' && !schemaPropertyNames_1.deprecationMessage && !schemaPropertyNames_1.doNotSuggest) {\n                    var propertyNameCompletionItem = function (name, enumDescription) {\n                        if (enumDescription === void 0) { enumDescription = undefined; }\n                        var proposal = {\n                            kind: CompletionItemKind.Property,\n                            label: name,\n                            insertText: _this.getInsertTextForProperty(name, undefined, addValue, separatorAfter),\n                            insertTextFormat: InsertTextFormat.Snippet,\n                            filterText: _this.getFilterTextForValue(name),\n                            documentation: enumDescription || _this.fromMarkup(schemaPropertyNames_1.markdownDescription) || schemaPropertyNames_1.description || '',\n                        };\n                        if (schemaPropertyNames_1.suggestSortText !== undefined) {\n                            proposal.sortText = schemaPropertyNames_1.suggestSortText;\n                        }\n                        if (proposal.insertText && endsWith(proposal.insertText, \"$1\" + separatorAfter)) {\n                            proposal.command = {\n                                title: 'Suggest',\n                                command: 'editor.action.triggerSuggest'\n                            };\n                        }\n                        collector.add(proposal);\n                    };\n                    if (schemaPropertyNames_1.enum) {\n                        for (var i = 0; i < schemaPropertyNames_1.enum.length; i++) {\n                            var enumDescription = undefined;\n                            if (schemaPropertyNames_1.markdownEnumDescriptions && i < schemaPropertyNames_1.markdownEnumDescriptions.length) {\n                                enumDescription = _this.fromMarkup(schemaPropertyNames_1.markdownEnumDescriptions[i]);\n                            }\n                            else if (schemaPropertyNames_1.enumDescriptions && i < schemaPropertyNames_1.enumDescriptions.length) {\n                                enumDescription = schemaPropertyNames_1.enumDescriptions[i];\n                            }\n                            propertyNameCompletionItem(schemaPropertyNames_1.enum[i], enumDescription);\n                        }\n                    }\n                    if (schemaPropertyNames_1.const) {\n                        propertyNameCompletionItem(schemaPropertyNames_1.const);\n                    }\n                }\n            }\n        });\n    };\n    JSONCompletion.prototype.getSchemaLessPropertyCompletions = function (doc, node, currentKey, collector) {\n        var _this = this;\n        var collectCompletionsForSimilarObject = function (obj) {\n            obj.properties.forEach(function (p) {\n                var key = p.keyNode.value;\n                collector.add({\n                    kind: CompletionItemKind.Property,\n                    label: key,\n                    insertText: _this.getInsertTextForValue(key, ''),\n                    insertTextFormat: InsertTextFormat.Snippet,\n                    filterText: _this.getFilterTextForValue(key),\n                    documentation: ''\n                });\n            });\n        };\n        if (node.parent) {\n            if (node.parent.type === 'property') {\n                // if the object is a property value, check the tree for other objects that hang under a property of the same name\n                var parentKey_1 = node.parent.keyNode.value;\n                doc.visit(function (n) {\n                    if (n.type === 'property' && n !== node.parent && n.keyNode.value === parentKey_1 && n.valueNode && n.valueNode.type === 'object') {\n                        collectCompletionsForSimilarObject(n.valueNode);\n                    }\n                    return true;\n                });\n            }\n            else if (node.parent.type === 'array') {\n                // if the object is in an array, use all other array elements as similar objects\n                node.parent.items.forEach(function (n) {\n                    if (n.type === 'object' && n !== node) {\n                        collectCompletionsForSimilarObject(n);\n                    }\n                });\n            }\n        }\n        else if (node.type === 'object') {\n            collector.add({\n                kind: CompletionItemKind.Property,\n                label: '$schema',\n                insertText: this.getInsertTextForProperty('$schema', undefined, true, ''),\n                insertTextFormat: InsertTextFormat.Snippet, documentation: '',\n                filterText: this.getFilterTextForValue(\"$schema\")\n            });\n        }\n    };\n    JSONCompletion.prototype.getSchemaLessValueCompletions = function (doc, node, offset, document, collector) {\n        var _this = this;\n        var offsetForSeparator = offset;\n        if (node && (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null')) {\n            offsetForSeparator = node.offset + node.length;\n            node = node.parent;\n        }\n        if (!node) {\n            collector.add({\n                kind: this.getSuggestionKind('object'),\n                label: 'Empty object',\n                insertText: this.getInsertTextForValue({}, ''),\n                insertTextFormat: InsertTextFormat.Snippet,\n                documentation: ''\n            });\n            collector.add({\n                kind: this.getSuggestionKind('array'),\n                label: 'Empty array',\n                insertText: this.getInsertTextForValue([], ''),\n                insertTextFormat: InsertTextFormat.Snippet,\n                documentation: ''\n            });\n            return;\n        }\n        var separatorAfter = this.evaluateSeparatorAfter(document, offsetForSeparator);\n        var collectSuggestionsForValues = function (value) {\n            if (value.parent && !Parser.contains(value.parent, offset, true)) {\n                collector.add({\n                    kind: _this.getSuggestionKind(value.type),\n                    label: _this.getLabelTextForMatchingNode(value, document),\n                    insertText: _this.getInsertTextForMatchingNode(value, document, separatorAfter),\n                    insertTextFormat: InsertTextFormat.Snippet, documentation: ''\n                });\n            }\n            if (value.type === 'boolean') {\n                _this.addBooleanValueCompletion(!value.value, separatorAfter, collector);\n            }\n        };\n        if (node.type === 'property') {\n            if (offset > (node.colonOffset || 0)) {\n                var valueNode = node.valueNode;\n                if (valueNode && (offset > (valueNode.offset + valueNode.length) || valueNode.type === 'object' || valueNode.type === 'array')) {\n                    return;\n                }\n                // suggest values at the same key\n                var parentKey_2 = node.keyNode.value;\n                doc.visit(function (n) {\n                    if (n.type === 'property' && n.keyNode.value === parentKey_2 && n.valueNode) {\n                        collectSuggestionsForValues(n.valueNode);\n                    }\n                    return true;\n                });\n                if (parentKey_2 === '$schema' && node.parent && !node.parent.parent) {\n                    this.addDollarSchemaCompletions(separatorAfter, collector);\n                }\n            }\n        }\n        if (node.type === 'array') {\n            if (node.parent && node.parent.type === 'property') {\n                // suggest items of an array at the same key\n                var parentKey_3 = node.parent.keyNode.value;\n                doc.visit(function (n) {\n                    if (n.type === 'property' && n.keyNode.value === parentKey_3 && n.valueNode && n.valueNode.type === 'array') {\n                        n.valueNode.items.forEach(collectSuggestionsForValues);\n                    }\n                    return true;\n                });\n            }\n            else {\n                // suggest items in the same array\n                node.items.forEach(collectSuggestionsForValues);\n            }\n        }\n    };\n    JSONCompletion.prototype.getValueCompletions = function (schema, doc, node, offset, document, collector, types) {\n        var offsetForSeparator = offset;\n        var parentKey = undefined;\n        var valueNode = undefined;\n        if (node && (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null')) {\n            offsetForSeparator = node.offset + node.length;\n            valueNode = node;\n            node = node.parent;\n        }\n        if (!node) {\n            this.addSchemaValueCompletions(schema.schema, '', collector, types);\n            return;\n        }\n        if ((node.type === 'property') && offset > (node.colonOffset || 0)) {\n            var valueNode_1 = node.valueNode;\n            if (valueNode_1 && offset > (valueNode_1.offset + valueNode_1.length)) {\n                return; // we are past the value node\n            }\n            parentKey = node.keyNode.value;\n            node = node.parent;\n        }\n        if (node && (parentKey !== undefined || node.type === 'array')) {\n            var separatorAfter = this.evaluateSeparatorAfter(document, offsetForSeparator);\n            var matchingSchemas = doc.getMatchingSchemas(schema.schema, node.offset, valueNode);\n            for (var _i = 0, matchingSchemas_1 = matchingSchemas; _i < matchingSchemas_1.length; _i++) {\n                var s = matchingSchemas_1[_i];\n                if (s.node === node && !s.inverted && s.schema) {\n                    if (node.type === 'array' && s.schema.items) {\n                        if (Array.isArray(s.schema.items)) {\n                            var index = this.findItemAtOffset(node, document, offset);\n                            if (index < s.schema.items.length) {\n                                this.addSchemaValueCompletions(s.schema.items[index], separatorAfter, collector, types);\n                            }\n                        }\n                        else {\n                            this.addSchemaValueCompletions(s.schema.items, separatorAfter, collector, types);\n                        }\n                    }\n                    if (parentKey !== undefined) {\n                        var propertyMatched = false;\n                        if (s.schema.properties) {\n                            var propertySchema = s.schema.properties[parentKey];\n                            if (propertySchema) {\n                                propertyMatched = true;\n                                this.addSchemaValueCompletions(propertySchema, separatorAfter, collector, types);\n                            }\n                        }\n                        if (s.schema.patternProperties && !propertyMatched) {\n                            for (var _a = 0, _b = Object.keys(s.schema.patternProperties); _a < _b.length; _a++) {\n                                var pattern = _b[_a];\n                                var regex = extendedRegExp(pattern);\n                                if (regex.test(parentKey)) {\n                                    propertyMatched = true;\n                                    var propertySchema = s.schema.patternProperties[pattern];\n                                    this.addSchemaValueCompletions(propertySchema, separatorAfter, collector, types);\n                                }\n                            }\n                        }\n                        if (s.schema.additionalProperties && !propertyMatched) {\n                            var propertySchema = s.schema.additionalProperties;\n                            this.addSchemaValueCompletions(propertySchema, separatorAfter, collector, types);\n                        }\n                    }\n                }\n            }\n            if (parentKey === '$schema' && !node.parent) {\n                this.addDollarSchemaCompletions(separatorAfter, collector);\n            }\n            if (types['boolean']) {\n                this.addBooleanValueCompletion(true, separatorAfter, collector);\n                this.addBooleanValueCompletion(false, separatorAfter, collector);\n            }\n            if (types['null']) {\n                this.addNullValueCompletion(separatorAfter, collector);\n            }\n        }\n    };\n    JSONCompletion.prototype.getContributedValueCompletions = function (doc, node, offset, document, collector, collectionPromises) {\n        if (!node) {\n            this.contributions.forEach(function (contribution) {\n                var collectPromise = contribution.collectDefaultCompletions(document.uri, collector);\n                if (collectPromise) {\n                    collectionPromises.push(collectPromise);\n                }\n            });\n        }\n        else {\n            if (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null') {\n                node = node.parent;\n            }\n            if (node && (node.type === 'property') && offset > (node.colonOffset || 0)) {\n                var parentKey_4 = node.keyNode.value;\n                var valueNode = node.valueNode;\n                if ((!valueNode || offset <= (valueNode.offset + valueNode.length)) && node.parent) {\n                    var location_2 = Parser.getNodePath(node.parent);\n                    this.contributions.forEach(function (contribution) {\n                        var collectPromise = contribution.collectValueCompletions(document.uri, location_2, parentKey_4, collector);\n                        if (collectPromise) {\n                            collectionPromises.push(collectPromise);\n                        }\n                    });\n                }\n            }\n        }\n    };\n    JSONCompletion.prototype.addSchemaValueCompletions = function (schema, separatorAfter, collector, types) {\n        var _this = this;\n        if (typeof schema === 'object') {\n            this.addEnumValueCompletions(schema, separatorAfter, collector);\n            this.addDefaultValueCompletions(schema, separatorAfter, collector);\n            this.collectTypes(schema, types);\n            if (Array.isArray(schema.allOf)) {\n                schema.allOf.forEach(function (s) { return _this.addSchemaValueCompletions(s, separatorAfter, collector, types); });\n            }\n            if (Array.isArray(schema.anyOf)) {\n                schema.anyOf.forEach(function (s) { return _this.addSchemaValueCompletions(s, separatorAfter, collector, types); });\n            }\n            if (Array.isArray(schema.oneOf)) {\n                schema.oneOf.forEach(function (s) { return _this.addSchemaValueCompletions(s, separatorAfter, collector, types); });\n            }\n        }\n    };\n    JSONCompletion.prototype.addDefaultValueCompletions = function (schema, separatorAfter, collector, arrayDepth) {\n        var _this = this;\n        if (arrayDepth === void 0) { arrayDepth = 0; }\n        var hasProposals = false;\n        if (isDefined(schema.default)) {\n            var type = schema.type;\n            var value = schema.default;\n            for (var i = arrayDepth; i > 0; i--) {\n                value = [value];\n                type = 'array';\n            }\n            collector.add({\n                kind: this.getSuggestionKind(type),\n                label: this.getLabelForValue(value),\n                insertText: this.getInsertTextForValue(value, separatorAfter),\n                insertTextFormat: InsertTextFormat.Snippet,\n                detail: localize('json.suggest.default', 'Default value')\n            });\n            hasProposals = true;\n        }\n        if (Array.isArray(schema.examples)) {\n            schema.examples.forEach(function (example) {\n                var type = schema.type;\n                var value = example;\n                for (var i = arrayDepth; i > 0; i--) {\n                    value = [value];\n                    type = 'array';\n                }\n                collector.add({\n                    kind: _this.getSuggestionKind(type),\n                    label: _this.getLabelForValue(value),\n                    insertText: _this.getInsertTextForValue(value, separatorAfter),\n                    insertTextFormat: InsertTextFormat.Snippet\n                });\n                hasProposals = true;\n            });\n        }\n        if (Array.isArray(schema.defaultSnippets)) {\n            schema.defaultSnippets.forEach(function (s) {\n                var type = schema.type;\n                var value = s.body;\n                var label = s.label;\n                var insertText;\n                var filterText;\n                if (isDefined(value)) {\n                    var type_1 = schema.type;\n                    for (var i = arrayDepth; i > 0; i--) {\n                        value = [value];\n                        type_1 = 'array';\n                    }\n                    insertText = _this.getInsertTextForSnippetValue(value, separatorAfter);\n                    filterText = _this.getFilterTextForSnippetValue(value);\n                    label = label || _this.getLabelForSnippetValue(value);\n                }\n                else if (typeof s.bodyText === 'string') {\n                    var prefix = '', suffix = '', indent = '';\n                    for (var i = arrayDepth; i > 0; i--) {\n                        prefix = prefix + indent + '[\\n';\n                        suffix = suffix + '\\n' + indent + ']';\n                        indent += '\\t';\n                        type = 'array';\n                    }\n                    insertText = prefix + indent + s.bodyText.split('\\n').join('\\n' + indent) + suffix + separatorAfter;\n                    label = label || insertText,\n                        filterText = insertText.replace(/[\\n]/g, ''); // remove new lines\n                }\n                else {\n                    return;\n                }\n                collector.add({\n                    kind: _this.getSuggestionKind(type),\n                    label: label,\n                    documentation: _this.fromMarkup(s.markdownDescription) || s.description,\n                    insertText: insertText,\n                    insertTextFormat: InsertTextFormat.Snippet,\n                    filterText: filterText\n                });\n                hasProposals = true;\n            });\n        }\n        if (!hasProposals && typeof schema.items === 'object' && !Array.isArray(schema.items) && arrayDepth < 5 /* beware of recursion */) {\n            this.addDefaultValueCompletions(schema.items, separatorAfter, collector, arrayDepth + 1);\n        }\n    };\n    JSONCompletion.prototype.addEnumValueCompletions = function (schema, separatorAfter, collector) {\n        if (isDefined(schema.const)) {\n            collector.add({\n                kind: this.getSuggestionKind(schema.type),\n                label: this.getLabelForValue(schema.const),\n                insertText: this.getInsertTextForValue(schema.const, separatorAfter),\n                insertTextFormat: InsertTextFormat.Snippet,\n                documentation: this.fromMarkup(schema.markdownDescription) || schema.description\n            });\n        }\n        if (Array.isArray(schema.enum)) {\n            for (var i = 0, length = schema.enum.length; i < length; i++) {\n                var enm = schema.enum[i];\n                var documentation = this.fromMarkup(schema.markdownDescription) || schema.description;\n                if (schema.markdownEnumDescriptions && i < schema.markdownEnumDescriptions.length && this.doesSupportMarkdown()) {\n                    documentation = this.fromMarkup(schema.markdownEnumDescriptions[i]);\n                }\n                else if (schema.enumDescriptions && i < schema.enumDescriptions.length) {\n                    documentation = schema.enumDescriptions[i];\n                }\n                collector.add({\n                    kind: this.getSuggestionKind(schema.type),\n                    label: this.getLabelForValue(enm),\n                    insertText: this.getInsertTextForValue(enm, separatorAfter),\n                    insertTextFormat: InsertTextFormat.Snippet,\n                    documentation: documentation\n                });\n            }\n        }\n    };\n    JSONCompletion.prototype.collectTypes = function (schema, types) {\n        if (Array.isArray(schema.enum) || isDefined(schema.const)) {\n            return;\n        }\n        var type = schema.type;\n        if (Array.isArray(type)) {\n            type.forEach(function (t) { return types[t] = true; });\n        }\n        else if (type) {\n            types[type] = true;\n        }\n    };\n    JSONCompletion.prototype.addFillerValueCompletions = function (types, separatorAfter, collector) {\n        if (types['object']) {\n            collector.add({\n                kind: this.getSuggestionKind('object'),\n                label: '{}',\n                insertText: this.getInsertTextForGuessedValue({}, separatorAfter),\n                insertTextFormat: InsertTextFormat.Snippet,\n                detail: localize('defaults.object', 'New object'),\n                documentation: ''\n            });\n        }\n        if (types['array']) {\n            collector.add({\n                kind: this.getSuggestionKind('array'),\n                label: '[]',\n                insertText: this.getInsertTextForGuessedValue([], separatorAfter),\n                insertTextFormat: InsertTextFormat.Snippet,\n                detail: localize('defaults.array', 'New array'),\n                documentation: ''\n            });\n        }\n    };\n    JSONCompletion.prototype.addBooleanValueCompletion = function (value, separatorAfter, collector) {\n        collector.add({\n            kind: this.getSuggestionKind('boolean'),\n            label: value ? 'true' : 'false',\n            insertText: this.getInsertTextForValue(value, separatorAfter),\n            insertTextFormat: InsertTextFormat.Snippet,\n            documentation: ''\n        });\n    };\n    JSONCompletion.prototype.addNullValueCompletion = function (separatorAfter, collector) {\n        collector.add({\n            kind: this.getSuggestionKind('null'),\n            label: 'null',\n            insertText: 'null' + separatorAfter,\n            insertTextFormat: InsertTextFormat.Snippet,\n            documentation: ''\n        });\n    };\n    JSONCompletion.prototype.addDollarSchemaCompletions = function (separatorAfter, collector) {\n        var _this = this;\n        var schemaIds = this.schemaService.getRegisteredSchemaIds(function (schema) { return schema === 'http' || schema === 'https'; });\n        schemaIds.forEach(function (schemaId) { return collector.add({\n            kind: CompletionItemKind.Module,\n            label: _this.getLabelForValue(schemaId),\n            filterText: _this.getFilterTextForValue(schemaId),\n            insertText: _this.getInsertTextForValue(schemaId, separatorAfter),\n            insertTextFormat: InsertTextFormat.Snippet, documentation: ''\n        }); });\n    };\n    JSONCompletion.prototype.getLabelForValue = function (value) {\n        return JSON.stringify(value);\n    };\n    JSONCompletion.prototype.getFilterTextForValue = function (value) {\n        return JSON.stringify(value);\n    };\n    JSONCompletion.prototype.getFilterTextForSnippetValue = function (value) {\n        return JSON.stringify(value).replace(/\\$\\{\\d+:([^}]+)\\}|\\$\\d+/g, '$1');\n    };\n    JSONCompletion.prototype.getLabelForSnippetValue = function (value) {\n        var label = JSON.stringify(value);\n        return label.replace(/\\$\\{\\d+:([^}]+)\\}|\\$\\d+/g, '$1');\n    };\n    JSONCompletion.prototype.getInsertTextForPlainText = function (text) {\n        return text.replace(/[\\\\\\$\\}]/g, '\\\\$&'); // escape $, \\ and } \n    };\n    JSONCompletion.prototype.getInsertTextForValue = function (value, separatorAfter) {\n        var text = JSON.stringify(value, null, '\\t');\n        if (text === '{}') {\n            return '{$1}' + separatorAfter;\n        }\n        else if (text === '[]') {\n            return '[$1]' + separatorAfter;\n        }\n        return this.getInsertTextForPlainText(text + separatorAfter);\n    };\n    JSONCompletion.prototype.getInsertTextForSnippetValue = function (value, separatorAfter) {\n        var replacer = function (value) {\n            if (typeof value === 'string') {\n                if (value[0] === '^') {\n                    return value.substr(1);\n                }\n            }\n            return JSON.stringify(value);\n        };\n        return stringifyObject(value, '', replacer) + separatorAfter;\n    };\n    JSONCompletion.prototype.getInsertTextForGuessedValue = function (value, separatorAfter) {\n        switch (typeof value) {\n            case 'object':\n                if (value === null) {\n                    return '${1:null}' + separatorAfter;\n                }\n                return this.getInsertTextForValue(value, separatorAfter);\n            case 'string':\n                var snippetValue = JSON.stringify(value);\n                snippetValue = snippetValue.substr(1, snippetValue.length - 2); // remove quotes\n                snippetValue = this.getInsertTextForPlainText(snippetValue); // escape \\ and }\n                return '\"${1:' + snippetValue + '}\"' + separatorAfter;\n            case 'number':\n            case 'boolean':\n                return '${1:' + JSON.stringify(value) + '}' + separatorAfter;\n        }\n        return this.getInsertTextForValue(value, separatorAfter);\n    };\n    JSONCompletion.prototype.getSuggestionKind = function (type) {\n        if (Array.isArray(type)) {\n            var array = type;\n            type = array.length > 0 ? array[0] : undefined;\n        }\n        if (!type) {\n            return CompletionItemKind.Value;\n        }\n        switch (type) {\n            case 'string': return CompletionItemKind.Value;\n            case 'object': return CompletionItemKind.Module;\n            case 'property': return CompletionItemKind.Property;\n            default: return CompletionItemKind.Value;\n        }\n    };\n    JSONCompletion.prototype.getLabelTextForMatchingNode = function (node, document) {\n        switch (node.type) {\n            case 'array':\n                return '[]';\n            case 'object':\n                return '{}';\n            default:\n                var content = document.getText().substr(node.offset, node.length);\n                return content;\n        }\n    };\n    JSONCompletion.prototype.getInsertTextForMatchingNode = function (node, document, separatorAfter) {\n        switch (node.type) {\n            case 'array':\n                return this.getInsertTextForValue([], separatorAfter);\n            case 'object':\n                return this.getInsertTextForValue({}, separatorAfter);\n            default:\n                var content = document.getText().substr(node.offset, node.length) + separatorAfter;\n                return this.getInsertTextForPlainText(content);\n        }\n    };\n    JSONCompletion.prototype.getInsertTextForProperty = function (key, propertySchema, addValue, separatorAfter) {\n        var propertyText = this.getInsertTextForValue(key, '');\n        if (!addValue) {\n            return propertyText;\n        }\n        var resultText = propertyText + ': ';\n        var value;\n        var nValueProposals = 0;\n        if (propertySchema) {\n            if (Array.isArray(propertySchema.defaultSnippets)) {\n                if (propertySchema.defaultSnippets.length === 1) {\n                    var body = propertySchema.defaultSnippets[0].body;\n                    if (isDefined(body)) {\n                        value = this.getInsertTextForSnippetValue(body, '');\n                    }\n                }\n                nValueProposals += propertySchema.defaultSnippets.length;\n            }\n            if (propertySchema.enum) {\n                if (!value && propertySchema.enum.length === 1) {\n                    value = this.getInsertTextForGuessedValue(propertySchema.enum[0], '');\n                }\n                nValueProposals += propertySchema.enum.length;\n            }\n            if (isDefined(propertySchema.default)) {\n                if (!value) {\n                    value = this.getInsertTextForGuessedValue(propertySchema.default, '');\n                }\n                nValueProposals++;\n            }\n            if (Array.isArray(propertySchema.examples) && propertySchema.examples.length) {\n                if (!value) {\n                    value = this.getInsertTextForGuessedValue(propertySchema.examples[0], '');\n                }\n                nValueProposals += propertySchema.examples.length;\n            }\n            if (nValueProposals === 0) {\n                var type = Array.isArray(propertySchema.type) ? propertySchema.type[0] : propertySchema.type;\n                if (!type) {\n                    if (propertySchema.properties) {\n                        type = 'object';\n                    }\n                    else if (propertySchema.items) {\n                        type = 'array';\n                    }\n                }\n                switch (type) {\n                    case 'boolean':\n                        value = '$1';\n                        break;\n                    case 'string':\n                        value = '\"$1\"';\n                        break;\n                    case 'object':\n                        value = '{$1}';\n                        break;\n                    case 'array':\n                        value = '[$1]';\n                        break;\n                    case 'number':\n                    case 'integer':\n                        value = '${1:0}';\n                        break;\n                    case 'null':\n                        value = '${1:null}';\n                        break;\n                    default:\n                        return propertyText;\n                }\n            }\n        }\n        if (!value || nValueProposals > 1) {\n            value = '$1';\n        }\n        return resultText + value + separatorAfter;\n    };\n    JSONCompletion.prototype.getCurrentWord = function (document, offset) {\n        var i = offset - 1;\n        var text = document.getText();\n        while (i >= 0 && ' \\t\\n\\r\\v\":{[,]}'.indexOf(text.charAt(i)) === -1) {\n            i--;\n        }\n        return text.substring(i + 1, offset);\n    };\n    JSONCompletion.prototype.evaluateSeparatorAfter = function (document, offset) {\n        var scanner = Json.createScanner(document.getText(), true);\n        scanner.setPosition(offset);\n        var token = scanner.scan();\n        switch (token) {\n            case 5 /* CommaToken */:\n            case 2 /* CloseBraceToken */:\n            case 4 /* CloseBracketToken */:\n            case 17 /* EOF */:\n                return '';\n            default:\n                return ',';\n        }\n    };\n    JSONCompletion.prototype.findItemAtOffset = function (node, document, offset) {\n        var scanner = Json.createScanner(document.getText(), true);\n        var children = node.items;\n        for (var i = children.length - 1; i >= 0; i--) {\n            var child = children[i];\n            if (offset > child.offset + child.length) {\n                scanner.setPosition(child.offset + child.length);\n                var token = scanner.scan();\n                if (token === 5 /* CommaToken */ && offset >= scanner.getTokenOffset() + scanner.getTokenLength()) {\n                    return i + 1;\n                }\n                return i;\n            }\n            else if (offset >= child.offset) {\n                return i;\n            }\n        }\n        return 0;\n    };\n    JSONCompletion.prototype.isInComment = function (document, start, offset) {\n        var scanner = Json.createScanner(document.getText(), false);\n        scanner.setPosition(start);\n        var token = scanner.scan();\n        while (token !== 17 /* EOF */ && (scanner.getTokenOffset() + scanner.getTokenLength() < offset)) {\n            token = scanner.scan();\n        }\n        return (token === 12 /* LineCommentTrivia */ || token === 13 /* BlockCommentTrivia */) && scanner.getTokenOffset() <= offset;\n    };\n    JSONCompletion.prototype.fromMarkup = function (markupString) {\n        if (markupString && this.doesSupportMarkdown()) {\n            return {\n                kind: MarkupKind.Markdown,\n                value: markupString\n            };\n        }\n        return undefined;\n    };\n    JSONCompletion.prototype.doesSupportMarkdown = function () {\n        if (!isDefined(this.supportsMarkdown)) {\n            var completion = this.clientCapabilities.textDocument && this.clientCapabilities.textDocument.completion;\n            this.supportsMarkdown = completion && completion.completionItem && Array.isArray(completion.completionItem.documentationFormat) && completion.completionItem.documentationFormat.indexOf(MarkupKind.Markdown) !== -1;\n        }\n        return this.supportsMarkdown;\n    };\n    JSONCompletion.prototype.doesSupportsCommitCharacters = function () {\n        if (!isDefined(this.supportsCommitCharacters)) {\n            var completion = this.clientCapabilities.textDocument && this.clientCapabilities.textDocument.completion;\n            this.supportsCommitCharacters = completion && completion.completionItem && !!completion.completionItem.commitCharactersSupport;\n        }\n        return this.supportsCommitCharacters;\n    };\n    return JSONCompletion;\n}());\nexport { JSONCompletion };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as Parser from '../parser/jsonParser';\nimport { Range } from '../jsonLanguageTypes';\nvar JSONHover = /** @class */ (function () {\n    function JSONHover(schemaService, contributions, promiseConstructor) {\n        if (contributions === void 0) { contributions = []; }\n        this.schemaService = schemaService;\n        this.contributions = contributions;\n        this.promise = promiseConstructor || Promise;\n    }\n    JSONHover.prototype.doHover = function (document, position, doc) {\n        var offset = document.offsetAt(position);\n        var node = doc.getNodeFromOffset(offset);\n        if (!node || (node.type === 'object' || node.type === 'array') && offset > node.offset + 1 && offset < node.offset + node.length - 1) {\n            return this.promise.resolve(null);\n        }\n        var hoverRangeNode = node;\n        // use the property description when hovering over an object key\n        if (node.type === 'string') {\n            var parent = node.parent;\n            if (parent && parent.type === 'property' && parent.keyNode === node) {\n                node = parent.valueNode;\n                if (!node) {\n                    return this.promise.resolve(null);\n                }\n            }\n        }\n        var hoverRange = Range.create(document.positionAt(hoverRangeNode.offset), document.positionAt(hoverRangeNode.offset + hoverRangeNode.length));\n        var createHover = function (contents) {\n            var result = {\n                contents: contents,\n                range: hoverRange\n            };\n            return result;\n        };\n        var location = Parser.getNodePath(node);\n        for (var i = this.contributions.length - 1; i >= 0; i--) {\n            var contribution = this.contributions[i];\n            var promise = contribution.getInfoContribution(document.uri, location);\n            if (promise) {\n                return promise.then(function (htmlContent) { return createHover(htmlContent); });\n            }\n        }\n        return this.schemaService.getSchemaForResource(document.uri, doc).then(function (schema) {\n            if (schema && node) {\n                var matchingSchemas = doc.getMatchingSchemas(schema.schema, node.offset);\n                var title_1 = undefined;\n                var markdownDescription_1 = undefined;\n                var markdownEnumValueDescription_1 = undefined, enumValue_1 = undefined;\n                matchingSchemas.every(function (s) {\n                    if (s.node === node && !s.inverted && s.schema) {\n                        title_1 = title_1 || s.schema.title;\n                        markdownDescription_1 = markdownDescription_1 || s.schema.markdownDescription || toMarkdown(s.schema.description);\n                        if (s.schema.enum) {\n                            var idx = s.schema.enum.indexOf(Parser.getNodeValue(node));\n                            if (s.schema.markdownEnumDescriptions) {\n                                markdownEnumValueDescription_1 = s.schema.markdownEnumDescriptions[idx];\n                            }\n                            else if (s.schema.enumDescriptions) {\n                                markdownEnumValueDescription_1 = toMarkdown(s.schema.enumDescriptions[idx]);\n                            }\n                            if (markdownEnumValueDescription_1) {\n                                enumValue_1 = s.schema.enum[idx];\n                                if (typeof enumValue_1 !== 'string') {\n                                    enumValue_1 = JSON.stringify(enumValue_1);\n                                }\n                            }\n                        }\n                    }\n                    return true;\n                });\n                var result = '';\n                if (title_1) {\n                    result = toMarkdown(title_1);\n                }\n                if (markdownDescription_1) {\n                    if (result.length > 0) {\n                        result += \"\\n\\n\";\n                    }\n                    result += markdownDescription_1;\n                }\n                if (markdownEnumValueDescription_1) {\n                    if (result.length > 0) {\n                        result += \"\\n\\n\";\n                    }\n                    result += \"`\" + toMarkdownCodeBlock(enumValue_1) + \"`: \" + markdownEnumValueDescription_1;\n                }\n                return createHover([result]);\n            }\n            return null;\n        });\n    };\n    return JSONHover;\n}());\nexport { JSONHover };\nfunction toMarkdown(plain) {\n    if (plain) {\n        var res = plain.replace(/([^\\n\\r])(\\r?\\n)([^\\n\\r])/gm, '$1\\n\\n$3'); // single new lines to \\n\\n (Markdown paragraph)\n        return res.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, \"\\\\$&\"); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    return undefined;\n}\nfunction toMarkdownCodeBlock(content) {\n    // see https://daringfireball.net/projects/markdown/syntax#precode\n    if (content.indexOf('`') !== -1) {\n        return '`` ' + content + ' ``';\n    }\n    return content;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { UnresolvedSchema } from './jsonSchemaService';\nimport { ErrorCode, Diagnostic, DiagnosticSeverity, Range } from '../jsonLanguageTypes';\nimport * as nls from 'vscode-nls';\nimport { isBoolean } from '../utils/objects';\nvar localize = nls.loadMessageBundle();\nvar JSONValidation = /** @class */ (function () {\n    function JSONValidation(jsonSchemaService, promiseConstructor) {\n        this.jsonSchemaService = jsonSchemaService;\n        this.promise = promiseConstructor;\n        this.validationEnabled = true;\n    }\n    JSONValidation.prototype.configure = function (raw) {\n        if (raw) {\n            this.validationEnabled = raw.validate !== false;\n            this.commentSeverity = raw.allowComments ? undefined : DiagnosticSeverity.Error;\n        }\n    };\n    JSONValidation.prototype.doValidation = function (textDocument, jsonDocument, documentSettings, schema) {\n        var _this = this;\n        if (!this.validationEnabled) {\n            return this.promise.resolve([]);\n        }\n        var diagnostics = [];\n        var added = {};\n        var addProblem = function (problem) {\n            // remove duplicated messages\n            var signature = problem.range.start.line + ' ' + problem.range.start.character + ' ' + problem.message;\n            if (!added[signature]) {\n                added[signature] = true;\n                diagnostics.push(problem);\n            }\n        };\n        var getDiagnostics = function (schema) {\n            var trailingCommaSeverity = (documentSettings === null || documentSettings === void 0 ? void 0 : documentSettings.trailingCommas) ? toDiagnosticSeverity(documentSettings.trailingCommas) : DiagnosticSeverity.Error;\n            var commentSeverity = (documentSettings === null || documentSettings === void 0 ? void 0 : documentSettings.comments) ? toDiagnosticSeverity(documentSettings.comments) : _this.commentSeverity;\n            var schemaValidation = (documentSettings === null || documentSettings === void 0 ? void 0 : documentSettings.schemaValidation) ? toDiagnosticSeverity(documentSettings.schemaValidation) : DiagnosticSeverity.Warning;\n            var schemaRequest = (documentSettings === null || documentSettings === void 0 ? void 0 : documentSettings.schemaRequest) ? toDiagnosticSeverity(documentSettings.schemaRequest) : DiagnosticSeverity.Warning;\n            if (schema) {\n                if (schema.errors.length && jsonDocument.root && schemaRequest) {\n                    var astRoot = jsonDocument.root;\n                    var property = astRoot.type === 'object' ? astRoot.properties[0] : undefined;\n                    if (property && property.keyNode.value === '$schema') {\n                        var node = property.valueNode || property;\n                        var range = Range.create(textDocument.positionAt(node.offset), textDocument.positionAt(node.offset + node.length));\n                        addProblem(Diagnostic.create(range, schema.errors[0], schemaRequest, ErrorCode.SchemaResolveError));\n                    }\n                    else {\n                        var range = Range.create(textDocument.positionAt(astRoot.offset), textDocument.positionAt(astRoot.offset + 1));\n                        addProblem(Diagnostic.create(range, schema.errors[0], schemaRequest, ErrorCode.SchemaResolveError));\n                    }\n                }\n                else if (schemaValidation) {\n                    var semanticErrors = jsonDocument.validate(textDocument, schema.schema, schemaValidation);\n                    if (semanticErrors) {\n                        semanticErrors.forEach(addProblem);\n                    }\n                }\n                if (schemaAllowsComments(schema.schema)) {\n                    commentSeverity = undefined;\n                }\n                if (schemaAllowsTrailingCommas(schema.schema)) {\n                    trailingCommaSeverity = undefined;\n                }\n            }\n            for (var _i = 0, _a = jsonDocument.syntaxErrors; _i < _a.length; _i++) {\n                var p = _a[_i];\n                if (p.code === ErrorCode.TrailingComma) {\n                    if (typeof trailingCommaSeverity !== 'number') {\n                        continue;\n                    }\n                    p.severity = trailingCommaSeverity;\n                }\n                addProblem(p);\n            }\n            if (typeof commentSeverity === 'number') {\n                var message_1 = localize('InvalidCommentToken', 'Comments are not permitted in JSON.');\n                jsonDocument.comments.forEach(function (c) {\n                    addProblem(Diagnostic.create(c, message_1, commentSeverity, ErrorCode.CommentNotPermitted));\n                });\n            }\n            return diagnostics;\n        };\n        if (schema) {\n            var id = schema.id || ('schemaservice://untitled/' + idCounter++);\n            return this.jsonSchemaService.resolveSchemaContent(new UnresolvedSchema(schema), id, {}).then(function (resolvedSchema) {\n                return getDiagnostics(resolvedSchema);\n            });\n        }\n        return this.jsonSchemaService.getSchemaForResource(textDocument.uri, jsonDocument).then(function (schema) {\n            return getDiagnostics(schema);\n        });\n    };\n    return JSONValidation;\n}());\nexport { JSONValidation };\nvar idCounter = 0;\nfunction schemaAllowsComments(schemaRef) {\n    if (schemaRef && typeof schemaRef === 'object') {\n        if (isBoolean(schemaRef.allowComments)) {\n            return schemaRef.allowComments;\n        }\n        if (schemaRef.allOf) {\n            for (var _i = 0, _a = schemaRef.allOf; _i < _a.length; _i++) {\n                var schema = _a[_i];\n                var allow = schemaAllowsComments(schema);\n                if (isBoolean(allow)) {\n                    return allow;\n                }\n            }\n        }\n    }\n    return undefined;\n}\nfunction schemaAllowsTrailingCommas(schemaRef) {\n    if (schemaRef && typeof schemaRef === 'object') {\n        if (isBoolean(schemaRef.allowTrailingCommas)) {\n            return schemaRef.allowTrailingCommas;\n        }\n        var deprSchemaRef = schemaRef;\n        if (isBoolean(deprSchemaRef['allowsTrailingCommas'])) { // deprecated\n            return deprSchemaRef['allowsTrailingCommas'];\n        }\n        if (schemaRef.allOf) {\n            for (var _i = 0, _a = schemaRef.allOf; _i < _a.length; _i++) {\n                var schema = _a[_i];\n                var allow = schemaAllowsTrailingCommas(schema);\n                if (isBoolean(allow)) {\n                    return allow;\n                }\n            }\n        }\n    }\n    return undefined;\n}\nfunction toDiagnosticSeverity(severityLevel) {\n    switch (severityLevel) {\n        case 'error': return DiagnosticSeverity.Error;\n        case 'warning': return DiagnosticSeverity.Warning;\n        case 'ignore': return undefined;\n    }\n    return undefined;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar Digit0 = 48;\nvar Digit9 = 57;\nvar A = 65;\nvar a = 97;\nvar f = 102;\nexport function hexDigit(charCode) {\n    if (charCode < Digit0) {\n        return 0;\n    }\n    if (charCode <= Digit9) {\n        return charCode - Digit0;\n    }\n    if (charCode < a) {\n        charCode += (a - A);\n    }\n    if (charCode >= a && charCode <= f) {\n        return charCode - a + 10;\n    }\n    return 0;\n}\nexport function colorFromHex(text) {\n    if (text[0] !== '#') {\n        return undefined;\n    }\n    switch (text.length) {\n        case 4:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x11) / 255.0,\n                green: (hexDigit(text.charCodeAt(2)) * 0x11) / 255.0,\n                blue: (hexDigit(text.charCodeAt(3)) * 0x11) / 255.0,\n                alpha: 1\n            };\n        case 5:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x11) / 255.0,\n                green: (hexDigit(text.charCodeAt(2)) * 0x11) / 255.0,\n                blue: (hexDigit(text.charCodeAt(3)) * 0x11) / 255.0,\n                alpha: (hexDigit(text.charCodeAt(4)) * 0x11) / 255.0,\n            };\n        case 7:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x10 + hexDigit(text.charCodeAt(2))) / 255.0,\n                green: (hexDigit(text.charCodeAt(3)) * 0x10 + hexDigit(text.charCodeAt(4))) / 255.0,\n                blue: (hexDigit(text.charCodeAt(5)) * 0x10 + hexDigit(text.charCodeAt(6))) / 255.0,\n                alpha: 1\n            };\n        case 9:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x10 + hexDigit(text.charCodeAt(2))) / 255.0,\n                green: (hexDigit(text.charCodeAt(3)) * 0x10 + hexDigit(text.charCodeAt(4))) / 255.0,\n                blue: (hexDigit(text.charCodeAt(5)) * 0x10 + hexDigit(text.charCodeAt(6))) / 255.0,\n                alpha: (hexDigit(text.charCodeAt(7)) * 0x10 + hexDigit(text.charCodeAt(8))) / 255.0\n            };\n    }\n    return undefined;\n}\nexport function colorFrom256RGB(red, green, blue, alpha) {\n    if (alpha === void 0) { alpha = 1.0; }\n    return {\n        red: red / 255.0,\n        green: green / 255.0,\n        blue: blue / 255.0,\n        alpha: alpha\n    };\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as Parser from '../parser/jsonParser';\nimport * as Strings from '../utils/strings';\nimport { colorFromHex } from '../utils/colors';\nimport { Range, TextEdit, SymbolKind, Location } from \"../jsonLanguageTypes\";\nvar JSONDocumentSymbols = /** @class */ (function () {\n    function JSONDocumentSymbols(schemaService) {\n        this.schemaService = schemaService;\n    }\n    JSONDocumentSymbols.prototype.findDocumentSymbols = function (document, doc, context) {\n        var _this = this;\n        if (context === void 0) { context = { resultLimit: Number.MAX_VALUE }; }\n        var root = doc.root;\n        if (!root) {\n            return [];\n        }\n        var limit = context.resultLimit || Number.MAX_VALUE;\n        // special handling for key bindings\n        var resourceString = document.uri;\n        if ((resourceString === 'vscode://defaultsettings/keybindings.json') || Strings.endsWith(resourceString.toLowerCase(), '/user/keybindings.json')) {\n            if (root.type === 'array') {\n                var result_1 = [];\n                for (var _i = 0, _a = root.items; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    if (item.type === 'object') {\n                        for (var _b = 0, _c = item.properties; _b < _c.length; _b++) {\n                            var property = _c[_b];\n                            if (property.keyNode.value === 'key' && property.valueNode) {\n                                var location = Location.create(document.uri, getRange(document, item));\n                                result_1.push({ name: Parser.getNodeValue(property.valueNode), kind: SymbolKind.Function, location: location });\n                                limit--;\n                                if (limit <= 0) {\n                                    if (context && context.onResultLimitExceeded) {\n                                        context.onResultLimitExceeded(resourceString);\n                                    }\n                                    return result_1;\n                                }\n                            }\n                        }\n                    }\n                }\n                return result_1;\n            }\n        }\n        var toVisit = [\n            { node: root, containerName: '' }\n        ];\n        var nextToVisit = 0;\n        var limitExceeded = false;\n        var result = [];\n        var collectOutlineEntries = function (node, containerName) {\n            if (node.type === 'array') {\n                node.items.forEach(function (node) {\n                    if (node) {\n                        toVisit.push({ node: node, containerName: containerName });\n                    }\n                });\n            }\n            else if (node.type === 'object') {\n                node.properties.forEach(function (property) {\n                    var valueNode = property.valueNode;\n                    if (valueNode) {\n                        if (limit > 0) {\n                            limit--;\n                            var location = Location.create(document.uri, getRange(document, property));\n                            var childContainerName = containerName ? containerName + '.' + property.keyNode.value : property.keyNode.value;\n                            result.push({ name: _this.getKeyLabel(property), kind: _this.getSymbolKind(valueNode.type), location: location, containerName: containerName });\n                            toVisit.push({ node: valueNode, containerName: childContainerName });\n                        }\n                        else {\n                            limitExceeded = true;\n                        }\n                    }\n                });\n            }\n        };\n        // breath first traversal\n        while (nextToVisit < toVisit.length) {\n            var next = toVisit[nextToVisit++];\n            collectOutlineEntries(next.node, next.containerName);\n        }\n        if (limitExceeded && context && context.onResultLimitExceeded) {\n            context.onResultLimitExceeded(resourceString);\n        }\n        return result;\n    };\n    JSONDocumentSymbols.prototype.findDocumentSymbols2 = function (document, doc, context) {\n        var _this = this;\n        if (context === void 0) { context = { resultLimit: Number.MAX_VALUE }; }\n        var root = doc.root;\n        if (!root) {\n            return [];\n        }\n        var limit = context.resultLimit || Number.MAX_VALUE;\n        // special handling for key bindings\n        var resourceString = document.uri;\n        if ((resourceString === 'vscode://defaultsettings/keybindings.json') || Strings.endsWith(resourceString.toLowerCase(), '/user/keybindings.json')) {\n            if (root.type === 'array') {\n                var result_2 = [];\n                for (var _i = 0, _a = root.items; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    if (item.type === 'object') {\n                        for (var _b = 0, _c = item.properties; _b < _c.length; _b++) {\n                            var property = _c[_b];\n                            if (property.keyNode.value === 'key' && property.valueNode) {\n                                var range = getRange(document, item);\n                                var selectionRange = getRange(document, property.keyNode);\n                                result_2.push({ name: Parser.getNodeValue(property.valueNode), kind: SymbolKind.Function, range: range, selectionRange: selectionRange });\n                                limit--;\n                                if (limit <= 0) {\n                                    if (context && context.onResultLimitExceeded) {\n                                        context.onResultLimitExceeded(resourceString);\n                                    }\n                                    return result_2;\n                                }\n                            }\n                        }\n                    }\n                }\n                return result_2;\n            }\n        }\n        var result = [];\n        var toVisit = [\n            { node: root, result: result }\n        ];\n        var nextToVisit = 0;\n        var limitExceeded = false;\n        var collectOutlineEntries = function (node, result) {\n            if (node.type === 'array') {\n                node.items.forEach(function (node, index) {\n                    if (node) {\n                        if (limit > 0) {\n                            limit--;\n                            var range = getRange(document, node);\n                            var selectionRange = range;\n                            var name = String(index);\n                            var symbol = { name: name, kind: _this.getSymbolKind(node.type), range: range, selectionRange: selectionRange, children: [] };\n                            result.push(symbol);\n                            toVisit.push({ result: symbol.children, node: node });\n                        }\n                        else {\n                            limitExceeded = true;\n                        }\n                    }\n                });\n            }\n            else if (node.type === 'object') {\n                node.properties.forEach(function (property) {\n                    var valueNode = property.valueNode;\n                    if (valueNode) {\n                        if (limit > 0) {\n                            limit--;\n                            var range = getRange(document, property);\n                            var selectionRange = getRange(document, property.keyNode);\n                            var children = [];\n                            var symbol = { name: _this.getKeyLabel(property), kind: _this.getSymbolKind(valueNode.type), range: range, selectionRange: selectionRange, children: children, detail: _this.getDetail(valueNode) };\n                            result.push(symbol);\n                            toVisit.push({ result: children, node: valueNode });\n                        }\n                        else {\n                            limitExceeded = true;\n                        }\n                    }\n                });\n            }\n        };\n        // breath first traversal\n        while (nextToVisit < toVisit.length) {\n            var next = toVisit[nextToVisit++];\n            collectOutlineEntries(next.node, next.result);\n        }\n        if (limitExceeded && context && context.onResultLimitExceeded) {\n            context.onResultLimitExceeded(resourceString);\n        }\n        return result;\n    };\n    JSONDocumentSymbols.prototype.getSymbolKind = function (nodeType) {\n        switch (nodeType) {\n            case 'object':\n                return SymbolKind.Module;\n            case 'string':\n                return SymbolKind.String;\n            case 'number':\n                return SymbolKind.Number;\n            case 'array':\n                return SymbolKind.Array;\n            case 'boolean':\n                return SymbolKind.Boolean;\n            default: // 'null'\n                return SymbolKind.Variable;\n        }\n    };\n    JSONDocumentSymbols.prototype.getKeyLabel = function (property) {\n        var name = property.keyNode.value;\n        if (name) {\n            name = name.replace(/[\\n]/g, '');\n        }\n        if (name && name.trim()) {\n            return name;\n        }\n        return \"\\\"\" + name + \"\\\"\";\n    };\n    JSONDocumentSymbols.prototype.getDetail = function (node) {\n        if (!node) {\n            return undefined;\n        }\n        if (node.type === 'boolean' || node.type === 'number' || node.type === 'null' || node.type === 'string') {\n            return String(node.value);\n        }\n        else {\n            if (node.type === 'array') {\n                return node.children.length ? undefined : '[]';\n            }\n            else if (node.type === 'object') {\n                return node.children.length ? undefined : '{}';\n            }\n        }\n        return undefined;\n    };\n    JSONDocumentSymbols.prototype.findDocumentColors = function (document, doc, context) {\n        return this.schemaService.getSchemaForResource(document.uri, doc).then(function (schema) {\n            var result = [];\n            if (schema) {\n                var limit = context && typeof context.resultLimit === 'number' ? context.resultLimit : Number.MAX_VALUE;\n                var matchingSchemas = doc.getMatchingSchemas(schema.schema);\n                var visitedNode = {};\n                for (var _i = 0, matchingSchemas_1 = matchingSchemas; _i < matchingSchemas_1.length; _i++) {\n                    var s = matchingSchemas_1[_i];\n                    if (!s.inverted && s.schema && (s.schema.format === 'color' || s.schema.format === 'color-hex') && s.node && s.node.type === 'string') {\n                        var nodeId = String(s.node.offset);\n                        if (!visitedNode[nodeId]) {\n                            var color = colorFromHex(Parser.getNodeValue(s.node));\n                            if (color) {\n                                var range = getRange(document, s.node);\n                                result.push({ color: color, range: range });\n                            }\n                            visitedNode[nodeId] = true;\n                            limit--;\n                            if (limit <= 0) {\n                                if (context && context.onResultLimitExceeded) {\n                                    context.onResultLimitExceeded(document.uri);\n                                }\n                                return result;\n                            }\n                        }\n                    }\n                }\n            }\n            return result;\n        });\n    };\n    JSONDocumentSymbols.prototype.getColorPresentations = function (document, doc, color, range) {\n        var result = [];\n        var red256 = Math.round(color.red * 255), green256 = Math.round(color.green * 255), blue256 = Math.round(color.blue * 255);\n        function toTwoDigitHex(n) {\n            var r = n.toString(16);\n            return r.length !== 2 ? '0' + r : r;\n        }\n        var label;\n        if (color.alpha === 1) {\n            label = \"#\" + toTwoDigitHex(red256) + toTwoDigitHex(green256) + toTwoDigitHex(blue256);\n        }\n        else {\n            label = \"#\" + toTwoDigitHex(red256) + toTwoDigitHex(green256) + toTwoDigitHex(blue256) + toTwoDigitHex(Math.round(color.alpha * 255));\n        }\n        result.push({ label: label, textEdit: TextEdit.replace(range, JSON.stringify(label)) });\n        return result;\n    };\n    return JSONDocumentSymbols;\n}());\nexport { JSONDocumentSymbols };\nfunction getRange(document, node) {\n    return Range.create(document.positionAt(node.offset), document.positionAt(node.offset + node.length));\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as nls from 'vscode-nls';\nvar localize = nls.loadMessageBundle();\nexport var schemaContributions = {\n    schemaAssociations: [],\n    schemas: {\n        // refer to the latest schema\n        'http://json-schema.org/schema#': {\n            $ref: 'http://json-schema.org/draft-07/schema#'\n        },\n        // bundle the schema-schema to include (localized) descriptions\n        'http://json-schema.org/draft-04/schema#': {\n            '$schema': 'http://json-schema.org/draft-04/schema#',\n            'definitions': {\n                'schemaArray': {\n                    'type': 'array',\n                    'minItems': 1,\n                    'items': {\n                        '$ref': '#'\n                    }\n                },\n                'positiveInteger': {\n                    'type': 'integer',\n                    'minimum': 0\n                },\n                'positiveIntegerDefault0': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveInteger'\n                        },\n                        {\n                            'default': 0\n                        }\n                    ]\n                },\n                'simpleTypes': {\n                    'type': 'string',\n                    'enum': [\n                        'array',\n                        'boolean',\n                        'integer',\n                        'null',\n                        'number',\n                        'object',\n                        'string'\n                    ]\n                },\n                'stringArray': {\n                    'type': 'array',\n                    'items': {\n                        'type': 'string'\n                    },\n                    'minItems': 1,\n                    'uniqueItems': true\n                }\n            },\n            'type': 'object',\n            'properties': {\n                'id': {\n                    'type': 'string',\n                    'format': 'uri'\n                },\n                '$schema': {\n                    'type': 'string',\n                    'format': 'uri'\n                },\n                'title': {\n                    'type': 'string'\n                },\n                'description': {\n                    'type': 'string'\n                },\n                'default': {},\n                'multipleOf': {\n                    'type': 'number',\n                    'minimum': 0,\n                    'exclusiveMinimum': true\n                },\n                'maximum': {\n                    'type': 'number'\n                },\n                'exclusiveMaximum': {\n                    'type': 'boolean',\n                    'default': false\n                },\n                'minimum': {\n                    'type': 'number'\n                },\n                'exclusiveMinimum': {\n                    'type': 'boolean',\n                    'default': false\n                },\n                'maxLength': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveInteger'\n                        }\n                    ]\n                },\n                'minLength': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveIntegerDefault0'\n                        }\n                    ]\n                },\n                'pattern': {\n                    'type': 'string',\n                    'format': 'regex'\n                },\n                'additionalItems': {\n                    'anyOf': [\n                        {\n                            'type': 'boolean'\n                        },\n                        {\n                            '$ref': '#'\n                        }\n                    ],\n                    'default': {}\n                },\n                'items': {\n                    'anyOf': [\n                        {\n                            '$ref': '#'\n                        },\n                        {\n                            '$ref': '#/definitions/schemaArray'\n                        }\n                    ],\n                    'default': {}\n                },\n                'maxItems': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveInteger'\n                        }\n                    ]\n                },\n                'minItems': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveIntegerDefault0'\n                        }\n                    ]\n                },\n                'uniqueItems': {\n                    'type': 'boolean',\n                    'default': false\n                },\n                'maxProperties': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveInteger'\n                        }\n                    ]\n                },\n                'minProperties': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveIntegerDefault0'\n                        }\n                    ]\n                },\n                'required': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/stringArray'\n                        }\n                    ]\n                },\n                'additionalProperties': {\n                    'anyOf': [\n                        {\n                            'type': 'boolean'\n                        },\n                        {\n                            '$ref': '#'\n                        }\n                    ],\n                    'default': {}\n                },\n                'definitions': {\n                    'type': 'object',\n                    'additionalProperties': {\n                        '$ref': '#'\n                    },\n                    'default': {}\n                },\n                'properties': {\n                    'type': 'object',\n                    'additionalProperties': {\n                        '$ref': '#'\n                    },\n                    'default': {}\n                },\n                'patternProperties': {\n                    'type': 'object',\n                    'additionalProperties': {\n                        '$ref': '#'\n                    },\n                    'default': {}\n                },\n                'dependencies': {\n                    'type': 'object',\n                    'additionalProperties': {\n                        'anyOf': [\n                            {\n                                '$ref': '#'\n                            },\n                            {\n                                '$ref': '#/definitions/stringArray'\n                            }\n                        ]\n                    }\n                },\n                'enum': {\n                    'type': 'array',\n                    'minItems': 1,\n                    'uniqueItems': true\n                },\n                'type': {\n                    'anyOf': [\n                        {\n                            '$ref': '#/definitions/simpleTypes'\n                        },\n                        {\n                            'type': 'array',\n                            'items': {\n                                '$ref': '#/definitions/simpleTypes'\n                            },\n                            'minItems': 1,\n                            'uniqueItems': true\n                        }\n                    ]\n                },\n                'format': {\n                    'anyOf': [\n                        {\n                            'type': 'string',\n                            'enum': [\n                                'date-time',\n                                'uri',\n                                'email',\n                                'hostname',\n                                'ipv4',\n                                'ipv6',\n                                'regex'\n                            ]\n                        },\n                        {\n                            'type': 'string'\n                        }\n                    ]\n                },\n                'allOf': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/schemaArray'\n                        }\n                    ]\n                },\n                'anyOf': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/schemaArray'\n                        }\n                    ]\n                },\n                'oneOf': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/schemaArray'\n                        }\n                    ]\n                },\n                'not': {\n                    'allOf': [\n                        {\n                            '$ref': '#'\n                        }\n                    ]\n                }\n            },\n            'dependencies': {\n                'exclusiveMaximum': [\n                    'maximum'\n                ],\n                'exclusiveMinimum': [\n                    'minimum'\n                ]\n            },\n            'default': {}\n        },\n        'http://json-schema.org/draft-07/schema#': {\n            'definitions': {\n                'schemaArray': {\n                    'type': 'array',\n                    'minItems': 1,\n                    'items': { '$ref': '#' }\n                },\n                'nonNegativeInteger': {\n                    'type': 'integer',\n                    'minimum': 0\n                },\n                'nonNegativeIntegerDefault0': {\n                    'allOf': [\n                        { '$ref': '#/definitions/nonNegativeInteger' },\n                        { 'default': 0 }\n                    ]\n                },\n                'simpleTypes': {\n                    'enum': [\n                        'array',\n                        'boolean',\n                        'integer',\n                        'null',\n                        'number',\n                        'object',\n                        'string'\n                    ]\n                },\n                'stringArray': {\n                    'type': 'array',\n                    'items': { 'type': 'string' },\n                    'uniqueItems': true,\n                    'default': []\n                }\n            },\n            'type': ['object', 'boolean'],\n            'properties': {\n                '$id': {\n                    'type': 'string',\n                    'format': 'uri-reference'\n                },\n                '$schema': {\n                    'type': 'string',\n                    'format': 'uri'\n                },\n                '$ref': {\n                    'type': 'string',\n                    'format': 'uri-reference'\n                },\n                '$comment': {\n                    'type': 'string'\n                },\n                'title': {\n                    'type': 'string'\n                },\n                'description': {\n                    'type': 'string'\n                },\n                'default': true,\n                'readOnly': {\n                    'type': 'boolean',\n                    'default': false\n                },\n                'examples': {\n                    'type': 'array',\n                    'items': true\n                },\n                'multipleOf': {\n                    'type': 'number',\n                    'exclusiveMinimum': 0\n                },\n                'maximum': {\n                    'type': 'number'\n                },\n                'exclusiveMaximum': {\n                    'type': 'number'\n                },\n                'minimum': {\n                    'type': 'number'\n                },\n                'exclusiveMinimum': {\n                    'type': 'number'\n                },\n                'maxLength': { '$ref': '#/definitions/nonNegativeInteger' },\n                'minLength': { '$ref': '#/definitions/nonNegativeIntegerDefault0' },\n                'pattern': {\n                    'type': 'string',\n                    'format': 'regex'\n                },\n                'additionalItems': { '$ref': '#' },\n                'items': {\n                    'anyOf': [\n                        { '$ref': '#' },\n                        { '$ref': '#/definitions/schemaArray' }\n                    ],\n                    'default': true\n                },\n                'maxItems': { '$ref': '#/definitions/nonNegativeInteger' },\n                'minItems': { '$ref': '#/definitions/nonNegativeIntegerDefault0' },\n                'uniqueItems': {\n                    'type': 'boolean',\n                    'default': false\n                },\n                'contains': { '$ref': '#' },\n                'maxProperties': { '$ref': '#/definitions/nonNegativeInteger' },\n                'minProperties': { '$ref': '#/definitions/nonNegativeIntegerDefault0' },\n                'required': { '$ref': '#/definitions/stringArray' },\n                'additionalProperties': { '$ref': '#' },\n                'definitions': {\n                    'type': 'object',\n                    'additionalProperties': { '$ref': '#' },\n                    'default': {}\n                },\n                'properties': {\n                    'type': 'object',\n                    'additionalProperties': { '$ref': '#' },\n                    'default': {}\n                },\n                'patternProperties': {\n                    'type': 'object',\n                    'additionalProperties': { '$ref': '#' },\n                    'propertyNames': { 'format': 'regex' },\n                    'default': {}\n                },\n                'dependencies': {\n                    'type': 'object',\n                    'additionalProperties': {\n                        'anyOf': [\n                            { '$ref': '#' },\n                            { '$ref': '#/definitions/stringArray' }\n                        ]\n                    }\n                },\n                'propertyNames': { '$ref': '#' },\n                'const': true,\n                'enum': {\n                    'type': 'array',\n                    'items': true,\n                    'minItems': 1,\n                    'uniqueItems': true\n                },\n                'type': {\n                    'anyOf': [\n                        { '$ref': '#/definitions/simpleTypes' },\n                        {\n                            'type': 'array',\n                            'items': { '$ref': '#/definitions/simpleTypes' },\n                            'minItems': 1,\n                            'uniqueItems': true\n                        }\n                    ]\n                },\n                'format': { 'type': 'string' },\n                'contentMediaType': { 'type': 'string' },\n                'contentEncoding': { 'type': 'string' },\n                'if': { '$ref': '#' },\n                'then': { '$ref': '#' },\n                'else': { '$ref': '#' },\n                'allOf': { '$ref': '#/definitions/schemaArray' },\n                'anyOf': { '$ref': '#/definitions/schemaArray' },\n                'oneOf': { '$ref': '#/definitions/schemaArray' },\n                'not': { '$ref': '#' }\n            },\n            'default': true\n        }\n    }\n};\nvar descriptions = {\n    id: localize('schema.json.id', \"A unique identifier for the schema.\"),\n    $schema: localize('schema.json.$schema', \"The schema to verify this document against.\"),\n    title: localize('schema.json.title', \"A descriptive title of the element.\"),\n    description: localize('schema.json.description', \"A long description of the element. Used in hover menus and suggestions.\"),\n    default: localize('schema.json.default', \"A default value. Used by suggestions.\"),\n    multipleOf: localize('schema.json.multipleOf', \"A number that should cleanly divide the current value (i.e. have no remainder).\"),\n    maximum: localize('schema.json.maximum', \"The maximum numerical value, inclusive by default.\"),\n    exclusiveMaximum: localize('schema.json.exclusiveMaximum', \"Makes the maximum property exclusive.\"),\n    minimum: localize('schema.json.minimum', \"The minimum numerical value, inclusive by default.\"),\n    exclusiveMinimum: localize('schema.json.exclusiveMininum', \"Makes the minimum property exclusive.\"),\n    maxLength: localize('schema.json.maxLength', \"The maximum length of a string.\"),\n    minLength: localize('schema.json.minLength', \"The minimum length of a string.\"),\n    pattern: localize('schema.json.pattern', \"A regular expression to match the string against. It is not implicitly anchored.\"),\n    additionalItems: localize('schema.json.additionalItems', \"For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail.\"),\n    items: localize('schema.json.items', \"For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on.\"),\n    maxItems: localize('schema.json.maxItems', \"The maximum number of items that can be inside an array. Inclusive.\"),\n    minItems: localize('schema.json.minItems', \"The minimum number of items that can be inside an array. Inclusive.\"),\n    uniqueItems: localize('schema.json.uniqueItems', \"If all of the items in the array must be unique. Defaults to false.\"),\n    maxProperties: localize('schema.json.maxProperties', \"The maximum number of properties an object can have. Inclusive.\"),\n    minProperties: localize('schema.json.minProperties', \"The minimum number of properties an object can have. Inclusive.\"),\n    required: localize('schema.json.required', \"An array of strings that lists the names of all properties required on this object.\"),\n    additionalProperties: localize('schema.json.additionalProperties', \"Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail.\"),\n    definitions: localize('schema.json.definitions', \"Not used for validation. Place subschemas here that you wish to reference inline with $ref.\"),\n    properties: localize('schema.json.properties', \"A map of property names to schemas for each property.\"),\n    patternProperties: localize('schema.json.patternProperties', \"A map of regular expressions on property names to schemas for matching properties.\"),\n    dependencies: localize('schema.json.dependencies', \"A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object.\"),\n    enum: localize('schema.json.enum', \"The set of literal values that are valid.\"),\n    type: localize('schema.json.type', \"Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types.\"),\n    format: localize('schema.json.format', \"Describes the format expected for the value.\"),\n    allOf: localize('schema.json.allOf', \"An array of schemas, all of which must match.\"),\n    anyOf: localize('schema.json.anyOf', \"An array of schemas, where at least one must match.\"),\n    oneOf: localize('schema.json.oneOf', \"An array of schemas, exactly one of which must match.\"),\n    not: localize('schema.json.not', \"A schema which must not match.\"),\n    $id: localize('schema.json.$id', \"A unique identifier for the schema.\"),\n    $ref: localize('schema.json.$ref', \"Reference a definition hosted on any location.\"),\n    $comment: localize('schema.json.$comment', \"Comments from schema authors to readers or maintainers of the schema.\"),\n    readOnly: localize('schema.json.readOnly', \"Indicates that the value of the instance is managed exclusively by the owning authority.\"),\n    examples: localize('schema.json.examples', \"Sample JSON values associated with a particular schema, for the purpose of illustrating usage.\"),\n    contains: localize('schema.json.contains', \"An array instance is valid against \\\"contains\\\" if at least one of its elements is valid against the given schema.\"),\n    propertyNames: localize('schema.json.propertyNames', \"If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema.\"),\n    const: localize('schema.json.const', \"An instance validates successfully against this keyword if its value is equal to the value of the keyword.\"),\n    contentMediaType: localize('schema.json.contentMediaType', \"Describes the media type of a string property.\"),\n    contentEncoding: localize('schema.json.contentEncoding', \"Describes the content encoding of a string property.\"),\n    if: localize('schema.json.if', \"The validation outcome of the \\\"if\\\" subschema controls which of the \\\"then\\\" or \\\"else\\\" keywords are evaluated.\"),\n    then: localize('schema.json.then', \"The \\\"if\\\" subschema is used for validation when the \\\"if\\\" subschema succeeds.\"),\n    else: localize('schema.json.else', \"The \\\"else\\\" subschema is used for validation when the \\\"if\\\" subschema fails.\")\n};\nfor (var schemaName in schemaContributions.schemas) {\n    var schema = schemaContributions.schemas[schemaName];\n    for (var property in schema.properties) {\n        var propertyObject = schema.properties[property];\n        if (typeof propertyObject === 'boolean') {\n            propertyObject = schema.properties[property] = {};\n        }\n        var description = descriptions[property];\n        if (description) {\n            propertyObject['description'] = description;\n        }\n        else {\n            console.log(property + \": localize('schema.json.\" + property + \"', \\\"\\\")\");\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Range } from '../jsonLanguageTypes';\nexport function findLinks(document, doc) {\n    var links = [];\n    doc.visit(function (node) {\n        var _a;\n        if (node.type === \"property\" && node.keyNode.value === \"$ref\" && ((_a = node.valueNode) === null || _a === void 0 ? void 0 : _a.type) === 'string') {\n            var path = node.valueNode.value;\n            var targetNode = findTargetNode(doc, path);\n            if (targetNode) {\n                var targetPos = document.positionAt(targetNode.offset);\n                links.push({\n                    target: document.uri + \"#\" + (targetPos.line + 1) + \",\" + (targetPos.character + 1),\n                    range: createRange(document, node.valueNode)\n                });\n            }\n        }\n        return true;\n    });\n    return Promise.resolve(links);\n}\nfunction createRange(document, node) {\n    return Range.create(document.positionAt(node.offset + 1), document.positionAt(node.offset + node.length - 1));\n}\nfunction findTargetNode(doc, path) {\n    var tokens = parseJSONPointer(path);\n    if (!tokens) {\n        return null;\n    }\n    return findNode(tokens, doc.root);\n}\nfunction findNode(pointer, node) {\n    if (!node) {\n        return null;\n    }\n    if (pointer.length === 0) {\n        return node;\n    }\n    var token = pointer.shift();\n    if (node && node.type === 'object') {\n        var propertyNode = node.properties.find(function (propertyNode) { return propertyNode.keyNode.value === token; });\n        if (!propertyNode) {\n            return null;\n        }\n        return findNode(pointer, propertyNode.valueNode);\n    }\n    else if (node && node.type === 'array') {\n        if (token.match(/^(0|[1-9][0-9]*)$/)) {\n            var index = Number.parseInt(token);\n            var arrayItem = node.items[index];\n            if (!arrayItem) {\n                return null;\n            }\n            return findNode(pointer, arrayItem);\n        }\n    }\n    return null;\n}\nfunction parseJSONPointer(path) {\n    if (path === \"#\") {\n        return [];\n    }\n    if (path[0] !== '#' || path[1] !== '/') {\n        return null;\n    }\n    return path.substring(2).split(/\\//).map(unescape);\n}\nfunction unescape(str) {\n    return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n",null,null,null,null,null,null,null,null,null,"import { ValidateFunction } from 'ajv';\n\nexport default class AJVStub {\n  // eslint-disable-next-line class-methods-use-this\n  compile(): ValidateFunction {\n    return () => true;\n  }\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/**\n * This is a stub for `monaco-yaml/lib/esm/schemaSelectionHandlers.js`.\n */\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport function JSONSchemaSelection(): void {}\n",null,null,null,"import { initialize } from 'monaco-worker-manager/worker';\nimport { TextDocument } from 'vscode-languageserver-textdocument';\nimport {\n  CodeAction,\n  CompletionList,\n  Diagnostic,\n  DocumentLink,\n  DocumentSymbol,\n  Hover,\n  LocationLink,\n  Position,\n  Range,\n  TextEdit,\n} from 'vscode-languageserver-types';\nimport { Telemetry } from 'yaml-language-server/lib/esm/languageservice/telemetry.js';\nimport {\n  CustomFormatterOptions,\n  getLanguageService,\n  LanguageSettings,\n} from 'yaml-language-server/lib/esm/languageservice/yamlLanguageService.js';\n\nimport { languageId } from './constants.js';\n\nasync function schemaRequestService(uri: string): Promise<string> {\n  const response = await fetch(uri);\n  if (response.ok) {\n    return response.text();\n  }\n  throw new Error(`Schema request failed for ${uri}`);\n}\n\nexport interface CreateData {\n  languageSettings: LanguageSettings;\n  enableSchemaRequest?: boolean;\n}\n\nexport interface YAMLWorker {\n  doValidation: (uri: string) => Diagnostic[] | undefined;\n\n  doComplete: (uri: string, position: Position) => CompletionList | undefined;\n\n  doDefinition: (uri: string, position: Position) => LocationLink[] | undefined;\n\n  doHover: (uri: string, position: Position) => Hover | null | undefined;\n\n  format: (uri: string, options: CustomFormatterOptions) => TextEdit[] | undefined;\n\n  resetSchema: (uri: string) => boolean | undefined;\n\n  findDocumentSymbols: (uri: string) => DocumentSymbol[] | undefined;\n\n  findLinks: (uri: string) => DocumentLink[] | undefined;\n\n  getCodeAction: (uri: string, range: Range, diagnostics: Diagnostic[]) => CodeAction[] | undefined;\n}\n\nconst telemetry: Telemetry = {\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  send() {},\n  sendError(name, properties) {\n    // eslint-disable-next-line no-console\n    console.error('monaco-yaml', name, properties);\n  },\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  sendTrack() {},\n};\n\ninitialize<YAMLWorker, CreateData>((ctx, { enableSchemaRequest, languageSettings }) => {\n  const languageService = getLanguageService(\n    // @ts-expect-error Type definitions are wrong. This may be null.\n    enableSchemaRequest ? schemaRequestService : null,\n    null,\n    null,\n    telemetry,\n    null,\n  );\n  languageService.configure(languageSettings);\n\n  const getTextDocument = (uri: string): TextDocument | undefined => {\n    const models = ctx.getMirrorModels();\n    for (const model of models) {\n      if (String(model.uri) === uri) {\n        return TextDocument.create(uri, languageId, model.version, model.getValue());\n      }\n    }\n  };\n\n  return {\n    doValidation(uri) {\n      const document = getTextDocument(uri);\n      if (document) {\n        return languageService.doValidation(document, Boolean(languageSettings.isKubernetes));\n      }\n    },\n\n    doComplete(uri, position) {\n      const document = getTextDocument(uri);\n      if (document) {\n        return languageService.doComplete(\n          document,\n          position,\n          Boolean(languageSettings.isKubernetes),\n        );\n      }\n    },\n\n    doDefinition(uri, position) {\n      const document = getTextDocument(uri);\n      if (document) {\n        return languageService.doDefinition(document, { position, textDocument: { uri } });\n      }\n    },\n\n    doHover(uri, position) {\n      const document = getTextDocument(uri);\n      if (document) {\n        return languageService.doHover(document, position);\n      }\n    },\n\n    format(uri, options) {\n      const document = getTextDocument(uri);\n      if (document) {\n        return languageService.doFormat(document, options);\n      }\n    },\n\n    resetSchema(uri) {\n      return languageService.resetSchema(uri);\n    },\n\n    findDocumentSymbols(uri) {\n      const document = getTextDocument(uri);\n      if (document) {\n        return languageService.findDocumentSymbols2(document, {});\n      }\n    },\n\n    findLinks(uri) {\n      const document = getTextDocument(uri);\n      if (document) {\n        return languageService.findLinks(document);\n      }\n    },\n\n    getCodeAction(uri, range, diagnostics) {\n      const document = getTextDocument(uri);\n      if (document) {\n        return languageService.getCodeAction(document, {\n          range,\n          textDocument: { uri },\n          context: { diagnostics },\n        });\n      }\n    },\n  };\n});\n","import { initialize as initializeWorker } from 'monaco-editor/esm/vs/editor/editor.worker.js';\n/**\n * Create a web worker proxy.\n *\n * @param fn - The function that creates the web worker.\n */\nexport function initialize(fn) {\n    self.onmessage = () => {\n        initializeWorker((ctx, createData) => Object.create(fn(ctx, createData)));\n    };\n}\n","export const languageId = 'yaml';\n"],"names":["assertPath","path","TypeError","JSON","stringify","normalizeStringPosix","allowAboveRoot","code","res","lastSegmentLength","lastSlash","dots","i","length","charCodeAt","lastSlashIndex","lastIndexOf","slice","posix","resolve","cwd","resolvedPath","resolvedAbsolute","arguments","undefined","process","normalize","isAbsolute","trailingSeparator","join","joined","arg","relative","from","to","fromStart","fromEnd","fromLen","toStart","toLen","lastCommonSep","fromCode","out","_makeLong","dirname","hasRoot","end","matchedSlash","basename","ext","start","extIdx","firstNonSlashEnd","extname","startDot","startPart","preDotState","format","pathObject","sep","dir","root","base","name","_format","parse","ret","delimiter","win32","module","exports","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","g","globalThis","this","Function","e","window","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","_typeof","iterator","constructor","Op","hasOwn","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","define","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","type","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","reject","record","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","apply","bind","Reflect","target","property","receiver","getOwnPropertyDescriptor","_setPrototypeOf","p","_isNativeReflectConstruct","construct","sham","Proxy","Boolean","valueOf","_construct","Parent","Class","a","instance","_toPropertyKey","input","hint","prim","toPrimitive","String","Number","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","_objectSpread2","source","getOwnPropertyDescriptors","defineProperties","_arrayLikeToArray","arr","len","arr2","Array","_iterableToArray","_unsupportedIterableToArray","minLen","n","toString","test","_toConsumableArray","isArray","subClass","superClass","_assertThisInitialized","ReferenceError","Derived","hasNativeReflectConstruct","Super","NewTarget","Constructor","_defineProperties","props","descriptor","protoProps","staticProps","allowArrayLike","it","F","s","_e","f","normalCompletion","didErr","step","_e2","_arrayWithHoles","_nonIterableRest","_i","_s","_x","_r","_arr","_n","_d","_wrapNativeSuper","_cache","Map","indexOf","has","set","Wrapper","errorHandler","listeners","unexpectedErrorHandler","setTimeout","stack","ErrorNoTelemetry","isErrorNoTelemetry","message","listener","emit","onUnexpectedError","isCancellationError","transformErrorForSerialization","$isError","stacktrace","noTelemetry","canceledName","CancellationError","Iterable","msg","BugIndicatingError","once","_this","didCall","single","map","concat","is","thing","_empty","freeze","element","predicate","index","iterables","empty","iterableOrElement","isEmpty","first","some","find","reduce","reducer","initialValue","consume","atMost","POSITIVE_INFINITY","consumed","disposableTracker","trackDisposable","x","markAsDisposed","disposable","setParentOfDisposable","child","parent","setParent","dispose","errors","AggregateError","combinedDisposable","disposables","toDisposable","children","setParentOfDisposables","DisposableStore","_toDispose","Set","_isDisposed","clear","size","DISABLE_DISPOSED_WARNING","console","warn","add","Disposable","_store","None","Node","Undefined","Event","LinkedList","_first","_last","_size","node","_insert","atTheEnd","newNode","oldLast","oldFirst","didRemove","_remove","anchor","hasPerformanceNow","performance","now","StopWatch","highResolution","_now","Date","_startTime","_stopTime","event","thisArgs","didFire","snapshot","each","merge","initial","output","options","onWillAddFirstListener","emitter","fire","onDidRemoveLastListener","Emitter","debounce","subscription","doFire","delay","leading","flushOnListenerRemove","numDebouncedCalls","leakWarningThreshold","cur","_output","clearTimeout","queueMicrotask","onWillRemoveListener","latch","cache","equals","b","firstCall","shouldEmit","defer","signal","any","events","accumulate","last","split","isT","buffer","flushAfterTimeout","flush","onDidAddFirstListener","ChainableEvent","chain","fromNodeEventEmitter","eventName","id","on","removeListener","fromDOMEventEmitter","addEventListener","removeEventListener","toPromise","runAndSubscribe","handler","runAndSubscribeWithStore","store","run","EmitterObserver","_observable","_counter","_hasChanged","addObserver","removeObserver","_change","reportChanges","fromObservable","obs","fromObservableLight","observable","count","didChange","observer","beginUpdate","endUpdate","handlePossibleChange","handleChange","EventProfiling","listenerCount","invocationCount","elapsedOverall","durations","_idPool","all","_stopWatch","elapsed","LeakageMonitor","threshold","Math","random","_warnCountdown","_a","_stacks","topStack","topCount","Stacktrace","UniqueContainer","_b","_c","_options","_leakageMon","_perfMon","_profName","_deliveryQueue","deliveryQueue","_disposed","current","_listeners","_event","callback","removeMonitor","contained","ceil","check","EventDeliveryQueuePrivate","_removeListener","log","adjustDeliveryQueue","onListenerError","dq","_deliver","_deliverQueue","enqueue","getAllMethodNames","methods","proto","getOwnPropertyNames","getAllPropertyNames","isPseudo","document","location","hash","replace","match","rest","localize","data","LANGUAGE_DEFAULT","_isWindows","_isMacintosh","_isLinux","_isWeb","_userAgent","globals","global","nodeProcess","vscode","isElectronProcess","versions","electron","isElectronRenderer","navigator","platform","env","rawNlsConfig","nlsConfig","resolved","availableLanguages","locale","osLocale","_translationsConfigFile","userAgent","maxTouchPoints","nls","comment","language","isWindows","isMacintosh","importScripts","setTimeout0IsFaster","postMessage","pending","vscodeScheduleAsyncWork","candidate","splice","lastId","myId","isChrome","LRUCachedFunction","lastCache","lastArgKey","Lazy","executor","_didRun","_value","_error","escapeRegExpCharacters","isUpperAsciiLetter","isHighSurrogate","charCode","isLowSurrogate","computeCodePoint","highSurrogate","lowSurrogate","getNextCodePoint","str","offset","nextCharCode","IS_BASIC_ASCII","fromCharCode","GraphemeBreakTree","_data","codePoint","nodeCount","nodeIndex","_INSTANCE","AmbiguousCharacters","confusableDictionary","locales","_locales","ambiguousCharacterData","arrayToMap","intersectMaps","map1","map2","filteredLocales","l","startsWith","languageSpecificMap","mergeMaps","k","InvisibleCharacters","getRawData","getData","INITIALIZE","RequestMessage","vsWorker","req","ReplyMessage","seq","SubscribeEventMessage","EventMessage","UnsubscribeEventMessage","SimpleWorkerProtocol","_workerId","_handler","_lastSentReq","_pendingReplies","_pendingEmitters","_pendingEvents","workerId","_send","delete","_handleMessage","_handleReplyMessage","_handleRequestMessage","_handleSubscribeEventMessage","_handleEventMessage","_handleUnsubscribeEventMessage","replyMessage","reply","requestMessage","handleMessage","detail","handleEvent","transfer","ArrayBuffer","sendMessage","propertyIsEvent","strings","propertyIsDynamicEvent","createProxyObject","methodNames","proxyListen","createProxyMethod","createProxyDynamicEvent","SimpleWorkerServer","requestHandlerFactory","_requestHandlerFactory","_requestHandler","_protocol","_handleEvent","initialize","loaderConfig","hostMethods","setWorkerId","hostProxy","listen","baseUrl","paths","vs","trustedTypesPolicy","catchError","require","config","DiffChange","originalStart","originalLength","modifiedStart","modifiedLength","numberHash","initialHashVal","stringHash","hashVal","leftRotate","bits","delta","fill","dest","byteLength","toHexString","bufferOrValue","bitsize","Uint8Array","padStart","char","leftPad","StringSHA1","_h0","_h1","_h2","_h3","_h4","_buff","_buffDV","DataView","_buffLen","_totalLen","_leftoverHighSurrogate","_finished","strLen","buff","buffLen","leftoverHighSurrogate","_push","_step","_wrapUp","ml","setUint32","floor","bigBlock32","_bigBlock32","j","getUint32","temp","c","StringDiffSequence","characters","Int32Array","stringDiff","original","modified","pretty","LcsDiff","ComputeDiff","changes","safeProcess","Debug","condition","MyArray","sourceArray","sourceIndex","destinationArray","destinationIndex","DiffChangeHelper","m_changes","m_originalStart","m_modifiedStart","m_originalCount","m_modifiedCount","originalIndex","modifiedIndex","min","MarkNextChange","originalSequence","modifiedSequence","continueProcessingPredicate","ContinueProcessingPredicate","_originalSequence","_modifiedSequence","_getElements","originalStringElements","originalElementsOrHash","originalHasStrings","modifiedStringElements","modifiedElementsOrHash","modifiedHasStrings","_hasStrings","_originalStringElements","_originalElementsOrHash","_modifiedStringElements","_modifiedElementsOrHash","m_forwardHistory","m_reverseHistory","newIndex","ElementsAreEqual","_getStrictElement","index1","index2","_ComputeDiff","originalEnd","modifiedEnd","quitEarlyArr","ComputeDiffRecursive","PrettifyChanges","quitEarly","Assert","midOriginalArr","midModifiedArr","ComputeRecursionPoint","midOriginal","midModified","leftChanges","rightChanges","ConcatenateChanges","diagonalForwardBase","diagonalForwardStart","diagonalForwardEnd","diagonalForwardOffset","diagonalReverseBase","diagonalReverseStart","diagonalReverseEnd","diagonalReverseOffset","forwardPoints","reversePoints","deltaIsEven","forwardChanges","reverseChanges","changeHelper","diagonalMin","diagonalMax","diagonalRelative","lastOriginalIndex","historyIndex","diagonal","AddModifiedElement","AddOriginalElement","getReverseChanges","originalStartPoint","modifiedStartPoint","lastForwardChange","max","getOriginalEnd","getModifiedEnd","getChanges","maxDifferences","numDiagonals","numDifferences","furthestOriginalIndex","furthestModifiedIndex","ClipDiagonalBound","tempOriginalIndex","abs","WALKTRACE","matchLengthOfLongest","Copy2","change","originalStop","modifiedStop","checkOriginal","checkModified","OriginalElementsAreEqual","ModifiedElementsAreEqual","startStrictEqual","ElementsAreStrictEqual","mergedChangeArr","ChangesOverlap","prevChange","bestDelta","bestScore","_boundaryScore","score","aChange","bChange","matchedLength","aOriginalStart","bOriginalEnd","abOriginalLength","aModifiedStart","bModifiedEnd","abModifiedLength","t","_findBetterContiguousSequence","originalMatchStart","modifiedMatchStart","desiredLength","originalMax","modifiedMax","bestOriginalStart","bestModifiedStart","_contiguousSequenceScore","_OriginalIsBoundary","_ModifiedIsBoundary","_OriginalRegionIsBoundary","_ModifiedRegionIsBoundary","left","right","Copy","diagonalBaseIndex","diffEven","sequence","elements","getElements","_isStringArray","hashes","getStrictElement","sandboxProcess","arch","CHAR_DOT","CHAR_FORWARD_SLASH","CHAR_BACKWARD_SLASH","CHAR_COLON","ErrorInvalidArgType","expected","actual","determiner","validateString","platformIsWin32","isPathSeparator","isPosixPathSeparator","isWindowsDeviceRoot","normalizeString","separator","validateObject","resolvedDevice","resolvedTail","toLowerCase","rootEnd","device","firstPart","tail","needsReplace","slashCount","firstLen","fromOrig","toOrig","toEnd","toNamespacedPath","posixCwd","regexp","_schemePattern","_singleSlashStart","_doubleSlashStart","_slash","_regexp","URI","schemeOrData","authority","query","fragment","_strict","scheme","_schemeFix","_referenceResolution","_validateUri","uriToFsPath","Uri","_asFormatted","fsPath","with","exec","percentDecode","idx","substring","components","strict","uri","newPath","pathFragment","file","_formatted","external","_fsPath","_sep","_pathSepMarker","$mid","encodeTable","encodeURIComponentFast","uriComponent","isPath","isAuthority","nativeEncodePos","pos","encodeURIComponent","substr","escaped","encodeURIComponentMinimal","keepDriveLetterCasing","skipEncoding","encoder","userinfo","decodeURIComponentGraceful","decodeURIComponent","_rEncodedAsHex","CompareResult","Position","lineNumber","column","newLineNumber","newColumn","deltaLineNumber","deltaColumn","other","isBefore","isBeforeOrEqual","aLineNumber","bLineNumber","Range","startLineNumber","startColumn","endLineNumber","endColumn","position","containsPosition","range","containsRange","strictContainsRange","plusRange","intersectRanges","equalsRange","getEndPosition","getStartPosition","collapseToStart","collapseToEnd","lineCount","otherRange","resultStartLineNumber","resultStartColumn","resultEndLineNumber","resultEndColumn","otherStartLineNumber","otherStartColumn","otherEndLineNumber","otherEndColumn","aStartLineNumber","bStartLineNumber","aStartColumn","bStartColumn","aEndLineNumber","bEndLineNumber","isLessThan","isGreaterThan","isNeitherLessOrGreaterThan","greaterThan","lessThan","neitherLessOrGreaterThan","CallbackIterable","iterate","item","cb","mapFn","comparator","toUint8","v","toUint32","_callback","PrefixSumComputer","prefixSum","Uint32Array","prefixSumValidIndex","insertIndex","insertValues","oldValues","oldPrefixSum","insertValuesLen","subarray","startIndex","maxCount","_getPrefixSum","sum","getTotalSum","low","high","mid","midStop","midStart","PrefixSumIndexOfResult","remainder","_prefixSumIndexOfResultBrand","MirrorTextModel","lines","eol","versionId","_uri","_lines","_eol","_versionId","_lineStarts","_cachedTextValue","_acceptDeleteRange","_acceptInsertText","text","eolLength","linesLength","lineStartValues","lineIndex","newValue","setValue","_setLineText","removeValues","insertText","insertLines","newLengths","DEFAULT_WORD_REGEXP","allowInWords","RegExp","createWordRegExp","_defaultConfig","getWordAtText","wordDefinition","textOffset","maxLen","t1","prevRegexIndex","timeBudget","regexIndex","windowSize","lastIndex","thisMatch","_findRegexMatchEnclosingPosition","word","stopPos","matchIndex","unshift","CharacterClassifier","_defaultValue","defaultValue","_asciiMap","_createAsciiMap","_map","asciiMap","Uint8Matrix","rows","cols","row","col","StateMachine","edges","maxCharCode","maxState","chCode","states","_states","_maxCharCode","currentState","_stateMachine","_classifier","LinkComputer","classifier","line","linkBeginIndex","linkEndIndex","lastIncludedCharIndex","charCodeBeforeLink","lastCharCodeInLink","url","model","stateMachine","FORCE_TERMINATION_CHARACTERS","CANNOT_END_WITH_CHARACTERS","getClassifier","getLineCount","getLineContent","linkBeginChCode","hasOpenParens","hasOpenSquareBracket","inSquareBrackets","hasOpenCurlyBracket","resetStateMachine","chClass","_createLink","nextState","computeLinks","BasicInplaceReplace","_defaultValueSet","range1","text1","range2","text2","up","doNavigateValueSet","numberResult","numberReplace","textReplace","precision","pow","n1","n2","parseFloat","valueSetsReplace","valueSets","valueSetReplace","valueSet","INSTANCE","CancellationToken","shortcutEvent","isCancellationToken","Cancelled","MutableToken","isCancellationRequested","onCancellationRequested","KeyCodeUtils","_isCancelled","_emitter","CancellationTokenSource","_token","_parentListener","cancel","KeyCodeStrMap","_keyCodeToStr","_strToKeyCode","keyCode","uiMap","userSettingsUSMap","userSettingsGeneralMap","EVENT_KEY_CODE_MAP","NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE","scanCodeIntToStr","scanCodeStrToInt","scanCodeLowerCaseStrToInt","IMMUTABLE_CODE_TO_KEY_CODE","IMMUTABLE_KEY_CODE_TO_CODE","seenKeyCode","seenScanCode","immutable","scanCode","scanCodeStr","keyCodeStr","eventKeyCode","vkey","usUserSettingsLabel","generalUserSettingsLabel","keyCodeToStr","fromString","strToKeyCode","toUserSettingsUS","toUserSettingsGeneral","fromUserSettings","toElectronAccelerator","Selection","selectionStartLineNumber","selectionStartColumn","positionLineNumber","positionColumn","selectionsEqual","getDirection","direction","sel","isString","_codiconFontCharacters","register","fontCharacter","CompletionItemKinds","InlineCompletionTriggerKind","Codicon","plus","gistNew","repoCreate","lightbulb","lightBulb","repo","repoDelete","gistFork","repoForked","gitPullRequest","gitPullRequestAbandoned","recordKeys","keyboard","tag","tagAdd","tagRemove","person","personFollow","personOutline","personFilled","gitBranch","gitBranchCreate","gitBranchDelete","sourceControl","mirror","mirrorPublic","star","starAdd","starDelete","starEmpty","commentAdd","alert","warning","search","searchSave","logOut","signOut","logIn","signIn","eye","eyeUnwatch","eyeWatch","circleFilled","primitiveDot","closeDirty","debugBreakpoint","debugBreakpointDisabled","debugHint","primitiveSquare","edit","pencil","issueOpened","gistPrivate","gitForkPrivate","lock","mirrorPrivate","close","removeClose","repoSync","sync","clone","desktopDownload","beaker","microscope","vm","deviceDesktop","fileText","more","ellipsis","kebabHorizontal","mailReply","organization","organizationFilled","organizationOutline","newFile","fileAdd","newFolder","fileDirectoryCreate","trash","trashcan","history","clock","folder","fileDirectory","symbolFolder","logoGithub","markGithub","github","terminal","repl","zap","symbolEvent","variable","symbolVariable","array","symbolArray","symbolModule","symbolPackage","symbolNamespace","symbolObject","symbolMethod","symbolFunction","symbolConstructor","symbolBoolean","symbolNull","symbolNumeric","symbolNumber","symbolStructure","symbolStruct","symbolParameter","symbolTypeParameter","symbolKey","symbolText","symbolReference","goToFile","symbolEnum","symbolValue","symbolRuler","symbolUnit","activateBreakpoints","archive","arrowBoth","arrowDown","arrowLeft","arrowRight","arrowSmallDown","arrowSmallLeft","arrowSmallRight","arrowSmallUp","arrowUp","bell","bold","book","bookmark","debugBreakpointConditionalUnverified","debugBreakpointConditional","debugBreakpointConditionalDisabled","debugBreakpointDataUnverified","debugBreakpointData","debugBreakpointDataDisabled","debugBreakpointLogUnverified","debugBreakpointLog","debugBreakpointLogDisabled","briefcase","broadcast","browser","bug","calendar","caseSensitive","checklist","chevronDown","dropDownButton","chevronLeft","chevronRight","chevronUp","chromeClose","chromeMaximize","chromeMinimize","chromeRestore","circle","circleOutline","debugBreakpointUnverified","circleSlash","circuitBoard","clearAll","clippy","closeAll","cloudDownload","cloudUpload","collapseAll","colorMode","commentDiscussion","compareChanges","creditCard","dash","dashboard","database","debugContinue","debugDisconnect","debugPause","debugRestart","debugStart","debugStepInto","debugStepOut","debugStepOver","debugStop","debug","deviceCameraVideo","deviceCamera","deviceMobile","diffAdded","diffIgnored","diffModified","diffRemoved","diffRenamed","diff","discard","editorLayout","emptyWindow","exclude","extensions","eyeClosed","fileBinary","fileCode","fileMedia","filePdf","fileSubmodule","fileSymlinkDirectory","fileSymlinkFile","fileZip","files","flame","foldDown","foldUp","fold","folderActive","folderOpened","gear","gift","gistSecret","gist","gitCommit","gitCompare","gitMerge","githubAction","githubAlt","globe","grabber","graph","gripper","heart","home","horizontalRule","hubot","inbox","issueClosed","issueReopened","issues","italic","jersey","json","bracket","kebabVertical","law","lightbulbAutofix","linkExternal","link","listOrdered","listUnordered","liveShare","loading","mailRead","mail","markdown","megaphone","mention","milestone","mortarBoard","move","multipleWindows","mute","noNewline","note","octoface","openPreview","package_","paintcan","pin","play","plug","preserveCase","preview","project","pulse","question","quote","radioTower","reactions","references","refresh","regex","remoteExplorer","remote","remove","replaceAll","repoClone","repoForcePush","repoPull","repoPush","report","requestChanges","rocket","rootFolderOpened","rootFolder","rss","ruby","saveAll","saveAs","save","screenFull","screenNormal","searchStop","server","settingsGear","settings","shield","smiley","sortPrecedence","splitHorizontal","splitVertical","squirrel","starFull","starHalf","symbolClass","symbolColor","symbolCustomColor","symbolConstant","symbolEnumMember","symbolField","symbolFile","symbolInterface","symbolKeyword","symbolMisc","symbolOperator","symbolProperty","wrench","wrenchSubaction","symbolSnippet","tasklist","telescope","textSize","threeBars","thumbsdown","thumbsup","tools","triangleDown","triangleLeft","triangleRight","triangleUp","twitter","unfold","unlock","unmute","unverified","verified","vmActive","vmOutline","vmRunning","watch","whitespace","wholeWord","wordWrap","zoomIn","zoomOut","listFilter","listFlat","listSelection","selection","listTree","debugBreakpointFunctionUnverified","debugBreakpointFunction","debugBreakpointFunctionDisabled","debugStackframeActive","circleSmallFilled","debugStackframeDot","debugStackframe","debugStackframeFocused","debugBreakpointUnsupported","symbolString","debugReverseContinue","debugStepBack","debugRestartFrame","callIncoming","callOutgoing","menu","expandAll","feedback","groupByRefType","ungroupByRefType","account","bellDot","debugConsole","library","runAll","syncIgnored","pinned","githubInverted","debugAlt","serverProcess","serverEnvironment","pass","stopCircle","playCircle","debugAltSmall","vmConnect","cloud","exportIcon","graphLeft","magnet","notebook","redo","checkAll","pinnedDirty","passFilled","circleLargeFilled","circleLarge","circleLargeOutline","combine","gather","table","variableGroup","typeHierarchy","typeHierarchySub","typeHierarchySuper","gitPullRequestCreate","runAbove","runBelow","notebookTemplate","debugRerun","workspaceTrusted","workspaceUntrusted","workspaceUnspecified","terminalCmd","terminalDebian","terminalLinux","terminalPowershell","terminalTmux","terminalUbuntu","terminalBash","arrowSwap","copy","personAdd","filterFilled","wand","debugLineByLine","inspect","layers","layersDot","layersActive","compass","compassDot","compassActive","azure","issueDraft","gitPullRequestClosed","gitPullRequestDraft","debugAll","debugCoverage","runErrors","folderLibrary","debugContinueSmall","beakerStop","graphLine","graphScatter","pieChart","bracketDot","bracketError","lockSmall","azureDevops","verifiedFilled","newLine","layout","layoutActivitybarLeft","layoutActivitybarRight","layoutPanelLeft","layoutPanelCenter","layoutPanelJustify","layoutPanelRight","layoutPanel","layoutSidebarLeft","layoutSidebarRight","layoutStatusbar","layoutMenubar","layoutCentered","layoutSidebarRightOff","layoutPanelOff","layoutSidebarLeftOff","indent","recordSmall","errorSmall","arrowCircleDown","arrowCircleLeft","arrowCircleRight","arrowCircleUp","heartFilled","mapFilled","circleSmall","bellSlash","bellSlashDot","commentUnresolved","gitPullRequestGoToChanges","gitPullRequestNewChanges","searchFuzzy","commentDraft","send","sparkle","insert","dialogError","dialogWarning","dialogInfo","dialogClose","treeItemExpanded","treeFilterOnTypeOn","treeFilterOnTypeOff","treeFilterClear","treeItemLoading","menuSelection","menuSubmenu","menuBarMore","scrollbarButtonLeft","scrollbarButtonRight","scrollbarButtonUp","scrollbarButtonDown","toolBarMore","quickInputBack","__awaiter","thisArg","_arguments","P","fulfilled","rejected","TokenizationRegistry","_tokenizationSupports","_factories","_onDidChange","onDidChange","_colorMap","languageIds","changedLanguages","changedColorMap","languageId","support","factory","myData","TokenizationSupportFactoryData","tokenizationSupport","isResolved","colorMap","_registry","_languageId","_factory","_resolvePromise","_isResolved","_create","_register","Token","_tokenBrand","byKind","toIcon","kind","codicon","SignatureHelpTriggerKind","DocumentHighlightKind","SymbolKinds","icon","Command","InlayHintKind","FoldingRangeKind","Comment","Imports","Region","title","AccessibilitySupport","CodeActionTriggerType","CompletionItemInsertTextRule","CompletionItemKind","CompletionItemTag","CompletionTriggerKind","ContentWidgetPositionPreference","CursorChangeReason","DefaultEndOfLine","EditorAutoIndentStrategy","EditorOption","EndOfLinePreference","EndOfLineSequence","GlyphMarginLane","IndentAction","InjectedTextCursorStops","KeyCode","MarkerSeverity","MarkerTag","MinimapPosition","MouseTargetType","OverlayWidgetPositionPreference","OverviewRulerLane","PositionAffinity","RenderLineNumbersType","RenderMinimap","ScrollType","ScrollbarVisibility","SelectionDirection","SymbolKind","SymbolTag","TextEditorCursorBlinkingStyle","TextEditorCursorStyle","TrackedRangeStickiness","WrappingIndent","TokenizationRegistryImpl","KeyMod","secondPart","KeyChord","CtrlCmd","Shift","Alt","WinCtrl","WordCharacterClassifier","wordSeparators","computeFn","isValidMatch","textLength","matchStartIndex","matchLength","charBefore","firstCharInMatch","leftIsWordBounday","charAfter","lastCharInMatch","rightIsWordBounday","Searcher","searchRegex","_wordSeparators","_searchRegex","_prevMatchStartIndex","_prevMatchLength","m","assertNever","assertFn","checkAdjacentItems","items","UnicodeTextModelHighlighter","startLine","endLine","codePointHighlighter","CodePointHighlighter","candidates","getCandidateCodePoints","codePoints","flags","src","fromCodePoint","buildRegExpCharClassExpr","searcher","ranges","hasMore","ambiguousCharacterCount","invisibleCharacterCount","nonBasicAsciiCharacterCount","forLoop","lineContent","lineLength","endIndex","highlightReason","shouldHighlightNonBasicASCII","codePointAt","primaryConfusable","ambiguousCharacters","getPrimaryConfusable","notAmbiguousInLocales","allowedLocales","isAmbiguous","confusableWith","allowedCodePoints","nonBasicASCII","invisibleCharacters","cp","isAllowedInvisibleCharacter","getConfusableCodePoints","character","wordContext","hasBasicASCIICharacters","hasNonConfusableNonBasicAsciiCharacter","isBasicASCII","LineRange","endLineNumberExclusive","MAX_SAFE_INTEGER","lineRanges","lineRanges1","lineRanges2","i1","i2","lineRange1","lineRange2","lineRange","LinesDiff","moves","hitTimeout","LineRangeMapping","originalRange","modifiedRange","innerChanges","flip","mapping","originalLineCount","modifiedLineCount","lastOriginalEndLineNumber","lastModifiedEndLineNumber","RangeMapping","SimpleLineRangeMapping","MovedText","lineRangeMapping","SmartLinesDiffComputer","originalLines","modifiedLines","DiffComputer","maxComputationTime","maxComputationTimeMs","shouldIgnoreTrimWhitespace","ignoreTrimWhitespace","shouldComputeCharChanges","shouldMakePrettyDiff","shouldPostProcessCharChanges","computeDiff","lastChange","originalEndLineNumber","originalStartLineNumber","modifiedEndLineNumber","modifiedStartLineNumber","charChanges","originalStartColumn","originalEndColumn","modifiedStartColumn","modifiedEndColumn","m1","m2","LineSequence","startColumns","endColumns","getFirstNonBlankColumn","getLastNonBlankColumn","_startColumns","_endColumns","charCodes","lineNumbers","columns","CharSequence","_charCodes","_lineNumbers","_columns","getEndLineNumber","_assertIndex","getStartLineNumber","getEndColumn","getStartColumn","CharChange","diffChange","originalCharSequence","modifiedCharSequence","LineChange","originalLineSequence","modifiedLineSequence","continueCharDiff","createCharSequence","rawChanges","currChange","originalMatchingLength","modifiedMatchingLength","postProcessCharChanges","createFromDiffChange","opts","continueLineDiff","createContinueProcessingPredicate","diffResult","lineChanges","createFromDiffResult","originalLineIndex","modifiedLineIndex","nextChange","originalLine","modifiedLine","_pushTrimWhitespaceCharChange","originalMaxColumn","modifiedMaxColumn","originalLineNumber","modifiedLineNumber","_mergeTrimWhitespaceCharChange","txt","maximumRuntime","startTime","OffsetRange","endExclusive","sortedRanges","DiffAlgorithmResult","diffs","seq1","seq2","SequenceDiff","seq1Range","seq2Range","InfiniteTimeout","DateTimeout","timeout","valid","Array2D","width","height","y","DynamicProgrammingDiffing","sequence1","sequence2","equalityScore","trivial","lcsLengths","directions","lengths","s1","s2","isValid","trivialTimedOut","horizontalLen","verticalLen","extendedSeqScore","getElement","prevLen","lastAligningPosS1","lastAligningPosS2","reportDecreasingAligningPositions","optimizeSequenceDiffs","sequenceDiffs","prevResult","result2","nextResult","joinSequenceDiffs","getBoundaryScore","prevDiff","nextDiff","seq1ValidRange","seq2ValidRange","shiftDiffToBetterPosition","shiftSequenceDiffs","deltaBefore","deltaAfter","seq2OffsetStart","seq2OffsetEndExclusive","seq1Offset","MyersDiffAlgorithm","getXAfterSnake","V","FastInt32Array","FastArrayNegativeIndices","SnakePath","loop","lowerBound","upperBound","maxXofDLineTop","maxXofDLineLeft","newMaxX","lastPath","endX","endY","positiveArr","negativeArr","group","StandardLinesDiffComputer","dynamicProgrammingDiffing","myersDiffingAlgorithm","considerWhitespaceChanges","perfectHashes","getOrCreateHash","srcDocLines","trim","tgtDocLines","lineAlignmentResult","compute","offset1","offset2","lineAlignments","alignments","scanForWhitespaceChanges","equalLinesCount","seq1LastStart","seq2Offset","seq2LastStart","characterDiffs","refineDiff","mappings","lineRangeMappingFromRangeMappings","computeMoves","deletions","LineRangeFragment","insertions","deletion","highestSimilarity","best","insertion","similarity","computeSimilarity","slice1","Slice","slice2","additional","lastModifiedWord","maybePushWordToAdditional","originalLength1","s1Range","deleted","s2Range","added","processWord","s1Added","tryCreate","s2Added","changedS1","intersect","changedS2","w1Before","findWordContaining","w2Before","w1After","w2After","sequenceDiffs1","sequenceDiffs2","sd1","sd2","shift","mergeSequenceDiffs","coverFullWords","smoothenSequenceDiffs","translateRange","dontAssertStartLine","rangeMapping","lineStartDelta","lineEndDelta","originalLineRange","modifiedLineRange","getLineRangeMapping","a1","a2","overlapOrTouch","shouldBeGrouped","currentGroup","trimmedHash","getIndentation","firstCharOffsetByLineMinusOne","offsetByLine","trimFirstLineFully","trimmedStartLine","trimStart","trimEnd","prevCategory","getCategory","nextCategory","getCategoryBoundaryScore","offsetOfFirstCharInLine","translateOffset","isWordChar","category","isSpace","chrKeys","getKey","chr","histogram","counter","totalCount","sumDifferences","maxLength","linesDiffComputers","roundFloat","number","decimalPoints","decimal","round","RGBA","_rgbaBrand","HSLA","h","_hslaBrand","rgba","chroma","q","hsla","_hue2rgb","HSVA","_hsvaBrand","cmax","hsva","Color","_hsla","toRGBA","_hsva","fromRGBA","_relativeLuminanceForComponent","another","getRelativeLuminance","factor","opaqueBackground","isOpaque","_toString","Format","CSS","hex","parseHex","red","color","of","isLighterThan","lum1","lum2","lighten","isDarkerThan","darken","_parseCaptureGroups","captureGroups","captureGroup","parsedNumber","_toIColor","blue","green","alpha","_findRange","startPosition","positionAt","_findHexColorInformation","hexValue","parsedHexColor","_findRGBColorInformation","matches","isAlpha","parsedRegex","_findHSLColorInformation","colorEquivalent","_findMatches","matchAll","findMatches","computeDefaultDocumentColors","getValue","initialValidationMatches","initialMatch","initialCaptureGroups","colorScheme","colorParameters","colorInformation","computeColors","white","black","cyan","lightgrey","transparent","_toTwoDigitHex","_parseHexDigit","formatRGB","formatRGBA","toFixed","formatHSL","formatHSLA","formatHex","formatHexA","MirrorModel","getText","offsetToAdd","offsetAt","wordAtText","ignoreCase","multiline","unicode","ensureValidWordDefinition","wordenize","_wordenize","lineText","wordRangesIdx","wordRanges","content","words","_validateRange","lineEnding","startLineIndex","endLineIndex","resultLines","_validatePosition","_ensureLineStarts","getPrefixSum","getIndexOf","hasChanged","maxCharacter","BaseMirrorModel","EditorSimpleWorker","host","foreignModuleFactory","_host","_models","_foreignModuleFactory","_foreignModule","EOL","strURL","onEvents","_getModel","computeUnicodeHighlights","originalUrl","modifiedUrl","algorithm","modelUrl","edits","lastEol","sort","getValueInRange","_diffLimit","editOffset","newEdit","modelUrls","leadingWord","wordDef","wordDefFlags","sw","wordDefRegExp","seen","_suggestionsLimit","duration","getLineWords","selectionText","wordRange","getWordAtPosition","navigateValueSet","createData","foreignHostMethods","foreignHost","fhr","ctx","getMirrorModels","_getModels","originalTextModel","modifiedTextModel","diffAlgorithm","getLinesContent","getLineChanges","identical","_modelsAreIdentical","monaco","editor","languages","standaloneEnums","initialized","foreignModule","simpleWorker","onmessage","TextDocument","CharacterCodes","ParseOptions","__spreadArray","pack","ar","FullTextDocument","version","_version","_content","_lineOffsets","update","changes_1","isIncremental","getWellformedRange","startOffset","endOffset","lineOffsets","addedLineOffsets","computeLineOffsets","isFull","getLineOffsets","lineOffset","nextLineOffset","rangeLength","mergeSort","compare","leftIdx","rightIdx","isAtLineStart","ch","getWellformedEdit","textEdit","newText","createScanner","ignoreTrivia","tokenOffset","token","lineStartOffset","tokenLineStartOffset","prevTokenLineStartOffset","scanError","scanHexDigits","exact","digits","scanNext","isWhiteSpace","isLineBreak","ch3","scanString","safeLength","commentClosed","isDigit","scanNumber","isUnknownContentCharacter","setPosition","newPosition","getPosition","scan","getToken","getTokenValue","getTokenOffset","getTokenLength","getTokenStartLine","getTokenStartCharacter","getTokenError","visit","visitor","DEFAULT","_scanner","_jsonPath","toNoArgVisit","visitFunction","toNoArgVisitWithPath","toOneArgVisit","toOneArgVisitWithPath","onObjectBegin","onObjectProperty","onObjectEnd","onArrayBegin","onArrayEnd","onLiteralValue","onSeparator","onComment","onError","disallowComments","allowTrailingComma","handleError","skipUntilAfter","skipUntil","parseString","isValue","parseValue","isFirstElement","needsComma","parseArray","parseObject","tokenValue","parseLiteral","allowEmptyContent","applyEdits","sortedEdits","lastModifiedOffset","spans","sortedEdits_1","ScanError","SyntaxKind","scanner","ParseErrorCode","currentProperty","currentParent","previousParents","onValue","findNodeAtOffset","includeRightBound","contains","getNodePath","getNodeValue","valueNode","isUri","toJSON","revive","Utils","posixPath","slash","joinPath","resolvePath","slashAdded","DocumentUri","integer","uinteger","Location","LocationLink","ColorInformation","ColorPresentation","FoldingRange","DiagnosticRelatedInformation","DiagnosticSeverity","DiagnosticTag","CodeDescription","Diagnostic","TextEdit","ChangeAnnotation","ChangeAnnotationIdentifier","AnnotatedTextEdit","TextDocumentEdit","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","MIN_VALUE","MAX_VALUE","Is","objectLiteral","one","two","three","four","string","targetUri","targetRange","targetSelectionRange","originSelectionRange","numberRange","label","additionalTextEdits","typedArray","startCharacter","endCharacter","collapsedText","defined","Warning","Information","Hint","Unnecessary","Deprecated","href","severity","relatedInformation","codeDescription","command","del","needsConfirmation","description","boolean","annotation","annotationId","textDocument","OptionalVersionedTextDocumentIdentifier","overwrite","ignoreIfExists","oldUri","newUri","recursive","ignoreIfNotExists","documentChanges","every","TextDocumentIdentifier","VersionedTextDocumentIdentifier","TextDocumentItem","MarkupKind","MarkupContent","InsertTextFormat","InsertReplaceEdit","InsertTextMode","CompletionItemLabelDetails","CompletionItem","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlight","SymbolInformation","WorkspaceSymbol","DocumentSymbol","CodeActionKind","CodeActionTriggerKind","CodeActionContext","CodeAction","CodeLens","FormattingOptions","DocumentLink","SelectionRange","SemanticTokenTypes","SemanticTokenModifiers","SemanticTokens","InlineValueText","InlineValueVariableLookup","InlineValueEvaluatableExpression","InlineValueContext","InlayHintLabelPart","InlayHint","WorkspaceFolder","TextEditChangeImpl","changeAnnotations","assertChangeAnnotations","manage","ChangeAnnotations","annotations","_annotations","idOrAnnotation","nextId","WorkspaceChange","workspaceEdit","_textEditChanges","_workspaceEdit","_changeAnnotations","textEditChange","initDocumentChanges","getTextEditChange","textDocumentEdit","initChanges","createFile","optionsOrAnnotation","operation","renameFile","deleteFile","PlainText","Markdown","Text","Method","Field","Variable","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","File","Reference","Folder","EnumMember","Constant","Struct","Operator","TypeParameter","asIs","adjustIndentation","isIncomplete","fromPlainText","plainText","contents","documentation","parameters","Read","Write","Namespace","Package","Key","Null","containerName","selectionRange","deprecated","tags","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","SourceFixAll","Invoked","Automatic","diagnostics","only","triggerKind","kindOrCommandOrEdit","checkKind","isPreferred","tabSize","insertSpaces","resultId","variableName","caseSensitiveLookup","expression","frameId","stoppedLocation","Type","Parameter","tooltip","textEdits","paddingLeft","paddingRight","func","isLineStart","ALIAS","for","DOC","MAP","PAIR","SCALAR","SEQ","NODE_TYPE","isAlias","isDocument","isMap","isPair","isScalar","isSeq","isCollection","isNode","hasAnchor","BREAK","SKIP","REMOVE","visitor_","initVisitor","visit_","ctrl","callVisitor","replaceNode","ci","ck","cv","visitAsync","visitAsync_","Collection","assign","Alias","Scalar","Seq","Pair","pt","escapeChars","Directives","yaml","docStart","docEnd","defaultYaml","defaultTags","atNextDocument","explicit","parts","prefix","verbatim","suffix","entries","doc","tagNames","tagEntries","_key","tn","anchorIsValid","sa","anchorNames","anchors","findNewAnchor","applyReviver","reviver","v0","v1","toJS","aliasCount","onCreate","keep","NodeBase","mapAsMap","maxAliasCount","onAnchor","mapKeyWarned","found","_arg","getAliasCount","_onComment","_onChompKeep","verifyAliasOrder","implicitKey","kc","vc","_toArray","isScalarValue","BLOCK_FOLDED","BLOCK_LITERAL","PLAIN","QUOTE_DOUBLE","QUOTE_SINGLE","defaultTagPrefix","createNode","tagName","schema","BigInt","aliasDuplicateObjects","onTagObj","sourceObjects","ref","tagObj","identify","findTagObject","nodeClass","default","collectionFromPath","isInteger","keepUndefined","isEmptyPath","addIn","deleteIn","keepScalar","getIn","allowScalar","commentBefore","hasIn","setIn","maxFlowStringSingleLineLength","stringifyComment","indentComment","lineComment","endsWith","includes","FOLD_FLOW","FOLD_BLOCK","FOLD_QUOTED","foldFlowLines","mode","indentAtStart","lineWidth","minContentWidth","onFold","onOverflow","endStep","folds","escapedFolds","overflow","escStart","escEnd","consumeMoreIndentedLines","blockEndNewlines","getFoldOptions","isBlock","containsDocumentMarker","doubleQuotedString","doubleQuotedAsJSON","minMultiLineLength","doubleQuotedMinMultiLineLength","singleQuotedString","singleQuote","quotedString","qs","hasDouble","hasSingle","blockString","onChompKeep","blockQuote","commentString","chomp","endStart","forceBlockIndent","literal","indentLength","limit","lineLengthOverLimit","endNlPos","startEnd","startWithSpace","startNlPos","header","body","stringifyString","inFlow","ss","_stringify","_type","actualString","indentStep","compat","plainString","defaultKeyType","defaultStringType","createStringifyContext","opt","directives","falseStr","flowCollectionPadding","indentSeq","nullStr","simpleKeys","trueStr","toStringOptions","collectionStyle","repeat","resolvedAliases","getTagObject","tagString","stringifyProps","logLevel","emitWarning","addPairToJSMap","isMergeKey","mergeToJSMap","jsKey","stringKey","strCtx","inStringifyKey","strKey","jsonStr","stringifyKey","jsValue","createPair","_","allNullValues","keyComment","explicitKey","vsb","vcb","valueComment","keyCommentDone","chompKeep","spaceBefore","flow","valueCommentDone","valueStr","ws","cs","vs0","nl0","hasNewline","hasPropsLine","sp0","stringifyPair","stringifyCollection","collection","stringifyFlowCollection","stringifyBlockCollection","blockItemPrefix","flowChars","itemIndent","itemCtx","addCommentBefore","ik","fcPadding","reqNewline","linesAtValue","iv","ic","findPair","YAMLMap","pair","_pair","sortEntries","sortMapEntries","findIndex","hasAllNullValues","replacer","YAMLSeq","asItemIndex","nullTag","boolTag","stringifyNumber","minFractionDigits","num","isFinite","floatNaN","NaN","NEGATIVE_INFINITY","floatExp","toExponential","float","dot","intIdentify","intResolve","radix","intAsBigInt","parseInt","intStringify","intOct","_onError","int","intHex","stringifyJSON","binary","Buffer","atob","buf","btoa","resolvePairs","cn","createPairs","pairs","YAMLOMap","omap","seenKeys","boolStringify","trueTag","falseTag","sign","intBin","YAMLSet","keepPair","parseSexagesimal","asBigInt","stringifySexagesimal","_60","intTime","floatTime","timestamp","year","month","day","hour","minute","second","millisec","date","UTC","tz","toISOString","schemas","schema$1","schema$2","tagsByName","bool","null","coreKnownTags","getTags","customTags","schemaName","sortMapEntriesByKey","Schema","resolveKnownTags","toStringDefaults","knownTags","Document","warnings","_replacer","keepSourceTokens","prettyErrors","uniqueKeys","_directives","atDocument","setSchema","assertCollection","asStr","anchorPrefix","aliasObjects","prevAnchors","setAnchors","createNodeAnchors","sv","jsonArg","hasDirectives","contentComment","dc","stringifyDocument","YAMLError","YAMLParseError","YAMLWarning","prettifyError","lc","linePos","lineStr","lineStarts","pointer","resolveProps","tokens","indicator","startOnNewline","atNewline","hasSpace","commentSep","hasNewlineAfterProp","reqSpace","comma","containsNewline","flowIndentCheck","fc","mapIncludes","isEqual","startColMsg","resolveEnd","blockMsg","resolveCollection","CN","coll","bm","composeNode","composeEmptyNode","atRoot","commentEnd","collItem","keyProps","keyStart","keyNode","valueProps","srcToken","resolveBlockMap","bs","resolveBlockSeq","fcName","prevItemComment","st","expectedEnd","ce","ee","cePos","toUpperCase","resolveFlowCollection","Coll","resolveBlockScalar","scalar","ts","parseBlockScalarHeader","splitLines","chompStart","trimIndent","contentStart","prevMoreIndented","crlf","resolveFlowScalar","rel","badChar","foldLines","plainValue","singleQuotedValue","foldNewline","cc","escapeCodes","u","U","parseCharCode","raw","wsStart","doubleQuotedValue","valueEnd","re","N","L","composeScalar","tagToken","matchWithTest","kt","findScalarTagByName","findScalarTagByTest","emptyScalarPosition","before","isSrcToken","alias","composeAlias","expType","composeCollection","composeDoc","contentEnd","getErrorPos","parsePrelude","prelude","atComment","afterEmptyLine","Composer","atDirectives","afterDoc","forceDoc","decorate","stringifyToken","stringifyItem","cst","_visit","field","itemAtPath","tok","parentCollection","tokenType","hexDigits","tagChars","invalidFlowScalarChars","invalidAnchorChars","isNotAnchorChar","Lexer","atEnd","blockScalarIndent","blockScalarKeep","flowKey","flowLevel","indentNext","indentValue","lineEndPos","incomplete","hasChars","parseNext","dt","parseStream","parseLineStart","parseBlockStart","parseDocument","parseFlowCollection","parseQuotedScalar","parseBlockScalar","parsePlainScalar","getLine","setNext","pushCount","dirEnd","pushSpaces","pushNewline","atLineEnd","sp","peek","ch0","ch1","pushIndicators","pushUntil","nl","qb","continueScalar","pushToIndex","lastChar","allowEmpty","pushTag","allowTabs","LineCounter","addNewLine","includesToken","list","findNonEmptyIndex","isFlowToken","getPrevProps","getFirstKeyStartProps","fixFlowSeqItems","Parser","onNewLine","atNewLine","atScalar","onKeyLine","lexer","lex","lexeme","top","stream","blockScalar","blockMap","blockSequence","flowCollection","documentEnd","sourceToken","lineEnd","bv","startBlockValue","atIndentedComment","atNextItem","fs","flowScalar","parseOptions","lineCounter","_reviver","parser","compose","_doc","ErrorCode","ClientCapabilities","require_json_schema_draft_07","$schema","$id","definitions","schemaArray","minItems","$ref","nonNegativeInteger","minimum","nonNegativeIntegerDefault0","allOf","simpleTypes","enum","stringArray","uniqueItems","properties","$comment","readOnly","examples","multipleOf","exclusiveMinimum","maximum","exclusiveMaximum","minLength","pattern","additionalItems","anyOf","maxItems","maxProperties","minProperties","required","additionalProperties","patternProperties","propertyNames","dependencies","const","contentMediaType","contentEncoding","if","else","oneOf","not","haystack","needle","extendedRegExp","oneKeys","otherKeys","isNumber","isDefined","isBoolean","LATEST","completionItem","documentationFormat","commitCharactersSupport","loadMessageBundle","EnumMatch","__extends","extendStatics","__","formats","errorMessage","ASTNodeImpl","_super","NullASTNodeImpl","BooleanASTNodeImpl","boolValue","ArrayASTNodeImpl","NumberASTNodeImpl","StringASTNodeImpl","PropertyASTNodeImpl","colonOffset","ObjectASTNodeImpl","asSchema","SchemaCollector","focusOffset","include","newSub","NoOpSchemaCollector","ValidationResult","problems","propertiesMatches","propertiesValueMatches","primaryValueMatches","enumValueMatch","enumValues","hasProblems","mergeAll","validationResults","validationResults_1","validationResult","mergeEnumValues","EnumValueMismatch","mergePropertyMatch","propertyValidationResult","Json","JSONDocument","syntaxErrors","comments","getNodeFromOffset","doVisit_1","ctn","validate","getMatchingSchemas","matchingSchemas","unprocessedProperties","propertyNode","propertyName","propertyProcessed","propertySchema","_f","_g","propertyPattern","_h","_j","_k","unprocessedProperties_1","_l","unprocessedProperties_2","_m","_o","propertyDep","_p","propertyDep_1","requiredProp","_q","_validateObjectNode","subSchemas","subSchema","itemValidationResult","itemSchema","containsSchema","values_1","_validateArrayNode","patternErrorMessage","_validateStringNode","normalizeFloats","multiplier","normMultipleOf","normValue","getExclusiveLimit","exclusive","getLimit","_validateNumberNode","matchesType","subSchemaRef","notSchema","subValidationResult","subMatchingSchemas","ms","inverted","testAlternatives","alternatives","maxOneMatch","bestMatch","alternatives_1","compareResult","testBranch","ifSchema","thenSchema","elseSchema","testCondition","deprecationMessage","_validateNode","createRegex","glob","reStr","extended","globstar","inGroup","prevChar","starCount","nextChar","FilePatternAssociation","uris","globWrappers","pattern_1","patternString","matchesPattern","fileName","getURIs","SchemaHandle","service","unresolvedSchemaContent","unresolvedSchema","promise","UnresolvedSchema","getUnresolvedSchema","loadSchema","getResolvedSchema","resolvedSchema","unresolved","resolveSchemaContent","clearSchema","ResolvedSchema","getSection","schemaRef","getSectionRecursive","JSONSchemaService","requestService","contextService","promiseConstructor","callOnDispose","contributionSchemas","contributionAssociations","schemasById","filePatternAssociations","registeredSchemasIds","getRegisteredSchemaIds","onResourceChange","cachedSchemaForResource","hasChanges","toWalk","normalizeId","curr","setSchemaContributions","schemaContributions","normalizedId","addSchemaHandle","schemaAssociations","schemaAssociations_1","schemaAssociation","association","addFilePatternAssociation","schemaHandle","getOrAddSchemaHandle","fpa","registerExternalSchema","filePatterns","clearExternalSchemas","contributionAssociation","schemaId","toDisplayString","schemaContent","jsonErrors","Json2","errorSplit","schemaToResolve","schemaURL","resolveErrors","sourceRoot","sourceURI","refSegment","section","part","findSection","resolveExternalLink","parentSchemaURL","parentSchemaDependencies","resolveRelativePath","referencedHandle","resolveRefs","parentSchema","openPromises","handleRef","seenRefs","segments","entries_1","collectEntries","maps","maps_1","collectMapEntries","arrays","arrays_1","array_1","collectArrayEntries","getSchemaForResource","resource","schemaProperties","schemeId","normalizedResource","normalizeResourceForMatching","createCombinedSchema","schemaIds","combinedSchemaId","combinedSchema","jsonDocument","idCounter","safeCreateUnicodeRegExp","ignore","getFirstNonWhitespaceCharacterAfterOffset","isIterable","convertErrorToTelemetryMsg","getSchemaTypeName","getSchemaRefTypeTitle","_$ref","closestTitle","getSchemaTitle","baseName","isPrimitiveType","isAnyOfAllOfOneOfType","stringifyObject","stringifyLiteral","newIndent","JSONCompletion","schemaService","contributions","clientCapabilities","doResolve","resolveCompletion","resolver","doComplete","isInComment","overwriteRange","currentWord","getCurrentWord","overwriteStart","proposed","collector","suggestion","existing","shortendedLabel","setAsIncomplete","getNumberOfProposals","collectionPromises","addValue","currentKey","separatorAfter_1","evaluateSeparatorAfter","getPropertyCompletions","getSchemaLessPropertyCompletions","location_1","contribution","collectPromise","collectPropertyCompletions","getLabelForValue","getInsertTextForProperty","insertTextFormat","types","getValueCompletions","getSchemaLessValueCompletions","getContributedValueCompletions","offsetForSeparator","separatorAfter","addFillerValueCompletions","schemaProperties_1","doNotSuggest","proposal","filterText","getFilterTextForValue","fromMarkup","markdownDescription","suggestSortText","sortText","schemaPropertyNames_1","propertyNameCompletionItem","enumDescription","markdownEnumDescriptions","enumDescriptions","collectCompletionsForSimilarObject","getInsertTextForValue","parentKey_1","getSuggestionKind","collectSuggestionsForValues","getLabelTextForMatchingNode","getInsertTextForMatchingNode","addBooleanValueCompletion","parentKey_2","addDollarSchemaCompletions","parentKey_3","parentKey","valueNode_1","matchingSchemas_1","findItemAtOffset","addSchemaValueCompletions","propertyMatched","addNullValueCompletion","parentKey_4","location_2","collectValueCompletions","collectDefaultCompletions","addEnumValueCompletions","addDefaultValueCompletions","collectTypes","arrayDepth","hasProposals","example","defaultSnippets","getInsertTextForSnippetValue","getFilterTextForSnippetValue","getLabelForSnippetValue","bodyText","enm","doesSupportMarkdown","getInsertTextForGuessedValue","getInsertTextForPlainText","snippetValue","propertyText","resultText","nValueProposals","Json3","markupString","supportsMarkdown","doesSupportsCommitCharacters","supportsCommitCharacters","JSONHover","doHover","hoverRangeNode","hoverRange","createHover","getInfoContribution","htmlContent","title_1","markdownDescription_1","markdownEnumValueDescription_1","enumValue_1","toMarkdown","toMarkdownCodeBlock","plain","JSONValidation","jsonSchemaService","validationEnabled","configure","commentSeverity","allowComments","doValidation","documentSettings","addProblem","problem","signature","getDiagnostics","trailingCommaSeverity","trailingCommas","toDiagnosticSeverity","schemaValidation","schemaRequest","astRoot","SchemaResolveError","semanticErrors","schemaAllowsComments","schemaAllowsTrailingCommas","TrailingComma","message_1","CommentNotPermitted","allow","allowTrailingCommas","deprSchemaRef","severityLevel","Digit0","Digit9","A","hexDigit","colorFromHex","JSONDocumentSymbols","findDocumentSymbols","resultLimit","resourceString","result_1","getRange","onResultLimitExceeded","toVisit","nextToVisit","limitExceeded","collectOutlineEntries","childContainerName","getKeyLabel","getSymbolKind","findDocumentSymbols2","result_2","symbol","getDetail","nodeType","findDocumentColors","visitedNode","nodeId","getColorPresentations","red256","green256","blue256","toTwoDigitHex","propertyObject","descriptions","findLinks","links","targetNode","unescape","parseJSONPointer","findNode","findTargetNode","targetPos","createRange","arrayItem","matchOffsetToDocument","jsonDocuments","documents","jsonDoc","internalDocument","filterInvalidCustomTags","validCustomTags","typeInfo","isArrayEqual","fst","snd","ProblemType","MSG_PROPERTY_NOT_ALLOWED","time","email","YAML_SOURCE","YAML_SCHEMA_PREFIX","ProblemTypeMessages","missingRequiredPropWarning","typeMismatchWarning","constWarning","internalNode","foundNode","currMinDist","currMinNode","currNode","minDist","isKubernetes","problemTypesToMerge","problemType","bestResult","mergingResult","problemArgs","getWarningMessage","mergeSources","mergingSource","schemaUri","getNodeFromOffsetEndInclusive","doVisit","disableAdditionalProperties","diagnostic","didCallFromAutoComplete","callFromAutoComplete","originalSchema","unprocessedNodes","sequenceNode","getSchemaSource","getSchemaUri","possibleProperties","doesContain","duplicates","schemaType","subMatches","noPropertyMatches","alternativeComparison","genericComparison","filePatternAssociation","compareKubernetes","compareGeneric","mergeWarningGeneric","uriString","maxRefCount","refDepth","convertAST","collectFlowMapRange","toFixedOffsetLength","convertMap","rangeStart","rangeEnd","nodeEnd","keyAlias","toOffsetLength","convertPair","convertedNode","convertSeq","convertScalar","resolvedNode","resultNode","convertAlias","isMapContainsEmptyPair","inComment","isCollectionItem","SingleYAMLDocument","currentDocIndex","_lineComments","lineComments","_internalDocument","collectLineComments","YAMLErrorToYamlDocDiagnostics","positionOffset","textBuffer","configuredIndentation","findClosestNode","closestNode","spacesAfterPositionMatch","areOnlySpacesAfterPosition","countOfSpacesAfterPosition","offsetDiff","maxOffset","indentation","getProperParentByIndentation","currentLine","rootParent","getParent","nodeToFind","parentNode","YAMLDocument","YamlDocuments","parserOptions","addRootObject","ensureCache","defaultOptions","cacheEntry","getCustomTags","yamlVersion","composer","isLastLineEmpty","TextBuffer","tokensArr","docs","yamlDocs","parsedDoc","syd","parsedDocToSingleYAMLDocument","yamlDocumentsCache","toLineEnd","CommonTagImpl","IncludeTag","tagType","offest","isModeline","matchModeline","MODIFICATION_ACTIONS","AJVStub","ajv","jsonSchema07","schema07Validator","compile","patternRegExp","convertSimple2RegExpPattern","YAMLSchemaService","schemaUriToNameAndDescription","customSchemaProvider","schemaPriorityMapping","schemaUris","fromStore","usedForCurrentFile","errs","instancePath","linkPath","schemaSequence","newSchema","resolveSchemaForResource","resolveSchema","normalizedResourceID","highestPrioSchemas","highestPrioritySchemas","modelineSchema","schemaFromModeline","yamlLanguageServerModeline","schemaMatchs","getSchemaFromModeline","appendix","path2","resUri","resolveModelineSchema","resolveCustomSchema","schemaObj","priority","currSchemaArray","highestPrio","priorityMapping","prio","currPriorityArray","SchemaPriority","Settings","deleteSchema","additions","resolvedSchemaLocation","resolveJSONSchemaToSection","saveSchema","resolveNext","unresolvedJsonSchema","yamlError","YAMLDocumentSymbols","telemetry","jsonDocumentSymbols","results","getYamlDocument","yamlDoc","sendError","setKubernetesParserOption","option","YAMLHover","shouldHover","languageSettings","hover","currentDoc","getHover","removePipe","markdownEnumValueDescription","enumValue","markdownExamples","matchSchema","childSchema","isAllSchemasMatched","urlString","path3","getSchemaName","UnusedAnchorsValidator","usedAnchors","anchorParent","aToken","getAnchorNode","warningDiagnostic","getAnchorFromCollectionItem","CST","YamlCommands","YAMLStyleValidator","forbidMapping","flowMapping","forbidSequence","flowSequence","getRangeOf","yamlDiagToLSDiag","yamlDiag","getLineLength","YAMLValidation","validators","MATCHES_MULTIPLE","jsonValidation","yamlDocument","currentYAMLDoc","validation","runAdditionalValidators","foundSignatures","duplicateMessagesRemoved","previousErr","errSig","yarnDoc","validator","YAMLFormatter","formatterEnabled","shouldFormat","formatted","tabWidth","bracketSpacing","proseWrap","printWidth","YamlLinks","linkPromises","yamlLinkArray","getFoldingRanges","ymlDoc","createNormalizedFolding","nodePosn","valuePosn","rangeLimit","onRangeLimitExceeded","startPos","endPos","textFragment","newLength","trimRight","FlowStyleRewriter","blockType","parentType","blockStyle","YamlCodeActions","params","getConvertToBooleanActions","getJumpToSchemaActions","getTabToSpaceConverting","getUnusedAnchorsDelete","getConvertToBlockStyleActions","showDocument","schemaUriToDiagnostic","schemaUriStr","action","path4","JUMP_TO_SCHEMA","textBuff","processedLine","diag","replacedTabs","resultRange","createWorkspaceEdit","replaceEdits","lastWhitespaceChar","toLocaleLowerCase","yamlDocuments","blockTypeDescription","rewriter","write","commandExecutor","commands","commandId","doDocumentOnTypeFormatting","tb","previousLine","subLine","isInArray","indentationFix","trimLeft","getSchemaUrls","addSchemasForOf","addInnerSchemaUrls","YamlCodeLens","schemaUrls","urlToSchema","lens","param","SpacesDiffResult","spacesDiff","looksLikeAlignment","aLength","bLength","aSpacesCnt","aTabsCount","bSpacesCnt","bTabsCount","tabsDiff","guessIndentation","defaultTabSize","defaultInsertSpaces","linesCount","linesIndentedWithTabsCount","linesIndentedWithSpacesCount","previousLineText","previousLineIndentation","spacesDiffCount","tmp","currentLineLength","currentLineText","useCurrentLineText","currentLineHasContent","currentLineIndentation","currentLineSpacesCount","currentLineTabsCount","lenJ","getLineCharCode","currentSpacesDiff","tabSizeScore","possibleTabSize","possibleTabSizeScore","depth","consecutiveArrays","shouldIndentWithTab","pseudoObj","prependToObject","newLineFirst","isObject","colonDelimiter","objectIndent","indentFirstObject","newObj","doubleQuotesEscapeRegExp","parentCompletionKind","YamlCompletion","completionEnabled","arrayPrefixIndentation","disableDefaultProperties","parentSkeletonSelectedFirst","getNodeFromPosition","foundByClosest","lineAfterPosition","isOnlyWhitespace","isOnlyDash","nodeStartPos","nodeEndPos","existingProposeItem","oneOfSchema","isForParentCompletion","schemaDescription","parentCompletion","insertTexts","addSuggestionForParent","updateCompletionText","isInsertTextDifferent","mergedText","mergeSimpleInsertTexts","getCustomTagValueCompletions","inlineSchemaCompletion","schemaIndex","getAllSchemas","schemaIdCompletion","insertTextMode","originalNode","createTempObjNode","parentParent","parentPosition","nextLine","CompletionItemBase","addPropertyCompletions","finalizeParentCompletion","existingText","addingText","containsNewLineAfterColon","isNullObject","existingValues","getValuesFromInsertText","addingValues","newValues","valueMath","max$index","max$indexLocal","reindexedStr","reindexText","mdText","originalDocumentation","existingKey","hasOnlyWhitespace","hasColon","nodeParent","matchOriginal","didOneOfSchemaMatches","collectDefaultSnippets","identCompensation","sourceText","indexOfSlash","overwriteChars","addArrayItemValueCompletion","isNodeNull","existsParentCompletion","propertyNameSchema","getInsertTextForObject","schemaTypeTitle","getDocumentationWithMarkdownText","evaluateTab1Symbol","getInsertTextForArray","convertToStringValue","arrayInsertResult","arrayInsertLines","arrayTemplate","objectInsertResult","getInsertTemplateForValue","navOrder","arrValue","valueTemplate","completionType","fixedObj","suggestionKind","validTag","addCustomTagValueCompletion","seqNode","isNumberExp","doQuote","JSONSchemaSelection","YamlDefinition","defNode","getLanguageService","schemaRequestService","workspaceContext","connection","yamlSettings","completer","yamlDocumentSymbols","yamlValidation","formatter","yamlCodeActions","yamlCodeLens","yamlLinks","yamlDefinition","registerCommand","origUri","customUri","winUri","takeFocus","showErrorMessage","registerCommands","currPriority","addSchemaPriority","fileMatch","registerCustomSchemaProvider","schemaProvider","findHierarchicalDocumentSymbols","doDefinition","getDefinition","resetSchema","doFormat","addSchema","schemaID","modifySchemaContent","schemaAdditions","addContent","deleteSchemaContent","schemaDeletions","deleteContent","deleteSchemasWhole","deleteSchemas","getCodeAction","getCodeLens","resolveCodeLens","fetch","response","ok","sendTrack","enableSchemaRequest","languageService","getTextDocument","initializeWorker"],"sourceRoot":""}